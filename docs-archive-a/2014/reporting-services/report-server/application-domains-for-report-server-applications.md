---
title: 报表服务器应用程序的应用程序域 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- application domains [Reporting Services]
- recycling application domains
ms.assetid: a455e2e6-8764-493d-a1bc-abe80829f543
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 5f52ee48c5a5f9113b277271320b649ed8e7dd79
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588321"
---
# <a name="application-domains-for-report-server-applications"></a><span data-ttu-id="fd4e0-102">报表服务器应用程序的应用程序域</span><span class="sxs-lookup"><span data-stu-id="fd4e0-102">Application Domains for Report Server Applications</span></span>
  <span data-ttu-id="fd4e0-103">在 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]中，报表服务器作为一个包含报表服务器 Web 服务、报表管理器和后台处理应用程序的服务来实现。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-103">In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], the report server is implemented as a single service that contains the Report Server Web service, Report Manager, and a background processing application.</span></span> <span data-ttu-id="fd4e0-104">每个应用程序都在单个报表服务器进程中其各自的应用程序域中运行。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-104">Each application runs in its own application domain within the single report server process.</span></span> <span data-ttu-id="fd4e0-105">在大多数情况下，应用程序域是在内部创建、配置和管理的。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-105">For the most part, application domains are created, configured, and managed internally.</span></span> <span data-ttu-id="fd4e0-106">但是，如果要研究性能或内存问题并排除服务中断故障，则了解如何针对报表服务器应用程序域执行回收操作会非常有帮助。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-106">However, knowing how recycle operations occur for report server application domains can be helpful if you are investigating performance or memory issues or troubleshooting service disruptions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fd4e0-107">如果对使用基本身份验证的报表服务器配置报表生成器访问，则报表生成器将在其自己的应用程序域中运行。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-107">If you configure Report Builder access on a report server that uses Basic authentication, Report Builder will run in its own application domain.</span></span> <span data-ttu-id="fd4e0-108">此应用程序域与服务器进程中运行的其他应用程序域不同。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-108">This application domain is different from other application domains that run in the server process.</span></span> <span data-ttu-id="fd4e0-109">它由服务控制器进行管理，并且不受内存管理功能的限制，这些功能会为响应报表服务器上的内存不足而重新调整内存分配。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-109">It is managed by the Service Controller and is not subject memory management features that re-adjust memory allocation in response to memory pressure on the to report server.</span></span>  
  
 <span data-ttu-id="fd4e0-110">下面列出了可能会导致针对 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 应用程序执行应用程序域回收操作的事件：</span><span class="sxs-lookup"><span data-stu-id="fd4e0-110">The following list describes the events that cause application domain recycle operations for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] applications:</span></span>  
  
-   <span data-ttu-id="fd4e0-111">以预定义的时间间隔执行的计划回收操作。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-111">Scheduled recycle operations that occur at predefined intervals.</span></span>  
  
-   <span data-ttu-id="fd4e0-112">报表服务器上的配置更改。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-112">Configuration changes on the report server.</span></span>  
  
-   [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="fd4e0-113">配置更改。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-113">configuration changes.</span></span>  
  
-   <span data-ttu-id="fd4e0-114">内存分配失败。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-114">Memory allocation failures.</span></span>  
  
 <span data-ttu-id="fd4e0-115">下表总结了为响应这些事件而发生的应用程序域回收行为：</span><span class="sxs-lookup"><span data-stu-id="fd4e0-115">The following table summarizes application domain recycling behavior in response to these events:</span></span>  
  
|<span data-ttu-id="fd4e0-116">事件</span><span class="sxs-lookup"><span data-stu-id="fd4e0-116">Event</span></span>|<span data-ttu-id="fd4e0-117">事件说明</span><span class="sxs-lookup"><span data-stu-id="fd4e0-117">Event description</span></span>|<span data-ttu-id="fd4e0-118">适用于</span><span class="sxs-lookup"><span data-stu-id="fd4e0-118">Applies to</span></span>|<span data-ttu-id="fd4e0-119">可配置性</span><span class="sxs-lookup"><span data-stu-id="fd4e0-119">Configurable</span></span>|<span data-ttu-id="fd4e0-120">回收操作说明</span><span class="sxs-lookup"><span data-stu-id="fd4e0-120">Recycle operation description</span></span>|  
|-----------|-----------------------|----------------|------------------|-----------------------------------|  
|<span data-ttu-id="fd4e0-121">以预定义的时间间隔执行的计划回收操作</span><span class="sxs-lookup"><span data-stu-id="fd4e0-121">Scheduled recycle operations that occur at predefined intervals</span></span>|<span data-ttu-id="fd4e0-122">默认情况下，应用程序域每 12 个小时回收一次。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-122">By default, application domains are recycled every 12 hours.</span></span><br /><br /> <span data-ttu-id="fd4e0-123">对于提升了总体进程运行状况的 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序来说，计划的回收操作是通常的做法。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-123">Scheduled recycle operations are a common practice for [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications that promote overall process health.</span></span>|<span data-ttu-id="fd4e0-124">报表服务器 Web 服务</span><span class="sxs-lookup"><span data-stu-id="fd4e0-124">Report server Web service</span></span><br /><br /> <span data-ttu-id="fd4e0-125">报表管理器</span><span class="sxs-lookup"><span data-stu-id="fd4e0-125">Report Manager</span></span><br /><br /> <span data-ttu-id="fd4e0-126">后台处理应用程序</span><span class="sxs-lookup"><span data-stu-id="fd4e0-126">Background processing application</span></span>|<span data-ttu-id="fd4e0-127">是的。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-127">Yes.</span></span> <span data-ttu-id="fd4e0-128">RSReportServer.config 文件中的 `RecycleTime` 配置设置可以确定回收时间间隔。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-128">`RecycleTime` configuration setting in the RSReportServer.config file determines the recycle interval.</span></span><br /><br /> <span data-ttu-id="fd4e0-129">`MaxAppDomainUnloadTime` 设置了能够在其间完成后台处理的等待时间。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-129">`MaxAppDomainUnloadTime` sets the wait time during which background processing is allowed to complete.</span></span>|[!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="fd4e0-130">管理 Web 服务和报表管理器的回收操作。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-130">manages the recycle operation for the Web service and Report Manager.</span></span><br /><br /> <span data-ttu-id="fd4e0-131">对于后台处理应用程序，报表服务器为那些从计划中启动的新作业创建一个新的应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-131">For the background processing application, the report server creates a new application domain for new jobs that are initiated from schedules.</span></span> <span data-ttu-id="fd4e0-132">已在进行中的作业将能够在当前的应用程序域中完成，直到等待时间过期。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-132">Jobs already in progress are allowed to complete in the current application domain until the wait time expires.</span></span>|  
|<span data-ttu-id="fd4e0-133">报表服务器上的配置更改</span><span class="sxs-lookup"><span data-stu-id="fd4e0-133">Configuration changes on the report server</span></span>|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="fd4e0-134">将为了响应 RSReportServer.config 文件中的更改而回收应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-134">will recycle application domains in response to changes in the RSReportServer.config file.</span></span>|<span data-ttu-id="fd4e0-135">报表服务器 Web 服务</span><span class="sxs-lookup"><span data-stu-id="fd4e0-135">Report server Web service</span></span><br /><br /> <span data-ttu-id="fd4e0-136">报表管理器</span><span class="sxs-lookup"><span data-stu-id="fd4e0-136">Report Manager</span></span><br /><br /> <span data-ttu-id="fd4e0-137">后台处理应用程序</span><span class="sxs-lookup"><span data-stu-id="fd4e0-137">Background processing application</span></span>|<span data-ttu-id="fd4e0-138">不是。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-138">No.</span></span>|<span data-ttu-id="fd4e0-139">您不能禁止执行回收操作。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-139">You cannot stop recycle operations from occurring.</span></span> <span data-ttu-id="fd4e0-140">但是，为了响应配置更改而执行的回收操作将按照与计划的回收操作相同的方式进行处理。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-140">However, recycle operations that occur in response to configuration changes are handled the same way as the scheduled recycle operations.</span></span> <span data-ttu-id="fd4e0-141">将为新请求创建新的应用程序域，而当前的请求和作业将在当前的应用程序域中完成。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-141">New application domains are created for new requests while current requests and jobs complete in the current application domain.</span></span>|  
|[!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="fd4e0-142">配置更改</span><span class="sxs-lookup"><span data-stu-id="fd4e0-142">configuration changes</span></span>|[!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="fd4e0-143">会回收应用程序域，前提是对其所监视的文件（例如，machine.config 文件、Web.config 文件和 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 程序文件）进行了更改。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-143">will recycle application domains if there are changes to the files that it monitors (for example, machine.config and Web.config files, and [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] program files).</span></span>|<span data-ttu-id="fd4e0-144">报表服务器 Web 服务</span><span class="sxs-lookup"><span data-stu-id="fd4e0-144">Report server Web service</span></span><br /><br /> <span data-ttu-id="fd4e0-145">报表管理器</span><span class="sxs-lookup"><span data-stu-id="fd4e0-145">Report Manager</span></span>|<span data-ttu-id="fd4e0-146">不是。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-146">No.</span></span>|[!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="fd4e0-147">对该操作进行管理。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-147">manages the operation.</span></span><br /><br /> <span data-ttu-id="fd4e0-148">由 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 启动的回收操作不会影响后台处理应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-148">Recycle operations that are initiated by [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] do not affect the background processing application domain.</span></span>|  
|<span data-ttu-id="fd4e0-149">内存不足和内存分配失败</span><span class="sxs-lookup"><span data-stu-id="fd4e0-149">Memory pressure and memory allocation failures</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="fd4e0-150">CLR 将立即回收应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-150">CLR will immediately recycle application domains in the event of a memory allocation failure or when the server is under high memory pressure conditions.</span></span>|<span data-ttu-id="fd4e0-151">报表服务器 Web 服务</span><span class="sxs-lookup"><span data-stu-id="fd4e0-151">Report server Web service</span></span><br /><br /> <span data-ttu-id="fd4e0-152">报表管理器</span><span class="sxs-lookup"><span data-stu-id="fd4e0-152">Report Manager</span></span><br /><br /> <span data-ttu-id="fd4e0-153">后台处理应用程序</span><span class="sxs-lookup"><span data-stu-id="fd4e0-153">Background processing application</span></span>|<span data-ttu-id="fd4e0-154">不是。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-154">No.</span></span>|<span data-ttu-id="fd4e0-155">在内存严重不足时，报表服务器将不接受当前应用程序域中的新请求。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-155">Under high memory pressure, the report server will not accept new requests in the current application domain.</span></span> <span data-ttu-id="fd4e0-156">在此期间，服务器将拒绝新请求，并且会出现 HTTP 503 错误。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-156">During the period in which the server denies new requests, HTTP 503 errors occur.</span></span> <span data-ttu-id="fd4e0-157">除非卸载旧应用程序域，否则将不创建新应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-157">New application domains will not be created until the old application domain is unloaded.</span></span> <span data-ttu-id="fd4e0-158">这意味着，如果您在服务器内存严重不足时对配置文件进行更改，则正在进行的请求和作业可能无法启动或完成。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-158">This means that if you make a configuration file change while the server is under high memory pressure, requests and jobs that are in progress might not start or complete.</span></span><br /><br /> <span data-ttu-id="fd4e0-159">如果内存分配失败，则所有的应用程序域将立即重新启动。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-159">In the event of memory allocation failure, all application domains are immediately restarted.</span></span> <span data-ttu-id="fd4e0-160">正在进行的作业和请求将被放弃。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-160">Jobs and requests that were in progress are dropped.</span></span> <span data-ttu-id="fd4e0-161">您必须手动重新启动这些作业和请求。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-161">You must restart those jobs and requests manually.</span></span>|  
  
## <a name="planned-and-unplanned-recycle-operations"></a><span data-ttu-id="fd4e0-162">计划内和计划外回收操作</span><span class="sxs-lookup"><span data-stu-id="fd4e0-162">Planned and Unplanned Recycle Operations</span></span>  
 <span data-ttu-id="fd4e0-163">根据导致回收操作的条件，回收操作可以是计划内操作或计划外操作：</span><span class="sxs-lookup"><span data-stu-id="fd4e0-163">Recycle operations are either planned or unplanned depending on the conditions that bring about the operation:</span></span>  
  
-   <span data-ttu-id="fd4e0-164">计划内回收操作按在 RSReportServer.config 文件中定义的固定时间间隔发生。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-164">Planned recycle operations occur at regular intervals that are defined in the RSReportServer.config file.</span></span> <span data-ttu-id="fd4e0-165">默认值为每 12 个小时。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-165">The default is every 12 hours.</span></span> <span data-ttu-id="fd4e0-166">对于提升了总体进程运行状况的 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序来说，这是通常的做法。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-166">This is a common practice for [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications that promote overall process health.</span></span> <span data-ttu-id="fd4e0-167">对于计划内回收操作，报表服务器会为新请求创建其他应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-167">For planned recycle operations, the report server creates additional application domains for new requests.</span></span> <span data-ttu-id="fd4e0-168">已在进行中的请求将能够在当前的应用程序域中完成，直到等待时间过期。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-168">Requests already in progress are allowed to complete in the current application domain until the wait time expires.</span></span> <span data-ttu-id="fd4e0-169">对于服务器来说，用来控制计划内回收操作的配置设置将作为一个整体来设置。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-169">Configuration settings that govern planned recycle operations are set for the server as a whole.</span></span> <span data-ttu-id="fd4e0-170">您无法为每个应用程序配置不同的回收计划或内存阈值。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-170">You cannot configure a different recycle schedule or memory threshold for each application.</span></span>  
  
-   <span data-ttu-id="fd4e0-171">为了响应配置更改、内存不足和内存分配失败，随时都可能发生计划外回收操作：</span><span class="sxs-lookup"><span data-stu-id="fd4e0-171">Unplanned recycle operations occur at arbitrary times in response to configuration changes, memory pressure, and memory allocation failures:</span></span>  
  
    -   <span data-ttu-id="fd4e0-172">对于配置更改，报表服务器将尝试使用软回收操作，即，将新请求重定向到应用程序域的新实例。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-172">For configuration changes, the report server will try to use a soft recycle that redirects new requests to a new instance of the application domain.</span></span> <span data-ttu-id="fd4e0-173">如果软回收失败，报表服务器将启动对应用程序域的硬回收，即，取消所有正在进行的请求、关闭当前的应用程序域并重新启动应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-173">If the soft recycle fails, the server initiates a hard application domain recycle that cancels all in-progress requests, shuts down the current application domains, and restarts the application domains.</span></span>  
  
    -   <span data-ttu-id="fd4e0-174">内存分配失败是指系统资源对于服务器所执行的报表处理量来说不足。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-174">Memory allocation failures indicate that system resources are insufficient for the amount of report processing performed by the server.</span></span> <span data-ttu-id="fd4e0-175">所有应用程序域的硬回收操作都是为了响应内存分配失败而执行的。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-175">A hard recycle operation for all application domains occurs in response to a memory allocation failure.</span></span> <span data-ttu-id="fd4e0-176">所有的请求队列都将被清除。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-176">All request queues are cleared.</span></span> <span data-ttu-id="fd4e0-177">已取消的请求将不会重新动。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-177">Canceled requests are not restarted.</span></span> <span data-ttu-id="fd4e0-178">正在以交互方式查看报表的用户必须刷新或重新打开报表。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-178">Users who were interactively viewing a report must refresh or reopen the report.</span></span> <span data-ttu-id="fd4e0-179">计划的处理将在下一个预定时间发生。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-179">Scheduled processing will occur at the next scheduled time.</span></span> <span data-ttu-id="fd4e0-180">如果无法接受这种延迟，则可以手动刷新报表快照，或者修改订阅计划或报表快照计划，以便它立即运行。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-180">If the delay is unacceptable, you can refresh a report snapshot manually or modify a subscription schedule or report snapshot schedule so that it runs immediately.</span></span>  
  
 <span data-ttu-id="fd4e0-181">报表服务器 Web 服务、报表管理器和后台处理应用程序的应用程序域可以在一起回收，也可以单独回收，具体取决于导致进行回收的情况：</span><span class="sxs-lookup"><span data-stu-id="fd4e0-181">The application domains for the Report Server Web service, Report Manager, and the background processing application might be recycled together or individually, depending on the circumstances that cause the recycling to occur:</span></span>  
  
-   <span data-ttu-id="fd4e0-182">[!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 启动的回收操作仅影响 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序：报表服务器 Web 服务和报表管理器。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-182">Recycle operations initiated by [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] affect only the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications: Report Server Web service and Report Manager.</span></span> [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="fd4e0-183">将会根据其所监视的文件是否发生了更改来回收应用程序域。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-183">will recycle application domains based if there are changes to the files that it monitors.</span></span> <span data-ttu-id="fd4e0-184">由 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 启动的回收操作通常独立于后台处理应用程序的回收操作。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-184">Recycle operations that are initiated by [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] are typically independent of recycle operations for the background processing application.</span></span>  
  
-   <span data-ttu-id="fd4e0-185">由报表服务器执行的回收操作通常会影响报表服务器 Web 服务、报表管理器和后台处理应用程序。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-185">Recycle operations initiated by the report server typically affect Report Server Web service, Report Manager, and the background processing application.</span></span> <span data-ttu-id="fd4e0-186">回收操作是为了响应配置设置更改和服务重新启动而执行的。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-186">Recycle operations occur in response to changes to the configuration settings and service restarts.</span></span>  
  
## <a name="rsreportserver-configuration-settings-for-application-domains"></a><span data-ttu-id="fd4e0-187">应用程序域的 RSReportServer 配置设置</span><span class="sxs-lookup"><span data-stu-id="fd4e0-187">RSReportServer Configuration Settings for Application Domains</span></span>  
 <span data-ttu-id="fd4e0-188">配置设置是在 [RSReportServer.config 文件](rsreportserver-config-configuration-file.md)中指定的。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-188">Configuration settings are specified in the in the [RSReportServer.config file](rsreportserver-config-configuration-file.md).</span></span> <span data-ttu-id="fd4e0-189">下面的示例演示了计划内应用程序域回收行为的默认配置设置。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-189">The following example shows the default configuration settings for planned application domain recycling behavior.</span></span>  
  
 `<RecycleTime>720</RecycleTime>`  
  
 `<MaxAppDomainUnloadTime>30</MaxAppDomainUnloadTime>`  
  
 <span data-ttu-id="fd4e0-190">下表对这些元素进行了说明。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-190">The following table describes these elements.</span></span>  
  
|<span data-ttu-id="fd4e0-191">元素</span><span class="sxs-lookup"><span data-stu-id="fd4e0-191">Element</span></span>|<span data-ttu-id="fd4e0-192">适用于</span><span class="sxs-lookup"><span data-stu-id="fd4e0-192">Applies to</span></span>|<span data-ttu-id="fd4e0-193">定义</span><span class="sxs-lookup"><span data-stu-id="fd4e0-193">Definition</span></span>|  
|-------------|----------------|----------------|  
|`RecycleTime`|<span data-ttu-id="fd4e0-194">所有三个 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 应用程序域</span><span class="sxs-lookup"><span data-stu-id="fd4e0-194">All three [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] application domains</span></span>|<span data-ttu-id="fd4e0-195">指定应用程序域的回收频率。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-195">Specifies how often the application domains are recycled.</span></span> <span data-ttu-id="fd4e0-196">默认回收计划遵循通常用于 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序域回收的 12 小时制模式。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-196">The default recycle schedule conforms to the 12-hour pattern typically followed for [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] application domain recycling.</span></span> <span data-ttu-id="fd4e0-197">在计划的时间，所有的新请求都将转发到新的应用程序域实例。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-197">At the scheduled time, all new requests are forwarded to a new instance of the application domain.</span></span> <span data-ttu-id="fd4e0-198">原始实例中当前正在处理的请求能够完成。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-198">Requests that are currently in progress in the original instance are allowed to complete.</span></span> <span data-ttu-id="fd4e0-199">一旦完成所有进程，就会删除原始实例，新的实例将成为唯一的活动应用程序域实例。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-199">Once all processes are complete, the original instance is deleted and the new instance becomes the sole active application domain instance.</span></span><br /><br /> <span data-ttu-id="fd4e0-200">默认值为 720 分钟。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-200">The default value is 720 minutes.</span></span>|  
|`MaxAppDomainUnloadTime`|<span data-ttu-id="fd4e0-201">仅限后台处理应用程序域</span><span class="sxs-lookup"><span data-stu-id="fd4e0-201">Background processing application domain only</span></span>|<span data-ttu-id="fd4e0-202">默认情况下，报表服务器分配的等待时间为 30 分钟，这是在回收操作期间允许应用程序域关闭的时间。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-202">By default, a report server allocates a wait time of 30 minutes, during which an application domain is allowed to shut down during a recycle operation.</span></span> <span data-ttu-id="fd4e0-203">如果在所分配的时间内无法完成当前正在处理的作业（或者某个作业的所用时间比允许的等待时间长），则会立即重新启动应用程序域实例。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-203">If the jobs that are currently in process cannot be completed during the allotted time (or if a job is taking longer than the wait time allows), the application domain instance is restarted immediately.</span></span> <span data-ttu-id="fd4e0-204">所有未完成的作业都将终止。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-204">All incomplete jobs are terminated.</span></span><br /><br /> <span data-ttu-id="fd4e0-205">有关如何查看状态或取消报表服务器上所运行作业的详细信息，请参阅[取消报表服务器作业 (Management Studio)](../tools/cancel-report-server-jobs-management-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-205">For more information about how to view status or cancel jobs that running on the report server, see [Cancel Report Server Jobs &#40;Management Studio&#41;](../tools/cancel-report-server-jobs-management-studio.md).</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="fd4e0-206">尽管报表服务器 Web 服务和报表管理器是 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序，但是，这两个应用程序都不响应可能已在 machine.config 中为 IIS 中所承载的 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序指定的计划应用程序域回收。</span><span class="sxs-lookup"><span data-stu-id="fd4e0-206">Although the Report Server Web service and Report Manager are [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications, neither application responds to scheduled application domain recycling that might be specified in machine.config for [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications hosted in IIS.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fd4e0-207">另请参阅</span><span class="sxs-lookup"><span data-stu-id="fd4e0-207">See Also</span></span>  
 <span data-ttu-id="fd4e0-208">[Rsreportserver.config 配置文件](rsreportserver-config-configuration-file.md) </span><span class="sxs-lookup"><span data-stu-id="fd4e0-208">[RSReportServer Configuration File](rsreportserver-config-configuration-file.md) </span></span>  
 <span data-ttu-id="fd4e0-209">[修改 Reporting Services 配置文件 (RSreportserver.config)](modify-a-reporting-services-configuration-file-rsreportserver-config.md) </span><span class="sxs-lookup"><span data-stu-id="fd4e0-209">[Modify a Reporting Services Configuration File &#40;RSreportserver.config&#41;](modify-a-reporting-services-configuration-file-rsreportserver-config.md) </span></span>  
 [<span data-ttu-id="fd4e0-210">为报表服务器应用程序配置可用内存</span><span class="sxs-lookup"><span data-stu-id="fd4e0-210">Configure Available Memory for Report Server Applications</span></span>](../report-server/configure-available-memory-for-report-server-applications.md)  
  
  
