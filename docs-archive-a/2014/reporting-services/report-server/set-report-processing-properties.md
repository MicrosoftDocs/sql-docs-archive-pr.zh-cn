---
title: 设置报表处理属性 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- on-demand reports
- report processing [Reporting Services], execution properties
- snapshots [Reporting Services], running reports from
- cached reports [Reporting Services]
- report snapshots [Reporting Services], running reports from
- report execution snapshots [Reporting Services]
ms.assetid: b5cbc453-5986-423e-af44-1f243ef3edb1
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: f47c70a4bfd7aa5fe0c711532542baa7a51ccbbb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87586332"
---
# <a name="set-report-processing-properties"></a><span data-ttu-id="6523b-102">设置报表处理属性</span><span class="sxs-lookup"><span data-stu-id="6523b-102">Set Report Processing Properties</span></span>
  <span data-ttu-id="6523b-103">报表执行属性控制报表的处理方式。</span><span class="sxs-lookup"><span data-stu-id="6523b-103">Report execution properties control how a report is processed.</span></span> <span data-ttu-id="6523b-104">必须为每个报表分别设置执行属性。</span><span class="sxs-lookup"><span data-stu-id="6523b-104">Execution properties must be set for each report individually.</span></span>  
  
 <span data-ttu-id="6523b-105">若要设置报表执行属性，请在报表管理器中打开报表，再导航到“执行”属性页。</span><span class="sxs-lookup"><span data-stu-id="6523b-105">To set report execution properties, open the report in Report Manager, and then navigate to the Execution properties page.</span></span> <span data-ttu-id="6523b-106">你还可以使用来设置属性 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="6523b-106">You can also set properties using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span> <span data-ttu-id="6523b-107">有关详细信息，请参阅[“处理选项”属性页（报表管理器）](../processing-options-properties-page-report-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="6523b-107">For more information, see [Processing Options Properties Page &#40;Report Manager&#41;](../processing-options-properties-page-report-manager.md).</span></span>  
  
## <a name="report-execution-modes"></a><span data-ttu-id="6523b-108">报表执行模式</span><span class="sxs-lookup"><span data-stu-id="6523b-108">Report Execution Modes</span></span>  
 <span data-ttu-id="6523b-109">您既可以按需运行报表，也可以按快照形式运行报表。</span><span class="sxs-lookup"><span data-stu-id="6523b-109">You can run a report either on demand or as a snapshot.</span></span> <span data-ttu-id="6523b-110">以下部分介绍了各种运行方法。</span><span class="sxs-lookup"><span data-stu-id="6523b-110">The following section describes each approach.</span></span>  
  
### <a name="running-reports-on-demand"></a><span data-ttu-id="6523b-111">按需运行报表</span><span class="sxs-lookup"><span data-stu-id="6523b-111">Running Reports On Demand</span></span>  
 <span data-ttu-id="6523b-112">您可以指定每次用户运行报表时，报表都查询数据源，这样，按需运行的报表将包含最新的数据。</span><span class="sxs-lookup"><span data-stu-id="6523b-112">You can specify that a report query a data source each time a user runs the report, resulting in on-demand reports that contain the most up-to-date data.</span></span> <span data-ttu-id="6523b-113">对于每个打开或请求报表的用户，都会创建一个新报表实例；每个新实例都包含新查询的结果。</span><span class="sxs-lookup"><span data-stu-id="6523b-113">A new instance of the report is created for each user who opens or requests the report; each new instance contains the results of a new query.</span></span> <span data-ttu-id="6523b-114">使用此方法时，如果有十个用户同时打开报表，则会向数据源发送十个要处理的查询。</span><span class="sxs-lookup"><span data-stu-id="6523b-114">With this approach, if ten users open the report at the same time, ten queries are sent to the data source for processing.</span></span>  
  
### <a name="running-reports-on-demand-from-cache"></a><span data-ttu-id="6523b-115">通过缓存按需运行报表</span><span class="sxs-lookup"><span data-stu-id="6523b-115">Running Reports On Demand From Cache</span></span>  
 <span data-ttu-id="6523b-116">为提高性能，您可以指定在用户运行报表时暂时缓存报表（和数据）。</span><span class="sxs-lookup"><span data-stu-id="6523b-116">To enhance performance, you can specify a report (and data) to be cached temporarily when a user runs the report.</span></span> <span data-ttu-id="6523b-117">如果随后有其他用户访问同一个报表，就可以向他们提供缓存的副本。</span><span class="sxs-lookup"><span data-stu-id="6523b-117">The cached copy is subsequently available to other users who access the same report.</span></span> <span data-ttu-id="6523b-118">使用此方法时，如果有十个用户打开报表，则只有第一个请求会导致报表处理。</span><span class="sxs-lookup"><span data-stu-id="6523b-118">With this approach, if ten users open the report, only the first request results in report processing.</span></span> <span data-ttu-id="6523b-119">随后即会缓存报表，这样，其余九个用户将查看缓存的报表。</span><span class="sxs-lookup"><span data-stu-id="6523b-119">The report is subsequently cached, and the remaining nine users view the cached report.</span></span>  
  
 <span data-ttu-id="6523b-120">缓存的报表会按您指定的时间间隔从缓存中删除。</span><span class="sxs-lookup"><span data-stu-id="6523b-120">Cached reports are removed from the cache at intervals that you define.</span></span> <span data-ttu-id="6523b-121">您可以指定时间间隔（分钟），也可以计划清空缓存的具体日期和时间。</span><span class="sxs-lookup"><span data-stu-id="6523b-121">You can specify intervals in minutes, or you can schedule a specific date and time to empty the cache.</span></span> <span data-ttu-id="6523b-122">有关详细信息，请参阅 [缓存报表 (SSRS)](caching-reports-ssrs.md)版本中预加载缓存的唯一方法。</span><span class="sxs-lookup"><span data-stu-id="6523b-122">For more information, see [Caching Reports &#40;SSRS&#41;](caching-reports-ssrs.md).</span></span>  
  
### <a name="running-reports-from-snapshots"></a><span data-ttu-id="6523b-123">通过快照运行报表</span><span class="sxs-lookup"><span data-stu-id="6523b-123">Running Reports From Snapshots</span></span>  
 <span data-ttu-id="6523b-124">报表快照是包含布局信息以及在特定时间点所检索到的数据的报表。</span><span class="sxs-lookup"><span data-stu-id="6523b-124">A report snapshot is a report that contains layout information and data that is retrieved at a specific point in time.</span></span> <span data-ttu-id="6523b-125">您可以按报表快照形式运行报表，以防止报表在任意时间运行（例如，在执行计划备份期间）。</span><span class="sxs-lookup"><span data-stu-id="6523b-125">You can run a report as a report snapshot to prevent the report from being run at arbitrary times (for example, during a scheduled backup).</span></span> <span data-ttu-id="6523b-126">报表快照通常按计划创建并在随后进行刷新，因此您可以精确地设定进行报表和数据处理的时间。</span><span class="sxs-lookup"><span data-stu-id="6523b-126">A report snapshot is usually created and subsequently refreshed on a schedule, allowing you to time exactly when report and data processing will occur.</span></span> <span data-ttu-id="6523b-127">如果报表所基于的查询需要很长的运行时间，或查询使用的数据来自您需要在特定时间无人访问的数据源，则应以快照形式运行报表。</span><span class="sxs-lookup"><span data-stu-id="6523b-127">If a report is based on queries that take a long time to run, or on queries that use data from a data source that you prefer no one access during certain hours, you should run the report as a snapshot.</span></span>  
  
 <span data-ttu-id="6523b-128">报表快照存储在报表服务器数据库中，随后当用户或进程（如订阅）请求报表时，即可从其中检索报表。</span><span class="sxs-lookup"><span data-stu-id="6523b-128">A report snapshot is stored in a report server database, where it is subsequently retrieved when a user or process (such as a subscription) requests the report.</span></span> <span data-ttu-id="6523b-129">报表快照更新时，将用新的实例进行覆盖。</span><span class="sxs-lookup"><span data-stu-id="6523b-129">When a report snapshot is updated, it is overwritten with a new instance.</span></span> <span data-ttu-id="6523b-130">除非专门设置了相应选项以将报表快照添加到报表历史记录中，否则报表服务器不保存早期版本的报表快照。</span><span class="sxs-lookup"><span data-stu-id="6523b-130">The report server does not save earlier versions of a report snapshot unless you specifically set options to add it to report history.</span></span> <span data-ttu-id="6523b-131">有关详细信息，请参阅 [创建、修改和删除报表历史记录中的快照](create-modify-and-delete-snapshots-in-report-history.md)。</span><span class="sxs-lookup"><span data-stu-id="6523b-131">For more information, see [Create, Modify, and Delete Snapshots in Report History](create-modify-and-delete-snapshots-in-report-history.md).</span></span>  
  
 <span data-ttu-id="6523b-132">并非所有报表都可配置为以快照形式运行。</span><span class="sxs-lookup"><span data-stu-id="6523b-132">Not all reports can be configured to run as a snapshot.</span></span> <span data-ttu-id="6523b-133">如果报表在获取报表数据时需要提示用户输入凭据，或使用 Windows 集成安全性，则无法为其创建快照。</span><span class="sxs-lookup"><span data-stu-id="6523b-133">You cannot create a snapshot for a report that prompts users for credentials or uses Windows integrated security to get data for the report.</span></span> <span data-ttu-id="6523b-134">如果希望以快照形式运行参数化报表，则必须在创建快照时指定要使用的默认参数。</span><span class="sxs-lookup"><span data-stu-id="6523b-134">If you want to run a parameterized report as a snapshot, you must specify a default parameter to use when creating the snapshot.</span></span> <span data-ttu-id="6523b-135">与按需运行的报表不同，在打开报表后，就不可能为报表快照指定不同的参数值。</span><span class="sxs-lookup"><span data-stu-id="6523b-135">In contrast with reports that run on demand, it is not possible to specify a different parameter value for a report snapshot when the report is open.</span></span> <span data-ttu-id="6523b-136">选择不同的参数值会引起新的报表处理请求，而这是不允许的。</span><span class="sxs-lookup"><span data-stu-id="6523b-136">Choosing a different parameter value would result in a new report processing request, which is not allowed.</span></span>  
  
 <span data-ttu-id="6523b-137">在某些情况下，如果将按需运行报表配置为以快照形式运行，将会停用订阅。</span><span class="sxs-lookup"><span data-stu-id="6523b-137">In some cases, configuring an on-demand report to run as a snapshot can deactivate subscriptions.</span></span> <span data-ttu-id="6523b-138">对于将报表配置为按需运行时所定义的现有订阅，以下条件将导致报表服务器停用这些订阅：</span><span class="sxs-lookup"><span data-stu-id="6523b-138">The following condition will cause a report server to deactivate existing subscriptions that were defined when the report was configured to run on demand:</span></span>  
  
-   <span data-ttu-id="6523b-139">报表使用查询参数，而您选择特定的值作为默认参数，以满足以快照形式运行报表的要求。</span><span class="sxs-lookup"><span data-stu-id="6523b-139">The report uses query parameters, and you select a specific value as the default parameter to meet the requirements for running the report as a snapshot.</span></span>  
  
-   <span data-ttu-id="6523b-140">现有订阅配置使用的参数值与您为快照指定的默认参数值不同。</span><span class="sxs-lookup"><span data-stu-id="6523b-140">Existing subscriptions are configured to use parameter values that differ from the default parameter value that you specified for the snapshot.</span></span>  
  
 <span data-ttu-id="6523b-141">如果存在以上条件，则报表服务器将在订阅的下次计划运行时间禁用此订阅。</span><span class="sxs-lookup"><span data-stu-id="6523b-141">When this condition exists, the report server will disable the subscription the next time the subscription is scheduled to run.</span></span> <span data-ttu-id="6523b-142">若要重新激活订阅，请打开订阅，再进行保存。</span><span class="sxs-lookup"><span data-stu-id="6523b-142">To reactivate the subscription, open and then save the subscription.</span></span> <span data-ttu-id="6523b-143">打开订阅后，报表服务器会将订阅参数值更新成为快照指定的参数值。</span><span class="sxs-lookup"><span data-stu-id="6523b-143">When you open the subscription, the report server updates the subscription parameter values to those specified for the snapshot.</span></span> <span data-ttu-id="6523b-144">有关订阅的详细信息，请参阅[订阅和传递 (Reporting Services)](../subscriptions/subscriptions-and-delivery-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6523b-144">For more information about subscriptions, see [Subscriptions and Delivery &#40;Reporting Services&#41;](../subscriptions/subscriptions-and-delivery-reporting-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6523b-145">另请参阅</span><span class="sxs-lookup"><span data-stu-id="6523b-145">See Also</span></span>  
 <span data-ttu-id="6523b-146">[在 SharePoint 集成模式下 &#40;Reporting Services 设置处理选项&#41;](../set-processing-options-reporting-services-in-sharepoint-integrated-mode.md) </span><span class="sxs-lookup"><span data-stu-id="6523b-146">[Set Processing Options &#40;Reporting Services in SharePoint Integrated Mode&#41;](../set-processing-options-reporting-services-in-sharepoint-integrated-mode.md) </span></span>  
 <span data-ttu-id="6523b-147">[配置报表 &#40;的执行属性报表管理器&#41;](../reports/configure-execution-properties-for-a-report-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="6523b-147">[Configure Execution Properties for a Report  &#40;Report Manager&#41;](../reports/configure-execution-properties-for-a-report-report-manager.md) </span></span>  
 <span data-ttu-id="6523b-148">[SSRS &#40;Reporting Services 概念&#41;](../reporting-services-concepts-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="6523b-148">[Reporting Services Concepts &#40;SSRS&#41;](../reporting-services-concepts-ssrs.md) </span></span>  
 <span data-ttu-id="6523b-149">[如何向报表历史记录添加快照](add-a-snapshot-to-report-history-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="6523b-149">[How to: Add a Snapshot to Report History](add-a-snapshot-to-report-history-report-manager.md) </span></span>  
 [<span data-ttu-id="6523b-150">为报表数据源指定凭据和连接信息</span><span class="sxs-lookup"><span data-stu-id="6523b-150">Specify Credential and Connection Information for Report Data Sources</span></span>](../report-data/specify-credential-and-connection-information-for-report-data-sources.md)  
  
  
