---
title: 报表服务器数据库（SSRS 本机模式）| Microsoft Docs
ms.custom: ''
ms.date: 08/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- databases [Reporting Services]
- report servers [Reporting Services], databases
- temporary databases [Reporting Services]
- report server database
- reportservertempdb
- reportserver database
ms.assetid: 0fc5c033-3fe1-4cea-86c7-66ea5e424d65
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 40c0574a0c49ca2be1f9c06636ae6776646db252
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87590027"
---
# <a name="report-server-database-ssrs-native-mode"></a><span data-ttu-id="ec5e9-102">报表服务器数据库（SSRS 本机模式）</span><span class="sxs-lookup"><span data-stu-id="ec5e9-102">Report Server Database (SSRS Native Mode)</span></span>
  <span data-ttu-id="ec5e9-103">报表服务器是一种无状态服务器，它使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] 来存储元数据和对象定义。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-103">A report server is a stateless server that uses the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)] to store metadata and object definitions.</span></span> <span data-ttu-id="ec5e9-104">为了将永久数据存储与临时存储要求分开，本机模式 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 安装使用两个数据库。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-104">A native mode [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation uses two databases to separate persistent data storage from temporary storage requirements.</span></span> <span data-ttu-id="ec5e9-105">这两个数据库一起创建，并按名称绑定。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-105">The databases are created together and bound by name.</span></span> <span data-ttu-id="ec5e9-106">默认情况下，数据库名称分别为 **reportserver** 和 **reportservertempdb**。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-106">By default, the database names are **reportserver** and **reportservertempdb**, respectively.</span></span>  
  
 <span data-ttu-id="ec5e9-107">SharePoint 模式 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 安装还将创建数据警报功能的数据库。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-107">A SharePoint mode [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation will also create a database for the data alerting feature.</span></span> <span data-ttu-id="ec5e9-108">SharePoint 模式中的三个数据库与 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序关联。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-108">The three databases in SharePoint mode are associated with [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service applications.</span></span> <span data-ttu-id="ec5e9-109">有关详细信息，请参阅 [管理 Reporting Services SharePoint 服务应用程序](../manage-a-reporting-services-sharepoint-service-application.md)</span><span class="sxs-lookup"><span data-stu-id="ec5e9-109">For more information, see [Manage a Reporting Services SharePoint Service Application](../manage-a-reporting-services-sharepoint-service-application.md)</span></span>  
  
 <span data-ttu-id="ec5e9-110">数据库可以在本地或远程 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例上运行。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-110">The databases can run on a local or remote [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance.</span></span> <span data-ttu-id="ec5e9-111">如果您有足够的系统资源或要保留软件许可，则选择本地实例非常有用，但在远程计算机上运行数据库可以提高性能。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-111">Choosing a local instance is useful if you have sufficient system resources or want to conserve software licenses, but running the databases on a remote computer can improve performance.</span></span>  
  
 <span data-ttu-id="ec5e9-112">可以从以前的安装或包含其他报表服务器实例的不同实例中导入或重用现有的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-112">You can port or reuse an existing report server database from previous installation or a different instance with another report server instance.</span></span> <span data-ttu-id="ec5e9-113">报表服务器数据库的架构必须与报表服务器实例兼容。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-113">The schema of the report server database must be compatible with the report server instance.</span></span> <span data-ttu-id="ec5e9-114">如果数据库为较早的格式，则系统将提示您将其升级到当前格式。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-114">If the database is in an older format, you will be prompted to upgrade it to the current format.</span></span> <span data-ttu-id="ec5e9-115">新版本不能降级为旧版本。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-115">Newer versions cannot be down graded to an older version.</span></span> <span data-ttu-id="ec5e9-116">如果您有一个较新的报表服务器数据库，则无法将其与更早版本的报表服务器实例一起使用。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-116">If you have a newer report server database, you cannot use it with an earlier version of a report server instances.</span></span> <span data-ttu-id="ec5e9-117">有关如何将报表服务器数据库升级到较新格式的详细信息，请参阅 [升级报表服务器数据库](../install-windows/upgrade-a-report-server-database.md)。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-117">For more information about how report server databases are upgraded to newer formats, see [Upgrade a Report Server Database](../install-windows/upgrade-a-report-server-database.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ec5e9-118">数据库的表结构已经针对服务器操作进行了优化，因此不应对其进行修改或调整。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-118">The table structure for the databases is optimized for server operations and should not be modified or tuned.</span></span> [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="ec5e9-119">可能会将表结构从一个版本更改为下一个版本。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-119">might change the table structure from one release to the next.</span></span> <span data-ttu-id="ec5e9-120">如果修改或扩展数据库，可能会限制或阻止执行将来执行升级或应用 Service Pack 的能力。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-120">If you modify or extend the database, you might limit or prevent the capability to perform future upgrades or apply service packs.</span></span> <span data-ttu-id="ec5e9-121">还可能会引入破坏报表服务器操作的更改。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-121">You might also introduce changes that impair report server operations.</span></span> <span data-ttu-id="ec5e9-122">例如，如果在 ReportServer 数据库上启用 READ_COMMITTED_SNAPSHOT，将中断交互式排序功能。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-122">For example if you turn on READ_COMMITTED_SNAPSHOT on the ReportServer database, you will break the interactive sorting feature.</span></span>  
  
 <span data-ttu-id="ec5e9-123">必须通过报表服务器处理所有对报表服务器数据库的访问。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-123">All access to a report server database must be handled through the report server.</span></span> <span data-ttu-id="ec5e9-124">若要访问 Report Server 数据库中的内容，可以使用 Report Server 管理工具， (例如报表管理器和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]) ，或编程接口（如 URL 访问、报表服务器 Web 服务或 WINDOWS MANAGEMENT INSTRUMENTATION (WMI) 提供程序）。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-124">To access content in a report server database, you can use report server management tools, (such as Report Manager and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]), or programmatic interfaces such as URL access, Report Server Web service, or the Windows Management Instrumentation (WMI) provider.</span></span>  
  
 <span data-ttu-id="ec5e9-125">与报表服务器数据库的连接通常通过 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器来定义。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-125">The connection to the report server database is usually defined through the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="ec5e9-126">但是，如果您选择安装默认配置，则可以在安装过程中进行定义。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-126">However, it can be defined during setup if you choose to install the default configuration.</span></span> <span data-ttu-id="ec5e9-127">有关将报表服务器连接到数据库的详细信息，请参阅[配置报表服务器数据库连接（SSRS 配置管理器）](../../sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-127">For more information about the report server connection to the database, see [Configure a Report Server Database Connection  &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md).</span></span>  
  
## <a name="report-server-database"></a><span data-ttu-id="ec5e9-128">报表服务器数据库</span><span class="sxs-lookup"><span data-stu-id="ec5e9-128">Report Server Database</span></span>  
 <span data-ttu-id="ec5e9-129">报表服务器数据库是存储下列内容的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库：</span><span class="sxs-lookup"><span data-stu-id="ec5e9-129">The report server database is a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database that stores the following content:</span></span>  
  
-   <span data-ttu-id="ec5e9-130">由 Report Server ( 管理的项。/reports 和链接报表、共享数据源、报表模型、文件夹、资源) 以及与这些项关联的所有属性和安全设置。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-130">Items managed by a report server (../reports and linked reports, shared data sources, report models, folders, resources) and all of the properties and security settings that are associated with those items.</span></span>  
  
-   <span data-ttu-id="ec5e9-131">订阅和计划定义。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-131">Subscription and schedule definitions.</span></span>  
  
-   <span data-ttu-id="ec5e9-132">报表快照（包括查询结果）和报表历史记录。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-132">Report snapshots (which include query results) and report history.</span></span>  
  
-   <span data-ttu-id="ec5e9-133">系统属性和系统级安全设置。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-133">System properties and system-level security settings.</span></span>  
  
-   <span data-ttu-id="ec5e9-134">报表执行日志数据。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-134">Report execution log data.</span></span>  
  
-   <span data-ttu-id="ec5e9-135">报表数据源的对称密钥以及加密连接和凭据。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-135">Symmetric keys and encrypted connection and credentials for report data sources.</span></span>  
  
 <span data-ttu-id="ec5e9-136">因为报表服务器数据库存储应用程序状态和持久性数据，所以您应该为此数据库创建备份计划以防止数据丢失。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-136">Because the report server database stores application state and persistent data, you should create a backup schedule for this database to prevent data loss.</span></span> <span data-ttu-id="ec5e9-137">有关如何备份数据库的建议和说明，请参阅[将报表服务器数据库移至其他计算机（SSRS 本机模式）](moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-137">For recommendations and instructions on how to back up the database, see [Moving the Report Server Databases to Another Computer &#40;SSRS Native Mode&#41;](moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md).</span></span>  
  
## <a name="report-server-temporary-database"></a><span data-ttu-id="ec5e9-138">报表服务器临时数据库</span><span class="sxs-lookup"><span data-stu-id="ec5e9-138">Report Server Temporary Database</span></span>  
 <span data-ttu-id="ec5e9-139">每个报表服务器数据库都使用相关的临时数据库来存储报表服务器生成的会话和执行数据、缓存报表以及工作表。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-139">Each report server database uses a related temporary database to store session and execution data, cached reports, and work tables that are generated by the report server.</span></span> <span data-ttu-id="ec5e9-140">后台服务器进程将定期从临时数据库的表中删除较旧的和未使用的项。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-140">Background server processes will periodically remove older and unused items from the tables in the temporary database.</span></span>  
  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="ec5e9-141">不会重新创建缺少的临时数据库，也不会修复缺少的或经过修改的表。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-141">does not re-create the temporary database if it is missing, nor does it repair missing or modified tables.</span></span> <span data-ttu-id="ec5e9-142">尽管临时数据库不包含持久性数据，但也应备份该数据库的副本，这样，就无须在故障恢复操作中重新创建该数据库。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-142">Although the temporary database does not contain persistent data, you should back up a copy of the database anyway so that you can avoid having to re-create it as part of a failure recovery operation.</span></span>  
  
 <span data-ttu-id="ec5e9-143">如果在备份临时数据库后执行了恢复操作，则应删除其内容。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-143">If you back up the temporary database and subsequently restore it, you should delete the contents.</span></span> <span data-ttu-id="ec5e9-144">通常，在任何时候删除临时数据库的内容都是安全的。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-144">Generally, it is safe to delete the contents of the temporary database at any time.</span></span> <span data-ttu-id="ec5e9-145">但是，删除内容后必须重新启动报表服务器 Windows 服务。</span><span class="sxs-lookup"><span data-stu-id="ec5e9-145">However, you must restart the Report Server Windows service after you delete the contents.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ec5e9-146">另请参阅</span><span class="sxs-lookup"><span data-stu-id="ec5e9-146">See Also</span></span>  
 <span data-ttu-id="ec5e9-147">[在 SQL Server 故障转移群集中承载报表服务器数据库](../install-windows/host-a-report-server-database-in-a-sql-server-failover-cluster.md) </span><span class="sxs-lookup"><span data-stu-id="ec5e9-147">[Host a Report Server Database in a SQL Server Failover Cluster](../install-windows/host-a-report-server-database-in-a-sql-server-failover-cluster.md) </span></span>  
 <span data-ttu-id="ec5e9-148">[存储加密的 Report Server 数据（SSRS 配置管理器）](../install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span><span class="sxs-lookup"><span data-stu-id="ec5e9-148">[Store Encrypted Report Server Data &#40;SSRS Configuration Manager&#41;](../install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span></span>  
 <span data-ttu-id="ec5e9-149">[Reporting Services 报表服务器](../reporting-services-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="ec5e9-149">[Reporting Services Report Server](../reporting-services-report-server.md) </span></span>  
 <span data-ttu-id="ec5e9-150">[管理报表服务器数据库（SSRS 本机模式）](report-server-database-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="ec5e9-150">[Administer a Report Server Database &#40;SSRS Native Mode&#41;](report-server-database-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="ec5e9-151">[创建报表服务器数据库（SSRS 配置管理器）](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="ec5e9-151">[Create a Report Server Database  &#40;SSRS Configuration Manager&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span></span>  
 [<span data-ttu-id="ec5e9-152">Reporting Services 的备份和还原操作</span><span class="sxs-lookup"><span data-stu-id="ec5e9-152">Backup and Restore Operations for Reporting Services</span></span>](../install-windows/backup-and-restore-operations-for-reporting-services.md)  
  
  
