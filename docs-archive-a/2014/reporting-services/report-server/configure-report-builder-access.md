---
title: 配置报表生成器访问权限 | Microsoft Docs
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- Reporting Services, Report Builder
- Report Builder 1.0, configuring access
- configuring servers [Reporting Services]
ms.assetid: a79003d0-c905-4d4c-9560-93a7cc1e1dd4
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: ac18493044004a89b31c1cf19f169312ef648a3b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588291"
---
# <a name="configure-report-builder-access"></a><span data-ttu-id="c33bd-102">配置报表生成器访问权限</span><span class="sxs-lookup"><span data-stu-id="c33bd-102">Configure Report Builder Access</span></span>
  <span data-ttu-id="c33bd-103">报表生成器是一个特别报告生成工具，该工具随为本机模式或 SharePoint 集成模式配置的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 报表服务器一起安装。</span><span class="sxs-lookup"><span data-stu-id="c33bd-103">Report Builder is an ad hoc reporting tool that installs with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] report server configured for either native mode or SharePoint integration mode.</span></span>  
  
 <span data-ttu-id="c33bd-104">报表生成器的访问权限取决于以下因素：</span><span class="sxs-lookup"><span data-stu-id="c33bd-104">Access to Report Builder depends on the following factors:</span></span>  
  
-   <span data-ttu-id="c33bd-105">服务器属性，确定报表生成器是否可以在报表服务器上使用。</span><span class="sxs-lookup"><span data-stu-id="c33bd-105">Server properties that determine whether Report Builder is available on the report server.</span></span>  
  
-   <span data-ttu-id="c33bd-106">角色分配或权限，它们使报表生成器可用于单个用户或组。</span><span class="sxs-lookup"><span data-stu-id="c33bd-106">Role assignments or permissions that make Report Builder available to individual users or groups.</span></span>  
  
-   <span data-ttu-id="c33bd-107">身份验证设置，用于确定用户凭据是否可以传递到报表服务器或者是否对应用程序文件配置匿名访问权。</span><span class="sxs-lookup"><span data-stu-id="c33bd-107">Authentication settings that determine whether user credentials can be passed through to the report server or anonymous access is configured on application files.</span></span>  
  
 <span data-ttu-id="c33bd-108">若要使用报表生成器，必须有已发布的报表模型可供使用。</span><span class="sxs-lookup"><span data-stu-id="c33bd-108">To use Report Builder, you must have a published report model to work with.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="c33bd-109">必备条件</span><span class="sxs-lookup"><span data-stu-id="c33bd-109">Prerequisites</span></span>  
 <span data-ttu-id="c33bd-110">[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的每个版本中均不提供报表生成器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-110">Report Builder is not available in every edition of [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="c33bd-111">有关各个版本支持的功能列表 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，请参阅 SQL Server 2014 的各个[版本支持的功能](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-111">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="c33bd-112">客户端计算机必须安装了 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] 2.0。</span><span class="sxs-lookup"><span data-stu-id="c33bd-112">The client computer must have the [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] 2.0 installed.</span></span> <span data-ttu-id="c33bd-113">[!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] 提供运行 [!INCLUDE[ndptecclick](../../includes/ndptecclick-md.md)] 应用程序的基础结构。</span><span class="sxs-lookup"><span data-stu-id="c33bd-113">The [!INCLUDE[dnprdnshort](../../includes/dnprdnshort-md.md)] provides the infrastructure for running [!INCLUDE[ndptecclick](../../includes/ndptecclick-md.md)] applications.</span></span>  
  
 <span data-ttu-id="c33bd-114">必须使用 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Explorer 6.0 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="c33bd-114">You must use [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Explorer 6.0 or later.</span></span>  
  
 <span data-ttu-id="c33bd-115">报表生成器始终在完全信任模式下运行；不能将其配置为在部分信任模式下运行。</span><span class="sxs-lookup"><span data-stu-id="c33bd-115">Report Builder always runs in full trust; you cannot configure it to run in partial trust.</span></span> <span data-ttu-id="c33bd-116">在以前的版本中，可以在部分信任模式下运行报表生成器，但是 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 和更高版本中不支持该选项。</span><span class="sxs-lookup"><span data-stu-id="c33bd-116">In previous releases, it was possible to run Report Builder in partial trust, but that option is not supported in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span>  
  
## <a name="enabling-and-disabling-report-builder"></a><span data-ttu-id="c33bd-117">启用和禁用报表生成器</span><span class="sxs-lookup"><span data-stu-id="c33bd-117">Enabling and Disabling Report Builder</span></span>  
 <span data-ttu-id="c33bd-118">默认情况下，将启用报表生成器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-118">Report Builder is enabled by default.</span></span> <span data-ttu-id="c33bd-119">报表服务器管理员可以通过将报表服务器系统属性 `EnableReportDesignClientDownload` 设置为 `false`，以禁用报表生成器功能。</span><span class="sxs-lookup"><span data-stu-id="c33bd-119">Report server administrators have the option of disabling the Report Builder feature by setting the report server system property `EnableReportDesignClientDownload` to `false`.</span></span> <span data-ttu-id="c33bd-120">设置此属性将会禁用该报表服务器的报表生成器下载功能。</span><span class="sxs-lookup"><span data-stu-id="c33bd-120">Setting this property will disable Report Builder downloads for that report server.</span></span>  
  
 <span data-ttu-id="c33bd-121">若要设置报表服务器系统属性，可以使用 Management Studio 或脚本：</span><span class="sxs-lookup"><span data-stu-id="c33bd-121">To set report server system properties, you can use Management Studio or script:</span></span>  
  
-   <span data-ttu-id="c33bd-122">若要使用 Management Studio，请连接到报表服务器并使用“高级服务器属性”页将 `EnableReportDesignClientDownload` 设置为 `false`。</span><span class="sxs-lookup"><span data-stu-id="c33bd-122">To use Management Studio, connect to the report server and use the Advanced Server Properties page to set `EnableReportDesignClientDownload` to `false`.</span></span> <span data-ttu-id="c33bd-123">有关如何打开该页面的详细信息，请参阅[设置报表服务器属性 (Management Studio)](../tools/set-report-server-properties-management-studio.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-123">For more information about how to open this page, see [Set Report Server Properties &#40;Management Studio&#41;](../tools/set-report-server-properties-management-studio.md).</span></span>  
  
-   <span data-ttu-id="c33bd-124">若要查看设置报表服务器属性的示例脚本，请参阅 [为部署和管理任务编写脚本](../tools/script-deployment-and-administrative-tasks.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-124">To view a sample script that sets a report server property, see [Script Deployment and Administrative Tasks](../tools/script-deployment-and-administrative-tasks.md).</span></span>  
  
## <a name="role-assignments-granting-report-builder-access-on-a-native-mode-report-server"></a><span data-ttu-id="c33bd-125">在本机模式报表服务器上授予报表生成器访问权的角色分配</span><span class="sxs-lookup"><span data-stu-id="c33bd-125">Role Assignments Granting Report Builder Access on a Native Mode Report Server</span></span>  
 <span data-ttu-id="c33bd-126">在本机模式报表服务器上，创建包括使用报表生成器的任务的用户角色分配。</span><span class="sxs-lookup"><span data-stu-id="c33bd-126">On a native mode report server, create user role assignments that include tasks for using Report Builder.</span></span> <span data-ttu-id="c33bd-127">您必须是内容管理员和系统管理员，才能在项级和站点级创建或修改角色定义和角色分配。</span><span class="sxs-lookup"><span data-stu-id="c33bd-127">You must be a Content Manager and System Administrator to create or modify role definitions and role assignments on items and at the site level.</span></span>  
  
 <span data-ttu-id="c33bd-128">以下说明假定您使用的是预定义角色。</span><span class="sxs-lookup"><span data-stu-id="c33bd-128">The following instructions assume that you are using predefined roles.</span></span> <span data-ttu-id="c33bd-129">如果您修改了角色定义或者从 SQL Server 2000 进行了升级，则对角色进行检查以验证其是否包含必需的任务。</span><span class="sxs-lookup"><span data-stu-id="c33bd-129">If you modified the role definitions or if you upgraded from SQL Server 2000, check the roles to verify they contain the necessary tasks.</span></span> <span data-ttu-id="c33bd-130">有关创建角色分配的详细信息，请参阅[授予用户对报表服务器的访问权限（报表管理器）](../security/grant-user-access-to-a-report-server.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-130">For more information about creating role assignments, see [Grant User Access to a Report Server &#40;Report Manager&#41;](../security/grant-user-access-to-a-report-server.md).</span></span>  
  
 <span data-ttu-id="c33bd-131">创建角色分配之后，用户将拥有执行以下操作的权限：</span><span class="sxs-lookup"><span data-stu-id="c33bd-131">After you create the role assignments, users will have permission to do the following:</span></span>  
  
-   <span data-ttu-id="c33bd-132">分配给系统用户角色和浏览者角色的用户可以在报表服务器上查看已发布的报表生成器报表，而不必启动报表生成器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-132">Users assigned to the System User and Browser roles can view published Report Builder reports on a report server, without having to launch Report Builder.</span></span>  
  
-   <span data-ttu-id="c33bd-133">分配给系统用户角色和报表生成者角色的用户可以生成模型，启动报表生成器和创建报表，以及将报表保存到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-133">Users assigned to the System User and Report Builder roles can generate models, start Report Builder and create reports, and save reports to the report server.</span></span>  
  
-   <span data-ttu-id="c33bd-134">分配给系统用户角色和发布者角色的用户可以将模型从模型设计器发布到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-134">Users assigned to the System User and Publisher roles can publish models from Model Designer to the report server.</span></span> <span data-ttu-id="c33bd-135">模型用作报表生成器中的数据源。</span><span class="sxs-lookup"><span data-stu-id="c33bd-135">Models are used as data sources in Report Builder.</span></span>  
  
-   <span data-ttu-id="c33bd-136">分配给系统管理员角色和内容管理员角色的用户拥有创建、查看和管理报表生成器报表的完全权限。</span><span class="sxs-lookup"><span data-stu-id="c33bd-136">Users assigned to the System Administrator and Content Manager roles have full permissions to create, view, and manage Report Builder reports.</span></span>  
  
#### <a name="to-verify-required-tasks-are-in-the-role-definitions"></a><span data-ttu-id="c33bd-137">验证必需的任务是否在角色定义中</span><span class="sxs-lookup"><span data-stu-id="c33bd-137">To verify required tasks are in the role definitions</span></span>  
  
1.  <span data-ttu-id="c33bd-138">启动 Management Studio 并连接到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-138">Start Management Studio and connect to the report server.</span></span>  
  
2.  <span data-ttu-id="c33bd-139">打开 **“安全性”** 文件夹。</span><span class="sxs-lookup"><span data-stu-id="c33bd-139">Open the **Security** folder.</span></span>  
  
3.  <span data-ttu-id="c33bd-140">打开 **“系统角色”** 文件夹。</span><span class="sxs-lookup"><span data-stu-id="c33bd-140">Open the **System Roles** folder.</span></span>  
  
4.  <span data-ttu-id="c33bd-141">右键单击“系统管理员”，然后选择“属性”\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="c33bd-141">Right-click **System Administrator**, and select **Properties**.</span></span>  
  
5.  <span data-ttu-id="c33bd-142">选择 **“执行报表定义”** ，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-142">Select **Execute report definitions** and click **OK**.</span></span>  
  
6.  <span data-ttu-id="c33bd-143">右键单击“系统用户”，然后选择“属性”\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="c33bd-143">Right-click **System User**, and select **Properties**.</span></span>  
  
7.  <span data-ttu-id="c33bd-144">选择 **“执行报表定义”** ，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-144">Select **Execute report definitions** and click **OK**.</span></span>  
  
8.  <span data-ttu-id="c33bd-145">打开 **“角色”** 文件夹。</span><span class="sxs-lookup"><span data-stu-id="c33bd-145">Open the **Roles** folder.</span></span>  
  
9. <span data-ttu-id="c33bd-146">右键单击“浏览器”，然后选择“属性”\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="c33bd-146">Right-click **Browser**, and select **Properties**.</span></span>  
  
10. <span data-ttu-id="c33bd-147">选择 **“查看模型”** ，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-147">Select **View models** and click **OK**.</span></span>  
  
11. <span data-ttu-id="c33bd-148">右键单击“内容管理器”，然后选择“属性”\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="c33bd-148">Right-click **Content Manager**, and select **Properties**.</span></span>  
  
12. <span data-ttu-id="c33bd-149">依次选择 **“查看模型”**， **“管理模型”**， **“使用报表”**，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-149">Select **View models**, **Manage models**, **Consume reports**, and click **OK**.</span></span>  
  
13. <span data-ttu-id="c33bd-150">右键单击“发布服务器”，然后选择“属性”\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="c33bd-150">Right-click **Publisher**, and select **Properties**.</span></span>  
  
14. <span data-ttu-id="c33bd-151">选择 **“管理模型”** ，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-151">Select **Manage models** and click **OK**.</span></span>  
  
15. <span data-ttu-id="c33bd-152">如果报表生成者角色不存在，则创建该角色：</span><span class="sxs-lookup"><span data-stu-id="c33bd-152">Create the Report Builder role if it does not exist:</span></span>  
  
    1.  <span data-ttu-id="c33bd-153">打开 **“安全性”** 文件夹。</span><span class="sxs-lookup"><span data-stu-id="c33bd-153">Open the **Security** folder.</span></span>  
  
    2.  <span data-ttu-id="c33bd-154">右键单击“角色”选择“新建角色”\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="c33bd-154">Right-click **Roles**, and select **New Role**.</span></span>  
  
    3.  <span data-ttu-id="c33bd-155">在“名称”中，键入 **报表生成者**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-155">In Name, type **Report Builder**.</span></span>  
  
    4.  <span data-ttu-id="c33bd-156">在“说明”中，输入角色说明，以使报表管理器中的用户了解该角色的作用。</span><span class="sxs-lookup"><span data-stu-id="c33bd-156">In Description, enter a description for the role so that users in Report Manager know what the role is for.</span></span>  
  
    5.  <span data-ttu-id="c33bd-157">添加下列任务： **“使用报表”**、 **“查看报表”**、 **“查看模型”**、 **“查看资源”**、 **“查看文件夹”** 和 **“管理单独的订阅”**。</span><span class="sxs-lookup"><span data-stu-id="c33bd-157">Add the following tasks: **Consume reports**, **View reports**, **View models**, **View resources**, **View folders**, and **Manage individual subscription**s.</span></span>  
  
    6.  <span data-ttu-id="c33bd-158">单击 **"确定"** 以保存角色。</span><span class="sxs-lookup"><span data-stu-id="c33bd-158">Click **OK** to save the role.</span></span>  
  
#### <a name="to-create-role-assignments-that-grant-access-to-report-builder"></a><span data-ttu-id="c33bd-159">创建授予对报表生成器的访问权的角色分配</span><span class="sxs-lookup"><span data-stu-id="c33bd-159">To create role assignments that grant access to Report Builder</span></span>  
  
1.  <span data-ttu-id="c33bd-160">启动报表管理器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-160">Start Report Manager.</span></span>  
  
2.  <span data-ttu-id="c33bd-161">单击 **“网站设置”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-161">Click **Site Settings**.</span></span>  
  
3.  <span data-ttu-id="c33bd-162">单击 **“安全性”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-162">Click **Security**.</span></span>  
  
4.  <span data-ttu-id="c33bd-163">如果要为其配置报表生成器访问权的用户或组已经分配有角色，则单击 **“编辑”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-163">If a role assignment already exists for the user or group for which you want to configure Report Builder access, click **Edit**.</span></span>  
  
     <span data-ttu-id="c33bd-164">否则，单击 **“新建角色分配”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-164">Otherwise, click **New Role Assignment**.</span></span> <span data-ttu-id="c33bd-165">在 "组或用户" 中，按以下格式输入 Windows 域用户或组帐户： \<domain> \\<帐户 \> 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-165">In Group or user, enter a Windows domain user or group account in this format: \<domain>\\<account\>.</span></span> <span data-ttu-id="c33bd-166">如果使用窗体身份验证或自定义安全性，则以适用于您的部署的格式指定该用户帐户或组帐户。</span><span class="sxs-lookup"><span data-stu-id="c33bd-166">If you are using forms authentication or custom security, specify the user or group account in the format that is correct for your deployment.</span></span>  
  
5.  <span data-ttu-id="c33bd-167">选择 **“系统用户”** ，然后单击 **“确定”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-167">Select **System User**, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="c33bd-168">单击 **“主页”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-168">Click **Home**.</span></span>  
  
7.  <span data-ttu-id="c33bd-169">单击 **“文件夹设置”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="c33bd-169">Click the **Folder Settings** tab.</span></span>  
  
8.  <span data-ttu-id="c33bd-170">单击“安全”选项卡。 </span><span class="sxs-lookup"><span data-stu-id="c33bd-170">Click the **Security** tab.</span></span>  
  
9. <span data-ttu-id="c33bd-171">如果要为其配置报表生成器访问权的用户或组已经分配有角色，则单击 **“编辑”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-171">If a role assignment already exists for the user or group for which you want to configure Report Builder access, click **Edit**.</span></span>  
  
     <span data-ttu-id="c33bd-172">否则，单击 **“新建角色分配”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-172">Otherwise, click **New Role Assignment**.</span></span> <span data-ttu-id="c33bd-173">在 "组或用户" 中，按以下格式输入 Windows 域用户或组帐户： \<domain> \\<帐户 \> 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-173">In Group or user, enter a Windows domain user or group account in this format: \<domain>\\<account\>.</span></span> <span data-ttu-id="c33bd-174">如果使用窗体身份验证或自定义安全性，则以适用于您的部署的格式指定该用户帐户或组帐户。</span><span class="sxs-lookup"><span data-stu-id="c33bd-174">If you are using forms authentication or custom security, specify the user or group account in the format that is correct for your deployment.</span></span>  
  
10. <span data-ttu-id="c33bd-175">选择 **“报表生成者”** ，然后单击 **“应用”** 。</span><span class="sxs-lookup"><span data-stu-id="c33bd-175">Select **Report Builder**, and then click **Apply**.</span></span>  
  
11. <span data-ttu-id="c33bd-176">重复这些步骤以便为其他用户或组创建或修改角色分配。</span><span class="sxs-lookup"><span data-stu-id="c33bd-176">Repeat to create or modify role assignments for additional users or groups.</span></span>  
  
## <a name="permissions-granting-report-builder-access-on-a-sharepoint-integrated-mode-report-server"></a><span data-ttu-id="c33bd-177">授予 SharePoint 集成模式报表服务器上的报表生成器访问权的权限</span><span class="sxs-lookup"><span data-stu-id="c33bd-177">Permissions Granting Report Builder Access on a SharePoint Integrated Mode Report Server</span></span>  
 <span data-ttu-id="c33bd-178">在 SharePoint 集成模式报表服务器上，将报表生成器访问权授予具有“参与讨论”或“完全控制”权限级别的 SharePoint 用户。</span><span class="sxs-lookup"><span data-stu-id="c33bd-178">On a SharePoint integrated mode report server, Report Builder access is granted to SharePoint users who have either Contribute or Full Control permission levels.</span></span>  
  
 <span data-ttu-id="c33bd-179">如果使用自定义权限级别，则必须在权限级别包括“添加项”和“编辑项”。</span><span class="sxs-lookup"><span data-stu-id="c33bd-179">If you use custom permission levels, you must include Add Items and Edit Items in the permission level.</span></span> <span data-ttu-id="c33bd-180">有关通过内置权限级别访问报表生成器的详细信息，请参阅 [将 Windows SharePoint Services 中的内置安全性用于报表服务器项](../security/use-built-in-security-in-windows-sharepoint-services-for-report-server-items.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-180">For more information about Report Builder access through built-in permission levels, see [Use Built-in Security in Windows SharePoint Services for Report Server Items](../security/use-built-in-security-in-windows-sharepoint-services-for-report-server-items.md).</span></span> <span data-ttu-id="c33bd-181">有关自定义权限级别的权限要求的详细信息，请参阅 [在 SharePoint Web 应用程序中设置报表服务器操作的权限](../security/set-permissions-for-report-server-operations-in-a-sharepoint-web-application.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-181">For more information about permission requirements for custom permission levels, see [Set Permissions for Report Server Operations in a SharePoint Web Application](../security/set-permissions-for-report-server-operations-in-a-sharepoint-web-application.md).</span></span>  
  
## <a name="authentication-considerations-and-credential-reuse"></a><span data-ttu-id="c33bd-182">身份验证注意事项和凭据重用</span><span class="sxs-lookup"><span data-stu-id="c33bd-182">Authentication Considerations and Credential Reuse</span></span>  
 <span data-ttu-id="c33bd-183">报表生成器使用 ClickOnce 技术下载其应用程序文件，并在客户端计算机上安装这些文件。</span><span class="sxs-lookup"><span data-stu-id="c33bd-183">Report Builder uses ClickOnce technology to download and install its application files on a client computer.</span></span> <span data-ttu-id="c33bd-184">ClickOnce 技术专用于单向应用程序部署，即将程序文件存放在客户端计算机上，然后使用默认用户的标识以单独进程的形式运行应用程序。</span><span class="sxs-lookup"><span data-stu-id="c33bd-184">ClickOnce technology is intended for one-way application deployment that places program files on a client computer and runs the application as a separate process under the identity of the default user.</span></span> <span data-ttu-id="c33bd-185">由于报表生成器必须再连接回报表服务器以获取应用程序文件和报表服务器数据，因此了解 ClickOnce 如何设置安全上下文以及在不同情况下向远程计算机发出请求非常重要：</span><span class="sxs-lookup"><span data-stu-id="c33bd-185">Because Report Builder must connect back to the report server to get application files and report server data, it is important to understand how ClickOnce sets the security context and issues requests to remote computers under different scenarios:</span></span>  
  
-   <span data-ttu-id="c33bd-186">ClickOnce 在客户端计算机上始终以单独进程的形式运行。</span><span class="sxs-lookup"><span data-stu-id="c33bd-186">ClickOnce always runs as a separate process on the client computer.</span></span> <span data-ttu-id="c33bd-187">进程标识为默认 Windows 用户凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-187">The process identity is the default Windows user credentials.</span></span> <span data-ttu-id="c33bd-188">ClickOnce 不与 Internet Explorer 共享会话数据或从 Internet Explorer 获取当前用户的安全上下文。</span><span class="sxs-lookup"><span data-stu-id="c33bd-188">ClickOnce does not share session data with Internet Explorer or obtain the current user security context from Internet Explorer.</span></span>  
  
-   <span data-ttu-id="c33bd-189">ClickOnce 发送在身份验证标头中指定 Windows 集成安全性的请求。</span><span class="sxs-lookup"><span data-stu-id="c33bd-189">ClickOnce sends requests that specify Windows integrated security in the authentication header.</span></span> <span data-ttu-id="c33bd-190">如果将服务器配置为使用另一种身份验证类型，则该服务器从 ClickOnce 的请求将失败，同时出现身份验证错误。</span><span class="sxs-lookup"><span data-stu-id="c33bd-190">If a server is configured for a different authentication type, the server will fail requests from ClickOnce with an authentication error.</span></span> <span data-ttu-id="c33bd-191">若要解决此问题，必须将服务器配置为使用 Windows 集成安全性，或者必须启用匿名访问来排除身份验证检查。</span><span class="sxs-lookup"><span data-stu-id="c33bd-191">To work around this issue, you must either configure a server for Windows integrated security or you must enable Anonymous access to eliminate the authentication check.</span></span>  
  
-   <span data-ttu-id="c33bd-192">报表生成器将打开其自己的与报表服务器的连接。</span><span class="sxs-lookup"><span data-stu-id="c33bd-192">Report Builder opens its own connection to a report server.</span></span> <span data-ttu-id="c33bd-193">如果您未将 Windows 集成安全性用于单一登录，则用户必须为报表生成器与报表服务器的连接重新键入其凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-193">If you are not using Windows integrated security with single sign on, users must re-type their credentials for the Report Builder connection to the report server.</span></span>  
  
 <span data-ttu-id="c33bd-194">下表描述报表服务器支持的身份验证类型，以及访问报表生成器是否需要附加配置。</span><span class="sxs-lookup"><span data-stu-id="c33bd-194">The following table describes the authentication types supported by the report server, and whether additional configuration is required to access Report Builder.</span></span>  
  
|<span data-ttu-id="c33bd-195">报表服务器身份验证类型</span><span class="sxs-lookup"><span data-stu-id="c33bd-195">Report Server Authentication Type</span></span>|<span data-ttu-id="c33bd-196">报表生成器和 ClickOnce 应用程序启动程序如何响应</span><span class="sxs-lookup"><span data-stu-id="c33bd-196">How Report Builder and ClickOnce Application launcher responds</span></span>|  
|---------------------------------------|--------------------------------------------------------------------|  
|<span data-ttu-id="c33bd-197">协商（默认值）</span><span class="sxs-lookup"><span data-stu-id="c33bd-197">Negotiate (default)</span></span><br /><br /> <span data-ttu-id="c33bd-198">NTLM（默认值）</span><span class="sxs-lookup"><span data-stu-id="c33bd-198">NTLM (default)</span></span>|<span data-ttu-id="c33bd-199">使用 Windows 集成安全性，发自 ClickOnce 和报表生成器的经过身份验证的请求在以下情况下通常会成功：将客户端和服务器部署在同一个域中，用户使用具有报表生成器访问权的域帐户登录到客户端计算机，并且将报表服务器配置为使用 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="c33bd-199">Under Windows integrated security, authenticated requests from ClickOnce and Report Builder typically succeed if the client and server are deployed in the same domain, the user is logged in to the client computer using a domain account with permission to access the Report Builder, and the report server is configured for Windows Authentication.</span></span><br /><br /> <span data-ttu-id="c33bd-200">请求成功的原因在于 ClickOnce 和浏览器与报表服务器的连接具有相同的用户标识。</span><span class="sxs-lookup"><span data-stu-id="c33bd-200">Requests succeed because ClickOnce and the browser connection to the report server have the same user identity.</span></span><br /><br /> <span data-ttu-id="c33bd-201">如果用户通过“运行身份”和指定的非默认凭据打开 Internet Explorer，则请求将失败。</span><span class="sxs-lookup"><span data-stu-id="c33bd-201">Requests will fail if the user opened Internet Explorer with Run As and specified non-default credentials.</span></span> <span data-ttu-id="c33bd-202">如果报表服务器上的用户会话是使用特定的帐户建立的，并且 ClickOnce 在其他帐户下运行，则该报表服务器将拒绝对文件的访问。</span><span class="sxs-lookup"><span data-stu-id="c33bd-202">If the user session on the report server is established under a specific account, and ClickOnce runs under a different account, the report server will deny access to the files.</span></span>|  
|<span data-ttu-id="c33bd-203">Kerberos</span><span class="sxs-lookup"><span data-stu-id="c33bd-203">Kerberos</span></span>|<span data-ttu-id="c33bd-204">使用报表生成器时必需的 Internet Explorer 不直接支持 Kerberos。</span><span class="sxs-lookup"><span data-stu-id="c33bd-204">Internet Explorer, which is required for using Report Builder, does not support Kerberos directly.</span></span>|  
|<span data-ttu-id="c33bd-205">基本身份验证</span><span class="sxs-lookup"><span data-stu-id="c33bd-205">Basic authentication</span></span>|<span data-ttu-id="c33bd-206">ClickOnce 不支持基本身份验证。</span><span class="sxs-lookup"><span data-stu-id="c33bd-206">ClickOnce does not support Basic authentication.</span></span> <span data-ttu-id="c33bd-207">它不会表述在身份验证标头中指定基本身份验证的请求。</span><span class="sxs-lookup"><span data-stu-id="c33bd-207">It will not formulate requests that specify Basic authentication in the authentication header.</span></span> <span data-ttu-id="c33bd-208">它不会传递凭据或提示用户提供凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-208">It will not pass credentials or prompt the user to provide them.</span></span> <span data-ttu-id="c33bd-209">可以通过启用对报表生成器应用程序文件的匿名访问来解决这些问题。</span><span class="sxs-lookup"><span data-stu-id="c33bd-209">You can work around these issues by enabling Anonymous access to the Report Builder application files.</span></span><br /><br /> <span data-ttu-id="c33bd-210">由于报表服务器会忽略身份验证标头，如果启用对报表生成器应用程序文件的匿名访问，则请求将成功。</span><span class="sxs-lookup"><span data-stu-id="c33bd-210">Requests will succeed if you enable Anonymous access to the Report Builder application files because the report server ignores the authentication header.</span></span> <span data-ttu-id="c33bd-211">有关如何启用对报表生成器的匿名访问的详细信息，请参阅 [在报表服务器上配置基本身份验证](../security/configure-basic-authentication-on-the-report-server.md)。</span><span class="sxs-lookup"><span data-stu-id="c33bd-211">For more information about how to enable Anonymous access to Report Builder, see [Configure Basic Authentication on the Report Server](../security/configure-basic-authentication-on-the-report-server.md).</span></span><br /><br /> <span data-ttu-id="c33bd-212">ClickOnce 检索应用程序文件后，报表生成器将打开与报表服务器的单独连接。</span><span class="sxs-lookup"><span data-stu-id="c33bd-212">After ClickOnce retrieves the application files, Report Builder opens a separate connection to a report server.</span></span> <span data-ttu-id="c33bd-213">用户必须重新键入其凭据以使报表生成器连接到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-213">Users must re-type their credentials to get Report Builder to connect to the report server.</span></span> <span data-ttu-id="c33bd-214">报表生成器不会从 Internet Explorer 或 ClickOnce 收集凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-214">Report Builder does not collect credentials from Internet Explorer or ClickOnce.</span></span><br /><br /> <span data-ttu-id="c33bd-215">如果将报表服务器配置为使用基本身份验证，并且未启用对报表生成器程序文件的匿名访问，则请求将失败。</span><span class="sxs-lookup"><span data-stu-id="c33bd-215">Requests will fail if the report server is configured for Basic authentication and you did not enable Anonymous access to the Report Builder program files.</span></span> <span data-ttu-id="c33bd-216">请求失败的原因在于 ClickOnce 在其请求中指定了 Windows 集成安全性。</span><span class="sxs-lookup"><span data-stu-id="c33bd-216">The request fails because ClickOnce specifies Windows integrated security on its requests.</span></span> <span data-ttu-id="c33bd-217">如果将报表服务器配置为使用基本身份验证，则该服务器将拒绝请求，原因是它指定的是无效的安全包以及缺少该报表服务器预期的凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-217">If you configure the report server for Basic authentication, the server will reject the request because it specifies an invalid security package and because it lacks the credentials that the report server expects.</span></span><br /><br /> <span data-ttu-id="c33bd-218">此外，如果将报表服务器配置为使用 SharePoint 集成模式，SharePoint 站点使用基本身份验证，则当用户试图使用 ClickOnce 在客户端计算机上安装报表生成器时，将遇到 401 错误。</span><span class="sxs-lookup"><span data-stu-id="c33bd-218">Additionally, if the report server is configured to use SharePoint integrated mode and the SharePoint site uses Basic authentication, users will encounter a 401 error when they try to use ClickOnce to install Report Builder on their client computers.</span></span> <span data-ttu-id="c33bd-219">发生这种情况是因为 SharePoint 使用 cookie 保持用户在会话期间通过身份验证，但 ClickOnce 不支持 cookie。</span><span class="sxs-lookup"><span data-stu-id="c33bd-219">This happens because SharePoint uses a cookie to keep a user authenticated for the duration of the session, but ClickOnce does not support the cookie.</span></span> <span data-ttu-id="c33bd-220">用户启动 ClickOnce 应用程序（如报表生成器）时，该应用程序不会将 cookie 传递给 SharePoint，因此 SharePoint 拒绝访问并返回 401 错误。</span><span class="sxs-lookup"><span data-stu-id="c33bd-220">When a user launches a ClickOnce application, such as Report Builder, the application does not pass the cookie to SharePoint and thus SharePoint denies access and returns a 401 error.</span></span><br /><br /> <span data-ttu-id="c33bd-221">您可以尝试下列选项之一来解决此问题：</span><span class="sxs-lookup"><span data-stu-id="c33bd-221">You can work around this issue by trying one of the following options:</span></span><br /><br /> <span data-ttu-id="c33bd-222">提供用户凭据时，请选择 "**记住我的密码**" 选项。</span><span class="sxs-lookup"><span data-stu-id="c33bd-222">Select the **Remember my password** option when you provide your user credentials.</span></span><br /><br /> <span data-ttu-id="c33bd-223">启用对 SharePoint 站点集的匿名访问。</span><span class="sxs-lookup"><span data-stu-id="c33bd-223">Enable Anonymous access to the SharePoint site collection.</span></span><br /><br /> <span data-ttu-id="c33bd-224">对环境进行配置以使用户不用提供凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-224">Configure the environment so that the user does not provide credentials.</span></span> <span data-ttu-id="c33bd-225">例如，在 Intranet 环境中，可将 SharePoint 服务器配置为属于一个工作组，然后在本地计算机上创建用户帐户。</span><span class="sxs-lookup"><span data-stu-id="c33bd-225">For example, in an intranet environment you might configure the SharePoint server to belong to a Workgroup and then create user accounts on the local computer.</span></span>|  
|<span data-ttu-id="c33bd-226">自定义</span><span class="sxs-lookup"><span data-stu-id="c33bd-226">Custom</span></span>|<span data-ttu-id="c33bd-227">将报表服务器配置为使用自定义身份验证时，会在报表服务器上启用匿名访问并且在不进行身份验证检查的情况下接受请求。</span><span class="sxs-lookup"><span data-stu-id="c33bd-227">When you configure a report server to use custom authentication, Anonymous access is enabled on the report server and requests are accepted with no authentication check.</span></span><br /><br /> <span data-ttu-id="c33bd-228">ClickOnce 检索应用程序文件后，报表生成器将打开与报表服务器的单独连接。</span><span class="sxs-lookup"><span data-stu-id="c33bd-228">After ClickOnce retrieves the application files, Report Builder opens a separate connection to a report server.</span></span> <span data-ttu-id="c33bd-229">用户必须重新键入其凭据以使报表生成器连接到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="c33bd-229">Users must re-type their credentials to get Report Builder to connect to the report server.</span></span> <span data-ttu-id="c33bd-230">报表生成器不会从 Internet Explorer 或 ClickOnce 收集凭据。</span><span class="sxs-lookup"><span data-stu-id="c33bd-230">Report Builder does not collect credentials from Internet Explorer or ClickOnce.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="c33bd-231">另请参阅</span><span class="sxs-lookup"><span data-stu-id="c33bd-231">See Also</span></span>  
 <span data-ttu-id="c33bd-232">[针对报表服务器的身份验证](../security/authentication-with-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="c33bd-232">[Authentication with the Report Server](../security/authentication-with-the-report-server.md) </span></span>  
 <span data-ttu-id="c33bd-233">[规划 Reporting Services 和 Power View 浏览器支持 &#40;Reporting Services 2014&#41;](../browser-support-for-reporting-services-and-power-view.md) </span><span class="sxs-lookup"><span data-stu-id="c33bd-233">[Planning for Reporting Services and Power View Browser Support &#40;Reporting Services 2014&#41;](../browser-support-for-reporting-services-and-power-view.md) </span></span>  
 <span data-ttu-id="c33bd-234">[开始报表生成器 &#40;报表生成器&#41;](../report-builder/start-report-builder.md) </span><span class="sxs-lookup"><span data-stu-id="c33bd-234">[Start Report Builder &#40;Report Builder&#41;](../report-builder/start-report-builder.md) </span></span>  
 <span data-ttu-id="c33bd-235">[报表管理器（SSRS 本机模式）](../report-manager-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="c33bd-235">[Report Manager  &#40;SSRS Native Mode&#41;](../report-manager-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="c33bd-236">[在 Management Studio 中连接到报表服务器](../tools/connect-to-a-report-server-in-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="c33bd-236">[Connect to a Report Server in Management Studio](../tools/connect-to-a-report-server-in-management-studio.md) </span></span>  
 [<span data-ttu-id="c33bd-237">报表服务器系统属性</span><span class="sxs-lookup"><span data-stu-id="c33bd-237">Report Server System Properties</span></span>](../report-server-web-service/net-framework/reporting-services-properties-report-server-system-properties.md)  
  
  
