---
title: 配置文件中的 URL（SSRS 配置管理器）| Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- URL configuration [Reporting Services]
ms.assetid: 4f5e7fe0-b5b1-4665-93d4-80dce12d6b14
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 19b4c49d8a02d07797ea4b97a4eb4f9981343226
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87577379"
---
# <a name="urls-in-configuration-files--ssrs-configuration-manager"></a><span data-ttu-id="d4b03-102">配置文件中的 URL（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="d4b03-102">URLs in Configuration Files  (SSRS Configuration Manager)</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="d4b03-103">在 RSReportServer.config 文件中存储应用程序设置。</span><span class="sxs-lookup"><span data-stu-id="d4b03-103">stores application settings in a RSReportServer.config file.</span></span> <span data-ttu-id="d4b03-104">在此文件内，有一些既用于 URL 又用于 URL 预留的配置设置。</span><span class="sxs-lookup"><span data-stu-id="d4b03-104">Within this file, there are configuration settings for both URLs and URL reservations.</span></span> <span data-ttu-id="d4b03-105">这些配置设置的用途和修改规则大不相同。</span><span class="sxs-lookup"><span data-stu-id="d4b03-105">These configuration settings have very different purposes and rules for modification.</span></span> <span data-ttu-id="d4b03-106">如果您习惯于通过修改配置文件来优化部署，则本主题可帮助您了解每项 URL 设置的用法。</span><span class="sxs-lookup"><span data-stu-id="d4b03-106">If you are accustomed to modifying configuration files to tune a deployment, this topic can help you understand how each URL setting is used.</span></span>  
  
## <a name="url-settings-in-rsreportserverconfig-file"></a><span data-ttu-id="d4b03-107">RSReportServer.config 文件中的 URL 设置</span><span class="sxs-lookup"><span data-stu-id="d4b03-107">URL Settings in RSReportServer.config File</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="d4b03-108">存储用于进行应用程序和报表访问的 URL，以及将 Web 前端组件连接到后端报表服务器的 URL。</span><span class="sxs-lookup"><span data-stu-id="d4b03-108">stores URLs for application and report access, and to connect Web front-end components to a back-end report server.</span></span>  
  
#### <a name="urls-for-application-access"></a><span data-ttu-id="d4b03-109">用于进行应用程序访问的 URL</span><span class="sxs-lookup"><span data-stu-id="d4b03-109">URLs for Application Access</span></span>  
 <span data-ttu-id="d4b03-110">URL 用于访问报表服务器 Web 服务和报表管理器。</span><span class="sxs-lookup"><span data-stu-id="d4b03-110">URLs are used to access the Report Server Web service and Report Manager.</span></span> <span data-ttu-id="d4b03-111">若要配置 URL，必须使用 Reporting Services 配置工具。</span><span class="sxs-lookup"><span data-stu-id="d4b03-111">To configure the URLs, you must use the Reporting Services Configuration tool.</span></span> <span data-ttu-id="d4b03-112">该工具用于为 HTTP.SYS 中的每个应用程序创建 URL 预留，并为 RSReportServer.config 的 `URLReservations` 部分中的 URL 添加条目。</span><span class="sxs-lookup"><span data-stu-id="d4b03-112">The tool creates the URL reservations for each application in HTTP.SYS and adds entries for the URLs in the `URLReservations` section of RSReportServer.config.</span></span>  
  
-   <span data-ttu-id="d4b03-113">若要查看部分中每个元素的说明 `URLReservations` ，请参阅联机丛书中的[Rsreportserver.config 配置文件](../report-server/rsreportserver-config-configuration-file.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="d4b03-113">To view descriptions of each element in the `URLReservations` section, see [RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
-   <span data-ttu-id="d4b03-114">有关仅元素的语法的详细信息 `UrlString` ，请参阅[URL 保留语法 &#40;SSRS Configuration Manager&#41;](url-reservation-syntax-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="d4b03-114">For more information about the syntax of just the `UrlString` element, see [URL Reservation Syntax  &#40;SSRS Configuration Manager&#41;](url-reservation-syntax-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="d4b03-115">有关如何配置用于应用程序访问的 URL 的说明，请参阅 [配置 URL（SSRS 配置管理器）](configure-a-url-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="d4b03-115">For instructions on how to configure URLs for application access, see [Configure a URL  &#40;SSRS Configuration Manager&#41;](configure-a-url-ssrs-configuration-manager.md).</span></span>  
  
#### <a name="urls-for-report-access"></a><span data-ttu-id="d4b03-116">用于进行报表访问的 URL</span><span class="sxs-lookup"><span data-stu-id="d4b03-116">URLs for Report Access</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="d4b03-117">包括可用于发送报表链接或附件的报表服务器电子邮件传递扩展插件。</span><span class="sxs-lookup"><span data-stu-id="d4b03-117">includes a report server e-mail delivery extension that you can use to send report links or attachments.</span></span> <span data-ttu-id="d4b03-118">传递报表时将构造报表链接。</span><span class="sxs-lookup"><span data-stu-id="d4b03-118">A report link is constructed when the report is delivered.</span></span> <span data-ttu-id="d4b03-119">报表服务器电子邮件传递扩展插件使用配置文件中的 `UrlRoot` 设置来创建链接。</span><span class="sxs-lookup"><span data-stu-id="d4b03-119">The report server e-mail delivery extension uses the `UrlRoot` setting in the configuration file to create the link.</span></span> <span data-ttu-id="d4b03-120">`UrlRoot` 还用于解析通过无人参与的报表处理生成的呈现报表中的链接。</span><span class="sxs-lookup"><span data-stu-id="d4b03-120">`UrlRoot` is also used to resolve links in a rendered report that is generated through unattended report processing.</span></span>  
  
 <span data-ttu-id="d4b03-121">当您配置用于应用程序访问的 URL 时，将在 RSReportServer.config 文件中自动指定 `UrlRoot`。</span><span class="sxs-lookup"><span data-stu-id="d4b03-121">`UrlRoot` is specified automatically in the RSReportServer.config file when you configure URLs for application access.</span></span> <span data-ttu-id="d4b03-122">如果在配置文件中修改该值，则必须指定连接到报表服务器数据库（包含要传递的报表）的报表服务器 Web 服务的有效 URL 地址。</span><span class="sxs-lookup"><span data-stu-id="d4b03-122">If you modify this value in the configuration file, you must specify a valid URL address to a Report Server Web service that is connected to a report server database that contains the reports you want to deliver.</span></span> <span data-ttu-id="d4b03-123">您只可以为一个报表服务器实例指定一个 `UrlRoot`；对于任何给定的报表服务器实例，RSReportServer.config 文件中只能存在一个 `UrlRoot` 条目。</span><span class="sxs-lookup"><span data-stu-id="d4b03-123">You can only specify one `UrlRoot` for a single report server instance; only one `UrlRoot` entry can exist in the RSReportServer.config file for any given report server instance.</span></span> <span data-ttu-id="d4b03-124">如果您为报表服务器 Web 服务保留了多个 URL，则必须为 `UrlRoot` 选择其中一个可用值。</span><span class="sxs-lookup"><span data-stu-id="d4b03-124">If you have multiple URLs reserved for the Report Server Web service, you must choose one of the available values for `UrlRoot`.</span></span>  
  
 <span data-ttu-id="d4b03-125">在大多数情况下，您无需修改 `UrlRoot`。</span><span class="sxs-lookup"><span data-stu-id="d4b03-125">In most cases, you do not need to modify `UrlRoot`.</span></span> <span data-ttu-id="d4b03-126">但是，如果将通过完全限定的 URL 访问 Report Server，且未配置使用主机标头的 URL 到完全限定的站点名称，则必须手动编辑 RSReportServer.config，以将设置 `UrlRoot` 为用于呈现 (报表的完全限定 REPORT SERVER URL，例如 `https://www.adventure-works.com/mywebapp/reportserver`) 。</span><span class="sxs-lookup"><span data-stu-id="d4b03-126">However, if the report server will be accessed through a fully qualified URL, and you did not configure a URL that uses a host header to the fully qualified site name, you must edit the RSReportServer.config manually to set the `UrlRoot` to the fully qualified report server URL that will be used to render the report (for example, `https://www.adventure-works.com/mywebapp/reportserver`).</span></span>  
  
#### <a name="urls-connecting-report-manager-and-web-parts-to-the-report-server-web-service"></a><span data-ttu-id="d4b03-127">用于将报表管理器和 Web 部件连接到报表服务器 Web 服务的 URL</span><span class="sxs-lookup"><span data-stu-id="d4b03-127">URLs Connecting Report Manager and Web Parts to the Report Server Web Service</span></span>  
 <span data-ttu-id="d4b03-128">报表管理器和 Reporting Services 的 SharePoint 2.0 Web 部件是连接到报表服务器的 Web 前端组件。</span><span class="sxs-lookup"><span data-stu-id="d4b03-128">Report Manager and the SharePoint 2.0 Web Parts for Reporting Services are Web front-end components that connect to a report server.</span></span> <span data-ttu-id="d4b03-129">用于连接到后端报表服务器的 URL 包括：</span><span class="sxs-lookup"><span data-stu-id="d4b03-129">URLs used to connect to a backend report server include the following:</span></span>  
  
-   <span data-ttu-id="d4b03-130">`ReportServerUrl`（由报表管理器使用）</span><span class="sxs-lookup"><span data-stu-id="d4b03-130">`ReportServerUrl` (used by Report Manager)</span></span>  
  
-   <span data-ttu-id="d4b03-131">`ReportServerExternalUrl`（由 Web 部件使用）</span><span class="sxs-lookup"><span data-stu-id="d4b03-131">`ReportServerExternalUrl` (used by Web Parts)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d4b03-132">Reporting Services 的早期版本包括 `ReportServerVirtualDirectory` 元素。</span><span class="sxs-lookup"><span data-stu-id="d4b03-132">Previous versions of Reporting Services included the `ReportServerVirtualDirectory` element.</span></span> <span data-ttu-id="d4b03-133">此值在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 和更高版本中过时了。</span><span class="sxs-lookup"><span data-stu-id="d4b03-133">This value is obsolete in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="d4b03-134">如果您已升级现有安装并正在使用包含此设置的配置文件，则报表服务器不再读取该值。</span><span class="sxs-lookup"><span data-stu-id="d4b03-134">If you upgraded an existing installation and are using a configuration file that contains this setting, the report server no longer reads this value.</span></span>  
  
 <span data-ttu-id="d4b03-135">下表简要概括了所有可以在 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置文件中指定的 URL。</span><span class="sxs-lookup"><span data-stu-id="d4b03-135">The following table provides a summary of all the URLs that can be specified in a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] configuration file.</span></span>  
  
|<span data-ttu-id="d4b03-136">设置</span><span class="sxs-lookup"><span data-stu-id="d4b03-136">Setting</span></span>|<span data-ttu-id="d4b03-137">使用情况</span><span class="sxs-lookup"><span data-stu-id="d4b03-137">Usage</span></span>|<span data-ttu-id="d4b03-138">说明</span><span class="sxs-lookup"><span data-stu-id="d4b03-138">Description</span></span>|  
|-------------|-----------|-----------------|  
|`ReportServerUrl`|<span data-ttu-id="d4b03-139">可选。</span><span class="sxs-lookup"><span data-stu-id="d4b03-139">Optional.</span></span> <span data-ttu-id="d4b03-140">除非您自己添加此元素，否则此元素不包含在 RSReportServer.config 文件中。</span><span class="sxs-lookup"><span data-stu-id="d4b03-140">This element is not included in the RSReportServer.config file unless you add it yourself.</span></span> <span data-ttu-id="d4b03-141">仅当您配置以下方案之一时才应设置此元素：</span><span class="sxs-lookup"><span data-stu-id="d4b03-141">Set this element only if you are configuring one of the following scenarios:</span></span><br /><br /> <span data-ttu-id="d4b03-142">报表管理器提供对在另一台计算机上运行或在同一台计算机上的另一实例上运行的报表服务器 Web 服务的 Web 前端访问。</span><span class="sxs-lookup"><span data-stu-id="d4b03-142">Report Manager provides Web front-end access to a Report Server Web service that runs on a different computer or a different instance on the same computer.</span></span><br /><br /> <span data-ttu-id="d4b03-143">当您有指向一个报表服务器的多个 URL，并且您希望报表服务器使用特定的 URL 时。</span><span class="sxs-lookup"><span data-stu-id="d4b03-143">When you have multiple URLs to a report server and you want Report Manager to use a specific URL.</span></span><br /><br /> <span data-ttu-id="d4b03-144">您有特定的报表服务器 URL，您希望所有报表管理器连接均使用此 URL。</span><span class="sxs-lookup"><span data-stu-id="d4b03-144">You have a specific report server URL through which you want all Report Manager connections to use.</span></span><br /><br /> <span data-ttu-id="d4b03-145">例如，您可能为网络中的所有计算机都启用报表管理器访问，但需要报表管理器通过一个本地连接连接到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="d4b03-145">For example, you might enable Report Manager access for all computers on network, yet require that Report Manager connect to the report server through a local connection.</span></span> <span data-ttu-id="d4b03-146">在这种情况下，你可以将配置 `ReportServerUrl` 为 " http://localhost/reportserver "。</span><span class="sxs-lookup"><span data-stu-id="d4b03-146">In this case, you might configure `ReportServerUrl` to "http://localhost/reportserver".</span></span><br /><br /> <br /><br /> <span data-ttu-id="d4b03-147">有关如何实现这些方案的说明，请参阅联机丛书中的[&#40;本机模式&#41;下配置报表管理器](../report-server/configure-web-portal.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="d4b03-147">For instructions on how to implement these scenarios, see [Configure Report Manager &#40;Native Mode&#41;](../report-server/configure-web-portal.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|<span data-ttu-id="d4b03-148">该值指定一个指向报表服务器 Web 服务的 URL。</span><span class="sxs-lookup"><span data-stu-id="d4b03-148">This value specifies a URL to the Report Server Web service.</span></span> <span data-ttu-id="d4b03-149">此值由报表管理器在启动时读取。</span><span class="sxs-lookup"><span data-stu-id="d4b03-149">This value is read by the Report Manager application at startup.</span></span> <span data-ttu-id="d4b03-150">如果已设置该值，则报表管理器将连接到此 URL 中指定的报表服务器。</span><span class="sxs-lookup"><span data-stu-id="d4b03-150">If this value is set, Report Manager will connect to the report server that is specified in the URL.</span></span><br /><br /> <span data-ttu-id="d4b03-151">默认情况下，报表管理器提供对与报表管理器运行在同一报表服务器实例中的报表服务器 Web 服务的 Web 前端访问。</span><span class="sxs-lookup"><span data-stu-id="d4b03-151">By default, Report Manager provides Web front-end access to the Report Server Web service that runs within the same report server instance as Report Manager.</span></span> <span data-ttu-id="d4b03-152">然而，如果希望将报表管理器与作为另一实例一部分或在另一台计算机的实例上运行的报表服务器 Web 服务一起使用，则可以将此 URL 设置为定向报表管理器使之连接到外部报表服务器 Web 服务。</span><span class="sxs-lookup"><span data-stu-id="d4b03-152">However, if you want to use Report Manager with a Report Server Web service that is part of another instance or runs in an instance on a different computer, you can set this URL to direct Report Manager to connect to the external Report Server Web service.</span></span><br /><br /> <span data-ttu-id="d4b03-153">如果安全套接字层 (SSL) 证书安装在您要连接的报表服务器上，则 `ReportServerUrl` 值必须是为获得此证书而注册的服务器的名称。</span><span class="sxs-lookup"><span data-stu-id="d4b03-153">If a Secure Sockets Layer (SSL) certificate is installed on the report server to which you are connecting, the `ReportServerUrl` value must be the name of the server that is registered for that certificate.</span></span> <span data-ttu-id="d4b03-154">如果出现“基础连接已经关闭: 未能为 SSL/TLS 安全通道建立信任关系”错误，请将 `ReportServerUrl` 设置成为其颁发 SSL 证书的服务器的完全限定域名。</span><span class="sxs-lookup"><span data-stu-id="d4b03-154">If you get the error, "The underlying connection was closed: Could not establish trust relationship for the SSL/TLS security channel", set `ReportServerUrl` to the fully qualified domain name of the server for which the SSL certificate was issued.</span></span> <span data-ttu-id="d4b03-155">例如，如果向 https:\//adventure-works.com.onlinesales  注册了此证书，则报表服务器 URL 将为 https:\//adventure-works.com.onlinesales/reportserver  。</span><span class="sxs-lookup"><span data-stu-id="d4b03-155">For example, if the certificate is registered to **https:\//adventure-works.com.onlinesales**, the report server URL would be **https:\//adventure-works.com.onlinesales/reportserver**.</span></span>|  
|`ReportServerExternalUrl`|<span data-ttu-id="d4b03-156">可选。</span><span class="sxs-lookup"><span data-stu-id="d4b03-156">Optional.</span></span> <span data-ttu-id="d4b03-157">除非您自己添加此元素，否则此元素不包含在 RSReportServer.config 文件中。</span><span class="sxs-lookup"><span data-stu-id="d4b03-157">This element is not included in the RSReportServer.config file unless you add it yourself.</span></span><br /><br /> <span data-ttu-id="d4b03-158">仅当您使用的是 SharePoint 2.0 Web 部件且希望用户能够检索报表并在新的浏览器窗口中打开该报表时，才应设置此元素。</span><span class="sxs-lookup"><span data-stu-id="d4b03-158">Set this element only if you are using the SharePoint 2.0 Web Parts and you want users to be able to retrieve a report and open it in a new browser window.</span></span><br /><br /> <span data-ttu-id="d4b03-159">将 <`ReportServerExternalUrl`> 添加到 <`ReportServerUrl`> 元素下，然后将其设置为在单独的浏览器窗口中访问时解析为 Report Server 实例的完全限定 Report Server 名称。</span><span class="sxs-lookup"><span data-stu-id="d4b03-159">Add <`ReportServerExternalUrl`> underneath the <`ReportServerUrl`> element, and then set it to a fully qualified report server name that resolves to a report server instance when accessed in a separate browser window.</span></span> <span data-ttu-id="d4b03-160">请勿删除 <`ReportServerUrl`>。</span><span class="sxs-lookup"><span data-stu-id="d4b03-160">Do not delete <`ReportServerUrl`>.</span></span><br /><br /> <span data-ttu-id="d4b03-161">下面的示例说明了相应的语法：</span><span class="sxs-lookup"><span data-stu-id="d4b03-161">The following example illustrates the syntax:</span></span><br /><br /> `<ReportServerExternalUrl>http://myserver/reportserver</ReportServerExternalUrl>`|<span data-ttu-id="d4b03-162">该值由 SharePoint 2.0 Web 部件使用。</span><span class="sxs-lookup"><span data-stu-id="d4b03-162">This value is used by the SharePoint 2.0 Web Parts.</span></span><br /><br /> <span data-ttu-id="d4b03-163">在早期版本中，建议您设置该值以在面向 Internet 的报表服务器上部署报表生成器。</span><span class="sxs-lookup"><span data-stu-id="d4b03-163">In previous releases, it was recommended that you set this value to deploy Report Builder on an Internet-facing report server.</span></span> <span data-ttu-id="d4b03-164">这是未经测试的部署方案。</span><span class="sxs-lookup"><span data-stu-id="d4b03-164">This is an untested deployment scenario.</span></span> <span data-ttu-id="d4b03-165">如果您在过去使用此设置支持对报表生成器的 Internet 访问，那么现在您应考虑使用替代策略。</span><span class="sxs-lookup"><span data-stu-id="d4b03-165">If you used this setting in the past to support Internet access to Report Builder, you should consider an alternative strategy.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="d4b03-166">另请参阅</span><span class="sxs-lookup"><span data-stu-id="d4b03-166">See Also</span></span>  
 <span data-ttu-id="d4b03-167">[配置报表服务器 URL（SSRS 配置管理器）](configure-report-server-urls-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="d4b03-167">[Configure Report Server URLs  &#40;SSRS Configuration Manager&#41;](configure-report-server-urls-ssrs-configuration-manager.md) </span></span>  
 [<span data-ttu-id="d4b03-168">配置 URL（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="d4b03-168">Configure a URL  &#40;SSRS Configuration Manager&#41;</span></span>](configure-a-url-ssrs-configuration-manager.md)  
  
  
