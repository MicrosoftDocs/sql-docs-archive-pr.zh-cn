---
title: 升级和迁移 Reporting Services | Microsoft Docs
ms.prod: sql-server-2014
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- SSRS, upgrading
- Reporting Services, upgrades
- SQL Server Reporting Services, upgrading
- upgrading Reporting Services
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.reviewer: ''
ms.custom: ''
ms.date: 06/13/2017
ms.openlocfilehash: 75385074b445c2741c548e488fb123b12be036d0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87577385"
---
# <a name="upgrade-and-migrate-reporting-services"></a><span data-ttu-id="41774-102">Upgrade and Migrate Reporting Services</span><span class="sxs-lookup"><span data-stu-id="41774-102">Upgrade and Migrate Reporting Services</span></span>

<span data-ttu-id="41774-103">本主题概述 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]的升级和迁移选项。</span><span class="sxs-lookup"><span data-stu-id="41774-103">This topic is an overview of the upgrade and migration options for [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="41774-104">有两种用于升级 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 部署的常规方法：</span><span class="sxs-lookup"><span data-stu-id="41774-104">There are two general approaches to upgrading a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] deployment:</span></span>

-   <span data-ttu-id="41774-105">**升级：** 升级服务器和实例上当前安装的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 组件。</span><span class="sxs-lookup"><span data-stu-id="41774-105">**Upgrade:** You upgrade the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] components on the servers and instances where they are currently installed.</span></span> <span data-ttu-id="41774-106">这通常称为“就地”升级。</span><span class="sxs-lookup"><span data-stu-id="41774-106">This is commonly called an "in place" upgrade.</span></span> <span data-ttu-id="41774-107">对于从 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务器的一种模式升级到另一模式，不支持就地升级。</span><span class="sxs-lookup"><span data-stu-id="41774-107">In-place upgrade is not supported from one mode of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] server to another.</span></span> <span data-ttu-id="41774-108">例如，不能将本机模式报表服务器升级到 SharePoint 模式报表服务器。</span><span class="sxs-lookup"><span data-stu-id="41774-108">For example, you cannot upgrade a Native Mode report server to a SharePoint mode report server.</span></span> <span data-ttu-id="41774-109">您可以将报表项从一个模式迁移到另一个模式。</span><span class="sxs-lookup"><span data-stu-id="41774-109">You can migrate your report items from one mode to another.</span></span> <span data-ttu-id="41774-110">有关详细信息，请参阅本文档后面的 "本机到 SharePoint 迁移" 部分和相关主题[示例 Reporting Services rs.exe 脚本在报表服务器之间迁移内容](../tools/sample-reporting-services-rs-exe-script-to-copy-content-between-report-servers.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-110">For more information, see the 'Native to SharePoint Migration' section later in this document and the related topic [Sample Reporting Services rs.exe Script to Migrate Content between Report Servers](../tools/sample-reporting-services-rs-exe-script-to-copy-content-between-report-servers.md).</span></span>

-   <span data-ttu-id="41774-111">**迁移**：安装并配置新 SharePoint 环境，并将报表项和资源复制到此新环境中，然后将此环境配置为使用现有内容。</span><span class="sxs-lookup"><span data-stu-id="41774-111">**Migrate**: You install and configure a new SharePoint environment, copy your report items and resources to the new environment, and configure the new environment to use existing content.</span></span> <span data-ttu-id="41774-112">迁移的较低级别形式是复制 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 数据库、配置文件，如果使用的是 SharePoint 模式，则还包括复制 SharePoint 内容数据库。</span><span class="sxs-lookup"><span data-stu-id="41774-112">A lower level form of migration is to copy the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] databases, configuration files, and if you are using SharePoint mode, the SharePoint content databases.</span></span>

||
|-|
|<span data-ttu-id="41774-113">**[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 本机模式 &#124; [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式</span><span class="sxs-lookup"><span data-stu-id="41774-113">**[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode &#124; [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode</span></span>|

##  <a name="in-this-topic"></a><a name="bkmk_top"></a> <span data-ttu-id="41774-114">本主题内容：</span><span class="sxs-lookup"><span data-stu-id="41774-114">In this topic:</span></span>

-   [<span data-ttu-id="41774-115">已知的升级问题和最佳做法</span><span class="sxs-lookup"><span data-stu-id="41774-115">Known Upgrade Issues and Best Practices</span></span>](#bkmk_known_issues)

-   [<span data-ttu-id="41774-116">并行安装</span><span class="sxs-lookup"><span data-stu-id="41774-116">Side By Side Installations</span></span>](#bkmk_side_by_side)

-   [<span data-ttu-id="41774-117">就地升级</span><span class="sxs-lookup"><span data-stu-id="41774-117">In-place upgrade</span></span>](#bkmk_inplace_upgrade)

-   [<span data-ttu-id="41774-118">升级前的清单</span><span class="sxs-lookup"><span data-stu-id="41774-118">Pre-Upgrade Checklist</span></span>](#bkmk_upgrade_checklist)

-   [<span data-ttu-id="41774-119">本机模式升级和迁移方案</span><span class="sxs-lookup"><span data-stu-id="41774-119">Native Mode Upgrade and Migration Scenarios</span></span>](#bkmk_native_scenarios)

-   [<span data-ttu-id="41774-120">升级 Reporting Services 本机模式扩展部署</span><span class="sxs-lookup"><span data-stu-id="41774-120">Upgrade a Reporting Services Native Mode Scale-out Deployment</span></span>](#bkmk_native_scaleout)

-   [<span data-ttu-id="41774-121">SharePoint 模式升级和迁移方案</span><span class="sxs-lookup"><span data-stu-id="41774-121">SharePoint Mode Upgrade and Migration Scenarios</span></span>](#bkmk_sharePoint_scenarios)

-   [<span data-ttu-id="41774-122">迁移注意事项</span><span class="sxs-lookup"><span data-stu-id="41774-122">Considerations for a Migration</span></span>](#bkmk_migration_considerations)

-   [<span data-ttu-id="41774-123">其他资源</span><span class="sxs-lookup"><span data-stu-id="41774-123">Additional Resources</span></span>](#bkmk_additional_resources)

##  <a name="known-upgrade-issues-and-best-practices"></a><a name="bkmk_known_issues"></a> <span data-ttu-id="41774-124">已知的升级问题和最佳做法</span><span class="sxs-lookup"><span data-stu-id="41774-124">Known Upgrade Issues and Best Practices</span></span>
 <span data-ttu-id="41774-125">有关可以升级的受支持版本的详细列表，请参阅 [Supported Version and Edition Upgrades](../../database-engine/install-windows/supported-version-and-edition-upgrades.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-125">For a detailed list of the supported editions and versions you can upgrade, see [Supported Version and Edition Upgrades](../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>

> [!TIP]
>  <span data-ttu-id="41774-126">有关与 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]的问题相关的最新信息，请参阅以下内容：</span><span class="sxs-lookup"><span data-stu-id="41774-126">For the latest information regarding issues with [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], see the following:</span></span>
> 
>  -   <span data-ttu-id="41774-127">[SQL Server 2014 发行说明](https://go.microsoft.com/fwlink/?LinkID=296445)。</span><span class="sxs-lookup"><span data-stu-id="41774-127">[SQL Server 2014 Release Notes](https://go.microsoft.com/fwlink/?LinkID=296445).</span></span>
> -   <span data-ttu-id="41774-128">[SQL Server 2014 Reporting Services 提示、技巧和故障排除](https://go.microsoft.com/fwlink/?LinkID=391254)。</span><span class="sxs-lookup"><span data-stu-id="41774-128">[SQL Server 2014 Reporting Services Tips, Tricks, and Troubleshooting](https://go.microsoft.com/fwlink/?LinkID=391254).</span></span>
> -   <span data-ttu-id="41774-129">使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 升级顾问。</span><span class="sxs-lookup"><span data-stu-id="41774-129">Use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Upgrade Advisor.</span></span> <span data-ttu-id="41774-130">有关详细信息，请参阅[升级顾问 &#40;Reporting Services 升级问题&#41;](../../../2014/sql-server/install/reporting-services-upgrade-issues-upgrade-advisor.md)和[如何：安装升级顾问](../../../2014/sql-server/install/how-to-install-upgrade-advisor.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-130">For more information, see [Reporting Services Upgrade Issues &#40;Upgrade Advisor&#41;](../../../2014/sql-server/install/reporting-services-upgrade-issues-upgrade-advisor.md) and [How to: Install Upgrade Advisor](../../../2014/sql-server/install/how-to-install-upgrade-advisor.md).</span></span>

 <span data-ttu-id="41774-131">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-131">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="side-by-side-installations"></a><a name="bkmk_side_by_side"></a> <span data-ttu-id="41774-132">并行安装</span><span class="sxs-lookup"><span data-stu-id="41774-132">Side By Side Installations</span></span>
 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] <span data-ttu-id="41774-133">本机模式可与 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 本机模式部署并行安装。</span><span class="sxs-lookup"><span data-stu-id="41774-133">Native mode can be installed side-by-side with a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] Native mode deployment.</span></span>

 <span data-ttu-id="41774-134">不支持并行部署 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] SharePoint 模式和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式组件的任何先前版本。</span><span class="sxs-lookup"><span data-stu-id="41774-134">There is no support for side-by-side deployments of [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] SharePoint mode and any previous versions of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode components.</span></span>

 <span data-ttu-id="41774-135">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-135">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="in-place-upgrade"></a><a name="bkmk_inplace_upgrade"></a><span data-ttu-id="41774-136">就地升级</span><span class="sxs-lookup"><span data-stu-id="41774-136">In-place upgrade</span></span>
 <span data-ttu-id="41774-137">升级由 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序完成。</span><span class="sxs-lookup"><span data-stu-id="41774-137">Upgrade is completed by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="41774-138">安装程序可用于升级任意或所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 组件，包括 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="41774-138">Setup can be used to upgrade any or all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components, including [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="41774-139">安装程序将检测现有实例并提示您进行升级。</span><span class="sxs-lookup"><span data-stu-id="41774-139">Setup detects the existing instances and prompts you to upgrade.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="41774-140">安装程序提供了升级选项，您可以将其作为命令行参数指定或在安装向导中指定。</span><span class="sxs-lookup"><span data-stu-id="41774-140">Setup provides upgrade options that you can specify as a command-line argument or in the Setup wizard.</span></span>

 <span data-ttu-id="41774-141">运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序时，可以选择从以下版本之一升级，也可以安装运行现有并行安装的 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] 的新实例：</span><span class="sxs-lookup"><span data-stu-id="41774-141">When you run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup, you can select the option to upgrade from one of the following versions or you can install a new instance of [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] that runs side-by-side existing installations:</span></span>

-   [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]

-   [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)]

-   [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]

-   [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]

 <span data-ttu-id="41774-142">有关 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的详细信息，请参阅以下内容：</span><span class="sxs-lookup"><span data-stu-id="41774-142">For more information on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see the following:</span></span>

||
|-|
|[<span data-ttu-id="41774-143">升级到 SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="41774-143">Upgrade to SQL Server 2014</span></span>](../../database-engine/install-windows/upgrade-sql-server.md)|
|[<span data-ttu-id="41774-144">使用安装向导 &#40;安装程序升级到 SQL Server 2014&#41;</span><span class="sxs-lookup"><span data-stu-id="41774-144">Upgrade to SQL Server 2014 Using the Installation Wizard &#40;Setup&#41;</span></span>](../../database-engine/install-windows/upgrade-sql-server-using-the-installation-wizard-setup.md)|
|[<span data-ttu-id="41774-145">Install SQL Server 2014 from the Command Prompt</span><span class="sxs-lookup"><span data-stu-id="41774-145">Install SQL Server 2014 from the Command Prompt</span></span>](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md)|

 <span data-ttu-id="41774-146">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-146">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="pre-upgrade-checklist"></a><a name="bkmk_upgrade_checklist"></a> <span data-ttu-id="41774-147">升级准备一览表</span><span class="sxs-lookup"><span data-stu-id="41774-147">Pre-Upgrade Checklist</span></span>
 <span data-ttu-id="41774-148">升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]之前，请先查看以下内容：</span><span class="sxs-lookup"><span data-stu-id="41774-148">Before upgrading to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], review the following:</span></span>

-   <span data-ttu-id="41774-149">检查相关要求，以确定硬件和软件是否可以支持 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="41774-149">Review requirements to determine whether your hardware and software can support [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)].</span></span> <span data-ttu-id="41774-150">有关详细信息，请参阅 [Hardware and Software Requirements for Installing SQL Server 2014](../../../2014/sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-150">For more information, see [Hardware and Software Requirements for Installing SQL Server 2014](../../../2014/sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md).</span></span>

-   <span data-ttu-id="41774-151">使用系统配置检查器 (SCC) 扫描报表服务器计算机中是否有可能妨碍 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]成功安装的任何情况。</span><span class="sxs-lookup"><span data-stu-id="41774-151">Use System Configuration Checker (SCC) to scan the report server computer for any conditions that might prevent a successful installation of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="41774-152">有关详细信息，请参阅 [Check Parameters for the System Configuration Checker](../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-152">For more information, see [Check Parameters for the System Configuration Checker](../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md).</span></span>

-   <span data-ttu-id="41774-153">查看 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的安全最佳实践和指南。</span><span class="sxs-lookup"><span data-stu-id="41774-153">Review security best practices and guidance for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="41774-154">有关详细信息，请参阅 [Security Considerations for a SQL Server Installation](../../../2014/sql-server/install/security-considerations-for-a-sql-server-installation.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-154">For more information, see [Security Considerations for a SQL Server Installation](../../../2014/sql-server/install/security-considerations-for-a-sql-server-installation.md).</span></span>

-   <span data-ttu-id="41774-155">在报表服务器计算机上运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 升级顾问，以确定可能妨碍成功升级的任何问题。</span><span class="sxs-lookup"><span data-stu-id="41774-155">Run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Upgrade Advisor on the report server computer to determine any issues that might prevent you from successfully upgrading.</span></span> <span data-ttu-id="41774-156">有关详细信息，请参阅 [Use Upgrade Advisor to Prepare for Upgrades](../../../2014/sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-156">For more information, see [Use Upgrade Advisor to Prepare for Upgrades](../../../2014/sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>

-   <span data-ttu-id="41774-157">备份对称密钥。</span><span class="sxs-lookup"><span data-stu-id="41774-157">Back up your symmetric key.</span></span> <span data-ttu-id="41774-158">有关详细信息，请参阅 [Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-158">For more information, see [Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md).</span></span>

-   <span data-ttu-id="41774-159">备份报表服务器数据库和配置文件。</span><span class="sxs-lookup"><span data-stu-id="41774-159">Back up your report server databases and configuration files.</span></span> <span data-ttu-id="41774-160">有关详细信息，请参阅 [Backup and Restore Operations for Reporting Services](../../reporting-services/install-windows/backup-and-restore-operations-for-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-160">For more information, see [Backup and Restore Operations for Reporting Services](../../reporting-services/install-windows/backup-and-restore-operations-for-reporting-services.md).</span></span>

-   <span data-ttu-id="41774-161">备份对 IIS 中现有 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 虚拟目录的任何自定义。</span><span class="sxs-lookup"><span data-stu-id="41774-161">Back up any customizations to existing [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] virtual directories in IIS.</span></span>

-   <span data-ttu-id="41774-162">删除无效的 SSL 证书。</span><span class="sxs-lookup"><span data-stu-id="41774-162">Remove invalid SSL certificates.</span></span>  <span data-ttu-id="41774-163">这包括在升级 Reporting Services 前未计划更新的到期证书。</span><span class="sxs-lookup"><span data-stu-id="41774-163">This includes certificates that are expired and you do not plan to update prior to upgrading Reporting Services.</span></span>  <span data-ttu-id="41774-164">无效证书会导致升级失败，且如下所示的错误消息会写入 Reporting Services 日志文件：**Microsoft.ReportingServices.WmiProvider.WMIProviderException:未在网站上配置安全套接字层(SSL)证书。**</span><span class="sxs-lookup"><span data-stu-id="41774-164">Invalid certificates will cause upgrade to fail and an error message similar to the following will be written to the Reporting Services Log file: **Microsoft.ReportingServices.WmiProvider.WMIProviderException: A Secure Sockets Layer (SSL) certificate is not configured on the Web site.**.</span></span>

 <span data-ttu-id="41774-165">在升级生产环境之前，务必在与生产环境具有相同配置的生产前环境中运行测试升级。</span><span class="sxs-lookup"><span data-stu-id="41774-165">Before you upgrade a production environment, always run a test upgrade in a pre-production environment that has the same configuration as your production environment.</span></span>

 <span data-ttu-id="41774-166">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-166">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

## <a name="overview-of-migration-scenarios"></a><span data-ttu-id="41774-167">迁移方案概述</span><span class="sxs-lookup"><span data-stu-id="41774-167">Overview of Migration Scenarios</span></span>
 <span data-ttu-id="41774-168">如果从 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 的受支持版本升级到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，则通常可以运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装向导来升级报表服务器程序文件、数据库以及所有应用程序数据。</span><span class="sxs-lookup"><span data-stu-id="41774-168">If you are upgrading from a supported version of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you can usually run the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup Wizard to upgrade the report server program files, database, and all application data.</span></span>

 <span data-ttu-id="41774-169">然而，如果遇到以下任何情况，都需要手动 **迁移** 报表服务器安装：</span><span class="sxs-lookup"><span data-stu-id="41774-169">However, **migrating** a report server installation manually is required if you encounter any of the following conditions:</span></span>

-   <span data-ttu-id="41774-170">升级顾问检测到了一个或多个升级阻塞程序。</span><span class="sxs-lookup"><span data-stu-id="41774-170">Upgrade Advisor detected one more upgrade blockers.</span></span> <span data-ttu-id="41774-171">有关详细信息，请参阅 [Use Upgrade Advisor to Prepare for Upgrades](../../../2014/sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-171">For more information, see [Use Upgrade Advisor to Prepare for Upgrades](../../../2014/sql-server/install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>

-   <span data-ttu-id="41774-172">您想要更改部署中使用的报表服务器的类型。</span><span class="sxs-lookup"><span data-stu-id="41774-172">You want to change the type of report server used in your deployment.</span></span> <span data-ttu-id="41774-173">例如，不能将本机模式报表服务器升级或转换到 SharePoint 模式。</span><span class="sxs-lookup"><span data-stu-id="41774-173">For example, you cannot upgrade or convert a native mode report server to SharePoint mode.</span></span> <span data-ttu-id="41774-174">有关详细信息，请参阅[从本机迁移到 SharePoint (SSRS)](../../reporting-services/install-windows/native-to-sharepoint-migration-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-174">For more information, see [Native to SharePoint Migration &#40;SSRS&#41;](../../reporting-services/install-windows/native-to-sharepoint-migration-ssrs.md).</span></span>

-   <span data-ttu-id="41774-175">您需要在升级过程中最大限度地减少报表服务器的脱机时间。</span><span class="sxs-lookup"><span data-stu-id="41774-175">You want to minimize the amount of time the report server is taken offline during the upgrade process.</span></span> <span data-ttu-id="41774-176">在您将内容数据复制到新报表服务器实例，并在不改变现有报表服务器安装状态的情况下测试该安装时，当前安装将保持联机状态。</span><span class="sxs-lookup"><span data-stu-id="41774-176">Your current installation remains online while you copy content data to a new report server instance and test the installation without changing the state of your existing report server installation.</span></span>

-   <span data-ttu-id="41774-177">您要将 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 的 SharePoint 2010 部署迁移到 SharePoint 2013。</span><span class="sxs-lookup"><span data-stu-id="41774-177">You want to migrate a SharePoint 2010 deployment of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] to SharePoint 2013.</span></span> <span data-ttu-id="41774-178">SharePoint 2013 不支持从 SharePoint 2010 就地升级。</span><span class="sxs-lookup"><span data-stu-id="41774-178">SharePoint 2013 does not support in-place upgrade from SharePoint 2010.</span></span> <span data-ttu-id="41774-179">有关详细信息，请参阅[迁移 Reporting Services 安装（SharePoint 模式）](../../reporting-services/install-windows/migrate-a-reporting-services-installation-sharepoint-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-179">For more information, see [Migrate a Reporting Services Installation &#40;SharePoint Mode&#41;](../../reporting-services/install-windows/migrate-a-reporting-services-installation-sharepoint-mode.md).</span></span>

 <span data-ttu-id="41774-180">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-180">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="native-mode-upgrade-and-migration-scenarios"></a><a name="bkmk_native_scenarios"></a> <span data-ttu-id="41774-181">本机模式升级和迁移方案</span><span class="sxs-lookup"><span data-stu-id="41774-181">Native Mode Upgrade and Migration Scenarios</span></span>
 <span data-ttu-id="41774-182">**升级：** 本机模式的就地升级与本主题前面列出的每个受支持版本的升级过程相同。</span><span class="sxs-lookup"><span data-stu-id="41774-182">**Upgrade:** In-place upgrade for native mode is the same process for each of the supported versions that are listed earlier in this topic.</span></span> <span data-ttu-id="41774-183">运行 SQL Server 安装向导或命令行安装。</span><span class="sxs-lookup"><span data-stu-id="41774-183">Run the SQL Server installation wizard or a command line installation.</span></span> <span data-ttu-id="41774-184">在安装后，报表服务器数据库将自动升级到新的报表服务器数据库架构。</span><span class="sxs-lookup"><span data-stu-id="41774-184">Following installation the report server database will automatically upgrade to the new report server database schema.</span></span> <span data-ttu-id="41774-185">有关详细信息，请参阅本主题中的[就地升级](#bkmk_inplace_upgrade)部分。</span><span class="sxs-lookup"><span data-stu-id="41774-185">For more information, see the [In-place upgrade](#bkmk_inplace_upgrade) section in this topic.</span></span>

 <span data-ttu-id="41774-186">当选择了一个要升级的现有报表服务器实例时，升级过程即开始。</span><span class="sxs-lookup"><span data-stu-id="41774-186">The upgrade process begins when you select an existing report server instance to upgrade.</span></span>

1.  <span data-ttu-id="41774-187">如果报表服务器数据库位于远程计算机上，而您没有更新该数据库的权限，则安装程序将提示您提供更新远程报表服务器数据库的凭据。</span><span class="sxs-lookup"><span data-stu-id="41774-187">If the report server database is on a remote computer and you do not have permission to update that database, Setup prompts you to provide credentials to update to a remote report server database.</span></span> <span data-ttu-id="41774-188">请确保提供具有 `sysadmin` 或数据库更新权限的凭据。</span><span class="sxs-lookup"><span data-stu-id="41774-188">Be sure to provide credentials that have `sysadmin` or database update permissions.</span></span>

2.  <span data-ttu-id="41774-189">安装程序检查阻止升级的条件或设置并读取配置设置。</span><span class="sxs-lookup"><span data-stu-id="41774-189">Setup checks for conditions or settings that prevent upgrade and reads configuration settings.</span></span> <span data-ttu-id="41774-190">示例包括在报表服务器上部署的自定义扩展插件。</span><span class="sxs-lookup"><span data-stu-id="41774-190">Examples include custom extensions deployed on the report server.</span></span> <span data-ttu-id="41774-191">如果升级受阻，则必须修改您的安装以便不再阻止升级，或者迁移到新的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="41774-191">If upgrade is blocked, you must either modify your installation so that upgrade is no longer blocked, or migrate to a new [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] instance.</span></span> <span data-ttu-id="41774-192">有关详细信息，请参阅升级顾问文档。</span><span class="sxs-lookup"><span data-stu-id="41774-192">For more information, see the Upgrade Advisor documentation.</span></span>

3.  <span data-ttu-id="41774-193">如果升级可以继续，则安装程序将提示您继续升级过程。</span><span class="sxs-lookup"><span data-stu-id="41774-193">If upgrade can proceed, Setup prompts you to continue with the upgrade process.</span></span>

4.  <span data-ttu-id="41774-194">安装程序为 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 程序文件创建新的文件夹。</span><span class="sxs-lookup"><span data-stu-id="41774-194">Setup creates new folders for [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] program files.</span></span> <span data-ttu-id="41774-195">安装的程序文件夹 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 包括 MSRS12。 \<*instance name*></span><span class="sxs-lookup"><span data-stu-id="41774-195">The program folders for a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation include MSRS12.\<*instance name*>.</span></span>

5.  <span data-ttu-id="41774-196">安装程序添加 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 报表服务器程序文件、配置工具和作为报表服务器功能一部分的命令行实用工具。</span><span class="sxs-lookup"><span data-stu-id="41774-196">Setup adds the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server program files, configuration tools, and command line utilities that are part of the report server feature.</span></span>

    1.  <span data-ttu-id="41774-197">删除先前版本中的程序文件。</span><span class="sxs-lookup"><span data-stu-id="41774-197">Program files from the previous version are removed.</span></span>

    2.  <span data-ttu-id="41774-198">升级到新版本的报表服务器配置工具和实用工具包括本机模式 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具、命令行实用工具（如 RS.exe）和报表生成器。</span><span class="sxs-lookup"><span data-stu-id="41774-198">Report server configuration tools and utilities that are upgraded to the new version include the Native Mode [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool, command line utilities such as RS.exe, and Report Builder.</span></span>

    3.  <span data-ttu-id="41774-199">不升级其他客户端工具（如 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 和联机丛书）。</span><span class="sxs-lookup"><span data-stu-id="41774-199">Other client tools such as [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and Books Online are not upgraded.</span></span> <span data-ttu-id="41774-200">若要获得这些工具的新版本，可以在运行安装程序时添加它们。</span><span class="sxs-lookup"><span data-stu-id="41774-200">To obtain new versions of the tools, you can add them when you run Setup.</span></span> <span data-ttu-id="41774-201">其早期版本将与 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 版本并存。</span><span class="sxs-lookup"><span data-stu-id="41774-201">Earlier versions will co-exist alongside [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versions.</span></span> <span data-ttu-id="41774-202">如果安装了示例，则会保留早期版本。</span><span class="sxs-lookup"><span data-stu-id="41774-202">If you installed samples, the earlier version will remain.</span></span> <span data-ttu-id="41774-203">安装程序不支持升级 SQL Server 示例。</span><span class="sxs-lookup"><span data-stu-id="41774-203">Setup does not support upgrade for the SQL Server samples.</span></span>

    4.  [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] <span data-ttu-id="41774-204">为单独下载。</span><span class="sxs-lookup"><span data-stu-id="41774-204">is a separate download.</span></span> <span data-ttu-id="41774-205">有关详细信息，请参阅 [Microsoft SQL Server 2014 Data Tools - Business Intelligence for Microsoft Visual Studio 2012](https://www.microsoft.com/download/details.aspx?id=36843)。</span><span class="sxs-lookup"><span data-stu-id="41774-205">For more information, see [Microsoft SQL Server 2014 Data Tools - Business Intelligence for Microsoft Visual Studio 2012](https://www.microsoft.com/download/details.aspx?id=36843).</span></span>

6.  <span data-ttu-id="41774-206">安装程序重用服务控制管理器中 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 报表服务器服务的服务条目。</span><span class="sxs-lookup"><span data-stu-id="41774-206">Setup reuses the service entry in Service Control Manager for the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Report Server service.</span></span> <span data-ttu-id="41774-207">此服务条目包括报表服务器 Windows 服务帐户。</span><span class="sxs-lookup"><span data-stu-id="41774-207">This service entry includes the Report Server Windows service account.</span></span>

7.  <span data-ttu-id="41774-208">安装程序基于 IIS 中的现有虚拟目录设置保留新的 URL。</span><span class="sxs-lookup"><span data-stu-id="41774-208">Setup reserves new URLs based on existing virtual directory settings in IIS.</span></span> <span data-ttu-id="41774-209">安装程序可能不会删除 IIS 中的虚拟目录，所以请确保在完成升级之后手动删除它们。</span><span class="sxs-lookup"><span data-stu-id="41774-209">Setup might not remove virtual directories in IIS, so be sure to remove those manually after upgrade is finished.</span></span>

8.  <span data-ttu-id="41774-210">安装程序将报表服务器数据库升级到新架构并通过为角色添加数据库所有者权限来修改 `RSExecRole`。</span><span class="sxs-lookup"><span data-stu-id="41774-210">Setup upgrades the report server databases to the new schema and modifies the `RSExecRole` by adding Database Owner permissions to the role.</span></span> <span data-ttu-id="41774-211">仅当从 SP1 之前的升级时，才会执行此步骤 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="41774-211">This step only occurs when you are upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] prior to SP1.</span></span>

9. <span data-ttu-id="41774-212">安装程序合并配置文件中的设置。</span><span class="sxs-lookup"><span data-stu-id="41774-212">Setup merges settings in the configuration files.</span></span> <span data-ttu-id="41774-213">添加新条目时，使用当前安装的配置文件作为基础。</span><span class="sxs-lookup"><span data-stu-id="41774-213">Using the configuration files from the current installation as the basis, new entries are added.</span></span> <span data-ttu-id="41774-214">不会删除过时的条目，但是在升级完成后，报表服务器不会再读取它们。</span><span class="sxs-lookup"><span data-stu-id="41774-214">Obsolete entries are not removed, but they will no longer be read by the report server after upgrade is finished.</span></span> <span data-ttu-id="41774-215">升级不会删除旧日志文件、过时的 RSWebApplication.config 文件或 IIS 中的虚拟目录设置。</span><span class="sxs-lookup"><span data-stu-id="41774-215">Upgrade will not delete old log files, the obsolete RSWebApplication.config file, or virtual directory settings in IIS.</span></span> <span data-ttu-id="41774-216">升级不会删除 SQL Server 2005 报表设计器、Management Studio 或其他客户端工具。</span><span class="sxs-lookup"><span data-stu-id="41774-216">Upgrade will not remove SQL Server 2005 Report Designer, Management Studio, or other client tools.</span></span> <span data-ttu-id="41774-217">如果不再需要它们，请确保在升级完成后删除这些文件和工具。</span><span class="sxs-lookup"><span data-stu-id="41774-217">If you no longer require them, be sure to remove these files and tools after upgrade is finished.</span></span>

 <span data-ttu-id="41774-218">**迁移：** 对于本文前面列出的所有支持的版本，将以前版本的本机模式安装迁移到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 的步骤是相同的。</span><span class="sxs-lookup"><span data-stu-id="41774-218">**Migration:** Migrating a previous version of a native mode installation to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is the same steps for all of the supported s versions that are listed earlier in this topic.</span></span> <span data-ttu-id="41774-219">有关详细信息，请参阅 [迁移 Reporting Services 安装（本机模式）](../../reporting-services/install-windows/migrate-a-reporting-services-installation-native-mode.md)</span><span class="sxs-lookup"><span data-stu-id="41774-219">For more information, see [Migrate a Reporting Services Installation &#40;Native Mode&#41;](../../reporting-services/install-windows/migrate-a-reporting-services-installation-native-mode.md)</span></span>

 <span data-ttu-id="41774-220">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-220">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="upgrade-a-reporting-services-native-mode-scale-out-deployment"></a><a name="bkmk_native_scaleout"></a> <span data-ttu-id="41774-221">升级 Reporting Services 本机模式扩展部署</span><span class="sxs-lookup"><span data-stu-id="41774-221">Upgrade a Reporting Services Native Mode Scale-out Deployment</span></span>
 <span data-ttu-id="41774-222">下面概述了如何升级扩展为多个报表服务器的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 本机模式部署。</span><span class="sxs-lookup"><span data-stu-id="41774-222">The following is a summary of how to upgrade a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode deployment that is scaled-out to more than one report server.</span></span> <span data-ttu-id="41774-223">此过程需要 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 部署停机：</span><span class="sxs-lookup"><span data-stu-id="41774-223">This process requires downtime of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] deployment:</span></span>

1.  <span data-ttu-id="41774-224">备份报表服务器数据库和加密密钥。</span><span class="sxs-lookup"><span data-stu-id="41774-224">Backup the report server databases and encryption keys.</span></span> <span data-ttu-id="41774-225">有关详细信息，请参阅 [Reporting Services 的备份和还原操作](../../reporting-services/install-windows/backup-and-restore-operations-for-reporting-services.md)和[添加和删除横向扩展部署的加密密钥（SSRS 配置管理器）](../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-225">For more information, see [Backup and Restore Operations for Reporting Services](../../reporting-services/install-windows/backup-and-restore-operations-for-reporting-services.md) and [Add and Remove Encryption Keys for Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/add-and-remove-encryption-keys-for-scale-out-deployment.md).</span></span>

2.  <span data-ttu-id="41774-226">使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器，从扩展部署中删除所有报表服务器。</span><span class="sxs-lookup"><span data-stu-id="41774-226">Use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager and remove all of the report servers from the scaled-out deployment.</span></span> <span data-ttu-id="41774-227">有关详细信息，请参阅[配置本机模式报表服务器扩展部署（SSRS 配置管理器）](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-227">For more information, see [Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md).</span></span>

3.  <span data-ttu-id="41774-228">将一台报表服务器升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="41774-228">Upgrade one of the report servers to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>

4.  <span data-ttu-id="41774-229">使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器，将报表服务器重新添加到扩展部署。</span><span class="sxs-lookup"><span data-stu-id="41774-229">Use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to add the report servers back to the scale-out deployment.</span></span> <span data-ttu-id="41774-230">有关详细信息，请参阅[配置本机模式报表服务器扩展部署（SSRS 配置管理器）](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-230">For more information, see [Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md).</span></span>

     <span data-ttu-id="41774-231">对于每个服务器，重复升级和扩展步骤。</span><span class="sxs-lookup"><span data-stu-id="41774-231">For each server, repeat the upgrade and Scale-out steps.</span></span>

##  <a name="sharepoint-mode-upgrade-and-migration-scenarios"></a><a name="bkmk_sharePoint_scenarios"></a> <span data-ttu-id="41774-232">SharePoint 模式升级和迁移方案</span><span class="sxs-lookup"><span data-stu-id="41774-232">SharePoint Mode Upgrade and Migration Scenarios</span></span>
 <span data-ttu-id="41774-233">以下部分介绍从 sharepoint 模式的指定版本升级或迁移 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] sharepoint 模式所需的问题和基本步骤 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="41774-233">The following sections describe the issues and basic steps needed to upgrade or migrate from specified versions of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode.</span></span>

 <span data-ttu-id="41774-234">有两种升级 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式部署的安装组件。</span><span class="sxs-lookup"><span data-stu-id="41774-234">There are two installation components to upgrade a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint Mode deployment.</span></span>

-   [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="41774-235">SharePoint 共享服务。</span><span class="sxs-lookup"><span data-stu-id="41774-235">SharePoint Shared Service.</span></span>

    > [!TIP]
    >  <span data-ttu-id="41774-236">使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint cmdlet `Get-SPRSServiceApplicationServers` 确定 SharePoint 场中当前运行 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 共享服务并因此需要升级的服务器。</span><span class="sxs-lookup"><span data-stu-id="41774-236">Use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint cmdlet `Get-SPRSServiceApplicationServers` to determine servers in the SharePoint farm that are currently running the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint Shared Service and therefore require an upgrade.</span></span>

-   [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="41774-237">用于 SharePoint 产品的外接程序。</span><span class="sxs-lookup"><span data-stu-id="41774-237">Add-in for SharePoint products.</span></span> <span data-ttu-id="41774-238">有关详细信息，请参阅[安装或卸载用于 sharepoint 的 Reporting Services 外接程序 &#40;sharepoint 2010 和 sharepoint 2013&#41;](install-or-uninstall-the-reporting-services-add-in-for-sharepoint.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-238">For more information, see [Install or Uninstall the Reporting Services Add-in for SharePoint &#40;SharePoint 2010 and SharePoint 2013&#41;](install-or-uninstall-the-reporting-services-add-in-for-sharepoint.md).</span></span>

 <span data-ttu-id="41774-239">有关迁移 SharePoint 模式安装的详细步骤，请参阅[迁移 Reporting Services 安装（SharePoint 模式）](../../reporting-services/install-windows/migrate-a-reporting-services-installation-sharepoint-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-239">For detailed steps on Migrating a SharePoint mode installation, see [Migrate a Reporting Services Installation &#40;SharePoint Mode&#41;](../../reporting-services/install-windows/migrate-a-reporting-services-installation-sharepoint-mode.md).</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="41774-240">由于需要升级不同技术，下面的某些方案将需要将 SharePoint 环境停止运行。</span><span class="sxs-lookup"><span data-stu-id="41774-240">Some of the following scenarios require down time of the SharePoint environment due to the different technologies that need to be upgraded.</span></span> <span data-ttu-id="41774-241">如果您的情况不允许停机，则需要完成迁移，而非就地升级。</span><span class="sxs-lookup"><span data-stu-id="41774-241">If your situation does not allow for down time, you will need to complete a migration instead of an in-place upgrade.</span></span>

### <a name="sssql11-to-sssql14"></a>[!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] <span data-ttu-id="41774-242">至 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="41774-242">to [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span></span>
 <span data-ttu-id="41774-243">**正在启动环境：** [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]或 [!INCLUDE[ssSQL11SP1](../../includes/sssql11sp1-md.md)] .，SharePoint 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-243">**Starting environment:** [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or [!INCLUDE[ssSQL11SP1](../../includes/sssql11sp1-md.md)]., SharePoint 2010.</span></span>

 <span data-ttu-id="41774-244">**结束环境：** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]、SharePoint 2010 或 SharePoint 2013。</span><span class="sxs-lookup"><span data-stu-id="41774-244">**Ending environment:** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], SharePoint 2010 or SharePoint 2013.</span></span>

-   <span data-ttu-id="41774-245">**SharePoint 2010：** 支持就地升级 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，但此升级方案需要 SharePoint 环境停机。</span><span class="sxs-lookup"><span data-stu-id="41774-245">**SharePoint 2010:** In-place upgrade of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] is supported but the upgrade scenario does require down time of the SharePoint environment.</span></span>

     <span data-ttu-id="41774-246">如果您还希望结束环境运行 SharePoint 2013，则需完成 SharePoint 2010 到 SharePoint 2013 的数据库附加升级。</span><span class="sxs-lookup"><span data-stu-id="41774-246">If you also want the ending environment to run SharePoint 2013, you need to complete a database-attach upgrade of the SharePoint 2010 to SharePoint 2013.</span></span>

-   <span data-ttu-id="41774-247">**SharePoint 2013：** SharePoint 2013 不支持从 SharePoint 2010 就地升级。</span><span class="sxs-lookup"><span data-stu-id="41774-247">**SharePoint 2013:** SharePoint 2013 does not support in-place upgrade from SharePoint 2010.</span></span> <span data-ttu-id="41774-248">但是支持 **数据库附加升级**  过程。</span><span class="sxs-lookup"><span data-stu-id="41774-248">However the procedure of **database-attach upgrade**  is supported.</span></span> <span data-ttu-id="41774-249">该行为不同于升级到 SharePoint 2010，在后者，客户可以在两个基本的升级方法（就地升级和数据库附加升级）之间进行选择。</span><span class="sxs-lookup"><span data-stu-id="41774-249">The behavior is different from upgrading to SharePoint 2010, where a customer could choose between the two basic upgrade approaches, in-place upgrade and database-attach upgrade.</span></span>

     <span data-ttu-id="41774-250">如果您具有与 SharePoint 2010 相集成的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 安装，则不能就地升级 SharePoint 服务器。</span><span class="sxs-lookup"><span data-stu-id="41774-250">If you have a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation integrated with SharePoint 2010, you cannot upgrade in-place the SharePoint server.</span></span> <span data-ttu-id="41774-251">不过，您可以将内容数据库和服务应用程序数据库从 SharePoint 2010 场迁移到 SharePoint 2013 场。</span><span class="sxs-lookup"><span data-stu-id="41774-251">However you can migrate content databases and service application databases from the SharePoint 2010 farm to a SharePoint 2013 farm.</span></span>

### <a name="sskilimanjaro-to-sssql14"></a>[!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] <span data-ttu-id="41774-252">至 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="41774-252">to [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span></span>
 <span data-ttu-id="41774-253">**起始环境：** SQL Server 2008 R2、SharePoint 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-253">**Starting environment:** SQL Server 2008 R2, SharePoint 2010.</span></span>

 <span data-ttu-id="41774-254">**结束环境：** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]、SharePoint 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-254">**Ending environment:** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], SharePoint 2010.</span></span>

-   <span data-ttu-id="41774-255">支持就地升级，并且不会停止 SharePoint 环境的运行。</span><span class="sxs-lookup"><span data-stu-id="41774-255">In-place upgrade is supported and there is no down time for your SharePoint environment.</span></span>

-   <span data-ttu-id="41774-256">在场中的每个 Web 前端上安装用于 SharePoint 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 外接程序的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 版本。</span><span class="sxs-lookup"><span data-stu-id="41774-256">Install the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] add-in for SharePoint on each web front-end in the farm.</span></span> <span data-ttu-id="41774-257">您可以通过使用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装向导或通过下载外接程序安装该外接程序。</span><span class="sxs-lookup"><span data-stu-id="41774-257">You can install the add-in by using the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] installation wizard or by downloading the add-in.</span></span>

-   <span data-ttu-id="41774-258">运行 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装以升级每个 "Report Server" 的 SharePoint 模式。SQL Server 安装向导将安装 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务并创建新的服务应用程序。</span><span class="sxs-lookup"><span data-stu-id="41774-258">Run [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] installation to upgrade SharePoint mode for each 'report server'.The SQL Server installation wizard will install the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Service and create a new Service application.</span></span>

     <span data-ttu-id="41774-259">如果您还希望结束环境运行 SharePoint 2013，则需完成 SharePoint 2010 到 SharePoint 2013 的数据库附加升级。</span><span class="sxs-lookup"><span data-stu-id="41774-259">If you also want the ending environment to run SharePoint 2013, you need to complete a database-attach upgrade of the SharePoint 2010 to SharePoint 2013.</span></span>

 <span data-ttu-id="41774-260">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-260">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

### <a name="sskatmai-sp2-to-sssql14"></a>[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] <span data-ttu-id="41774-261">SP2 至 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="41774-261">SP2 to [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span></span>
 <span data-ttu-id="41774-262">**起始环境：** [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] SP2、SharePoint 2007。</span><span class="sxs-lookup"><span data-stu-id="41774-262">**Starting environment:** [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] SP2, SharePoint 2007.</span></span>

 <span data-ttu-id="41774-263">**结束环境：** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]、SharePoint 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-263">**Ending environment:** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], SharePoint 2010.</span></span>

-   <span data-ttu-id="41774-264">此就地升级方案要求停止 SharePoint 环境的运行，因为 SharePoint 和 SQL Server 技术都需要升级。</span><span class="sxs-lookup"><span data-stu-id="41774-264">This in-place upgrade scenario does require down time of the SharePoint environment because both the SharePoint and SQL Server technologies need to be upgraded.</span></span> <span data-ttu-id="41774-265">您可能要考虑完成迁移，而不是就地升级。</span><span class="sxs-lookup"><span data-stu-id="41774-265">You may want to consider completing a migration rather than an in-place upgrade.</span></span>

-   <span data-ttu-id="41774-266">如果尚未完成，请首先将 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 升级到 Service Pack 2 (SP2)。</span><span class="sxs-lookup"><span data-stu-id="41774-266">Upgrade [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] to Service Pack 2 (SP2) first, if that has not already been completed.</span></span>

-   <span data-ttu-id="41774-267">将 SharePoint 升级到 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-267">Upgrade SharePoint to 2010.</span></span> <span data-ttu-id="41774-268">当您运行 SharePoint 2010 必备安装程序时，它将升级用于 SharePoint 2010 产品的 Reporting Services 外接程序。</span><span class="sxs-lookup"><span data-stu-id="41774-268">When you run the SharePoint 2010 prerequisite installer it will upgrade the Reporting Services add-in for SharePoint 2010 products.</span></span>

-   <span data-ttu-id="41774-269">在所有 SharePoint Web 前端上都安装用于 SharePoint 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 外接程序的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 版本。</span><span class="sxs-lookup"><span data-stu-id="41774-269">Install the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] add-in for SharePoint on all SharePoint web front-ends.</span></span> <span data-ttu-id="41774-270">该 SharePoint 必备安装程序安装了该外接程序的 SQL Server 2008 R2 版本，但您需要 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 版本以便与 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 报表服务器配合使用。</span><span class="sxs-lookup"><span data-stu-id="41774-270">The SharePoint pre-requisite installer installed the SQL Server 2008 R2 version of the add-in but you need the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version to work with a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server.</span></span>

-   > [!WARNING]
    >  <span data-ttu-id="41774-271">在执行了 SharePoint 升级后，您的 Reporting Services 环境将在升级 SQL Server 前处于非工作状态。</span><span class="sxs-lookup"><span data-stu-id="41774-271">Following the SharePoint upgrade your reporting services environment will be in a non-working state until SQL Server is upgraded.</span></span>

-   <span data-ttu-id="41774-272">将 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="41774-272">Upgrade [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="41774-273">在您运行 SQL Server 安装向导时，将会看到 **“SQL Server Reporting Services SharePoint 模式身份验证”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="41774-273">When you run the SQL server installation wizard, you will a dialog regarding "**SQL Server Reporting Services SharePoint Mode Authentication**" dialog.</span></span> <span data-ttu-id="41774-274">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务将被安装，并且来自身份验证页的凭据将用于创建新的 SharePoint 应用程序池。</span><span class="sxs-lookup"><span data-stu-id="41774-274">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service will be installed and the credentials from the authentication page will be used for creating a new SharePoint application pool.</span></span>

 <span data-ttu-id="41774-275">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-275">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

### <a name="sql-server-2005-sp2-to-sssql14"></a><span data-ttu-id="41774-276">SQL Server 2005 SP2 至 </span><span class="sxs-lookup"><span data-stu-id="41774-276">SQL Server 2005 SP2 to [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span></span>
 <span data-ttu-id="41774-277">**起始环境：** SQL Server 2005 SP2、SharePoint 2007。</span><span class="sxs-lookup"><span data-stu-id="41774-277">**Starting environment:** SQL Server 2005 SP2, SharePoint 2007.</span></span>

 <span data-ttu-id="41774-278">**结束环境：** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]、SharePoint 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-278">**Ending environment:** [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], SharePoint 2010.</span></span>

-   <span data-ttu-id="41774-279">此就地升级方案要求停止 SharePoint 环境的运行，因为 SharePoint 和 SQL Server 技术都需要升级。</span><span class="sxs-lookup"><span data-stu-id="41774-279">This in-place upgrade scenario does require down time of the SharePoint environment because both the SharePoint and SQL Server technologies need to be upgraded.</span></span> <span data-ttu-id="41774-280">您可能要考虑完成迁移，而不是就地升级。</span><span class="sxs-lookup"><span data-stu-id="41774-280">You may want to consider completing a migration rather than an in-place upgrade.</span></span>

-   <span data-ttu-id="41774-281">如果尚未完成，请首先将 SQL Server 2005 升级到 Service Pack 2 (SP2)。</span><span class="sxs-lookup"><span data-stu-id="41774-281">Upgrade SQL server 2005 to Service Pack 2 (SP2) first, if that has not already been completed.</span></span>

-   <span data-ttu-id="41774-282">将 SharePoint 升级到 SharePoint 2010。</span><span class="sxs-lookup"><span data-stu-id="41774-282">Upgrade SharePoint to SharePoint 2010.</span></span> <span data-ttu-id="41774-283">当您运行 SharePoint 2010 必备安装程序时，它将升级用于 SharePoint 2010 产品的 Reporting Services 外接程序。</span><span class="sxs-lookup"><span data-stu-id="41774-283">When you run the SharePoint 2010 prerequisite installer it will upgrade the Reporting Services add-in for SharePoint 2010 products.</span></span>

-   > [!WARNING]
    >  <span data-ttu-id="41774-284">在执行了 SharePoint 升级后，您的 Reporting Services 环境将在升级 SQL Server 前处于非工作状态。</span><span class="sxs-lookup"><span data-stu-id="41774-284">Following the SharePoint upgrade your reporting services environment will be in a non-working state until SQL Server is upgraded.</span></span>

-   <span data-ttu-id="41774-285">在所有 SharePoint Web 前端上都安装用于 SharePoint 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 外接程序的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 版本。</span><span class="sxs-lookup"><span data-stu-id="41774-285">Install the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] add-in for SharePoint on all SharePoint web front-ends.</span></span> <span data-ttu-id="41774-286">该 SharePoint 必备安装程序安装了该外接程序的 SQL Server 2008 R2 版本，但您需要 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 版本以便与 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 报表服务器配合使用。</span><span class="sxs-lookup"><span data-stu-id="41774-286">The SharePoint pre-requisite installer installed the SQL Server 2008 R2 version of the add-in but you need the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] version to work with a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server.</span></span>

-   <span data-ttu-id="41774-287">将 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="41774-287">Upgrade [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="41774-288">在您运行 SQL Server 安装向导时，将会看到“SQL Server Reporting Services SharePoint 模式身份验证”对话框。</span><span class="sxs-lookup"><span data-stu-id="41774-288">When you run the SQL server installation wizard, you will a dialog regarding "SQL Server Reporting Services SharePoint Mode Authentication" dialog.</span></span> <span data-ttu-id="41774-289">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务将被安装，并且来自身份验证页的凭据将用于创建新的 SharePoint 应用程序池。</span><span class="sxs-lookup"><span data-stu-id="41774-289">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service will be installed and the credentials from the authentication page will be used for creating a new SharePoint application pool.</span></span>

 <span data-ttu-id="41774-290">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-290">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="considerations-for-a-migration"></a><a name="bkmk_migration_considerations"></a> <span data-ttu-id="41774-291">迁移注意事项</span><span class="sxs-lookup"><span data-stu-id="41774-291">Considerations for a Migration</span></span>
 <span data-ttu-id="41774-292">移动应用程序数据时，应注意下列事项和约束：</span><span class="sxs-lookup"><span data-stu-id="41774-292">When moving application data, you should be aware of the following concerns and restrictions:</span></span>

-   <span data-ttu-id="41774-293">加密密钥的保护包括一个合并计算机标识的哈希。</span><span class="sxs-lookup"><span data-stu-id="41774-293">Protection of encryption key includes a hash that incorporates machine identity.</span></span>

-   <span data-ttu-id="41774-294">报表服务器数据库名称将固定，并且无法在新计算机上重命名。</span><span class="sxs-lookup"><span data-stu-id="41774-294">Report server database names are fixed and cannot be renamed on new computer.</span></span>

### <a name="encryption-key-considerations"></a><span data-ttu-id="41774-295">加密密钥注意事项</span><span class="sxs-lookup"><span data-stu-id="41774-295">Encryption Key Considerations</span></span>
 <span data-ttu-id="41774-296">将报表服务器数据库移到新计算机之前始终备份加密密钥。</span><span class="sxs-lookup"><span data-stu-id="41774-296">Always back up the encryption keys before moving a report server database to a new computer.</span></span>

 <span data-ttu-id="41774-297">将报表服务器安装移到另一台计算机会使保护加密密钥（这些加密密钥用于为报表服务器数据库中存储的敏感数据提供安全保障）的哈希无效。</span><span class="sxs-lookup"><span data-stu-id="41774-297">Moving a report server installation to another computer will invalidate the hash that protects the encryption keys used to help secure sensitive data stored in the report server database.</span></span> <span data-ttu-id="41774-298">使用该数据库的每个报表服务器实例都有其加密密钥副本，在当前计算机对其定义时将使用服务帐户的标识对其进行加密。</span><span class="sxs-lookup"><span data-stu-id="41774-298">Each report server instance that uses the database has its copy of the encryption key, which is encrypted with the identity of the service account as it is defined on the current computer.</span></span> <span data-ttu-id="41774-299">如果更改计算机，则即使在新计算机上使用同一帐户名称，服务也无法访问其密钥。</span><span class="sxs-lookup"><span data-stu-id="41774-299">If you change computers, the service will no longer have access to its key, even if you use the same account name on the new computer.</span></span>

 <span data-ttu-id="41774-300">若要在新的报表服务器计算机上重新建立可逆加密，必须还原先前备份的密钥。</span><span class="sxs-lookup"><span data-stu-id="41774-300">To re-establish reversible encryption on the new report server computer, you must restore the key that you previously backed up.</span></span> <span data-ttu-id="41774-301">报表服务器数据库中存储的完整密钥集由对称密钥值和服务标识信息组成，后者用于限制密钥的访问，使密钥仅可供存储它的报表服务器实例使用。</span><span class="sxs-lookup"><span data-stu-id="41774-301">The complete key set that is stored in the report server database consists of a symmetric key value, plus service identity information used to restrict access to the key so that it can be used only by the report server instance that stored it.</span></span> <span data-ttu-id="41774-302">在密钥还原过程中，报表服务器将用密钥的新版本替换密钥的现有副本。</span><span class="sxs-lookup"><span data-stu-id="41774-302">During key restoration, the report server replaces existing copies of the key with new versions.</span></span> <span data-ttu-id="41774-303">新版本包括当前计算机上定义的计算机标识值和服务标识值。</span><span class="sxs-lookup"><span data-stu-id="41774-303">The new version includes machine and service identity values as defined on the current computer.</span></span> <span data-ttu-id="41774-304">有关详情，请参阅以下主题：</span><span class="sxs-lookup"><span data-stu-id="41774-304">For more information, see the following topics:</span></span>

-   <span data-ttu-id="41774-305">SharePoint 模式：请参阅[管理 Reporting Services SharePoint 服务应用程序](../../../2014/reporting-services/manage-a-reporting-services-sharepoint-service-application.md)的“密钥管理”部分</span><span class="sxs-lookup"><span data-stu-id="41774-305">SharePoint mode: See the "Key Management" section of [Manage a Reporting Services SharePoint Service Application](../../../2014/reporting-services/manage-a-reporting-services-sharepoint-service-application.md)</span></span>

-   <span data-ttu-id="41774-306">本机模式：请参阅[备份和还原 Reporting Services 加密密钥](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)</span><span class="sxs-lookup"><span data-stu-id="41774-306">Native Mode: See [Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)</span></span>

 <span data-ttu-id="41774-307">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-307">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

### <a name="fixed-database-name"></a><span data-ttu-id="41774-308">固定数据库名称</span><span class="sxs-lookup"><span data-stu-id="41774-308">Fixed Database Name</span></span>
 <span data-ttu-id="41774-309">不能重命名报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="41774-309">You cannot rename the report server database.</span></span> <span data-ttu-id="41774-310">创建数据库时，数据库的标识将记录在报表服务器存储过程中。</span><span class="sxs-lookup"><span data-stu-id="41774-310">The identity of the database is recorded in report server stored procedures when the database is created.</span></span> <span data-ttu-id="41774-311">重命名报表服务器主数据库或临时数据库会在过程运行时导致出现错误，从而使报表服务器安装无效。</span><span class="sxs-lookup"><span data-stu-id="41774-311">Renaming either the report server primary or temporary databases will cause errors to occur when the procedures run, invalidating your report server installation.</span></span>

 <span data-ttu-id="41774-312">如果现有安装的数据库名称不适合新安装，应考虑创建一个具有您所选名称的新数据库，然后使用下面列出的技术加载现有应用程序数据：</span><span class="sxs-lookup"><span data-stu-id="41774-312">If the database name from the existing installation is not suited for the new installation, you should consider creating a new database that has the name that you prefer, and then load existing application data using the techniques in the following list:</span></span>

-   <span data-ttu-id="41774-313">编写调用报表服务器 Web 服务 SOAP 方法的 [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] 脚本，以在各数据库之间复制数据。</span><span class="sxs-lookup"><span data-stu-id="41774-313">Write a [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] script that calls Report Server Web service SOAP methods to copy data between databases.</span></span> <span data-ttu-id="41774-314">可以使用 RS.exe 实用工具来运行该脚本。</span><span class="sxs-lookup"><span data-stu-id="41774-314">You can use the RS.exe utility to run the script.</span></span> <span data-ttu-id="41774-315">有关这种方法的详细信息，请参阅 [脚本编写和带 Reporting Services 的 PowerShell](../tools/scripting-and-powershell-with-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-315">For more information about this approach, see [Scripting and PowerShell with Reporting Services](../tools/scripting-and-powershell-with-reporting-services.md).</span></span>

-   <span data-ttu-id="41774-316">编写调用 WMI 提供程序的代码，以在各数据库之间复制数据。</span><span class="sxs-lookup"><span data-stu-id="41774-316">Write code that calls the WMI provider to copy data between databases.</span></span> <span data-ttu-id="41774-317">有关这种方法的详细信息，请参阅 [访问 Reporting Services WMI 提供程序](../tools/access-the-reporting-services-wmi-provider.md)。</span><span class="sxs-lookup"><span data-stu-id="41774-317">For more information about this approach, see [Access the Reporting Services WMI Provider](../tools/access-the-reporting-services-wmi-provider.md).</span></span>

-   <span data-ttu-id="41774-318">如果仅有少量项，则可以将报表、报表模型以及共享数据源从报表设计器、模型设计器和报表生成器重新发布到新的报表服务器。</span><span class="sxs-lookup"><span data-stu-id="41774-318">If you have just a few items, you can republish reports, report models, and shared data sources from Report Designer, Model Designer, and Report Builder to the new report server.</span></span> <span data-ttu-id="41774-319">必须重新创建角色分配、订阅、共享计划、报表快照计划、对报表或其他项设置的自定义属性、模型项安全性以及对报表服务器设置的属性。</span><span class="sxs-lookup"><span data-stu-id="41774-319">You must re-create role assignments, subscriptions, shared schedules, report snapshot schedules, custom properties that you set on reports or other items, model item security, and properties that you set on the report server.</span></span> <span data-ttu-id="41774-320">您将丢失报表历史记录和报表执行日志数据。</span><span class="sxs-lookup"><span data-stu-id="41774-320">You will lose report history and report execution log data.</span></span>

 <span data-ttu-id="41774-321">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-321">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

##  <a name="additional-resources"></a><a name="bkmk_additional_resources"></a> <span data-ttu-id="41774-322">其他资源</span><span class="sxs-lookup"><span data-stu-id="41774-322">Additional Resources</span></span>

> [!NOTE]
>  <span data-ttu-id="41774-323">有关 SharePoint 数据库附加升级的详细信息，请参阅下列文章：</span><span class="sxs-lookup"><span data-stu-id="41774-323">For more information on SharePoint database-attach upgrade, see the following:</span></span>

-   <span data-ttu-id="41774-324">[SharePoint 2013 (升级过程概述](https://go.microsoft.com/fwlink/p/?LinkId=256688) https://go.microsoft.com/fwlink/p/?LinkId=256688) 。</span><span class="sxs-lookup"><span data-stu-id="41774-324">[Overview of the upgrade process to SharePoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256688) (https://go.microsoft.com/fwlink/p/?LinkId=256688).</span></span>

-   <span data-ttu-id="41774-325">[升级到 SharePoint 2013 (之前进行清理准备](https://go.microsoft.com/fwlink/p/?LinkId=256689) https://go.microsoft.com/fwlink/p/?LinkId=256689) 。</span><span class="sxs-lookup"><span data-stu-id="41774-325">[Clean up preparations before an upgrade to SharePoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256689) (https://go.microsoft.com/fwlink/p/?LinkId=256689).</span></span>

-   <span data-ttu-id="41774-326">[将数据库从 sharepoint 2010 升级到 sharepoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256690) (https://go.microsoft.com/fwlink/p/?LinkId=256690) 。</span><span class="sxs-lookup"><span data-stu-id="41774-326">[Upgrade databases from SharePoint 2010 to SharePoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256690) (https://go.microsoft.com/fwlink/p/?LinkId=256690).</span></span>

 <span data-ttu-id="41774-327">[本主题中与 "](#bkmk_top) ![返回页首" 链接一起使用的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")：</span><span class="sxs-lookup"><span data-stu-id="41774-327">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [In this topic:](#bkmk_top)</span></span>

## <a name="see-also"></a><span data-ttu-id="41774-328">另请参阅</span><span class="sxs-lookup"><span data-stu-id="41774-328">See Also</span></span>
 <span data-ttu-id="41774-329">[升级报表](../../reporting-services/install-windows/upgrade-reports.md)[将使用安装向导 &#40;安装程序升级到 SQL Server 2014&#41;](../../database-engine/install-windows/upgrade-sql-server-using-the-installation-wizard-setup.md)</span><span class="sxs-lookup"><span data-stu-id="41774-329">[Upgrade Reports](../../reporting-services/install-windows/upgrade-reports.md) [Upgrade to SQL Server 2014 Using the Installation Wizard &#40;Setup&#41;](../../database-engine/install-windows/upgrade-sql-server-using-the-installation-wizard-setup.md)</span></span>


