---
title: 迁移 Reporting Services 安装（本机模式）| Microsoft Docs
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.custom: ''
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.date: 08/10/2017
ms.openlocfilehash: 7b809028e0996bfd3849fe2e1011f8633817662c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87694322"
---
# <a name="migrate-a-reporting-services-installation-native-mode"></a><span data-ttu-id="7a878-102">迁移 Reporting Services 安装（本机模式）</span><span class="sxs-lookup"><span data-stu-id="7a878-102">Migrate a Reporting Services Installation (Native Mode)</span></span>

  <span data-ttu-id="7a878-103">本主题提供有关将以下受支持版本的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 本机模式部署迁移到新实例的分步说明 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ：</span><span class="sxs-lookup"><span data-stu-id="7a878-103">This topic provides step-by-step instructions for migrating one of the following supported versions of a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] native mode deployment to a new [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] instance:</span></span>  
  
-   [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]  
  
-   [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)]  
  
-   [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]  
  
-   [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="7a878-104">(需要更多步骤，请参阅[不能使用 SQL Server 2005 来承载 Report Server 2014 数据库](https://support.microsoft.com/kb/2796721)。</span><span class="sxs-lookup"><span data-stu-id="7a878-104">(Requires more steps, see [You cannot use SQL Server 2005 to host Report Server 2014 Databases](https://support.microsoft.com/kb/2796721).</span></span>  
  
||  
|-|  
|<span data-ttu-id="7a878-105">**[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]本机模式。</span><span class="sxs-lookup"><span data-stu-id="7a878-105">**[!INCLUDE[applies](../../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode.</span></span>|  
  
 <span data-ttu-id="7a878-106">有关迁移 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式部署的信息，请参阅 [迁移 Reporting Services 安装（SharePoint 模式）](migrate-a-reporting-services-installation-sharepoint-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-106">For information on migrating a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode deployment, see [Migrate a Reporting Services Installation &#40;SharePoint Mode&#41;](migrate-a-reporting-services-installation-sharepoint-mode.md).</span></span>  
  
 <span data-ttu-id="7a878-107">迁移是指将应用程序数据文件移到新的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="7a878-107">Migration is defined as moving application data files to a new [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] instance.</span></span> <span data-ttu-id="7a878-108">下面是必须迁移您的安装的常见原因：</span><span class="sxs-lookup"><span data-stu-id="7a878-108">The following are common reasons you must migrate your installation:</span></span>  
  
-   <span data-ttu-id="7a878-109">您具有大规模部署或正常运行时间要求。</span><span class="sxs-lookup"><span data-stu-id="7a878-109">You have a large-scale deployment or uptime requirements.</span></span>  
  
-   <span data-ttu-id="7a878-110">您在更改安装的硬件或拓扑。</span><span class="sxs-lookup"><span data-stu-id="7a878-110">You are changing the hardware or topology of your installation.</span></span>  
  
-   <span data-ttu-id="7a878-111">您遇到了阻止升级的问题。</span><span class="sxs-lookup"><span data-stu-id="7a878-111">You encounter an issue that blocks upgrade.</span></span>  
  
##  <a name="native-mode-migration-overview"></a><a name="bkmk_nativemode_migration_overview"></a> <span data-ttu-id="7a878-112">本机模式迁移概述</span><span class="sxs-lookup"><span data-stu-id="7a878-112">Native Mode Migration Overview</span></span>  
 <span data-ttu-id="7a878-113">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 的迁移过程包括手动步骤和自动步骤。</span><span class="sxs-lookup"><span data-stu-id="7a878-113">The migration process for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] includes manual and automated steps.</span></span> <span data-ttu-id="7a878-114">报表服务器迁移包括以下任务：</span><span class="sxs-lookup"><span data-stu-id="7a878-114">The following tasks are part of a report server migration:</span></span>  
  
-   <span data-ttu-id="7a878-115">备份数据库、应用程序和配置文件。</span><span class="sxs-lookup"><span data-stu-id="7a878-115">Back up database, application, and configuration files.</span></span>  
  
-   <span data-ttu-id="7a878-116">备份加密密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-116">Back up the encryption key.</span></span>  
  
-   <span data-ttu-id="7a878-117">安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]的新实例。</span><span class="sxs-lookup"><span data-stu-id="7a878-117">Install a new instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="7a878-118">如果使用相同硬件，且现有安装是受支持的版本之一，则可以并行安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7a878-118">If you are using the same hardware, you can install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] side-by-side with your existing installation if it was one of the supported versions.</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="7a878-119">并行安装可能需要您将 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 作为命名实例安装。</span><span class="sxs-lookup"><span data-stu-id="7a878-119">A side-by-side installation may require that you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] as a named instance.</span></span>  
  
-   <span data-ttu-id="7a878-120">将报表服务器数据库和其他应用程序文件从现有安装移到新的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装中。</span><span class="sxs-lookup"><span data-stu-id="7a878-120">Move the report server database and other application files from your existing installation to your new [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] installation.</span></span>  
  
-   <span data-ttu-id="7a878-121">将任何自定义应用程序文件移到新安装中。</span><span class="sxs-lookup"><span data-stu-id="7a878-121">Move any custom application files to the new installation.</span></span>  
  
-   <span data-ttu-id="7a878-122">配置报表服务器。</span><span class="sxs-lookup"><span data-stu-id="7a878-122">Configure the report server.</span></span>  
  
-   <span data-ttu-id="7a878-123">编辑 **RSReportServer.config** ，使其包括先前安装中的任何自定义设置。</span><span class="sxs-lookup"><span data-stu-id="7a878-123">Edit **RSReportServer.config** to include any custom settings from your previous installation.</span></span>  
  
-   <span data-ttu-id="7a878-124">或者，为新的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Windows 服务组配置自定义访问控制列表 (ACL)。</span><span class="sxs-lookup"><span data-stu-id="7a878-124">Optionally, configure custom Access Control Lists (ACLs) for the new [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Windows service group.</span></span>  
  
-   <span data-ttu-id="7a878-125">在确认新实例完全正常之后，删除未使用的应用程序和工具。</span><span class="sxs-lookup"><span data-stu-id="7a878-125">Remove unused applications and tools after you have confirmed that the new instance is fully operational.</span></span>  
  
 <span data-ttu-id="7a878-126">对于承载报表服务器数据库的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本存在限制。</span><span class="sxs-lookup"><span data-stu-id="7a878-126">There are restrictions on the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that host the report server database.</span></span> <span data-ttu-id="7a878-127">如果您在重复使用在以前安装中已创建的报表服务器数据库，请查看以下文章。</span><span class="sxs-lookup"><span data-stu-id="7a878-127">Review the following topic if you are reusing a report server database that was created in a previous installation.</span></span>  
  
-   [<span data-ttu-id="7a878-128">创建报表服务器数据库（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="7a878-128">Create a Report Server Database  &#40;SSRS Configuration Manager&#41;</span></span>](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md)  
  
##  <a name="fixed-database-name"></a><a name="bkmk_fixed_database_name"></a> <span data-ttu-id="7a878-129">固定数据库名称</span><span class="sxs-lookup"><span data-stu-id="7a878-129">Fixed Database Name</span></span>  
 <span data-ttu-id="7a878-130">不能重命名报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="7a878-130">You cannot rename the report server database.</span></span> <span data-ttu-id="7a878-131">创建数据库时，数据库的标识将记录在报表服务器存储过程中。</span><span class="sxs-lookup"><span data-stu-id="7a878-131">The identity of the database is recorded in report server stored procedures when the database is created.</span></span> <span data-ttu-id="7a878-132">重命名报表服务器主数据库或临时数据库会在过程运行时导致错误，从而使报表服务器安装无效。</span><span class="sxs-lookup"><span data-stu-id="7a878-132">Renaming either the report server primary or temporary databases causes errors when the procedures run, invalidating your report server installation.</span></span>  
  
 <span data-ttu-id="7a878-133">如果现有安装的数据库名称不适合新安装，应考虑创建一个具有名称的新数据库，然后使用下面列出的技术加载现有应用程序数据：</span><span class="sxs-lookup"><span data-stu-id="7a878-133">If the database name from the existing installation is not suited for the new installation, you should consider creating a new database that has the name, and then load existing application data using the techniques in the following list:</span></span>  
  
-   <span data-ttu-id="7a878-134">编写调用报表服务器 Web 服务 SOAP 方法的 [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] 脚本，以在各数据库之间复制数据。</span><span class="sxs-lookup"><span data-stu-id="7a878-134">Write a [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] script that calls Report Server Web service SOAP methods to copy data between databases.</span></span> <span data-ttu-id="7a878-135">可以使用 RS.exe 实用工具来运行该脚本。</span><span class="sxs-lookup"><span data-stu-id="7a878-135">You can use the RS.exe utility to run the script.</span></span> <span data-ttu-id="7a878-136">有关这种方法的详细信息，请参阅 [脚本编写和带 Reporting Services 的 PowerShell](../tools/scripting-and-powershell-with-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-136">For more information about this approach, see [Scripting and PowerShell with Reporting Services](../tools/scripting-and-powershell-with-reporting-services.md).</span></span>  
  
-   <span data-ttu-id="7a878-137">编写调用 WMI 提供程序的代码，以在各数据库之间复制数据。</span><span class="sxs-lookup"><span data-stu-id="7a878-137">Write code that calls the WMI provider to copy data between databases.</span></span> <span data-ttu-id="7a878-138">有关这种方法的详细信息，请参阅 [访问 Reporting Services WMI 提供程序](../tools/access-the-reporting-services-wmi-provider.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-138">For more information about this approach, see [Access the Reporting Services WMI Provider](../tools/access-the-reporting-services-wmi-provider.md).</span></span>  
  
-   <span data-ttu-id="7a878-139">如果仅有少量项，则可以将报表、报表模型以及共享数据源从报表设计器、模型设计器和报表生成器重新发布到新的报表服务器。</span><span class="sxs-lookup"><span data-stu-id="7a878-139">If you have just a few items, you can republish reports, report models, and shared data sources from Report Designer, Model Designer, and Report Builder to the new report server.</span></span> <span data-ttu-id="7a878-140">必须重新创建角色分配、订阅、共享计划、报表快照计划、对报表或其他项设置的自定义属性、模型项安全性以及对报表服务器设置的属性。</span><span class="sxs-lookup"><span data-stu-id="7a878-140">You must re-create role assignments, subscriptions, shared schedules, report snapshot schedules, custom properties that you set on reports or other items, model item security, and properties that you set on the report server.</span></span> <span data-ttu-id="7a878-141">您将丢失报表历史记录和报表执行日志数据。</span><span class="sxs-lookup"><span data-stu-id="7a878-141">You will lose report history and report execution log data.</span></span>  
  
##  <a name="before-you-start"></a><a name="bkmk_before_you_start"></a> <span data-ttu-id="7a878-142">开始之前</span><span class="sxs-lookup"><span data-stu-id="7a878-142">Before You Start</span></span>  
 <span data-ttu-id="7a878-143">即使要迁移（而不是升级）安装，也要考虑针对现有的安装运行升级顾问以帮助确定可能会影响迁移的任何问题。</span><span class="sxs-lookup"><span data-stu-id="7a878-143">Even though you are migrating rather than upgrading the installation, consider running Upgrade Advisor on your existing installation help identify any issues that could affect migration.</span></span> <span data-ttu-id="7a878-144">如果要迁移尚未安装或配置的报表服务器，则该步骤尤其有用。</span><span class="sxs-lookup"><span data-stu-id="7a878-144">This step is especially helpful if you are migrating a report server that you did not install or configure.</span></span> <span data-ttu-id="7a878-145">通过运行升级顾问，可以查明新 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装可能不支持的自定义设置。</span><span class="sxs-lookup"><span data-stu-id="7a878-145">By running Upgrade Advisor, you can find out about custom settings that might not be supported in a new [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] installation.</span></span>  
  
 <span data-ttu-id="7a878-146">此外，应当注意 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 中进行了多项将影响安装迁移方式的重要改动：</span><span class="sxs-lookup"><span data-stu-id="7a878-146">In addition, you should be aware of several important changes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] that will affect how you migrate your installation:</span></span>  
  
-   <span data-ttu-id="7a878-147">从 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]开始，IIS 不再是必备组件。</span><span class="sxs-lookup"><span data-stu-id="7a878-147">Starting with [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], IIS is no longer a prerequisite.</span></span> <span data-ttu-id="7a878-148">如果要将报表服务器安装迁移到新计算机上，则无需添加 Web 服务器角色。</span><span class="sxs-lookup"><span data-stu-id="7a878-148">If you are migrating a report server installation to a new computer, you do not need to add the Web server role.</span></span> <span data-ttu-id="7a878-149">另外，URL 和身份验证的配置步骤不同于以前的版本，用来诊断和解决问题的方法和工具也是如此。</span><span class="sxs-lookup"><span data-stu-id="7a878-149">In addition, steps for configuring URLs and authentication are different from the previous release, as are techniques and tools for diagnosing and troubleshooting problems.</span></span>  
  
-   <span data-ttu-id="7a878-150">报表服务器 Web 服务、报告管理器和报表服务器 Windows 服务合并到一个报表服务器服务中。</span><span class="sxs-lookup"><span data-stu-id="7a878-150">Report Server Web service, Report Manager, and the Report Server Windows service are consolidated within a single Report Server service.</span></span> <span data-ttu-id="7a878-151">所有这三个应用程序都在同一个帐户下运行。</span><span class="sxs-lookup"><span data-stu-id="7a878-151">All three applications run under the same account.</span></span> <span data-ttu-id="7a878-152">所有这三个应用程序都从 RSReportServer.config 文件中读取配置设置，这使得 RSWebApplication.config 被废弃。</span><span class="sxs-lookup"><span data-stu-id="7a878-152">All three applications read configuration settings from RSReportServer.config file, making RSWebApplication.config obsolete.</span></span>  
  
-   <span data-ttu-id="7a878-153">为了删除重叠功能而对报表管理器和 SQL Server Management Studio 进行了重新设计。</span><span class="sxs-lookup"><span data-stu-id="7a878-153">Report Manager and SQL Server Management Studio are redesigned to remove overlapping features.</span></span> <span data-ttu-id="7a878-154">每个工具都支持一组不同的任务；这些工具不再能够互换。</span><span class="sxs-lookup"><span data-stu-id="7a878-154">Each tool supports a distinct set of tasks; the tools are no longer interchangeable.</span></span>  
  
-   <span data-ttu-id="7a878-155">在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 及更高版本中不支持 ISAPI 筛选器。</span><span class="sxs-lookup"><span data-stu-id="7a878-155">ISAPI filters are not supported in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] and later versions.</span></span> <span data-ttu-id="7a878-156">如果使用 ISAPI 筛选器，则必须在迁移之前重新设计报表解决方案。</span><span class="sxs-lookup"><span data-stu-id="7a878-156">If you use ISAPI filters, you must redesign your reporting solution prior to migration.</span></span>  
  
-   <span data-ttu-id="7a878-157">在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 及更高版本中不支持 IP 地址限制。</span><span class="sxs-lookup"><span data-stu-id="7a878-157">IP address restrictions are not supported in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] and later versions.</span></span> <span data-ttu-id="7a878-158">如果使用 IP 地址限制，则必须在迁移之前重新设计报表解决方案，或使用诸如防火墙、路由器或网络地址转换 (NAT) 等技术来配置被禁止访问报表服务器的地址。</span><span class="sxs-lookup"><span data-stu-id="7a878-158">If you use IP address restrictions, you must redesign your reporting solution prior to migration or use a technology such as a firewall, router, or Network Address Translation (NAT) to configure addresses that are restricted from accessing the report server.</span></span>  
  
-   <span data-ttu-id="7a878-159">[!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]和更高版本中不支持客户端安全套接字层 (SSL) 证书 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7a878-159">Client Secure Sockets Layer (SSL) certificates are not supported in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] and later versions.</span></span> <span data-ttu-id="7a878-160">如果使用客户端 SSL 证书，则必须在迁移之前重新设计报表解决方案。</span><span class="sxs-lookup"><span data-stu-id="7a878-160">If you use client SSL certificates, you must redesign your reporting solution prior to migration.</span></span>  
  
-   <span data-ttu-id="7a878-161">如果使用 Windows 集成身份验证之外的身份验证类型，则必须将 `<AuthenticationTypes>` RSReportServer.config **文件中的** 元素更新为支持的身份验证类型。</span><span class="sxs-lookup"><span data-stu-id="7a878-161">If you use an authentication type other than Windows Integrated authentication, you must update the `<AuthenticationTypes>` element in the **RSReportServer.config** file with a supported authentication type.</span></span> <span data-ttu-id="7a878-162">支持的身份验证类型包括 NTLM、Kerberos、Negotiate 和 Basic。</span><span class="sxs-lookup"><span data-stu-id="7a878-162">The supported authentication types are NTLM, Kerberos, Negotiate, and Basic.</span></span> <span data-ttu-id="7a878-163">在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 及更高版本中不支持匿名、.NET Passport 和摘要式身份验证。</span><span class="sxs-lookup"><span data-stu-id="7a878-163">Anonymous, .NET Passport, and Digest authentication are not supported in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] and later versions.</span></span>  
  
-   <span data-ttu-id="7a878-164">如果在报表环境中使用自定义级联样式表，则这些样式表不会被迁移。</span><span class="sxs-lookup"><span data-stu-id="7a878-164">If you use custom cascading style sheets in your reporting environment, they will not be migrated.</span></span> <span data-ttu-id="7a878-165">必须在迁移后对它们进行手动移动。</span><span class="sxs-lookup"><span data-stu-id="7a878-165">You must manually move them following migration.</span></span>  
  
 <span data-ttu-id="7a878-166">有关中的更改的详细信息 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，请参阅升级顾问文档和新增[功能 &#40;Reporting Services&#41;](../what-s-new-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-166">For more information about changes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], see the Upgrade Advisor documentation and [What's New &#40;Reporting Services&#41;](../what-s-new-reporting-services.md).</span></span>  
  
##  <a name="backup-files-and-data"></a><a name="bkmk_backup"></a> <span data-ttu-id="7a878-167">备份文件和数据</span><span class="sxs-lookup"><span data-stu-id="7a878-167">Backup Files and Data</span></span>  
 <span data-ttu-id="7a878-168">在安装新 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]实例之前，请确保对当前安装中的所有文件进行备份。</span><span class="sxs-lookup"><span data-stu-id="7a878-168">Before you install a new instance of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], be sure to back up all of the files in your current installation.</span></span>  
  
1.  <span data-ttu-id="7a878-169">备份报表服务器数据库的加密密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-169">Back up the encryption key for the report server database.</span></span> <span data-ttu-id="7a878-170">此步骤对于成功迁移至关重要。</span><span class="sxs-lookup"><span data-stu-id="7a878-170">This step is critical to migration success.</span></span> <span data-ttu-id="7a878-171">而且，在迁移过程中，必须还原加密密钥才能使报表服务器重新获得对加密数据的访问权限。</span><span class="sxs-lookup"><span data-stu-id="7a878-171">Further on in the migration process, you must restore it for the report server to regain access to encrypted data.</span></span> <span data-ttu-id="7a878-172">若要备份密钥，请使用 Reporting Services 配置管理器。</span><span class="sxs-lookup"><span data-stu-id="7a878-172">To back up the key, use the Reporting Services Configuration Manager.</span></span>  
  
2.  <span data-ttu-id="7a878-173">使用任一支持的备份 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库的方法来备份报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="7a878-173">Back up the report server database using any of the supported methods for backing up a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="7a878-174">有关详细信息，请参阅[将报表服务器数据库移至其他计算机（SSRS 本机模式）](../report-server/moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md)中有关如何备份报表服务器数据库的说明。</span><span class="sxs-lookup"><span data-stu-id="7a878-174">For more information, see the instructions on how to back up the report server database in [Moving the Report Server Databases to Another Computer &#40;SSRS Native Mode&#41;](../report-server/moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md).</span></span>  
  
3.  <span data-ttu-id="7a878-175">备份报表服务器配置文件。</span><span class="sxs-lookup"><span data-stu-id="7a878-175">Back up the report server configuration files.</span></span> <span data-ttu-id="7a878-176">要备份的文件包括：</span><span class="sxs-lookup"><span data-stu-id="7a878-176">Files to back up include:</span></span>  
  
    1.  <span data-ttu-id="7a878-177">RSReportServer.config</span><span class="sxs-lookup"><span data-stu-id="7a878-177">Rsreportserver.config</span></span>  
  
    2.  <span data-ttu-id="7a878-178">Rswebapplication.config</span><span class="sxs-lookup"><span data-stu-id="7a878-178">Rswebapplication.config</span></span>  
  
    3.  <span data-ttu-id="7a878-179">Rssvrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="7a878-179">Rssvrpolicy.config</span></span>  
  
    4.  <span data-ttu-id="7a878-180">Rsmgrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="7a878-180">Rsmgrpolicy.config</span></span>  
  
    5.  <span data-ttu-id="7a878-181">Reportingservicesservice.exe.config</span><span class="sxs-lookup"><span data-stu-id="7a878-181">Reportingservicesservice.exe.config</span></span>  
  
    6.  <span data-ttu-id="7a878-182">报表服务器和报表管理器 [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 应用程序的 Web.config。</span><span class="sxs-lookup"><span data-stu-id="7a878-182">Web.config for both the Report Server and Report Manager [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] applications.</span></span>  
  
    7.  <span data-ttu-id="7a878-183">[!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] 的 Machine.config（如果您为报表服务器操作修改过它）。</span><span class="sxs-lookup"><span data-stu-id="7a878-183">Machine.config for [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] if you modified it for report server operations.</span></span>  
  
##  <a name="install-sql-server-reporting-services"></a><a name="bkmk_install_ssrs"></a> <span data-ttu-id="7a878-184">安装 SQL Server Reporting Services</span><span class="sxs-lookup"><span data-stu-id="7a878-184">Install SQL Server Reporting Services</span></span>  
 <span data-ttu-id="7a878-185">在仅文件模式下安装新的报表服务器实例，以便可以将该实例配置为使用非默认值。</span><span class="sxs-lookup"><span data-stu-id="7a878-185">Install a new report server instance in files-only mode so that you can configure it to use non-default values.</span></span> <span data-ttu-id="7a878-186">对于命令行安装，请使用 `FilesOnly` 参数。</span><span class="sxs-lookup"><span data-stu-id="7a878-186">For command line installation, use the `FilesOnly` argument.</span></span> <span data-ttu-id="7a878-187">在安装向导中，选中 **“安装但不配置”** 选项。</span><span class="sxs-lookup"><span data-stu-id="7a878-187">In the Installation Wizard, select the **Install but do not configure option**.</span></span>  
  
 <span data-ttu-id="7a878-188">单击下面的链接之一以查看有关如何安装新 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]实例的说明：</span><span class="sxs-lookup"><span data-stu-id="7a878-188">Click one of the following links to view instructions on how to install a new instance of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]:</span></span>  
  
-   [<span data-ttu-id="7a878-189">从安装向导安装 SQL Server 2014 &#40;安装程序&#41;</span><span class="sxs-lookup"><span data-stu-id="7a878-189">Install SQL Server 2014 from the Installation Wizard &#40;Setup&#41;</span></span>](../../database-engine/install-windows/install-sql-server-from-the-installation-wizard-setup.md)  
  
-   [<span data-ttu-id="7a878-190">Install SQL Server 2014 from the Command Prompt</span><span class="sxs-lookup"><span data-stu-id="7a878-190">Install SQL Server 2014 from the Command Prompt</span></span>](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md)  
  
##  <a name="move-the-report-server-database"></a><a name="bkmk_move_database"></a> <span data-ttu-id="7a878-191">移动报表服务器数据库</span><span class="sxs-lookup"><span data-stu-id="7a878-191">Move the Report Server Database</span></span>  
 <span data-ttu-id="7a878-192">报表服务器数据库包含已发布的报表、模型、共享数据源、计划、资源、订阅和文件夹，</span><span class="sxs-lookup"><span data-stu-id="7a878-192">The report server database contains published reports, models, shared data sources, schedules, resources, subscriptions, and folders.</span></span> <span data-ttu-id="7a878-193">还包含系统属性、项属性以及对报表服务器内容的访问权限。</span><span class="sxs-lookup"><span data-stu-id="7a878-193">It also contains system and item properties, and permissions for accessing report server content.</span></span>  
  
 <span data-ttu-id="7a878-194">如果您的迁移涉及到使用另一个 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例，则必须将报表服务器数据库移到新的 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例中。</span><span class="sxs-lookup"><span data-stu-id="7a878-194">If your migration includes using a different [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance, you must move the report server database to the new [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance.</span></span> <span data-ttu-id="7a878-195">如果您在使用相同的 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例，则跳到 [移动自定义程序集或扩展插件](#bkmk_move_custom)。</span><span class="sxs-lookup"><span data-stu-id="7a878-195">If you are using the same [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance, skip to section [Move Custom Assemblies or Extensions](#bkmk_move_custom).</span></span>  
  
 <span data-ttu-id="7a878-196">若要移动报表服务器数据库，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="7a878-196">To move the report server database, do the following:</span></span>  
  
1.  <span data-ttu-id="7a878-197">选择要使用的 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="7a878-197">Choose the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance to use.</span></span> [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]<span data-ttu-id="7a878-198">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]要求使用以下版本之一来承载 Report Server 数据库：</span><span class="sxs-lookup"><span data-stu-id="7a878-198">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] requires that you use one of the following versions to host the report server database:</span></span>  
  
    -   [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]  
  
    -   [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]  
  
    -   [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)]  
  
    -   [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]  
  
2.  <span data-ttu-id="7a878-199">启动 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 并连接到 [!INCLUDE[ssDE](../../includes/ssde-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="7a878-199">Start [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
3.  <span data-ttu-id="7a878-200">如果[!INCLUDE[ssDE](../../includes/ssde-md.md)]从未承载过报表服务器数据库，请在系统数据库中创建 `RSExecRole`。</span><span class="sxs-lookup"><span data-stu-id="7a878-200">Create the `RSExecRole` in the system databases if the [!INCLUDE[ssDE](../../includes/ssde-md.md)] has never hosted a report server database.</span></span> <span data-ttu-id="7a878-201">有关详细信息，请参阅 [创建 RSExecRole](../security/create-the-rsexecrole.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-201">For more information, see [Create the RSExecRole](../security/create-the-rsexecrole.md).</span></span>  
  
4.  <span data-ttu-id="7a878-202">遵循[将报表服务器数据库移至其他计算机（SSRS 本机模式）](../report-server/moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md)中的说明。</span><span class="sxs-lookup"><span data-stu-id="7a878-202">Follow the instructions in [Moving the Report Server Databases to Another Computer &#40;SSRS Native Mode&#41;](../report-server/moving-the-report-server-databases-to-another-computer-ssrs-native-mode.md).</span></span>  
  
 <span data-ttu-id="7a878-203">请记住，报表服务器数据库和临时数据库相互依赖而且必须一起移动。</span><span class="sxs-lookup"><span data-stu-id="7a878-203">Remember that both the report server database and the temporary database are interdependent and must be moved together.</span></span> <span data-ttu-id="7a878-204">请不要复制数据库；复制不会将所有安全设置转移至新安装。</span><span class="sxs-lookup"><span data-stu-id="7a878-204">Do not copy the databases; copying does not transfer all of the security settings to the new installation.</span></span> <span data-ttu-id="7a878-205">请不要移动用于计划报表服务器操作的 SQL Server 代理作业。</span><span class="sxs-lookup"><span data-stu-id="7a878-205">Do not move SQL Server Agent jobs for scheduled report server operations.</span></span> <span data-ttu-id="7a878-206">报表服务器将自动重新创建这些作业。</span><span class="sxs-lookup"><span data-stu-id="7a878-206">The report server will recreate these jobs automatically.</span></span>  
  
##  <a name="move-custom-assemblies-or-extensions"></a><a name="bkmk_move_custom"></a> <span data-ttu-id="7a878-207">移动自定义程序集或扩展插件</span><span class="sxs-lookup"><span data-stu-id="7a878-207">Move Custom Assemblies or Extensions</span></span>  
 <span data-ttu-id="7a878-208">如果安装中包括自定义的报表项、程序集或扩展插件，则必须重新部署这些自定义组件。</span><span class="sxs-lookup"><span data-stu-id="7a878-208">If your installation includes custom report items, assemblies, or extensions, you must redeploy the custom components.</span></span> <span data-ttu-id="7a878-209">如果没有使用自定义组件，请跳至 [配置报表服务器](#bkmk_configure_reportserver)部分。</span><span class="sxs-lookup"><span data-stu-id="7a878-209">If you are not using custom components, skip to section [Configure the Report Server](#bkmk_configure_reportserver).</span></span>  
  
 <span data-ttu-id="7a878-210">若要重新部署自定义组件，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="7a878-210">To redeploy the custom components, do the following:</span></span>  
  
1.  <span data-ttu-id="7a878-211">确定是支持程序集还是需要重新编译程序集：</span><span class="sxs-lookup"><span data-stu-id="7a878-211">Determine whether the assemblies are supported or need recompilation:</span></span>  
  
    -   <span data-ttu-id="7a878-212">为 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 版本创建的自定义身份验证扩展插件必须进行重新编译。</span><span class="sxs-lookup"><span data-stu-id="7a878-212">Custom authentication extensions created for the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] release must be recompiled.</span></span>  
  
    -   <span data-ttu-id="7a878-213">必须使用呈现对象模型 (ROM) 重新编写 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 的自定义呈现扩展插件。</span><span class="sxs-lookup"><span data-stu-id="7a878-213">Custom rendering extensions for [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] must be rewritten using the Rendering Object Model (ROM).</span></span>  
  
    -   <span data-ttu-id="7a878-214">在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 及更高版本中不支持 HTML 3.2 和 HTML OWC 呈现器。</span><span class="sxs-lookup"><span data-stu-id="7a878-214">HTML 3.2 and HTML OWC renderers are not supported in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] and later versions.</span></span>  
  
    -   <span data-ttu-id="7a878-215">其他自定义程序集应当不需要重新编译。</span><span class="sxs-lookup"><span data-stu-id="7a878-215">Other custom assemblies should not require recompilation.</span></span>  
  
2.  <span data-ttu-id="7a878-216">将这些程序集移到新的报表服务器和报表管理器 \bin 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="7a878-216">Move the assemblies to the new report server and Report Manager \bin folders.</span></span> <span data-ttu-id="7a878-217">在中 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] ，Report Server 的二进制文件位于默认实例的以下位置 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ：</span><span class="sxs-lookup"><span data-stu-id="7a878-217">In [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the report server binaries are located in the following location for the default [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] instance:</span></span>  
  
     `\Program files\Microsoft SQL Server\MSRS12.MSSQLSERVER\Reporting Services\ReportServer\bin`  
  
3.  <span data-ttu-id="7a878-218">修改配置文件，以便为自定义组件添加条目。</span><span class="sxs-lookup"><span data-stu-id="7a878-218">Modify the configuration files to add entries for your custom component.</span></span> <span data-ttu-id="7a878-219">所用程序集的种类不同，这些条目也会有所不同。</span><span class="sxs-lookup"><span data-stu-id="7a878-219">The entries will vary depending on the kind of assembly you are using.</span></span> <span data-ttu-id="7a878-220">有关在何处放置文件和添加配置条目的说明，请参阅以下内容：</span><span class="sxs-lookup"><span data-stu-id="7a878-220">For instructions on where to place files and add configuration entries, see the following:</span></span>  
  
    1.  [<span data-ttu-id="7a878-221">部署自定义程序集</span><span class="sxs-lookup"><span data-stu-id="7a878-221">Deploying a Custom Assembly</span></span>](../custom-assemblies/deploying-a-custom-assembly.md)  
  
    2.  [<span data-ttu-id="7a878-222">如何：部署自定义报表项</span><span class="sxs-lookup"><span data-stu-id="7a878-222">How to: Deploy a Custom Report Item</span></span>](../custom-report-items/how-to-deploy-a-custom-report-item.md)  
  
    3.  [<span data-ttu-id="7a878-223">部署数据处理扩展插件</span><span class="sxs-lookup"><span data-stu-id="7a878-223">Deploying a Data Processing Extension</span></span>](../extensions/data-processing/deploying-a-data-processing-extension.md)  
  
    4.  [<span data-ttu-id="7a878-224">部署传递扩展插件</span><span class="sxs-lookup"><span data-stu-id="7a878-224">Deploying a Delivery Extension</span></span>](../extensions/delivery-extension/deploying-a-delivery-extension.md)  
  
    5.  [<span data-ttu-id="7a878-225">部署呈现扩展插件</span><span class="sxs-lookup"><span data-stu-id="7a878-225">Deploying a Rendering Extension</span></span>](../extensions/rendering-extension/deploying-a-rendering-extension.md)  
  
    6.  [<span data-ttu-id="7a878-226">实现安全扩展插件</span><span class="sxs-lookup"><span data-stu-id="7a878-226">Implementing a Security Extension</span></span>](../extensions/security-extension/implementing-a-security-extension.md)  
  
##  <a name="configure-the-report-server"></a><a name="bkmk_configure_reportserver"></a> <span data-ttu-id="7a878-227">配置报表服务器</span><span class="sxs-lookup"><span data-stu-id="7a878-227">Configure the Report Server</span></span>  
 <span data-ttu-id="7a878-228">为报表服务器 Web 服务和报表管理器配置 URL，并配置与报表服务器数据库的连接。</span><span class="sxs-lookup"><span data-stu-id="7a878-228">Configure URLs for the Report Server Web service and Report Manager, and configure the connection to the report server database.</span></span>  
  
 <span data-ttu-id="7a878-229">如果要迁移扩展部署，则应使所有报表服务器节点脱机并按照一次迁移一个服务器的方式迁移各个服务器。</span><span class="sxs-lookup"><span data-stu-id="7a878-229">If you are migrating a scale-out deployment, take all of the report server nodes offline and migrate each server one at a time.</span></span> <span data-ttu-id="7a878-230">一旦迁移了第一个报表服务器并且其成功连接到报表服务器数据库，则该报表服务器数据库版本将自动升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 数据库版本。</span><span class="sxs-lookup"><span data-stu-id="7a878-230">Once the first report server is migrated and it successfully connects to the report server database, the report server database version is automatically upgraded to the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database version.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="7a878-231">如果扩展部署中的所有报表服务器均联机并且尚未被迁移，则它们可能会遇到 rsInvalidReportServerDatabase 异常，因为它们在连接到升级的报表服务器数据库之后使用的仍是旧版架构。</span><span class="sxs-lookup"><span data-stu-id="7a878-231">If any of the report servers in the scale-out deployment are online and have not been migrated, they might encounter an rsInvalidReportServerDatabase exception because they are using an older schema when connected to the upgraded.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7a878-232">如果你迁移的报表服务器已配置为用于扩展部署的共享数据库，则需要在配置报表服务器服务前从 **ReportServer** 数据库的 **Keys** 表中删除所有旧加密密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-232">If the report server you migrated was configured as the shared database for a scale-out deployment, you need to delete any of the old encryption keys from the **Keys** table in the **ReportServer** database, before configuring the report server service.</span></span> <span data-ttu-id="7a878-233">如果未删除这些密钥，迁移的报表服务器将尝试在扩展部署模式下进行初始化。</span><span class="sxs-lookup"><span data-stu-id="7a878-233">If the keys are not removed, the migrated report server will try to initialize in scale-out deployment mode.</span></span> <span data-ttu-id="7a878-234">有关详细信息，请参阅[添加和删除扩展部署的加密密钥（SSRS 配置管理器）](add-and-remove-encryption-keys-for-scale-out-deployment.md)和[配置和管理加密密钥（SSRS 配置管理器）](ssrs-encryption-keys-manage-encryption-keys.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-234">For more information, see [Add and Remove Encryption Keys for Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](add-and-remove-encryption-keys-for-scale-out-deployment.md) and [Configure and Manage Encryption Keys &#40;SSRS Configuration Manager&#41;](ssrs-encryption-keys-manage-encryption-keys.md).</span></span>  
>   
>  <span data-ttu-id="7a878-235">无法使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器删除扩展密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-235">The scale-out keys cannot be deleted by using the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="7a878-236">必须使用 SQL Server Management Studio 从 **Keys** 数据库的 **ReportServer** 表中删除旧密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-236">The old keys must be deleted from the **Keys** table in the **ReportServer** database using SQL Server Management Studio.</span></span> <span data-ttu-id="7a878-237">删除 Keys 表中的所有行。</span><span class="sxs-lookup"><span data-stu-id="7a878-237">Delete all rows in the Keys table.</span></span> <span data-ttu-id="7a878-238">这将清除该表并准备将其用于只还原对称密钥，如下面的步骤所述。</span><span class="sxs-lookup"><span data-stu-id="7a878-238">This will clear the table and prepare it for restoring the Symmetric key only, as documented in the following steps.</span></span>  
>   
>  <span data-ttu-id="7a878-239">在删除密钥之前，建议您首先备份对称加密密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-239">Prior to deleting the keys it is recommended you first back up the Symmetric Encryption key.</span></span> <span data-ttu-id="7a878-240">可以使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器来备份密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-240">You can use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to back up the key.</span></span> <span data-ttu-id="7a878-241">打开 Configuration Manager 打开，单击 "**加密密钥**" 选项卡，然后单击 "**备份**" 按钮。</span><span class="sxs-lookup"><span data-stu-id="7a878-241">Open the Configuration Manager open, click the **Encryption Keys** tab and then click the **Backup** button.</span></span> <span data-ttu-id="7a878-242">还可以撰写 WMI 命令的脚本以便备份加密密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-242">You can also script WMI commands to back up the encryption key.</span></span> <span data-ttu-id="7a878-243">有关 WMI 的详细信息，请参阅 [BackupEncryptionKey 方法 (WMI MSReportServer_ConfigurationSetting)](../wmi-provider-library-reference/configurationsetting-method-backupencryptionkey.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-243">For more information on WMI, see [BackupEncryptionKey Method &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-backupencryptionkey.md).</span></span>  
  
1.  <span data-ttu-id="7a878-244">启动 Reporting Services 配置管理器，然后连接到刚安装的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="7a878-244">Start the Reporting Services Configuration Manager and connect to the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] instance you just installed.</span></span> <span data-ttu-id="7a878-245">有关详细信息，请参阅 [Reporting Services Configuration Manager（本机模式）](../../sql-server/install/reporting-services-configuration-manager-native-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-245">For more information, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
2.  <span data-ttu-id="7a878-246">为报表服务器和报表管理器配置 URL。</span><span class="sxs-lookup"><span data-stu-id="7a878-246">Configure URLs for the report server and Report Manager.</span></span> <span data-ttu-id="7a878-247">有关详细信息，请参阅[配置 URL（SSRS 配置管理器）](configure-a-url-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-247">For more information, see [Configure a URL  &#40;SSRS Configuration Manager&#41;](configure-a-url-ssrs-configuration-manager.md).</span></span>  
  
3.  <span data-ttu-id="7a878-248">配置报表服务器数据库，并从以前的安装中选择现有的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="7a878-248">Configure the report server database, selecting the existing report server database from your previous installation.</span></span> <span data-ttu-id="7a878-249">成功配置后，将重新启动 Report Server 服务，并在与 Report Server 数据库建立连接后，数据库将自动升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7a878-249">After successful configuration, the report server services will restart, and once a connection is made to the report server database, the database will be automatically upgraded to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="7a878-250">有关如何运行“更改服务器向导”（该向导可用来创建或选择报表服务器数据库）的详细信息，请参阅[创建本机模式报表服务器数据库（SSRS 配置管理器）](ssrs-report-server-create-a-native-mode-report-server-database.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-250">For more information about how to run the Change Database Wizard that you use to create or select a report server database, see [Create a Native Mode Report Server Database  &#40;SSRS Configuration Manager&#41;](ssrs-report-server-create-a-native-mode-report-server-database.md).</span></span>  
  
4.  <span data-ttu-id="7a878-251">还原加密密钥。</span><span class="sxs-lookup"><span data-stu-id="7a878-251">Restore the encryption keys.</span></span> <span data-ttu-id="7a878-252">在针对报表服务器数据库中预先存在的连接字符串和凭据启用可逆加密时，此步骤是必不可少的。</span><span class="sxs-lookup"><span data-stu-id="7a878-252">This step is necessary for enabling reversible encryption on pre-existing connection strings and credentials that are already in the report server database.</span></span> <span data-ttu-id="7a878-253">有关详细信息，请参阅 [Back Up and Restore Reporting Services Encryption Keys](ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-253">For more information, see [Back Up and Restore Reporting Services Encryption Keys](ssrs-encryption-keys-back-up-and-restore-encryption-keys.md).</span></span>  
  
5.  <span data-ttu-id="7a878-254">如果报表服务器安装在新计算机上，并且您使用的是 Windows 防火墙，请确保该报表服务器侦听的 TCP 端口处于打开状态。</span><span class="sxs-lookup"><span data-stu-id="7a878-254">If you installed report server on a new computer and you are using Windows Firewall, be sure that the TCP port on which the report server listens is open.</span></span> <span data-ttu-id="7a878-255">默认情况下，此端口为 80。</span><span class="sxs-lookup"><span data-stu-id="7a878-255">By default, this port is 80.</span></span> <span data-ttu-id="7a878-256">有关详细信息，请参阅 [将防火墙配置为允许报表服务器访问](../report-server/configure-a-firewall-for-report-server-access.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-256">For more information, see [Configure a Firewall for Report Server Access](../report-server/configure-a-firewall-for-report-server-access.md).</span></span>  
  
6.  <span data-ttu-id="7a878-257">若要在本地管理本机模式报表服务器，需要配置操作系统以允许使用报表管理器进行本地管理。</span><span class="sxs-lookup"><span data-stu-id="7a878-257">If you want to administer your native mode report server locally, you need to configure the operating system to allow local administration with Report Manager.</span></span> <span data-ttu-id="7a878-258">有关详细信息，请参阅 [为本地管理配置本机模式报表服务器 (SSRS)](../report-server/configure-a-native-mode-report-server-for-local-administration-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-258">For more information, see [Configure a Native Mode Report Server for Local Administration &#40;SSRS&#41;](../report-server/configure-a-native-mode-report-server-for-local-administration-ssrs.md).</span></span>  
  
##  <a name="copy-custom-configuration-settings-to-rsreportserverconfig-file"></a><a name="bkmk_copy_custom_config"></a> <span data-ttu-id="7a878-259">将自定义配置设置复制到 RSReportServer.config 文件</span><span class="sxs-lookup"><span data-stu-id="7a878-259">Copy Custom Configuration Settings to RSReportServer.config File</span></span>  
 <span data-ttu-id="7a878-260">如果对先前安装中的 RSReportServer.config 文件或 RSWebApplication.config 文件进行过修改，则应当在新的 RSReportServer.config 文件中进行同样的修改。</span><span class="sxs-lookup"><span data-stu-id="7a878-260">If you modified the RSReportServer.config file or RSWebApplication.config file in the previous installation, you should make the same modifications in the new RSReportServer.config file.</span></span> <span data-ttu-id="7a878-261">下面的列表概述了修改先前配置文件的某些原因，并提供了一些指向其他信息的链接，这些信息介绍如何在 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]中配置同样的设置。</span><span class="sxs-lookup"><span data-stu-id="7a878-261">The following list summarizes some of the reasons why you might have modified the previous configuration file and provides links to additional information about how to configure the same settings in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
|<span data-ttu-id="7a878-262">自定义</span><span class="sxs-lookup"><span data-stu-id="7a878-262">Customization</span></span>|<span data-ttu-id="7a878-263">信息</span><span class="sxs-lookup"><span data-stu-id="7a878-263">Information</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="7a878-264">具有自定义设置的报表服务器电子邮件传递</span><span class="sxs-lookup"><span data-stu-id="7a878-264">Report Server E-mail delivery with custom settings</span></span>|<span data-ttu-id="7a878-265">[将报表服务器配置为电子邮件传递 &#40;ssrs Configuration Manager&#41;](../../sql-server/install/configure-a-report-server-for-e-mail-delivery-ssrs-configuration-manager.md)和[电子邮件设置-Configuration Manager &#40;ssrs 本机模式&#41;](e-mail-settings-reporting-services-native-mode-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-265">[Configure a Report Server for E-Mail Delivery &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-report-server-for-e-mail-delivery-ssrs-configuration-manager.md) and [E-mail Settings - Configuration Manager &#40;SSRS Native Mode&#41;](e-mail-settings-reporting-services-native-mode-configuration-manager.md).</span></span>|  
|<span data-ttu-id="7a878-266">设备信息设置</span><span class="sxs-lookup"><span data-stu-id="7a878-266">Device information settings</span></span>|[<span data-ttu-id="7a878-267">在 RSReportServer.Config 中自定义呈现扩展插件参数</span><span class="sxs-lookup"><span data-stu-id="7a878-267">Customize Rendering Extension Parameters in RSReportServer.Config</span></span>](../customize-rendering-extension-parameters-in-rsreportserver-config.md)|  
|<span data-ttu-id="7a878-268">远程实例上的报表管理器</span><span class="sxs-lookup"><span data-stu-id="7a878-268">Report Manager on a remote instance</span></span>|[<span data-ttu-id="7a878-269">配置报表管理器（本机模式）</span><span class="sxs-lookup"><span data-stu-id="7a878-269">Configure Report Manager &#40;Native Mode&#41;</span></span>](../report-server/configure-web-portal.md)|  
  
##  <a name="windows-service-group-and-security-acls"></a><a name="bkmk_windowsservice_group"></a> <span data-ttu-id="7a878-270">Windows 服务组与安全 ACL</span><span class="sxs-lookup"><span data-stu-id="7a878-270">Windows Service Group and Security ACLs</span></span>  
 <span data-ttu-id="7a878-271">在中 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] ，有一个服务组，即 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Windows 服务组，用于为与一起安装的所有注册表项、文件和文件夹创建安全 acl [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7a878-271">In [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)], there is one service group, the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Windows Service group, which is used to create security ACLs for all the registry keys, files, and folders that are installed with [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="7a878-272">此 Windows 组名称显示格式为 SQLServerReportServerUser $ \<*computer_name*> $ \<*instance_name*> 。</span><span class="sxs-lookup"><span data-stu-id="7a878-272">This Windows group name appears in the format SQLServerReportServerUser$\<*computer_name*>$\<*instance_name*>.</span></span> <span data-ttu-id="7a878-273">此组取代了中的两个 Windows 服务组 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7a878-273">This group takes the place of the two Windows service groups in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="7a878-274">如果有与任一 Windows 组关联的自定义 Acl [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，则需要将这些 acl 应用于中新 Report Server 实例的新组 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7a878-274">If you have custom ACLs associated with either of the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Windows groups, you will need to apply those ACLs to the new group for your new report server instance in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
##  <a name="verify-your-deployment"></a><a name="bkmk_verify"></a> <span data-ttu-id="7a878-275">验证部署</span><span class="sxs-lookup"><span data-stu-id="7a878-275">Verify Your Deployment</span></span>  
  
1.  <span data-ttu-id="7a878-276">打开浏览器，并在 URL 地址中键入报表服务器虚拟目录和报表管理器虚拟目录，对这些目录进行测试。</span><span class="sxs-lookup"><span data-stu-id="7a878-276">Test the report server and Report Manager virtual directories by opening a browser and typing in the URL address.</span></span> <span data-ttu-id="7a878-277">有关详细信息，请参阅 [验证 Reporting Services 安装](verify-a-reporting-services-installation.md)</span><span class="sxs-lookup"><span data-stu-id="7a878-277">For more information, see [Verify a Reporting Services Installation](verify-a-reporting-services-installation.md).</span></span>  
  
2.  <span data-ttu-id="7a878-278">测试报表，并验证它们是否包含所需的数据。</span><span class="sxs-lookup"><span data-stu-id="7a878-278">Test reports and verify they contain the data you expect.</span></span> <span data-ttu-id="7a878-279">检查数据源信息，查看是否仍指定了数据源连接信息。</span><span class="sxs-lookup"><span data-stu-id="7a878-279">Review data source information to see whether the data source connection information is still specified.</span></span> <span data-ttu-id="7a878-280">报表服务器在处理和呈现报表时使用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 报表对象模型，但是该服务器不将 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 或 [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] 构造替换为新的报表定义语言元素。</span><span class="sxs-lookup"><span data-stu-id="7a878-280">The report server uses the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report object model when processing and rendering reports, but it does not replace [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] constructs with new report definition language elements.</span></span> <span data-ttu-id="7a878-281">若要了解有关如何在 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 报表服务器上运行现有报表的详细信息，请参阅 [升级报表](upgrade-reports.md)。</span><span class="sxs-lookup"><span data-stu-id="7a878-281">To learn more about how existing reports run on a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server, see [Upgrade Reports](upgrade-reports.md).</span></span>  
  
##  <a name="remove-unused-programs-and-files"></a><a name="bkmk_remove_unused"></a> <span data-ttu-id="7a878-282">删除未使用的程序和文件</span><span class="sxs-lookup"><span data-stu-id="7a878-282">Remove Unused Programs and Files</span></span>  
 <span data-ttu-id="7a878-283">成功将 Report Server 迁移到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 实例后，可能需要执行以下步骤以删除不再需要的程序和文件。</span><span class="sxs-lookup"><span data-stu-id="7a878-283">Once you have successfully migrated your report server to a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] instance, you might want to perform the following steps to remove programs and files that are no longer necessary.</span></span>  
  
1.  <span data-ttu-id="7a878-284">如果不再需要早期版本的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，则将其卸载。</span><span class="sxs-lookup"><span data-stu-id="7a878-284">Uninstall the previous version of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] if you no longer need it.</span></span> <span data-ttu-id="7a878-285">此步骤不会删除下列项，但是，如果不再需要这些项，则可以手动将其删除：</span><span class="sxs-lookup"><span data-stu-id="7a878-285">This step does not delete the following items, but you can manually remove them if you no longer need them:</span></span>  
  
    -   <span data-ttu-id="7a878-286">旧的报表服务器数据库</span><span class="sxs-lookup"><span data-stu-id="7a878-286">The old Report Server database</span></span>  
  
    -   <span data-ttu-id="7a878-287">RsExec 角色</span><span class="sxs-lookup"><span data-stu-id="7a878-287">RsExec role</span></span>  
  
    -   <span data-ttu-id="7a878-288">报表服务器服务帐户</span><span class="sxs-lookup"><span data-stu-id="7a878-288">Report Server service accounts</span></span>  
  
    -   <span data-ttu-id="7a878-289">报表服务器 Web 服务的应用程序池</span><span class="sxs-lookup"><span data-stu-id="7a878-289">Application pool for the Report Server Web service</span></span>  
  
    -   <span data-ttu-id="7a878-290">报表管理器和报表服务器的虚拟目录</span><span class="sxs-lookup"><span data-stu-id="7a878-290">Virtual directories for Report Manager and the report server</span></span>  
  
    -   <span data-ttu-id="7a878-291">报表服务器日志文件</span><span class="sxs-lookup"><span data-stu-id="7a878-291">Report server log files</span></span>  
  
2.  <span data-ttu-id="7a878-292">如果此计算机上不再需要 IIS，则将其删除。</span><span class="sxs-lookup"><span data-stu-id="7a878-292">Remove IIS if you no longer need it on this computer.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7a878-293">另请参阅</span><span class="sxs-lookup"><span data-stu-id="7a878-293">See Also</span></span>  
 <span data-ttu-id="7a878-294">[在 SharePoint 模式 &#40;迁移 Reporting Services 安装&#41;](migrate-a-reporting-services-installation-sharepoint-mode.md) </span><span class="sxs-lookup"><span data-stu-id="7a878-294">[Migrate a Reporting Services Installation &#40;SharePoint Mode&#41;](migrate-a-reporting-services-installation-sharepoint-mode.md) </span></span>  
 <span data-ttu-id="7a878-295">[报表服务器数据库 &#40;SSRS 本机模式&#41;](../report-server/report-server-database-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="7a878-295">[Report Server Database &#40;SSRS Native Mode&#41;](../report-server/report-server-database-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="7a878-296">[升级和迁移 Reporting Services](upgrade-and-migrate-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="7a878-296">[Upgrade and Migrate Reporting Services](upgrade-and-migrate-reporting-services.md) </span></span>  
 <span data-ttu-id="7a878-297">[Reporting Services 向后兼容性](../reporting-services-backward-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="7a878-297">[Reporting Services Backward Compatibility](../reporting-services-backward-compatibility.md) </span></span>  
 [<span data-ttu-id="7a878-298">Reporting Services Configuration Manager（本机模式）</span><span class="sxs-lookup"><span data-stu-id="7a878-298">Reporting Services Configuration Manager &#40;Native Mode&#41;</span></span>](../../sql-server/install/reporting-services-configuration-manager-native-mode.md)  
  
  
