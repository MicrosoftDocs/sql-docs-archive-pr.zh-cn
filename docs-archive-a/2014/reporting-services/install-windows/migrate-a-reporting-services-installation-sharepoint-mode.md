---
title: 迁移 Reporting Services 安装（SharePoint 模式）| Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 61290949-690a-4e19-b078-57c99b6b30fa
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: ee26d312a2ce74ddc64a44b55d07ed55f9549ac6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87694317"
---
# <a name="migrate-a-reporting-services-installation-sharepoint-mode"></a><span data-ttu-id="e54f0-102">迁移 Reporting Services 安装（SharePoint 模式）</span><span class="sxs-lookup"><span data-stu-id="e54f0-102">Migrate a Reporting Services Installation (SharePoint Mode)</span></span>
  <span data-ttu-id="e54f0-103">此主题概述将 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式部署从一个 SharePoint 环境迁移到另一环境所需的步骤。</span><span class="sxs-lookup"><span data-stu-id="e54f0-103">This topic is an overview of the steps needed to migrate a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode deployment from one SharePoint environment to another.</span></span> <span data-ttu-id="e54f0-104">具体步骤可能会根据您正在从其迁移的版本而有所不同。</span><span class="sxs-lookup"><span data-stu-id="e54f0-104">The specific steps can be different depending on the version you are migrating from.</span></span> <span data-ttu-id="e54f0-105">有关 SharePoint 模式的升级和迁移方案的详细信息，请参阅 [Upgrade and Migrate Reporting Services](../../reporting-services/install-windows/upgrade-and-migrate-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-105">For more information on Upgrade and Migration scenarios for SharePoint mode, see [Upgrade and Migrate Reporting Services](../../reporting-services/install-windows/upgrade-and-migrate-reporting-services.md).</span></span> <span data-ttu-id="e54f0-106">如果你只想要将报表项从一台服务器复制到另一台服务器，请参阅 [Sample Reporting Services rs.exe Script to Migrate Content between Report Servers](../tools/sample-reporting-services-rs-exe-script-to-copy-content-between-report-servers.md)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-106">If you only want to copy the report items from one server to another, see [Sample Reporting Services rs.exe Script to Migrate Content between Report Servers](../tools/sample-reporting-services-rs-exe-script-to-copy-content-between-report-servers.md).</span></span>

 <span data-ttu-id="e54f0-107">有关迁移 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 本机模式部署的信息，请参阅 [迁移 Reporting Services 安装（本机模式）](../../reporting-services/install-windows/migrate-a-reporting-services-installation-native-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-107">For information on migrating a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] native mode deployment, see [Migrate a Reporting Services Installation &#40;Native Mode&#41;](../../reporting-services/install-windows/migrate-a-reporting-services-installation-native-mode.md).</span></span>

||
|-|
|<span data-ttu-id="e54f0-108">**[!INCLUDE[applies](../../includes/applies-md.md)]** SharePoint 2010 和 SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="e54f0-108">**[!INCLUDE[applies](../../includes/applies-md.md)]**  SharePoint 2010 and SharePoint 2013</span></span>|

 <span data-ttu-id="e54f0-109">完成迁移的常见原因是要将 SharePoint 2010 部署升级到 SharePoint 2013。</span><span class="sxs-lookup"><span data-stu-id="e54f0-109">A common reason you complete a migration is when you want to upgrade your SharePoint 2010 deployment to SharePoint 2013.</span></span> <span data-ttu-id="e54f0-110">SharePoint 2013 不支持从 SharePoint 2010 就地升级，必须完成 **数据库附加升级** 过程或仅内容迁移。</span><span class="sxs-lookup"><span data-stu-id="e54f0-110">SharePoint 2013 does not support in-place upgrade from SharePoint 2010 and you must complete the procedure of **database-attach upgrade** or a content only migration.</span></span>

 <span data-ttu-id="e54f0-111">有关升级 SharePoint 2013 的详细信息，请参阅以下内容：</span><span class="sxs-lookup"><span data-stu-id="e54f0-111">For more information on upgrading SharePoint 2013, see the following:</span></span>

-   <span data-ttu-id="e54f0-112">[升级到 SharePoint 2013 的过程概述](https://go.microsoft.com/fwlink/p/?LinkId=256688)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-112">[Overview of the upgrade process to SharePoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256688).</span></span>

-   <span data-ttu-id="e54f0-113">[将数据库从 SharePoint 2010 升级到 SharePoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256690)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-113">[Upgrade databases from SharePoint 2010 to SharePoint 2013](https://go.microsoft.com/fwlink/p/?LinkId=256690).</span></span>

-   <span data-ttu-id="e54f0-114">[在 SharePoint 2013 中移动内容数据库](https://technet.microsoft.com/library/cc262792.aspx)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-114">[Move content databases in SharePoint 2013](https://technet.microsoft.com/library/cc262792.aspx).</span></span>

 

##  <a name="migrate-from-reporting-services-sharepoint-mode-versions-prior-to-sql-server-2012"></a><a name="bkmk_prior_versions"></a> <span data-ttu-id="e54f0-115">从 SQL Server 2012 之前的 Reporting Services SharePoint 模式版本迁移</span><span class="sxs-lookup"><span data-stu-id="e54f0-115">Migrate from Reporting Services SharePoint mode versions prior to SQL Server 2012</span></span>
 <span data-ttu-id="e54f0-116">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式体系结构在 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]中已更改，包括服务应用程序数据库架构。</span><span class="sxs-lookup"><span data-stu-id="e54f0-116">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode architecture changed in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], including the service application database schema.</span></span> <span data-ttu-id="e54f0-117">如果要 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] 从之前的版本迁移到 SharePoint 模式 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ，请先通过安装 sharepoint 和 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] sharepoint 模式创建新的 sharepoint 环境 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="e54f0-117">If you want to migrate to [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] SharePoint mode from a version prior to [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], first create the new SharePoint environment by installing SharePoint and [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode.</span></span> <span data-ttu-id="e54f0-118">有关详细信息，请参阅[sharepoint 2010 和 sharepoint 2013&#41;&#40;Reporting Services Sharepoint 模式安装](../../reporting-services/install-windows/install-reporting-services-sharepoint-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-118">For more information, see [Reporting Services SharePoint Mode Installation &#40;SharePoint 2010 and SharePoint 2013&#41;](../../reporting-services/install-windows/install-reporting-services-sharepoint-mode.md).</span></span>

 <span data-ttu-id="e54f0-119">新 SharePoint 环境运行后，可以在包括内容数据库的数据库级别选择仅内容迁移或完全迁移。</span><span class="sxs-lookup"><span data-stu-id="e54f0-119">Once the new SharePoint environment is running, you can choose between a content only migration or a full migration at the database level that includes content databases.</span></span>

###  <a name="content-only-migration"></a><a name="bkmk_content_only_migration"></a> <span data-ttu-id="e54f0-120">仅限迁移的内容</span><span class="sxs-lookup"><span data-stu-id="e54f0-120">Content Only Migration</span></span>
 <span data-ttu-id="e54f0-121">**Reporting Services 仅内容迁移：** 如果要将 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 内容复制到新场，则需要使用工具（如 **rs.exe** ）将内容复制到新 SharePoint 安装。</span><span class="sxs-lookup"><span data-stu-id="e54f0-121">**Reporting Services Content only migration:** If you want to copy the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] content to a new farm, then you need to use tools such as **rs.exe** to copy the content to the new SharePoint installation.</span></span> <span data-ttu-id="e54f0-122">有关仅内容迁移的详细信息，请参阅以下内容：</span><span class="sxs-lookup"><span data-stu-id="e54f0-122">For more information on content only migrations, see the following:</span></span>

-   <span data-ttu-id="e54f0-123">\*\* [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] RSS 脚本：\*\* 这些脚本可以在本机模式与 SharePoint 模式报表服务器之间迁移内容和资源。</span><span class="sxs-lookup"><span data-stu-id="e54f0-123">**[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] RSS scripts:** The Scripts can migrate content and resources between Native mode and SharePoint mode report servers.</span></span> <span data-ttu-id="e54f0-124">有关详细信息，请参阅[示例 Reporting Services rs.exe 用于在报表服务器之间迁移内容的脚本](../tools/sample-reporting-services-rs-exe-script-to-copy-content-between-report-servers.md)，以及将[内容从一个 Report Server 迁移到另一的 Reporting Services RS.exe 脚本](https://azuresql.codeplex.com/releases/view/115207)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-124">For more information, see [Sample Reporting Services rs.exe Script to Migrate Content between Report Servers](../tools/sample-reporting-services-rs-exe-script-to-copy-content-between-report-servers.md) and [Reporting Services RS.exe script that migrates content from one report server to another](https://azuresql.codeplex.com/releases/view/115207).</span></span>

-   <span data-ttu-id="e54f0-125">**Reporting Services 迁移工具：** 该工具可以将报表项从本机模式服务器复制到 SharePoint 模式服务器。</span><span class="sxs-lookup"><span data-stu-id="e54f0-125">**Reporting Services Migration Tool:** The tool can copy your report items from a native mode server to a SharePoint mode server.</span></span> <span data-ttu-id="e54f0-126">有关详细信息，请参阅 [Reporting Services 迁移工具](https://www.microsoft.com/download/details.aspx?id=29560)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-126">For more information, see [Reporting Services Migration Tool](https://www.microsoft.com/download/details.aspx?id=29560).</span></span>

###  <a name="full-migration"></a><a name="bkmk_full_migration"></a> <span data-ttu-id="e54f0-127">完全迁移</span><span class="sxs-lookup"><span data-stu-id="e54f0-127">Full Migration</span></span>
 <span data-ttu-id="e54f0-128">**完全迁移：** 如果您将 SharePoint 内容数据库与 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 目录数据库一起迁移到新的场中，则可以按照在本文中介绍的一系列备份和还原选项执行。</span><span class="sxs-lookup"><span data-stu-id="e54f0-128">**Full Migration:** If you are migrating SharePoint content databases along with the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] catalog databases to a new farm you can follow a series of backup and restore options summarized in this topic.</span></span> <span data-ttu-id="e54f0-129">在某些情况下，您将需要使用与在备份阶段中使用的不同工具来用于还原阶段。</span><span class="sxs-lookup"><span data-stu-id="e54f0-129">In some cases you will need to use a different tool for the restore phase than you used for the backup phase.</span></span> <span data-ttu-id="e54f0-130">例如，你可以使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager 从以前版本的备份加密密钥， [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 但需要使用 sharepoint 管理中心或 PowerShell 将加密密钥还原到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] sharepoint 模式安装。</span><span class="sxs-lookup"><span data-stu-id="e54f0-130">For example you can use [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to backup encryption keys from a previous version of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] but you need to use SharePoint Central administration or PowerShell to restore the encryption keys to a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode installation.</span></span>

####  <a name="databases-you-will-see-in-the-completed-migration"></a><a name="bkmk_databases"></a> <span data-ttu-id="e54f0-131">您将在完成的迁移中看到的数据库</span><span class="sxs-lookup"><span data-stu-id="e54f0-131">Databases you will see in the completed migration</span></span>
 <span data-ttu-id="e54f0-132">下表描述了与在您成功迁移了 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 安装后将具有的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 相关的 SQL Server 数据库：</span><span class="sxs-lookup"><span data-stu-id="e54f0-132">The following table describes the SQL Server Databases related to [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] you will have after you successfully migrate your [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint installation:</span></span>

|<span data-ttu-id="e54f0-133">数据库</span><span class="sxs-lookup"><span data-stu-id="e54f0-133">Database</span></span>|<span data-ttu-id="e54f0-134">示例名称</span><span class="sxs-lookup"><span data-stu-id="e54f0-134">Example name</span></span>||
|--------------|------------------|-|
|<span data-ttu-id="e54f0-135">目录数据库</span><span class="sxs-lookup"><span data-stu-id="e54f0-135">Catalog database</span></span>|<span data-ttu-id="e54f0-136">ReportingService_ [服务应用程序 GUID] \*\* (\*) \*\*</span><span class="sxs-lookup"><span data-stu-id="e54f0-136">ReportingService_[service application GUID] **(\*)**</span></span>|<span data-ttu-id="e54f0-137">用户迁移。</span><span class="sxs-lookup"><span data-stu-id="e54f0-137">User migrates.</span></span>|
|<span data-ttu-id="e54f0-138">Temp 数据库</span><span class="sxs-lookup"><span data-stu-id="e54f0-138">Temp database</span></span>|<span data-ttu-id="e54f0-139">ReportingService_ [服务应用程序 GUID] TempDB \*\* (\*) \*\*</span><span class="sxs-lookup"><span data-stu-id="e54f0-139">ReportingService_[service application GUID]TempDB **(\*)**</span></span>|<span data-ttu-id="e54f0-140">用户迁移。</span><span class="sxs-lookup"><span data-stu-id="e54f0-140">User migrates.</span></span>|
|<span data-ttu-id="e54f0-141">警报数据库</span><span class="sxs-lookup"><span data-stu-id="e54f0-141">Alerting database</span></span>|<span data-ttu-id="e54f0-142">ReportingService_[服务应用程序 GUID]_Alerting</span><span class="sxs-lookup"><span data-stu-id="e54f0-142">ReportingService_[service application GUID]_Alerting</span></span>|<span data-ttu-id="e54f0-143">在创建 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序时创建。</span><span class="sxs-lookup"><span data-stu-id="e54f0-143">Created when a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application is created.</span></span>|

 <span data-ttu-id="e54f0-144">\*\* (\*) \*\*表中所示的示例名称遵循在创建新的 ssrs 服务应用程序时 ssrs 使用的命名约定。</span><span class="sxs-lookup"><span data-stu-id="e54f0-144">**(\*)** The example names shown in the table follow the naming convention SSRS uses when you create a new SSRS service application.</span></span> <span data-ttu-id="e54f0-145">如果您在从不同的服务器进行迁移，则您的目录和 tempDB 将具有来自原始安装的名称。</span><span class="sxs-lookup"><span data-stu-id="e54f0-145">If you are migrating from a different server, your catalog and tempDBs will have the names from the original installation.</span></span>

####  <a name="backup-operations"></a><a name="bkmk_backup_operations"></a> <span data-ttu-id="e54f0-146">备份操作</span><span class="sxs-lookup"><span data-stu-id="e54f0-146">Backup operations</span></span>
 <span data-ttu-id="e54f0-147">本节介绍迁移所需的信息的类型以及用于完成备份的工具或过程。</span><span class="sxs-lookup"><span data-stu-id="e54f0-147">This section describes the types of information you need to migrate and the tools or process you use to complete the backup.</span></span>

 <span data-ttu-id="e54f0-148">![SSRS SharePoint 迁移的基本关系图](../../../2014/sql-server/install/media/rs-sharepoint-migration.gif "SSRS SharePoint 迁移的基本关系图")</span><span class="sxs-lookup"><span data-stu-id="e54f0-148">![Basic diagram of SSRS SharePoint Migration](../../../2014/sql-server/install/media/rs-sharepoint-migration.gif "Basic diagram of SSRS SharePoint Migration")</span></span>

||<span data-ttu-id="e54f0-149">对象</span><span class="sxs-lookup"><span data-stu-id="e54f0-149">Objects</span></span>|<span data-ttu-id="e54f0-150">方法</span><span class="sxs-lookup"><span data-stu-id="e54f0-150">Method</span></span>|<span data-ttu-id="e54f0-151">说明</span><span class="sxs-lookup"><span data-stu-id="e54f0-151">Notes</span></span>|
|-|-------------|------------|-----------|
|<span data-ttu-id="e54f0-152">**1**</span><span class="sxs-lookup"><span data-stu-id="e54f0-152">**1**</span></span>|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="e54f0-153">加密密钥。</span><span class="sxs-lookup"><span data-stu-id="e54f0-153">encryption keys.</span></span>|<span data-ttu-id="e54f0-154">**Rskeymgmt.exe** 或 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器。</span><span class="sxs-lookup"><span data-stu-id="e54f0-154">**Rskeymgmt.exe** or [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="e54f0-155">请参阅[备份和还原 Reporting Services 加密密钥](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-155">See [Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md).</span></span>|<span data-ttu-id="e54f0-156">指出的工具可用于备份操作；但对于还原操作，您将使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序管理页或 PowerShell。</span><span class="sxs-lookup"><span data-stu-id="e54f0-156">The noted tools can used for the backup but for the restore operation you will use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application management pages or PowerShell.</span></span>|
|<span data-ttu-id="e54f0-157">**2**</span><span class="sxs-lookup"><span data-stu-id="e54f0-157">**2**</span></span>|<span data-ttu-id="e54f0-158">SharePoint 内容数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-158">SharePoint content databases.</span></span>||<span data-ttu-id="e54f0-159">备份数据库和分离数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-159">Backup the database and detach it.</span></span><br /><br /> <span data-ttu-id="e54f0-160">请参阅[确定升级方法 (SharePoint Server 2010) (https://technet.microsoft.com/library/cc263447.aspx)](https://technet.microsoft.com/library/cc263447.aspx) 中的“数据库附加升级”部分。</span><span class="sxs-lookup"><span data-stu-id="e54f0-160">See the section "Database attach upgrade " in [Determine upgrade approach (SharePoint Server 2010) (https://technet.microsoft.com/library/cc263447.aspx)](https://technet.microsoft.com/library/cc263447.aspx).</span></span>|
|<span data-ttu-id="e54f0-161">**3**</span><span class="sxs-lookup"><span data-stu-id="e54f0-161">**3**</span></span>|<span data-ttu-id="e54f0-162">作为 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]目录数据库的 SQL Server 数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-162">SQL Server database that is the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]catalog database.</span></span>|<span data-ttu-id="e54f0-163">SQL Server 数据库备份和还原</span><span class="sxs-lookup"><span data-stu-id="e54f0-163">SQL Server database backup and restore</span></span><br /><br /> <span data-ttu-id="e54f0-164">或</span><span class="sxs-lookup"><span data-stu-id="e54f0-164">or</span></span><br /><br /> <span data-ttu-id="e54f0-165">SQL Server 数据库分离和附加。</span><span class="sxs-lookup"><span data-stu-id="e54f0-165">SQL Server database detach and attach.</span></span>||
|<span data-ttu-id="e54f0-166">**4**</span><span class="sxs-lookup"><span data-stu-id="e54f0-166">**4**</span></span>|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="e54f0-167">配置文件。</span><span class="sxs-lookup"><span data-stu-id="e54f0-167">configuration files.</span></span>|<span data-ttu-id="e54f0-168">简单文件复制。</span><span class="sxs-lookup"><span data-stu-id="e54f0-168">Simple file copy.</span></span>|<span data-ttu-id="e54f0-169">如果您对文件进行了自定义，则仅需复制 rsreportserver.config。</span><span class="sxs-lookup"><span data-stu-id="e54f0-169">You only need to copy rsreportserver.config if you have made customizations to the file.</span></span> <span data-ttu-id="e54f0-170">文件默认位置的示例：C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\15\WebServices\Reporting</span><span class="sxs-lookup"><span data-stu-id="e54f0-170">Example of the default location of the files: C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\15\WebServices\Reporting</span></span><br /><br /> <span data-ttu-id="e54f0-171">RSReportServer.config</span><span class="sxs-lookup"><span data-stu-id="e54f0-171">Rsreportserver.config</span></span><br /><br /> <span data-ttu-id="e54f0-172">Rssvrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="e54f0-172">Rssvrpolicy.config</span></span><br /><br /> <span data-ttu-id="e54f0-173">针对报表服务器 ASP.NET 应用程序的 Web.config。</span><span class="sxs-lookup"><span data-stu-id="e54f0-173">Web.config for the Report Server ASP.NET application.</span></span><br /><br /> <span data-ttu-id="e54f0-174">针对 ASP.NET 的 Machine.config</span><span class="sxs-lookup"><span data-stu-id="e54f0-174">Machine.config for ASP.NET.</span></span>|

####  <a name="restore-operations"></a><a name="bkmk_restore_operations"></a><span data-ttu-id="e54f0-175">还原操作</span><span class="sxs-lookup"><span data-stu-id="e54f0-175">Restore Operations</span></span>
 <span data-ttu-id="e54f0-176">本节介绍迁移所需的信息的类型以及用于完成还原的工具或过程。</span><span class="sxs-lookup"><span data-stu-id="e54f0-176">This section describes the types of information you need to migrate and the tools or process you use to complete the restore.</span></span> <span data-ttu-id="e54f0-177">您用于还原的工具可能会不同于用于备份的工具。</span><span class="sxs-lookup"><span data-stu-id="e54f0-177">The tools you use for restoring may be different than the tools you used for the backup.</span></span>

 <span data-ttu-id="e54f0-178">在完成还原步骤前，需要安装和配置新的 SharePoint 场和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint 模式。</span><span class="sxs-lookup"><span data-stu-id="e54f0-178">Before you complete the restore steps, you need to install and configuring the new SharePoint Farm and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode.</span></span> <span data-ttu-id="e54f0-179">有关 sharepoint 模式的基本安装的详细信息 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，请参阅 sharepoint [2010 和 sharepoint 2013&#41;&#40;Reporting Services Sharepoint 模式安装](../../reporting-services/install-windows/install-reporting-services-sharepoint-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-179">For more information on a basic installation of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode, see [Reporting Services SharePoint Mode Installation &#40;SharePoint 2010 and SharePoint 2013&#41;](../../reporting-services/install-windows/install-reporting-services-sharepoint-mode.md).</span></span>

||<span data-ttu-id="e54f0-180">对象</span><span class="sxs-lookup"><span data-stu-id="e54f0-180">Objects</span></span>|<span data-ttu-id="e54f0-181">方法</span><span class="sxs-lookup"><span data-stu-id="e54f0-181">Method</span></span>|<span data-ttu-id="e54f0-182">说明</span><span class="sxs-lookup"><span data-stu-id="e54f0-182">Notes</span></span>|
|-|-------------|------------|-----------|
|<span data-ttu-id="e54f0-183">**1**</span><span class="sxs-lookup"><span data-stu-id="e54f0-183">**1**</span></span>|<span data-ttu-id="e54f0-184">将 SharePoint 内容数据库还原到新的场。</span><span class="sxs-lookup"><span data-stu-id="e54f0-184">Restore SharePoint Content databases to the new farm.</span></span>|<span data-ttu-id="e54f0-185">SharePoint“数据库附加升级”方法。</span><span class="sxs-lookup"><span data-stu-id="e54f0-185">SharePoint "Database attach upgrade" Method.</span></span>|<span data-ttu-id="e54f0-186">基本步骤：</span><span class="sxs-lookup"><span data-stu-id="e54f0-186">Basic Steps:</span></span><br /><br /> <span data-ttu-id="e54f0-187">1) 在新的服务器上还原数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-187">1) Restore the database on the new server.</span></span><br /><br /> <span data-ttu-id="e54f0-188">2) 通过指示 URL 将内容数据库附加到 Web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="e54f0-188">2) Attach the content database to a web application by indicating the URL.</span></span><br /><br /> <span data-ttu-id="e54f0-189">3) Get-SPWebapplication 将列出所有 Web 应用程序和 URL。</span><span class="sxs-lookup"><span data-stu-id="e54f0-189">3) Get-SPWebapplication lists all web applications and the URLs.</span></span><br /><br /> <span data-ttu-id="e54f0-190">请参阅[确定升级方法 (SharePoint Server 2010) (https://technet.microsoft.com/library/cc263447.aspx)](https://technet.microsoft.com/library/cc263447.aspx) 和[附加数据库并升级到 SharePoint Server 2010 (https://technet.microsoft.com/library/cc263299.aspx)](https://technet.microsoft.com/library/cc263299.aspx) 中的“数据库附加升级”部分。</span><span class="sxs-lookup"><span data-stu-id="e54f0-190">See the section "Database attach upgrade " in [Determine upgrade approach (SharePoint Server 2010) (https://technet.microsoft.com/library/cc263447.aspx)](https://technet.microsoft.com/library/cc263447.aspx)and [Attach databases and upgrade to SharePoint Server 2010 (https://technet.microsoft.com/library/cc263299.aspx)](https://technet.microsoft.com/library/cc263299.aspx).</span></span>|
|<span data-ttu-id="e54f0-191">**2**</span><span class="sxs-lookup"><span data-stu-id="e54f0-191">**2**</span></span>|<span data-ttu-id="e54f0-192">还原作为 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 目录数据库 (ReportServer) 的 SQL 数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-192">Restore the SQL database that is the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] catalog database (ReportServer).</span></span>|<span data-ttu-id="e54f0-193">SQL Database 库备份和还原。</span><span class="sxs-lookup"><span data-stu-id="e54f0-193">SQL Database backup and restore.</span></span><br /><br /> <span data-ttu-id="e54f0-194">**or**</span><span class="sxs-lookup"><span data-stu-id="e54f0-194">**or**</span></span><br /><br /> <span data-ttu-id="e54f0-195">SQL Server 数据库分离和附加。</span><span class="sxs-lookup"><span data-stu-id="e54f0-195">SQL Server database attached and detach.</span></span>|<span data-ttu-id="e54f0-196">首次使用数据库时， [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 将根据需要更新数据库架构，以便数据库可用于 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 环境。</span><span class="sxs-lookup"><span data-stu-id="e54f0-196">The first time the database is used, [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] will update the database schema as needed so it will work with the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] environment.</span></span>|
|<span data-ttu-id="e54f0-197">**3**</span><span class="sxs-lookup"><span data-stu-id="e54f0-197">**3**</span></span>|<span data-ttu-id="e54f0-198">创建新的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序。</span><span class="sxs-lookup"><span data-stu-id="e54f0-198">Create a new [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application.</span></span>|<span data-ttu-id="e54f0-199">SharePoint 管理中心。</span><span class="sxs-lookup"><span data-stu-id="e54f0-199">SharePoint Central administration.</span></span>|<span data-ttu-id="e54f0-200">在您创建新的服务应用程序时，将其配置为使用您复制到的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-200">When you create the new service application, configure it to use the report server database you copied over.</span></span><br /><br /> <span data-ttu-id="e54f0-201">有关使用 SharePoint 管理中心的详细信息，请参阅[安装 sharepoint 2013 Reporting Services Sharepoint 模式](../../../2014/sql-server/install/install-reporting-services-sharepoint-mode-for-sharepoint-2013.md)中的 "步骤3：创建 Reporting Services 服务应用程序" 一节。</span><span class="sxs-lookup"><span data-stu-id="e54f0-201">For more information on using SharePoint Central Administration, see the "Step 3: Create a Reporting Services Service Application" section in [Install Reporting Services SharePoint Mode for SharePoint 2013](../../../2014/sql-server/install/install-reporting-services-sharepoint-mode-for-sharepoint-2013.md).</span></span><br /><br /> <span data-ttu-id="e54f0-202">有关使用 PowerShell 的示例，请参阅[Reporting Services SharePoint 服务和服务应用程序](../../../2014/reporting-services/reporting-services-sharepoint-service-and-service-applications.md)中的 "使用 powershell 创建 Reporting Services 服务应用程序" 一节。</span><span class="sxs-lookup"><span data-stu-id="e54f0-202">For examples using PowerShell, see the section "To create a Reporting Services Service Application using PowerShell" in [Reporting Services SharePoint Service and Service Applications](../../../2014/reporting-services/reporting-services-sharepoint-service-and-service-applications.md).</span></span>|
|<span data-ttu-id="e54f0-203">**4**</span><span class="sxs-lookup"><span data-stu-id="e54f0-203">**4**</span></span>|<span data-ttu-id="e54f0-204">还原 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置文件。</span><span class="sxs-lookup"><span data-stu-id="e54f0-204">Restore [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] configuration files.</span></span>|<span data-ttu-id="e54f0-205">简单文件复制。</span><span class="sxs-lookup"><span data-stu-id="e54f0-205">Simple file copy.</span></span>|<span data-ttu-id="e54f0-206">文件默认位置的示例：C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\15\WebServices\Reporting。</span><span class="sxs-lookup"><span data-stu-id="e54f0-206">Example of the default location of the files: C:\Program Files\Common Files\Microsoft Shared\Web Server Extensions\15\WebServices\Reporting.</span></span>|
|<span data-ttu-id="e54f0-207">**5**</span><span class="sxs-lookup"><span data-stu-id="e54f0-207">**5**</span></span>|<span data-ttu-id="e54f0-208">还原 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 加密密钥。</span><span class="sxs-lookup"><span data-stu-id="e54f0-208">Restore the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] encryption keys.</span></span>|<span data-ttu-id="e54f0-209">使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序“SystemSettings”页还原密钥备份文件。</span><span class="sxs-lookup"><span data-stu-id="e54f0-209">Restore the key back up file using the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Service Application "SystemSettings" page.</span></span><br /><br /> <span data-ttu-id="e54f0-210">**or**</span><span class="sxs-lookup"><span data-stu-id="e54f0-210">**or**</span></span><br /><br /> <span data-ttu-id="e54f0-211">PowerShell。</span><span class="sxs-lookup"><span data-stu-id="e54f0-211">PowerShell.</span></span>|<span data-ttu-id="e54f0-212">请参阅[管理 Reporting Services SharePoint 服务应用程序](../../../2014/reporting-services/manage-a-reporting-services-sharepoint-service-application.md)主题中的 "密钥管理" 部分。</span><span class="sxs-lookup"><span data-stu-id="e54f0-212">See the section "Key Management" in the topic [Manage a Reporting Services SharePoint Service Application](../../../2014/reporting-services/manage-a-reporting-services-sharepoint-service-application.md).</span></span>|

#####  <a name="additional-configuration"></a><a name="bkmk_additional_configuration"></a><span data-ttu-id="e54f0-213">其他配置</span><span class="sxs-lookup"><span data-stu-id="e54f0-213">Additional Configuration</span></span>
 <span data-ttu-id="e54f0-214">根据您配置以前 SharePoint 环境的方式，您可能需要完成以下一个或多个操作：</span><span class="sxs-lookup"><span data-stu-id="e54f0-214">Depending on how your previous SharePoint environment was configured, you may need to complete one or more of the following:</span></span>

1.  <span data-ttu-id="e54f0-215">为 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序配置 NTLM 身份验证。</span><span class="sxs-lookup"><span data-stu-id="e54f0-215">Configure NTLM authentication for a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application.</span></span> <span data-ttu-id="e54f0-216">有关详细信息，请参阅[为 Reporting Services 服务应用程序配置电子邮件（SharePoint 2010 和 SharePoint 2013）](../../reporting-services/install-windows/configure-e-mail-for-a-reporting-services-service-application.md)</span><span class="sxs-lookup"><span data-stu-id="e54f0-216">For more information, see [Configure E-mail for a Reporting Services Service Application &#40;SharePoint 2010 and SharePoint 2013&#41;](../../reporting-services/install-windows/configure-e-mail-for-a-reporting-services-service-application.md)</span></span>

##  <a name="migrate-from-a-sql-server-2012-deployment"></a><a name="bkmk_migrate_from_ctp"></a><span data-ttu-id="e54f0-217">从 SQL Server 2012 部署迁移</span><span class="sxs-lookup"><span data-stu-id="e54f0-217">Migrate from a SQL Server 2012 Deployment</span></span>
 <span data-ttu-id="e54f0-218">在多服务器场中，用户可能会在不同计算机上分别具有内容数据库和目录数据库，在此情况下，您实际上仅需要将安装有 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务的新服务器添加到 SharePoint 场中，然后从旧服务器上删除它。</span><span class="sxs-lookup"><span data-stu-id="e54f0-218">In a multi-server farm, users will likely have the Content and Catalog databases on a different machine, in which case you really just need to add a new server with the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service installed, to the SharePoint farm and then remove the old server.</span></span> <span data-ttu-id="e54f0-219">应该不需要复制数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-219">There should be no need to copy databases.</span></span>

### <a name="backup-operations"></a><span data-ttu-id="e54f0-220">备份操作</span><span class="sxs-lookup"><span data-stu-id="e54f0-220">Backup Operations</span></span>

1.  <span data-ttu-id="e54f0-221">备份 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 加密密钥。</span><span class="sxs-lookup"><span data-stu-id="e54f0-221">Backup the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] encryption keys.</span></span>

2.  <span data-ttu-id="e54f0-222">在 SharePoint 管理中心中（或者使用 PowerShell）备份 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序。</span><span class="sxs-lookup"><span data-stu-id="e54f0-222">Backup the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Service application in SharePoint central Administration (or use PowerShell).</span></span> <span data-ttu-id="e54f0-223">这还将备份 SharePoint 中的服务应用程序数据库。</span><span class="sxs-lookup"><span data-stu-id="e54f0-223">This will also backup the service application databases in SharePoint.</span></span> <span data-ttu-id="e54f0-224">请参阅  [备份和还原 Reporting Services SharePoint 服务应用程序](../../../2014/reporting-services/backup-and-restore-reporting-services-sharepoint-service-applications.md)主题</span><span class="sxs-lookup"><span data-stu-id="e54f0-224">See topic  [Backup and Restore Reporting Services SharePoint Service Applications](../../../2014/reporting-services/backup-and-restore-reporting-services-sharepoint-service-applications.md)</span></span>

3.  <span data-ttu-id="e54f0-225">如果您具有无人参与的执行帐户 (UEA) 和 Windows 身份验证，请记下凭据，以便在还原过程使用这些凭据。</span><span class="sxs-lookup"><span data-stu-id="e54f0-225">If you have an Unattended Execution account (UEA) and windows authentication, make a note of the credentials so you can use them for the restore process.</span></span>

4.  <span data-ttu-id="e54f0-226">有关详细信息，请参阅 [在 SharePoint 2013 中备份服务应用程序](https://technet.microsoft.com/library/ee428318.aspx)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-226">For more information, see [Back up service applications in SharePoint 2013](https://technet.microsoft.com/library/ee428318.aspx).</span></span>

### <a name="restore-operations"></a><span data-ttu-id="e54f0-227">还原操作</span><span class="sxs-lookup"><span data-stu-id="e54f0-227">Restore Operations</span></span>

1.  <span data-ttu-id="e54f0-228">使用 SharePoint 管理中心还原 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 服务应用程序。</span><span class="sxs-lookup"><span data-stu-id="e54f0-228">Restore the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application using SharePoint Central Administration.</span></span> <span data-ttu-id="e54f0-229">您也可以使用 PowerShell。</span><span class="sxs-lookup"><span data-stu-id="e54f0-229">You could also use PowerShell.</span></span>

2.  <span data-ttu-id="e54f0-230">还原 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 加密密钥。</span><span class="sxs-lookup"><span data-stu-id="e54f0-230">Restore [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] encryption keys.</span></span>

     <span data-ttu-id="e54f0-231">请参阅[管理 Reporting Services SharePoint 服务应用程序](../../../2014/reporting-services/manage-a-reporting-services-sharepoint-service-application.md)主题中的“密钥管理”部分</span><span class="sxs-lookup"><span data-stu-id="e54f0-231">See the section "Key Management" in the topic [Manage a Reporting Services SharePoint Service Application](../../../2014/reporting-services/manage-a-reporting-services-sharepoint-service-application.md)</span></span>

3.  <span data-ttu-id="e54f0-232">对服务应用程序配置 UEA 和 Windows 凭据。</span><span class="sxs-lookup"><span data-stu-id="e54f0-232">Configure the UEA and windows credentials on the service application.</span></span>

4.  <span data-ttu-id="e54f0-233">有关详细信息，请参阅 [在 SharePoint 2013 中还原服务应用程序](https://technet.microsoft.com/library/ee428305.aspx)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-233">For more information, see [Restore service applications in SharePoint 2013](https://technet.microsoft.com/library/ee428305.aspx).</span></span>

##  <a name="additional-resources"></a><a name="bkmk_additional_resources"></a> <span data-ttu-id="e54f0-234">其他资源</span><span class="sxs-lookup"><span data-stu-id="e54f0-234">Additional Resources</span></span>

-   <span data-ttu-id="e54f0-235">[开始升级到 SharePoint 2013 (https://technet.microsoft.com/library/ee833948.aspx)](https://technet.microsoft.com/library/ee833948.aspx)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-235">[Get started with upgrades to SharePoint 2013 (https://technet.microsoft.com/library/ee833948.aspx)](https://technet.microsoft.com/library/ee833948.aspx).</span></span>

-   <span data-ttu-id="e54f0-236">[升级到 SharePoint 2013 的过程概述 (https://technet.microsoft.com/library/cc262483.aspx)](https://technet.microsoft.com/library/cc262483.aspx)。</span><span class="sxs-lookup"><span data-stu-id="e54f0-236">[Overview of the upgrade process to SharePoint 2013 (https://technet.microsoft.com/library/cc262483.aspx)](https://technet.microsoft.com/library/cc262483.aspx).</span></span>

## <a name="see-also"></a><span data-ttu-id="e54f0-237">另请参阅</span><span class="sxs-lookup"><span data-stu-id="e54f0-237">See Also</span></span>
 <span data-ttu-id="e54f0-238">[升级和迁移 Reporting Services](../../reporting-services/install-windows/upgrade-and-migrate-reporting-services.md) [将 Reporting Services 安装迁移 &#40;本机模式&#41;](../../reporting-services/install-windows/migrate-a-reporting-services-installation-native-mode.md)</span><span class="sxs-lookup"><span data-stu-id="e54f0-238">[Upgrade and Migrate Reporting Services](../../reporting-services/install-windows/upgrade-and-migrate-reporting-services.md) [Migrate a Reporting Services Installation &#40;Native Mode&#41;](../../reporting-services/install-windows/migrate-a-reporting-services-installation-native-mode.md)</span></span>

