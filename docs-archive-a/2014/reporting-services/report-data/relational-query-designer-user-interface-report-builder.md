---
title: 关系查询设计器用户界面（报表生成器）| Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10012"
helpviewer_keywords:
- query designers
- accessing data, query designer
- relational query designer
ms.assetid: cd5fa70c-5218-40d5-9ae6-02d798b5c485
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 1a8be3c24a5d13c1a1b3733ab7cbf755c732a612
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87577327"
---
# <a name="relational-query-designer-user-interface-report-builder"></a><span data-ttu-id="05cda-102">关系查询设计器用户界面（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="05cda-102">Relational Query Designer User Interface (Report Builder)</span></span>
  <span data-ttu-id="05cda-103">报表生成器提供了图形查询设计器和基于文本的查询设计器，可帮助您创建一个查询，该查询指定要从 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 和 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 关系数据库以及 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] 为报表数据集检索的数据。</span><span class="sxs-lookup"><span data-stu-id="05cda-103">Report Builder provides both a graphical query designer and a text-based query designer to help you create a query that specifies the data to retrieve from [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssSDS](../../includes/sssds-md.md)] relational databases and [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] for a report dataset.</span></span> <span data-ttu-id="05cda-104">使用图形查询设计器可以浏览元数据、以交互方式生成查询，还可以查看查询结果。</span><span class="sxs-lookup"><span data-stu-id="05cda-104">Use the graphical query designer to explore the metadata, interactively build a query, and view the results for your query.</span></span> <span data-ttu-id="05cda-105">使用基于文本的查询设计器可以查看图形查询设计器生成的查询，也可以修改查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-105">Use the text-based query designer to view the query that was built by the graphical query designer or to modify a query.</span></span> <span data-ttu-id="05cda-106">您还可以从文件或报表中导入现有的查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-106">You can also import an existing query from a file or report.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="05cda-107">在报表生成器中，必须使用基于文本的查询设计器才能为 Oracle、OLE DB、ODBC 和 Teradata 等数据源类型指定查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-107">In Report Builder, to specify a query for data source types Oracle, OLE DB, ODBC, and Teradata, you must use the text-based query designer.</span></span> <span data-ttu-id="05cda-108">有关详细信息，请参阅[基于文本的查询设计器用户界面（报表生成器）](text-based-query-designer-user-interface-report-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="05cda-108">For more information, see [Text-based Query Designer User Interface &#40;Report Builder&#41;](text-based-query-designer-user-interface-report-builder.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="05cda-109">用户创建和运行查询时访问数据源。</span><span class="sxs-lookup"><span data-stu-id="05cda-109">Users access data sources when they create and run queries.</span></span> <span data-ttu-id="05cda-110">您应授予对数据源的最小权限（如只读权限）。</span><span class="sxs-lookup"><span data-stu-id="05cda-110">You should grant minimal permissions on the data sources, such as read-only permissions.</span></span>  
  
## <a name="graphical-query-designer"></a><span data-ttu-id="05cda-111">图形查询设计器</span><span class="sxs-lookup"><span data-stu-id="05cda-111">Graphical Query Designer</span></span>  
 <span data-ttu-id="05cda-112">在图形查询设计器中，您可以浏览数据库表和视图，还可以交互式生成 SQL SELECT 语句，以便指定要从中检索数据集数据的数据库表和列。</span><span class="sxs-lookup"><span data-stu-id="05cda-112">In the graphical query designer, you can explore the database tables and views, interactively build the SQL SELECT statement that specifies the database tables and columns from which to retrieve data for a dataset.</span></span> <span data-ttu-id="05cda-113">您可以选择要包括在数据集中的字段，或者指定限制数据集中数据的筛选器。</span><span class="sxs-lookup"><span data-stu-id="05cda-113">You choose the fields to include in the dataset and optionally, specify filters that limit the data in the dataset.</span></span> <span data-ttu-id="05cda-114">可以指定将筛选器作为参数并在运行时提供筛选器的值。</span><span class="sxs-lookup"><span data-stu-id="05cda-114">You can specify that filters are used as parameters and provide the value of the filter at run-time.</span></span> <span data-ttu-id="05cda-115">如果选择多个相关表，则查询设计器将描述由两个表构成的集合之间的关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-115">If you choose multiple related tables, the query designer describes the relationship between sets of two tables.</span></span>  
  
 <span data-ttu-id="05cda-116">图形查询设计器分为三个区域。</span><span class="sxs-lookup"><span data-stu-id="05cda-116">The graphical query designer is divided into three areas.</span></span> <span data-ttu-id="05cda-117">根据查询是使用表/视图还是存储过程/表值函数，查询设计器的布局有所不同。</span><span class="sxs-lookup"><span data-stu-id="05cda-117">Depending on whether the query uses tables/views or stored procedures/table-valued functions, the layout of the query designer changes.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] <span data-ttu-id="05cda-118">不支持存储过程或表值函数。</span><span class="sxs-lookup"><span data-stu-id="05cda-118">does not support stored procedures or table-valued functions.</span></span>  
  
 <span data-ttu-id="05cda-119">下图显示了用于表或视图的图形查询设计器。</span><span class="sxs-lookup"><span data-stu-id="05cda-119">The following figure shows the graphical query designer when it is used with tables or views.</span></span>  
  
 <span data-ttu-id="05cda-120">![用于查询的图形设计器](../../analysis-services/media/rsqd-relational-graphical.gif "用于查询的图形设计器")</span><span class="sxs-lookup"><span data-stu-id="05cda-120">![Graphical designer for queries](../../analysis-services/media/rsqd-relational-graphical.gif "Graphical designer for queries")</span></span>  
  
 <span data-ttu-id="05cda-121">下图显示了用于存储过程或表值函数的图形查询设计器。</span><span class="sxs-lookup"><span data-stu-id="05cda-121">The following figure shows the graphical query designer when it is used with stored procedures or table-valued functions.</span></span>  
  
 <span data-ttu-id="05cda-122">![图形查询设计器中的存储过程](../../analysis-services/media/rs-relational-graphical-sp.gif "图形查询设计器中的存储过程")</span><span class="sxs-lookup"><span data-stu-id="05cda-122">![Stored procedure in graphical query designer](../../analysis-services/media/rs-relational-graphical-sp.gif "Stored procedure in graphical query designer")</span></span>  
  
 <span data-ttu-id="05cda-123">下表介绍了每个窗格的功能。</span><span class="sxs-lookup"><span data-stu-id="05cda-123">The following table describes the function of each pane.</span></span>  
  
 [<span data-ttu-id="05cda-124">数据库视图</span><span class="sxs-lookup"><span data-stu-id="05cda-124">Database view</span></span>](#DatabaseView)  
 <span data-ttu-id="05cda-125">显示按数据库架构组织的表、视图、存储过程和表值函数的层次结构视图。</span><span class="sxs-lookup"><span data-stu-id="05cda-125">Displays a hierarchical view of tables, views, stored procedures, and table-valued functions that are organized by database schema.</span></span>  
  
 [<span data-ttu-id="05cda-126">所选字段</span><span class="sxs-lookup"><span data-stu-id="05cda-126">Selected fields</span></span>](#SelectedFields)  
 <span data-ttu-id="05cda-127">在“数据库视图”窗格中显示选定项中的数据库字段名称列表。</span><span class="sxs-lookup"><span data-stu-id="05cda-127">Displays the list of database field names from the selected items in the Database view pane.</span></span> <span data-ttu-id="05cda-128">这些字段将成为报表数据集的字段集合。</span><span class="sxs-lookup"><span data-stu-id="05cda-128">These fields become the field collection for the report dataset.</span></span>  
  
 [<span data-ttu-id="05cda-129">函数参数</span><span class="sxs-lookup"><span data-stu-id="05cda-129">Function parameters</span></span>](#FunctionParameters)  
 <span data-ttu-id="05cda-130">在“数据库视图”窗格中显示存储过程或表值函数的输入参数列表。</span><span class="sxs-lookup"><span data-stu-id="05cda-130">Displays the list of input parameters for stored procedures or table-valued functions in the Database view pane.</span></span>  
  
 [<span data-ttu-id="05cda-131">关系</span><span class="sxs-lookup"><span data-stu-id="05cda-131">Relationships</span></span>](#Relationships)  
 <span data-ttu-id="05cda-132">在“数据库视图”窗格中显示通过表或视图中的选定字段推断出的关系或您手动创建的关系的列表。</span><span class="sxs-lookup"><span data-stu-id="05cda-132">Displays a list of relationships that are inferred from selected fields for tables or views in the Database view pane or the relationships that you created manually.</span></span>  
  
 [<span data-ttu-id="05cda-133">应用的筛选器</span><span class="sxs-lookup"><span data-stu-id="05cda-133">Applied filters</span></span>](#AppliedFilters)  
 <span data-ttu-id="05cda-134">在“数据库视图”中显示表或视图的字段列表和筛选条件。</span><span class="sxs-lookup"><span data-stu-id="05cda-134">Displays a list of fields and filter criteria for tables or views in the Database view.</span></span>  
  
 [<span data-ttu-id="05cda-135">查询结果</span><span class="sxs-lookup"><span data-stu-id="05cda-135">Query results</span></span>](#QueryResults)  
 <span data-ttu-id="05cda-136">显示自动生成的查询的结果集示例数据。</span><span class="sxs-lookup"><span data-stu-id="05cda-136">Displays sample data for the result set for the automatically generated query.</span></span>  
  
###  <a name="database-view-pane"></a><a name="DatabaseView"></a> <span data-ttu-id="05cda-137">“数据库视图”窗格</span><span class="sxs-lookup"><span data-stu-id="05cda-137">Database View Pane</span></span>  
 <span data-ttu-id="05cda-138">“数据库视图”窗格显示您有权查看的数据库对象的元数据，该元数据取决于数据源连接和凭据。</span><span class="sxs-lookup"><span data-stu-id="05cda-138">The Database View pane displays the metadata for database objects that you have the permissions to view, which is determined by the data source connection and credentials.</span></span> <span data-ttu-id="05cda-139">层次结构视图显示按数据库架构组织的数据库对象。</span><span class="sxs-lookup"><span data-stu-id="05cda-139">The hierarchical view displays database objects organized by database schema.</span></span> <span data-ttu-id="05cda-140">展开每个架构的节点可查看表、视图、存储过程及表值函数。</span><span class="sxs-lookup"><span data-stu-id="05cda-140">Expand the node for each schema to view tables, views, stored procedures, and table-valued functions.</span></span> <span data-ttu-id="05cda-141">展开表或视图可显示列。</span><span class="sxs-lookup"><span data-stu-id="05cda-141">Expand a table or view to display the columns.</span></span>  
  
###  <a name="selected-fields-pane"></a><a name="SelectedFields"></a> <span data-ttu-id="05cda-142">“所选字段”窗格</span><span class="sxs-lookup"><span data-stu-id="05cda-142">Selected Fields Pane</span></span>  
 <span data-ttu-id="05cda-143">“所选字段”窗格显示报表数据集中的字段以及要包括在查询中的分组和聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-143">The Selected Fields pane displays the fields in the report dataset and the groups and aggregates to include in the query.</span></span>  
  
 <span data-ttu-id="05cda-144">显示下列选项：</span><span class="sxs-lookup"><span data-stu-id="05cda-144">The following options are displayed:</span></span>  
  
-   <span data-ttu-id="05cda-145">**所选字段** ：显示为表或视图选择的数据库字段，或者为存储过程或表值函数选择的输入参数。</span><span class="sxs-lookup"><span data-stu-id="05cda-145">**Selected fields** Displays the database fields that you select for tables or views or the input parameters for stored procedures or table-valued functions.</span></span> <span data-ttu-id="05cda-146">此窗格中显示的字段将成为报表数据集的字段集合。</span><span class="sxs-lookup"><span data-stu-id="05cda-146">The fields that are displayed in this pane become the field collection for the report dataset.</span></span>  
  
     <span data-ttu-id="05cda-147">使用“报表数据”窗格可查看报表数据集的字段集合。</span><span class="sxs-lookup"><span data-stu-id="05cda-147">Use the Report Data pane to view the field collection for a report dataset.</span></span> <span data-ttu-id="05cda-148">这些字段表示当您查看报表时可在表、图表及其他报表项中显示的数据。</span><span class="sxs-lookup"><span data-stu-id="05cda-148">These fields represent the data you can display in tables, charts, and other report items when you view a report.</span></span>  
  
-   <span data-ttu-id="05cda-149">**分组和聚合** ：在查询中切换是否使用分组和聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-149">**Group and Aggregate** Toggles the use of grouping and aggregates in the query.</span></span> <span data-ttu-id="05cda-150">如果您在添加分组和聚合后禁用分组和聚合功能，则将删除所添加的分组和聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-150">If you turn off the grouping and aggregate feature after you added grouping and aggregates, they are removed.</span></span> <span data-ttu-id="05cda-151">文本“(无)”表示没有使用任何分组和聚合  。</span><span class="sxs-lookup"><span data-stu-id="05cda-151">The text, **(none)**, indicates no grouping and aggregates are used.</span></span> <span data-ttu-id="05cda-152">如果您再次启用分组和聚合功能，则将还原之前的分组和聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-152">If you turn the grouping and aggregate feature on again, the previous grouping and aggregates are restored.</span></span>  
  
-   <span data-ttu-id="05cda-153">**删除字段** ：删除所选的字段。</span><span class="sxs-lookup"><span data-stu-id="05cda-153">**Delete Field** Deletes the selected field.</span></span>  
  
#### <a name="group-and-aggregate"></a><span data-ttu-id="05cda-154">分组和聚合</span><span class="sxs-lookup"><span data-stu-id="05cda-154">Group and Aggregate</span></span>  
 <span data-ttu-id="05cda-155">查询包含大表的数据库时可能会返回很多数据行，这些数据行由于数量过多以至于在报表中没有什么用处，此外，这种查询对于传输大量数据的网络和处理报表的报表服务器的性能会造成负面影响。</span><span class="sxs-lookup"><span data-stu-id="05cda-155">Queries to databases with a large table might return a number of data rows that is too large to be useful in a report and has a performance impact on the network that transports the vast amount of data and on the report server that processes the report.</span></span> <span data-ttu-id="05cda-156">为了限制数据行的数量，查询可以包含对数据库服务器中的数据进行汇总的 SQL 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-156">To limit the number of data rows, the query can include SQL aggregates that summarize the data on the database server.</span></span> <span data-ttu-id="05cda-157">SQL 聚合不同于客户端聚合，它在呈现报表时应用。</span><span class="sxs-lookup"><span data-stu-id="05cda-157">SQL aggregates are different from client-side aggregates, which are applied when the report is rendered.</span></span>  
  
 <span data-ttu-id="05cda-158">聚合功能可对数据进行汇总，并且数据也会进行分组，以支持传递汇总数据的聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-158">Aggregates provide summaries of data and the data is grouped to support the aggregate that deliver the summary data.</span></span> <span data-ttu-id="05cda-159">在查询中使用聚合时，查询返回的其他字段将自动进行分组，并且查询包括 SQL GROUP BY 子句。</span><span class="sxs-lookup"><span data-stu-id="05cda-159">When you use an aggregate in the query, the other fields returned by the query are automatically grouped and the query includes the SQL GROUP BY clause.</span></span> <span data-ttu-id="05cda-160">可以通过仅在 **“分组和聚合”** 列表中使用 **“分组依据”** 选项来汇总数据，而不必添加聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-160">You can summarize data without adding an aggregate by using only the **Grouped by** option in the **Group and Aggregate** list.</span></span> <span data-ttu-id="05cda-161">许多聚合都包括使用 DISTINCT 关键字的版本。</span><span class="sxs-lookup"><span data-stu-id="05cda-161">Many of the aggregates include a version that uses the DISTINCT keyword.</span></span> <span data-ttu-id="05cda-162">包括 DISTINCT 可消除重复的值。</span><span class="sxs-lookup"><span data-stu-id="05cda-162">Including DISTINCT eliminates duplicate values.</span></span>  
  
 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="05cda-163">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 使用 [!INCLUDE[tsql](../../../includes/tsql-md.md)]，[!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] 使用 [!INCLUDE[DWsql](../../includes/dwsql-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="05cda-163">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] uses [!INCLUDE[tsql](../../../includes/tsql-md.md)] and [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] uses [!INCLUDE[DWsql](../../includes/dwsql-md.md)].</span></span> <span data-ttu-id="05cda-164">SQL 语言的这两种分支都支持查询设计器提供的子句、关键字和聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-164">Both dialects of the SQL language support the clause, keyword, and aggregates that the query designer provides.</span></span>  
  
 <span data-ttu-id="05cda-165">有关 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 的详细信息，请参阅 msdn.microsoft.com 上 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [联机丛书](https://go.microsoft.com/fwlink/?LinkId=141687)中的 [Transact-SQL 引用（数据库引擎）](/sql/t-sql/language-reference)。</span><span class="sxs-lookup"><span data-stu-id="05cda-165">For more information about [!INCLUDE[tsql](../../../includes/tsql-md.md)], see [Transact-SQL Reference &#40;Database Engine&#41;](/sql/t-sql/language-reference)in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?LinkId=141687) on msdn.microsoft.com.</span></span>  
  
 <span data-ttu-id="05cda-166">下表列出各种聚合并提供其简要说明。</span><span class="sxs-lookup"><span data-stu-id="05cda-166">The following table list the aggregates and provides brief descriptions of them.</span></span>  
  
|<span data-ttu-id="05cda-167">Aggregate</span><span class="sxs-lookup"><span data-stu-id="05cda-167">Aggregate</span></span>|<span data-ttu-id="05cda-168">说明</span><span class="sxs-lookup"><span data-stu-id="05cda-168">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="05cda-169">Avg</span><span class="sxs-lookup"><span data-stu-id="05cda-169">Avg</span></span>|<span data-ttu-id="05cda-170">返回组中各值的平均值。</span><span class="sxs-lookup"><span data-stu-id="05cda-170">Return the average of the values in a group.</span></span> <span data-ttu-id="05cda-171">实现 SQL AVG 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-171">Implements the SQL AVG aggregate.</span></span>|  
|<span data-ttu-id="05cda-172">Count</span><span class="sxs-lookup"><span data-stu-id="05cda-172">Count</span></span>|<span data-ttu-id="05cda-173">返回组中项数。</span><span class="sxs-lookup"><span data-stu-id="05cda-173">Return the number of items in a group.</span></span> <span data-ttu-id="05cda-174">实现 SQL COUNT 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-174">Implements the SQL COUNT aggregate.</span></span>|  
|<span data-ttu-id="05cda-175">Count Big</span><span class="sxs-lookup"><span data-stu-id="05cda-175">Count Big</span></span>|<span data-ttu-id="05cda-176">返回组中的项数。</span><span class="sxs-lookup"><span data-stu-id="05cda-176">Returns the number of items in a group.</span></span> <span data-ttu-id="05cda-177">这是 SQL COUNT_BIG 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-177">It is the SQL COUNT_BIG aggregate.</span></span> <span data-ttu-id="05cda-178">COUNT 和 COUNT_BIG 之间的区别是 COUNT_BIG 始终返回一个 `bigint` 数据类型的值。</span><span class="sxs-lookup"><span data-stu-id="05cda-178">The difference between COUNT and COUNT_BIG is that COUNT_BIG always returns a `bigint` data type value.</span></span>|  
|<span data-ttu-id="05cda-179">Min</span><span class="sxs-lookup"><span data-stu-id="05cda-179">Min</span></span>|<span data-ttu-id="05cda-180">返回组中的最小值。</span><span class="sxs-lookup"><span data-stu-id="05cda-180">Returns the minimum value in a group.</span></span> <span data-ttu-id="05cda-181">实现 SQL MIN 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-181">Implements the SQL MIN aggregate.</span></span>|  
|<span data-ttu-id="05cda-182">Max</span><span class="sxs-lookup"><span data-stu-id="05cda-182">Max</span></span>|<span data-ttu-id="05cda-183">返回组中的最大值。</span><span class="sxs-lookup"><span data-stu-id="05cda-183">Returns the maximum value in a group.</span></span> <span data-ttu-id="05cda-184">实现 SQL MAX 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-184">Implements the SQL MAX aggregate.</span></span>|  
|<span data-ttu-id="05cda-185">StDev</span><span class="sxs-lookup"><span data-stu-id="05cda-185">StDev</span></span>|<span data-ttu-id="05cda-186">返回组中所有值的统计标准偏差。</span><span class="sxs-lookup"><span data-stu-id="05cda-186">Returns the statistical standard deviation of all values in a group.</span></span> <span data-ttu-id="05cda-187">实现 SQL STDEV 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-187">Implements the SQL STDEV aggregate.</span></span>|  
|<span data-ttu-id="05cda-188">StDevP</span><span class="sxs-lookup"><span data-stu-id="05cda-188">StDevP</span></span>|<span data-ttu-id="05cda-189">返回指定组中所有值的总体标准偏差。</span><span class="sxs-lookup"><span data-stu-id="05cda-189">Returns the statistical standard deviation for the population of the all values in a group specified expression.</span></span> <span data-ttu-id="05cda-190">实现 SQL STDEVP 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-190">Implements the SQL STDEVP aggregate.</span></span>|  
|<span data-ttu-id="05cda-191">SUM</span><span class="sxs-lookup"><span data-stu-id="05cda-191">Sum</span></span>|<span data-ttu-id="05cda-192">返回组中所有值的总和。</span><span class="sxs-lookup"><span data-stu-id="05cda-192">Returns the sum of all the values in the group.</span></span> <span data-ttu-id="05cda-193">实现 SQL SUM 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-193">Implements the SQL SUM aggregate.</span></span>|  
|<span data-ttu-id="05cda-194">Var</span><span class="sxs-lookup"><span data-stu-id="05cda-194">Var</span></span>|<span data-ttu-id="05cda-195">返回组中所有值的方差。</span><span class="sxs-lookup"><span data-stu-id="05cda-195">Returns the statistical variance of all values in the group.</span></span> <span data-ttu-id="05cda-196">实现 SQL VAR 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-196">Implements the SQL VAR aggregate.</span></span>|  
|<span data-ttu-id="05cda-197">VarP</span><span class="sxs-lookup"><span data-stu-id="05cda-197">VarP</span></span>|<span data-ttu-id="05cda-198">返回组中所有值的总体方差。</span><span class="sxs-lookup"><span data-stu-id="05cda-198">Returns the statistical variance for the population for all values in the group.</span></span> <span data-ttu-id="05cda-199">实现 SQL VARP 聚合。</span><span class="sxs-lookup"><span data-stu-id="05cda-199">Implements the SQL VARP aggregate.</span></span>|  
|<span data-ttu-id="05cda-200">Avg Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-200">Avg Distinct</span></span>|<span data-ttu-id="05cda-201">返回唯一项的均值。</span><span class="sxs-lookup"><span data-stu-id="05cda-201">Returns unique averages.</span></span> <span data-ttu-id="05cda-202">实现 AVG 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-202">Implements a combination of the AVG aggregation and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-203">Count Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-203">Count Distinct</span></span>|<span data-ttu-id="05cda-204">返回唯一项的计数。</span><span class="sxs-lookup"><span data-stu-id="05cda-204">Returns unique counts.</span></span> <span data-ttu-id="05cda-205">实现 COUNT 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-205">Implements a combination of the COUNT aggregate and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-206">Count Big Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-206">Count Big Distinct</span></span>|<span data-ttu-id="05cda-207">返回组中唯一项的计数。</span><span class="sxs-lookup"><span data-stu-id="05cda-207">Return unique count of items in a group.</span></span> <span data-ttu-id="05cda-208">实现 COUNT_BIG 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-208">Implements a combination of the COUNT_BIG aggregate and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-209">StDev Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-209">StDev Distinct</span></span>|<span data-ttu-id="05cda-210">返回唯一项的标准偏差。</span><span class="sxs-lookup"><span data-stu-id="05cda-210">Returns unique statistical standard deviations.</span></span> <span data-ttu-id="05cda-211">实现 STDEV 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-211">Implements a combination of the STDEV aggregate and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-212">StDevP Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-212">StDevP Distinct</span></span>|<span data-ttu-id="05cda-213">返回唯一项的标准偏差。</span><span class="sxs-lookup"><span data-stu-id="05cda-213">Returns unique statistical standard deviations.</span></span> <span data-ttu-id="05cda-214">实现 STDEVP 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-214">Implements combination of the STDEVP aggregate and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-215">Sum Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-215">Sum Distinct</span></span>|<span data-ttu-id="05cda-216">返回唯一项的总和。</span><span class="sxs-lookup"><span data-stu-id="05cda-216">Returns unique sums.</span></span> <span data-ttu-id="05cda-217">实现 SUM 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-217">Implements a combination of the SUM aggregate and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-218">Var Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-218">Var Distinct</span></span>|<span data-ttu-id="05cda-219">返回唯一项的方差。</span><span class="sxs-lookup"><span data-stu-id="05cda-219">Returns unique statistical variances.</span></span> <span data-ttu-id="05cda-220">实现 VAR 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-220">Implements a combination of the VAR aggregate and the DISTINCT keyword.</span></span>|  
|<span data-ttu-id="05cda-221">VarP Distinct</span><span class="sxs-lookup"><span data-stu-id="05cda-221">VarP Distinct</span></span>|<span data-ttu-id="05cda-222">返回唯一项的方差。</span><span class="sxs-lookup"><span data-stu-id="05cda-222">Returns unique statistical variances.</span></span> <span data-ttu-id="05cda-223">实现 VARP 聚合和 DISTINCT 关键字的组合。</span><span class="sxs-lookup"><span data-stu-id="05cda-223">Implements combination of the VARP aggregate and the DISTINCT keyword.</span></span>|  
  
###  <a name="function-parameters-pane"></a><a name="FunctionParameters"></a> <span data-ttu-id="05cda-224">“函数参数”窗格</span><span class="sxs-lookup"><span data-stu-id="05cda-224">Function Parameters Pane</span></span>  
 <span data-ttu-id="05cda-225">“函数参数”窗格显示存储过程或表值函数的参数。</span><span class="sxs-lookup"><span data-stu-id="05cda-225">The Function Parameters pane displays the parameters for a stored procedure or table-valued function.</span></span> <span data-ttu-id="05cda-226">显示以下列：</span><span class="sxs-lookup"><span data-stu-id="05cda-226">The following columns are displayed:</span></span>  
  
-   <span data-ttu-id="05cda-227">**参数名称** ：显示由存储过程或表值函数定义的参数名称。</span><span class="sxs-lookup"><span data-stu-id="05cda-227">**Parameter Name** Displays the name of the parameter that is defined by the stored procedure or table-valued function.</span></span>  
  
-   <span data-ttu-id="05cda-228">**值** 在查询运行以检索在设计时在“查询结果”窗格中显示的数据时用于查询参数的值。</span><span class="sxs-lookup"><span data-stu-id="05cda-228">**Value** A value to use for the parameter when the query runs to retrieve data to display in the Query Results pane at design-time.</span></span> <span data-ttu-id="05cda-229">当报表在运行时运行时不使用此值。</span><span class="sxs-lookup"><span data-stu-id="05cda-229">This value is not used when the report runs at run-time.</span></span>  
  
###  <a name="relationships-pane"></a><a name="Relationships"></a> <span data-ttu-id="05cda-230">“关系”窗格</span><span class="sxs-lookup"><span data-stu-id="05cda-230">Relationships Pane</span></span>  
 <span data-ttu-id="05cda-231">“关系”窗格显示联接关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-231">The Relationships pane displays the join relationships.</span></span> <span data-ttu-id="05cda-232">可以根据从数据库元数据检索的外键关系自动检测到关系，也可以手动创建关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-232">The relationships can be detected automatically from the foreign key relationships that are retrieved from the database metadata or you can create them manually.</span></span>  
  
 <span data-ttu-id="05cda-233">显示下列选项：</span><span class="sxs-lookup"><span data-stu-id="05cda-233">The following options are displayed:</span></span>  
  
-   <span data-ttu-id="05cda-234">**自动检测** ：切换可自动在表之间创建关系的自动检测功能。</span><span class="sxs-lookup"><span data-stu-id="05cda-234">**Auto Detect** Toggles the auto-detect feature that automatically creates relationships between tables.</span></span> <span data-ttu-id="05cda-235">如果启用自动检测，则查询设计器将根据表中的外键创建关系；否则，您必须手动创建关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-235">If auto detect is turned on, the query designer creates relationships from foreign keys in tables; otherwise, you must create the relationships manually.</span></span> <span data-ttu-id="05cda-236">当您在 **“数据库视图”** 窗格中选择表时，自动检测将尝试自动创建关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-236">When you select tables in the **Database view** pane, auto detect automatically attempts to create relationships.</span></span> <span data-ttu-id="05cda-237">如果您在手动创建联接后启用自动检测，则这些联接将被丢弃。</span><span class="sxs-lookup"><span data-stu-id="05cda-237">If you turn on auto detect after you have manually created joins, those joins will be discarded.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="05cda-238">与 [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] 一起使用时，由于不会提供创建联接所需的元数据，因此无法自动检测到关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-238">When using with [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)] the metadata needed to create joins is not provided and relationships cannot be detected automatically.</span></span> <span data-ttu-id="05cda-239">如果您的查询从 [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)]中检索数据，则必须手动创建所有表联接。</span><span class="sxs-lookup"><span data-stu-id="05cda-239">If your query retrieves data from [!INCLUDE[ssDWCurrentFull](../../../includes/ssdwcurrentfull-md.md)], all table joins must be created manually.</span></span>  
  
-   <span data-ttu-id="05cda-240">**添加关系** ：向 **“关系”** 列表中添加关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-240">**Add Relationship** Adds a relationship to the **Relationship** list.</span></span>  
  
     <span data-ttu-id="05cda-241">如果启用自动检测，则查询中使用的列所在的表将会自动添加到 **“关系”** 列表。</span><span class="sxs-lookup"><span data-stu-id="05cda-241">If auto detect is turned on, the tables from which columns are used in the query are automatically added to the **Relationship** list.</span></span> <span data-ttu-id="05cda-242">当自动检测确定两个表相关时，会将其中一个表添加到 **“左表”** 列，并将另一个表添加到 **“右表”** 列，并在这两个表之间创建内部联接。</span><span class="sxs-lookup"><span data-stu-id="05cda-242">When auto detect identifies that two tables are related, one table is added to the **Left Table** column, the other the **Right Table** column, and an inner join is created between them.</span></span> <span data-ttu-id="05cda-243">每个关系都会在查询中生成一个 JOIN 子句。</span><span class="sxs-lookup"><span data-stu-id="05cda-243">Each relationship generates a JOIN clause in the query.</span></span> <span data-ttu-id="05cda-244">如果各表不相关，则所有表都将列在 **“左表”** 列，并且 **“联接类型”** 列指示对应表与其他表无关。</span><span class="sxs-lookup"><span data-stu-id="05cda-244">If the tables are not related, all of them are listed in **Left Table** column and the **Join Type** column indicates the tables are not related to other tables.</span></span> <span data-ttu-id="05cda-245">如果启用自动检测，则无法在自动检测已确定无关的表之间手动添加关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-245">When auto detect is turned on, you cannot manually add relationships between tables that auto detect determines are unrelated.</span></span>  
  
     <span data-ttu-id="05cda-246">如果禁用自动检测，则可以添加和更改表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-246">If auto detect is turned off, you can add and change relationships between tables.</span></span> <span data-ttu-id="05cda-247">单击 **“编辑字段”** 可指定要用于联接两个表的字段。</span><span class="sxs-lookup"><span data-stu-id="05cda-247">Click **Edit Fields** to specify the fields to use to join the two tables.</span></span>  
  
     <span data-ttu-id="05cda-248">关系在 **“关系”** 列表中显示的顺序即是将在查询中执行联接的顺序。</span><span class="sxs-lookup"><span data-stu-id="05cda-248">The order in which the relationships appear in the **Relationship** list is the order in which the joins will be performed in the query.</span></span> <span data-ttu-id="05cda-249">您可以通过在列表中上下移动关系来更改关系的顺序。</span><span class="sxs-lookup"><span data-stu-id="05cda-249">You can change the order of relationships by moving them up and down in the list.</span></span>  
  
     <span data-ttu-id="05cda-250">当在查询中使用多个关系时，除第一个关系以外的所有关系中都必须有一个表被前一个关系引用。</span><span class="sxs-lookup"><span data-stu-id="05cda-250">When using multiple relationships in a query, one of the tables in each relationship, except the first one, must be referenced in a proceeding relationships.</span></span>  
  
     <span data-ttu-id="05cda-251">如果某个关系中的两个表都被前一个关系引用，则该关系将不生成单独的联接子句，而是将联接条件添加到为上一个关系生成的联接子句中。</span><span class="sxs-lookup"><span data-stu-id="05cda-251">If both tables in a relationship are referenced by a preceding relationship then the relationship does not generate a separate join clause; instead a join condition is added to the join clause generated for the preceding relationship.</span></span> <span data-ttu-id="05cda-252">联接类型可从引用相同表的上一个关系中推断出来。</span><span class="sxs-lookup"><span data-stu-id="05cda-252">The join type is inferred by the preceding relationship that referenced the same tables.</span></span>  
  
-   <span data-ttu-id="05cda-253">**编辑字段** ：打开 **“编辑相关字段”** 对话框，您可以在其中添加和修改表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-253">**Edit Fields** Opens the **Edit Related Fields** dialog box in which you add and modify relationships between tables.</span></span> <span data-ttu-id="05cda-254">在左表和右表中选择要联接的字段。</span><span class="sxs-lookup"><span data-stu-id="05cda-254">You chose the fields in the right and left tables to join.</span></span> <span data-ttu-id="05cda-255">可以将左表和右表中的多个字段联接起来，以便在一个关系中指定多个联接条件。</span><span class="sxs-lookup"><span data-stu-id="05cda-255">You can join multiple fields from the left table and right table to specify multiple join conditions in a relationship.</span></span> <span data-ttu-id="05cda-256">联接左表和右表的两个字段的名称不必相同。</span><span class="sxs-lookup"><span data-stu-id="05cda-256">The two fields that join the left and right tables do not need to have the same name.</span></span> <span data-ttu-id="05cda-257">联接字段的数据类型必须兼容。</span><span class="sxs-lookup"><span data-stu-id="05cda-257">The joined fields must have compatible data types.</span></span>  
  
-   <span data-ttu-id="05cda-258">**删除关系**  删除所选的关系。 </span><span class="sxs-lookup"><span data-stu-id="05cda-258">**Delete Relationship**  Deletes the selected relationship **.**</span></span>  
  
-   <span data-ttu-id="05cda-259">**上移** 和 **下移** ：在 **“关系”** 列表中向上或向下移动关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-259">**Move Up** and **Move Down** Moves relationships up or down the **Relationship** list.</span></span> <span data-ttu-id="05cda-260">关系在查询中的放置顺序会影响到查询结果。</span><span class="sxs-lookup"><span data-stu-id="05cda-260">The sequence in which relationships are placed in the query can impact the query results.</span></span> <span data-ttu-id="05cda-261">关系将按其在 **“关系”** 列表中的显示顺序添加到查询中。</span><span class="sxs-lookup"><span data-stu-id="05cda-261">The relationships are added to the query in the order they appear in the **Relationship** list.</span></span>  
  
 <span data-ttu-id="05cda-262">显示以下列：</span><span class="sxs-lookup"><span data-stu-id="05cda-262">The following columns are displayed:</span></span>  
  
-   <span data-ttu-id="05cda-263">**左表** ：显示联接关系中第一个表的名称。</span><span class="sxs-lookup"><span data-stu-id="05cda-263">**Left Table** Displays the name of the first table that is part of a join relationship.</span></span>  
  
-   <span data-ttu-id="05cda-264">**联接类型** ：显示自动生成的查询中所使用的 SQL JOIN 语句的类型。</span><span class="sxs-lookup"><span data-stu-id="05cda-264">**Join Type** Displays the type of SQL JOIN statement that is used in the automatically generated query.</span></span> <span data-ttu-id="05cda-265">默认情况下，如果检测到外键约束，将会使用 INNER JOIN。</span><span class="sxs-lookup"><span data-stu-id="05cda-265">By default, if a foreign key constraint is detected, INNER JOIN is used.</span></span> <span data-ttu-id="05cda-266">其他联接类型可以为 LEFT JOIN 或 RIGHT JOIN。</span><span class="sxs-lookup"><span data-stu-id="05cda-266">Other joins types can be LEFT JOIN or RIGHT JOIN.</span></span> <span data-ttu-id="05cda-267">如果不应用所有这些联接类型，则 **“联接类型”** 列将显示 **“无关”** 。</span><span class="sxs-lookup"><span data-stu-id="05cda-267">If none of these join types apply, the **Join Type** column displays **Unrelated**.</span></span> <span data-ttu-id="05cda-268">不会为无关表创建 CROSS JOIN 联接；相反，您必须通过联接左表和右表中的列来手动创建关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-268">No CROSS JOIN joins are created for unrelated tables; instead, you must manually create relationships by joining columns in the left and right tables.</span></span> <span data-ttu-id="05cda-269">有关 JOIN 的类型的详细信息，请参阅 msdn.microsoft.com 上的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [联机丛书](https://go.microsoft.com/fwlink/?LinkId=141687) 中的“JOIN Fundamentals”（JOIN 基础知识）。</span><span class="sxs-lookup"><span data-stu-id="05cda-269">For more information about types of JOINs, see "JOIN Fundamentals" in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [Books Online](https://go.microsoft.com/fwlink/?LinkId=141687) on msdn.microsoft.com..</span></span>  
  
-   <span data-ttu-id="05cda-270">**右表** ：显示联接关系中第二个表的名称。</span><span class="sxs-lookup"><span data-stu-id="05cda-270">**Right Table** Displays the name of the second table in the join relationship.</span></span>  
  
-   <span data-ttu-id="05cda-271">**联接字段** ：列出联接字段对，如果某个关系具有多个联接条件，则各个联接字段对用逗号 (,) 分隔。</span><span class="sxs-lookup"><span data-stu-id="05cda-271">**Join Fields** Lists the pairs of joined fields, if a relationship has multiple join conditions the pairs of joined fields are separated by commas (,).</span></span>  
  
###  <a name="applied-filters-pane"></a><a name="AppliedFilters"></a> <span data-ttu-id="05cda-272">“应用的筛选器”窗格</span><span class="sxs-lookup"><span data-stu-id="05cda-272">Applied Filters Pane</span></span>  
 <span data-ttu-id="05cda-273">“应用的筛选器”窗格显示用于限定在运行时检索的数据行数的条件。</span><span class="sxs-lookup"><span data-stu-id="05cda-273">The Applied Filters pane displays the criteria that are used to limit the number of rows of data that are retrieved at run time.</span></span> <span data-ttu-id="05cda-274">此窗格中指定的条件用于生成 SQL WHERE 子句。</span><span class="sxs-lookup"><span data-stu-id="05cda-274">Criteria specified in this pane are used to generate an SQL WHERE clause.</span></span> <span data-ttu-id="05cda-275">如果选择了参数选项，则会自动创建报表参数。</span><span class="sxs-lookup"><span data-stu-id="05cda-275">When you select the parameter option, a report parameter is automatically created.</span></span> <span data-ttu-id="05cda-276">通过基于查询参数的报表参数，用户可为查询指定值，以便控制报表中的数据。</span><span class="sxs-lookup"><span data-stu-id="05cda-276">Report parameters that are based on query parameters enable a user to specify values for the query to control the data in the report.</span></span>  
  
 <span data-ttu-id="05cda-277">以下列会显示：</span><span class="sxs-lookup"><span data-stu-id="05cda-277">The following columns are displayed:</span></span>  
  
-   <span data-ttu-id="05cda-278">**字段名称** ：显示应用该条件的字段的名称。</span><span class="sxs-lookup"><span data-stu-id="05cda-278">**Field Name** Displays the name of the field to apply the criteria to.</span></span>  
  
-   <span data-ttu-id="05cda-279">**运算符** ：显示要在筛选表达式中使用的运算。</span><span class="sxs-lookup"><span data-stu-id="05cda-279">**Operator** Displays the operation to use to in the filter expression.</span></span>  
  
-   <span data-ttu-id="05cda-280">**值** ：显示要在筛选表达式中使用的值。</span><span class="sxs-lookup"><span data-stu-id="05cda-280">**Value** Displays the value to use in the filter expression.</span></span>  
  
-   <span data-ttu-id="05cda-281">**参数** ：显示用于为查询添加查询参数的选项。</span><span class="sxs-lookup"><span data-stu-id="05cda-281">**Parameter** Displays the option to add a query parameter to the query.</span></span> <span data-ttu-id="05cda-282">使用“数据集属性”可查看查询参数与报表参数之间的关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-282">Use the Dataset properties to view the relationship between query parameter and report parameter.</span></span>  
  
###  <a name="query-results-pane"></a><a name="QueryResults"></a> <span data-ttu-id="05cda-283">“查询结果”窗格</span><span class="sxs-lookup"><span data-stu-id="05cda-283">Query Results Pane</span></span>  
 <span data-ttu-id="05cda-284">“查询结果”窗格显示由其他窗格中的选项指定并且自动生成的查询的结果。</span><span class="sxs-lookup"><span data-stu-id="05cda-284">The Query results pane displays the results for the automatically generated query that is specified by selections in the other panes.</span></span> <span data-ttu-id="05cda-285">结果集中的列是您在“所选字段”窗格中指定的字段，行数据受限于您在“应用的筛选器”窗格中指定的筛选器。</span><span class="sxs-lookup"><span data-stu-id="05cda-285">The columns in the result set are the fields that you specify in the Selected Fields pane and the row data is limited by the filters that you specify in the Applied Filters pane.</span></span> <span data-ttu-id="05cda-286">如果查询包括聚合，则结果集将包括新的聚合列。</span><span class="sxs-lookup"><span data-stu-id="05cda-286">If the query includes aggregates the result set includes the new aggregate columns.</span></span> <span data-ttu-id="05cda-287">例如，如果使用 Count 聚合对列 **Color** 进行聚合，则查询结果将包括新列。</span><span class="sxs-lookup"><span data-stu-id="05cda-287">For example, if the column **Color** is aggregated using the Count aggregate, the query results include a new column.</span></span> <span data-ttu-id="05cda-288">默认情况下，此列名为 **Count_Color**。</span><span class="sxs-lookup"><span data-stu-id="05cda-288">By default, this column is named **Count_Color**.</span></span>  
  
 <span data-ttu-id="05cda-289">此数据表示在运行查询时数据源中的值。</span><span class="sxs-lookup"><span data-stu-id="05cda-289">This data represents values from the data source at the time that you run the query.</span></span> <span data-ttu-id="05cda-290">此数据未保存在报表定义中。报表中的实际数据是在处理报表时进行检索的。</span><span class="sxs-lookup"><span data-stu-id="05cda-290">The data is not saved in the report definition .The actual data in the report is retrieved when the report is processed.</span></span>  
  
 <span data-ttu-id="05cda-291">结果集中的排序顺序取决于从数据源检索数据的顺序。</span><span class="sxs-lookup"><span data-stu-id="05cda-291">Sort order in the result set is determined by the order the data is retrieved from the data source.</span></span> <span data-ttu-id="05cda-292">可以通过修改查询来更改排序顺序，也可以在为报表检索数据后更改。</span><span class="sxs-lookup"><span data-stu-id="05cda-292">Sort order can be changed by modifying the query or after the data is retrieved for the report.</span></span>  
  
### <a name="graphical-query-designer-toolbar"></a><span data-ttu-id="05cda-293">图形查询设计器工具栏</span><span class="sxs-lookup"><span data-stu-id="05cda-293">Graphical Query Designer Toolbar</span></span>  
 <span data-ttu-id="05cda-294">关系查询设计器工作栏提供了以下按钮，帮助您指定或查看查询结果。</span><span class="sxs-lookup"><span data-stu-id="05cda-294">The relational query designer toolbar provides the following buttons to help you specify or view the results of a query.</span></span>  
  
|<span data-ttu-id="05cda-295">Button</span><span class="sxs-lookup"><span data-stu-id="05cda-295">Button</span></span>|<span data-ttu-id="05cda-296">描述</span><span class="sxs-lookup"><span data-stu-id="05cda-296">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="05cda-297">**编辑为文本**</span><span class="sxs-lookup"><span data-stu-id="05cda-297">**Edit As Text**</span></span>|<span data-ttu-id="05cda-298">切换到基于文本的查询设计器，可查看自动生成的查询，也可以修改查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-298">Toggle to the text-based query designer to view the automatically generated query or to modify the query.</span></span>|  
|<span data-ttu-id="05cda-299">**导入**</span><span class="sxs-lookup"><span data-stu-id="05cda-299">**Import**</span></span>|<span data-ttu-id="05cda-300">从文件或报表中导入现有的查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-300">Import an existing query from a file or report.</span></span> <span data-ttu-id="05cda-301">支持 .sql 和 .rdl 文件类型。</span><span class="sxs-lookup"><span data-stu-id="05cda-301">File types .sql and .rdl are supported.</span></span>|  
|<span data-ttu-id="05cda-302">**运行查询**</span><span class="sxs-lookup"><span data-stu-id="05cda-302">**Run Query**</span></span>|<span data-ttu-id="05cda-303">运行查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-303">Run the query.</span></span> <span data-ttu-id="05cda-304">“查询结果”窗格显示结果集。</span><span class="sxs-lookup"><span data-stu-id="05cda-304">The Query results pane displays the result set.</span></span>|  
  
## <a name="understanding-automatically-generated-queries"></a><span data-ttu-id="05cda-305">了解自动生成的查询</span><span class="sxs-lookup"><span data-stu-id="05cda-305">Understanding Automatically Generated Queries</span></span>  
 <span data-ttu-id="05cda-306">当您在“数据库视图”窗格中选择表和列或存储过程及视图时，查询设计器将从数据库架构中检索主键与外键的基本关系。</span><span class="sxs-lookup"><span data-stu-id="05cda-306">When you select tables and columns or stored procedures and views in the Database View pane, the query designer retrieves the underlying primary key and foreign key relationships from the database schema.</span></span> <span data-ttu-id="05cda-307">通过分析这些关系，查询设计器会检测到两个表之间的关系并将联接添加到查询中。</span><span class="sxs-lookup"><span data-stu-id="05cda-307">By analyzing these relationships, the query designer detects relationships between two tables and adds joins to the query.</span></span> <span data-ttu-id="05cda-308">然后，您即可通过添加分组和聚合、添加或更改关系并添加筛选器来修改查询。</span><span class="sxs-lookup"><span data-stu-id="05cda-308">You can then modify the query by adding groups and aggregates, adding or changing relationships, and adding filters.</span></span> <span data-ttu-id="05cda-309">若要查看显示要从中检索数据的列、表之间的联接以及任何分组或聚合的查询文本，请单击 **“编辑为文本”**。</span><span class="sxs-lookup"><span data-stu-id="05cda-309">To view the query text that shows the columns from which to retrieve data, the joins between tables, and any groups or aggregates, click **Edit As Text**.</span></span>  
  
## <a name="text-based-query-designer"></a><span data-ttu-id="05cda-310">基于文本的查询设计器</span><span class="sxs-lookup"><span data-stu-id="05cda-310">Text-Based Query Designer</span></span>  
 <span data-ttu-id="05cda-311">若要最大限度地控制查询，请使用基于文本的查询设计器。</span><span class="sxs-lookup"><span data-stu-id="05cda-311">For the most control over your query, use the text-based query designer.</span></span> <span data-ttu-id="05cda-312">若要切换到基于文本的查询设计器，请在工具栏中单击“编辑为文本”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="05cda-312">To switch to the text-based query designer, in the toolbar, click **Edit As Text**.</span></span> <span data-ttu-id="05cda-313">在基于文本的查询设计器中编辑查询之后，就不能再使用关系查询设计器了。</span><span class="sxs-lookup"><span data-stu-id="05cda-313">After you edit a query in the text-based query designer, you can no longer use the relational query designer.</span></span> <span data-ttu-id="05cda-314">随后，查询将始终在基于文本的查询设计器中打开。</span><span class="sxs-lookup"><span data-stu-id="05cda-314">The query will then always open in the text-based query designer.</span></span> <span data-ttu-id="05cda-315">有关详细信息，请参阅[基于文本的查询设计器用户界面（报表生成器）](text-based-query-designer-user-interface-report-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="05cda-315">For more information, see [Text-based Query Designer User Interface &#40;Report Builder&#41;](text-based-query-designer-user-interface-report-builder.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="05cda-316">另请参阅</span><span class="sxs-lookup"><span data-stu-id="05cda-316">See Also</span></span>  
 [<span data-ttu-id="05cda-317">查询设计器（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="05cda-317">Query Designers &#40;Report Builder&#41;</span></span>](../query-designers-report-builder.md)  
  
  
