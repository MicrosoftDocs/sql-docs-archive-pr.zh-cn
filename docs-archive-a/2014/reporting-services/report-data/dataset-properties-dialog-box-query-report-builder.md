---
title: “数据集属性”对话框 ->“查询”（报表生成器）| Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10024"
ms.assetid: 75432318-0b00-4797-917c-0a2e74f9d951
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: a3c9df366bc36302cc7faf22b6efb6c3d1017b5c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87694285"
---
# <a name="dataset-properties-dialog-box-query-report-builder"></a><span data-ttu-id="10804-102">“数据集属性”对话框 -&gt;“查询”（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="10804-102">Dataset Properties Dialog Box, Query (Report Builder)</span></span>
  <span data-ttu-id="10804-103">选择 **“数据集属性”** 对话框中的 **“查询”** 可以从报表服务器选择共享数据集或创建嵌入数据集。</span><span class="sxs-lookup"><span data-stu-id="10804-103">Select **Query** on the **Dataset Properties** dialog box to choose a shared dataset from a report server or to create an embedded dataset.</span></span> <span data-ttu-id="10804-104">对于嵌入数据集，必须选择一个数据源并生成查询。</span><span class="sxs-lookup"><span data-stu-id="10804-104">For an embedded dataset, you must choose a data source and build a query.</span></span>  
  
 <span data-ttu-id="10804-105">与 **“数据集属性”** 对话框相关的主题还有：</span><span class="sxs-lookup"><span data-stu-id="10804-105">The **Dataset Properties** dialog box includes the following:</span></span>  
  
-   [<span data-ttu-id="10804-106">“数据集属性”对话框 ->“参数”（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="10804-106">Dataset Properties Dialog Box, Parameters &#40;Report Builder&#41;</span></span>](../dataset-properties-dialog-box-parameters-report-builder.md)  
  
-   [<span data-ttu-id="10804-107">“数据集属性”对话框 ->“字段”（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="10804-107">Dataset Properties Dialog Box, Fields &#40;Report Builder&#41;</span></span>](../dataset-properties-dialog-box-fields-report-builder.md)  
  
-   [<span data-ttu-id="10804-108">“数据集属性”对话框 ->“选项”（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="10804-108">Dataset Properties Dialog Box, Options &#40;Report Builder&#41;</span></span>](dataset-properties-dialog-box-options-report-builder.md)  
  
-   [<span data-ttu-id="10804-109">“数据集属性”对话框 ->“筛选器”（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="10804-109">Dataset Properties Dialog Box, Filters &#40;Report Builder&#41;</span></span>](../dataset-properties-dialog-box-filters-report-builder.md)  
  
 <span data-ttu-id="10804-110">有关详细信息，请参阅 [报表的嵌入数据集和共享数据集（报表生成器和 SSRS）](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="10804-110">For more information, see [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span></span>  
  
## <a name="options"></a><span data-ttu-id="10804-111">选项</span><span class="sxs-lookup"><span data-stu-id="10804-111">Options</span></span>  
 <span data-ttu-id="10804-112">**名称**</span><span class="sxs-lookup"><span data-stu-id="10804-112">**Name**</span></span>  
 <span data-ttu-id="10804-113">为数据集键入名称。</span><span class="sxs-lookup"><span data-stu-id="10804-113">Type a name for the dataset.</span></span> <span data-ttu-id="10804-114">该名称不能与报表中的任何数据区域或组的名称相同。</span><span class="sxs-lookup"><span data-stu-id="10804-114">The name cannot be the same as a name for any data region or group in the report.</span></span>  
  
 <span data-ttu-id="10804-115">**使用共享数据集**</span><span class="sxs-lookup"><span data-stu-id="10804-115">**Use a shared dataset**</span></span>  
 <span data-ttu-id="10804-116">选择此选项可以使用报表服务器中的预定义数据集。</span><span class="sxs-lookup"><span data-stu-id="10804-116">Select this option to use a predefined dataset from the report server.</span></span>  
  
 <span data-ttu-id="10804-117">**“浏览”**</span><span class="sxs-lookup"><span data-stu-id="10804-117">**Browse**</span></span>  
 <span data-ttu-id="10804-118">找到报表服务器或 SharePoint 站点上的文件夹，然后选择一个共享数据集 (.rsd)。</span><span class="sxs-lookup"><span data-stu-id="10804-118">Browse to a folder on a report server or SharePoint site and select a shared dataset (.rsd).</span></span>  
  
 <span data-ttu-id="10804-119">**在我的报表中使用嵌入数据集**</span><span class="sxs-lookup"><span data-stu-id="10804-119">**Use an embedded dataset in my report**</span></span>  
 <span data-ttu-id="10804-120">选择此选项可以创建仅供此报表使用的数据集。</span><span class="sxs-lookup"><span data-stu-id="10804-120">Select this option to create a dataset for use only by this report.</span></span>  
  
 <span data-ttu-id="10804-121">**数据源**</span><span class="sxs-lookup"><span data-stu-id="10804-121">**Data Source**</span></span>  
 <span data-ttu-id="10804-122">选择数据集要基于的数据源。</span><span class="sxs-lookup"><span data-stu-id="10804-122">Select the data source on which to base the dataset.</span></span> <span data-ttu-id="10804-123">若要创建新的数据源，单击 **“新建”**。</span><span class="sxs-lookup"><span data-stu-id="10804-123">To create a new data source, click **New**.</span></span>  
  
 <span data-ttu-id="10804-124">**查询类型**</span><span class="sxs-lookup"><span data-stu-id="10804-124">**Query type**</span></span>  
 <span data-ttu-id="10804-125">选择要用于数据集的命令或查询的类型。</span><span class="sxs-lookup"><span data-stu-id="10804-125">Select the type of command or query to use for the dataset.</span></span> <span data-ttu-id="10804-126">选择 **Text** 可运行从数据库中检索数据的查询。</span><span class="sxs-lookup"><span data-stu-id="10804-126">Select **Text** to run a query to retrieve data from the database.</span></span> <span data-ttu-id="10804-127">选择 **Table** 可使用 **的** TableDirect [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能选择表内的所有字段。</span><span class="sxs-lookup"><span data-stu-id="10804-127">Select **Table** to use the **TableDirect** feature of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to select all the fields within a table.</span></span> <span data-ttu-id="10804-128">选择 **Stored Procedure** 可按名称运行存储过程。</span><span class="sxs-lookup"><span data-stu-id="10804-128">Select **Stored Procedure** to run a stored procedure by name.</span></span> <span data-ttu-id="10804-129">默认情况下将选择**Text** ，该类型适用于大多数查询。</span><span class="sxs-lookup"><span data-stu-id="10804-129">**Text** is selected by default and is used for most queries.</span></span> <span data-ttu-id="10804-130">若要编辑选中的数据源查询，单击 **“查询设计器”**。</span><span class="sxs-lookup"><span data-stu-id="10804-130">To edit the selected data source query, click **Query Designer**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="10804-131">不是任何数据源都支持所有查询类型。</span><span class="sxs-lookup"><span data-stu-id="10804-131">Not all query types are supported by all data sources.</span></span> <span data-ttu-id="10804-132">例如，仅数据源类型 **OLE DB** 和 **ODBC** 支持 **Table**。</span><span class="sxs-lookup"><span data-stu-id="10804-132">For example, **Table** is supported only by data source types **OLE DB** and **ODBC**.</span></span>  
  
 <span data-ttu-id="10804-133">**查询**</span><span class="sxs-lookup"><span data-stu-id="10804-133">**Query**</span></span>  
 <span data-ttu-id="10804-134">选中 **Text** 命令类型选项后将显示此选项。</span><span class="sxs-lookup"><span data-stu-id="10804-134">This option appears when you choose the **Text** command type option.</span></span> <span data-ttu-id="10804-135">需键入一个查询或通过单击“导入”来导入一个预先存在的查询\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="10804-135">Type a query or import a pre-existing query by clicking **Import**.</span></span> <span data-ttu-id="10804-136">单击“表达式”\*\*\*\* (*fx*) 按钮可编辑表达式。</span><span class="sxs-lookup"><span data-stu-id="10804-136">Click the **Expression** (*fx*) button to edit the expression.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="10804-137">如果您已使用查询设计器生成了一个查询，则此对话框中将显示该查询的文本。</span><span class="sxs-lookup"><span data-stu-id="10804-137">If you used a query designer to build a query, the text of the query appears in this box.</span></span>  
  
 <span data-ttu-id="10804-138">**表名称**</span><span class="sxs-lookup"><span data-stu-id="10804-138">**Table name**</span></span>  
 <span data-ttu-id="10804-139">需输入要用作数据集的表的名称。</span><span class="sxs-lookup"><span data-stu-id="10804-139">Enter the name of the table that you want to use as a dataset.</span></span> <span data-ttu-id="10804-140">选中 **“表”** 后会显示此选项。</span><span class="sxs-lookup"><span data-stu-id="10804-140">This option appears when you select **Table**.</span></span>  
  
 <span data-ttu-id="10804-141">**选择或输入存储过程名称**</span><span class="sxs-lookup"><span data-stu-id="10804-141">**Select or enter stored procedure name**</span></span>  
 <span data-ttu-id="10804-142">需键入或选择要使用的存储过程的名称。</span><span class="sxs-lookup"><span data-stu-id="10804-142">Type or choose the name of the stored procedure that you want to use.</span></span> <span data-ttu-id="10804-143">单击“表达式”\*\*\*\* (*fx*) 按钮可编辑表达式。</span><span class="sxs-lookup"><span data-stu-id="10804-143">Click the **Expression** (*fx*) button to edit the expression.</span></span> <span data-ttu-id="10804-144">选中“存储过程”命令类型选项后会显示此选项。</span><span class="sxs-lookup"><span data-stu-id="10804-144">This option appears when you choose the Stored Procedure command type option.</span></span>  
  
 <span data-ttu-id="10804-145">**超时（以秒为单位）**</span><span class="sxs-lookup"><span data-stu-id="10804-145">**Time out (in seconds)**</span></span>  
 <span data-ttu-id="10804-146">键入查询超时前等待的秒数。默认值为30秒。</span><span class="sxs-lookup"><span data-stu-id="10804-146">Type the number of seconds until the query times out. The default is 30 seconds.</span></span> <span data-ttu-id="10804-147">**“超时值”** 的值必须为空或大于零。</span><span class="sxs-lookup"><span data-stu-id="10804-147">The value for **Time out** must be empty or greater than zero.</span></span> <span data-ttu-id="10804-148">如果该值为空，则查询将不会超时。</span><span class="sxs-lookup"><span data-stu-id="10804-148">If it is empty, the query does not time out.</span></span>  
  
 <span data-ttu-id="10804-149">**刷新字段**</span><span class="sxs-lookup"><span data-stu-id="10804-149">**Refresh Fields**</span></span>  
 <span data-ttu-id="10804-150">运行查询命令来更新[“数据集属性”对话框 -&gt;“字段”](../dataset-properties-dialog-box-fields-report-builder.md) 页中的字段列表。</span><span class="sxs-lookup"><span data-stu-id="10804-150">Run the query command to update the list of fields in the [Dataset Properties Dialog Box, Fields](../dataset-properties-dialog-box-fields-report-builder.md) page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="10804-151">另请参阅</span><span class="sxs-lookup"><span data-stu-id="10804-151">See Also</span></span>  
 <span data-ttu-id="10804-152">[将数据添加到报表 &#40;报表生成器和 SSRS&#41;](report-datasets-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="10804-152">[Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md) </span></span>  
 <span data-ttu-id="10804-153">[报表生成器对话框、窗格和向导的帮助](../report-builder-help-for-dialog-boxes-panes-and-wizards.md) </span><span class="sxs-lookup"><span data-stu-id="10804-153">[Report Builder Help for Dialog Boxes, Panes, and Wizards](../report-builder-help-for-dialog-boxes-panes-and-wizards.md) </span></span>  
 [<span data-ttu-id="10804-154">查询设计器（报表生成器）</span><span class="sxs-lookup"><span data-stu-id="10804-154">Query Designers &#40;Report Builder&#41;</span></span>](../query-designers-report-builder.md)  
  
  
