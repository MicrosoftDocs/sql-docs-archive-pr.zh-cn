---
title: 创建、修改和删除共享数据源 (SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- modifying data source properties
- shared data sources [Reporting Services]
- removing shared data sources
- roles [Reporting Services], shared data sources
- data sources [Reporting Services], shared
- data sources [Reporting Services], modifying properties
- deleting shared data sources
ms.assetid: 1e58c1c2-5ecf-4ce6-9d04-0a8acfba17be
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 7e0c0eccb605a99077570fee73687e156372bcbe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87586471"
---
# <a name="create-modify-and-delete-shared-data-sources-ssrs"></a><span data-ttu-id="41b6b-102">创建、修改和删除共享数据源 (SSRS)</span><span class="sxs-lookup"><span data-stu-id="41b6b-102">Create, Modify, and Delete Shared Data Sources (SSRS)</span></span>
  <span data-ttu-id="41b6b-103">共享数据源是一组可供在 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 报表服务器上运行的多个报表、模型和数据驱动订阅引用的数据源连接属性。</span><span class="sxs-lookup"><span data-stu-id="41b6b-103">A shared data source is a set of data source connection properties that can be referenced by multiple reports, models, and data-driven subscriptions that run on a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] report server.</span></span> <span data-ttu-id="41b6b-104">共享数据源为随时间推移经常发生变化的数据源属性的管理提供了一种简单的方法。</span><span class="sxs-lookup"><span data-stu-id="41b6b-104">Shared data sources provide an easy way to manage data source properties that often change over time.</span></span> <span data-ttu-id="41b6b-105">如果用户帐户或密码发生更改，或者如果将数据库移到其他服务器，则可在一个位置对连接信息进行更新。</span><span class="sxs-lookup"><span data-stu-id="41b6b-105">If a user account or password changes, or if you move the database to a different server, you can update the connection information in one place.</span></span>  
  
 <span data-ttu-id="41b6b-106">对于报表和数据驱动订阅，共享数据源是可选的，但对于报表模型，共享数据源是必需的。</span><span class="sxs-lookup"><span data-stu-id="41b6b-106">Shared data sources are optional for reports and data-driven subscriptions, but required for report models.</span></span> <span data-ttu-id="41b6b-107">如果计划将报表模型用于特别报告，则必须创建和维护一个共享数据源项才能为此模型提供连接信息。</span><span class="sxs-lookup"><span data-stu-id="41b6b-107">If you plan to use report models for ad hoc reporting, you must create and maintain a shared data source item to provide connection information to the model.</span></span>  
  
 <span data-ttu-id="41b6b-108">共享数据源由以下几个部分组成：</span><span class="sxs-lookup"><span data-stu-id="41b6b-108">A shared data source consists of the following parts:</span></span>  
  
|<span data-ttu-id="41b6b-109">组成部分</span><span class="sxs-lookup"><span data-stu-id="41b6b-109">Part</span></span>|<span data-ttu-id="41b6b-110">说明</span><span class="sxs-lookup"><span data-stu-id="41b6b-110">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="41b6b-111">名称</span><span class="sxs-lookup"><span data-stu-id="41b6b-111">Name</span></span>|<span data-ttu-id="41b6b-112">名称用于在报表服务器文件夹层次结构中标识该项。</span><span class="sxs-lookup"><span data-stu-id="41b6b-112">A name that identifies the item within the report server folder hierarchy.</span></span>|  
|<span data-ttu-id="41b6b-113">说明</span><span class="sxs-lookup"><span data-stu-id="41b6b-113">Description</span></span>|<span data-ttu-id="41b6b-114">说明在您查看文件夹的内容时在报表管理器中与该项一起出现。</span><span class="sxs-lookup"><span data-stu-id="41b6b-114">A description that appears with the item in Report Manager when you view the contents of the folder.</span></span>|  
|<span data-ttu-id="41b6b-115">连接类型</span><span class="sxs-lookup"><span data-stu-id="41b6b-115">Connection type</span></span>|<span data-ttu-id="41b6b-116">与数据源一起使用的数据处理扩展插件。</span><span class="sxs-lookup"><span data-stu-id="41b6b-116">The data processing extension used with the data source.</span></span> <span data-ttu-id="41b6b-117">您只能使用部署在报表服务器上的数据处理扩展插件。</span><span class="sxs-lookup"><span data-stu-id="41b6b-117">You can only use data processing extensions that are deployed on the report server.</span></span> <span data-ttu-id="41b6b-118">有关 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 附带的数据处理扩展插件的详细信息，请参阅 [Reporting Services 支持的数据源 (SSRS)](../create-deploy-and-manage-mobile-and-paginated-reports.md)。</span><span class="sxs-lookup"><span data-stu-id="41b6b-118">For more information about data processing extensions included with [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], see [Data Sources Supported by Reporting Services &#40;SSRS&#41;](../create-deploy-and-manage-mobile-and-paginated-reports.md).</span></span>|  
|<span data-ttu-id="41b6b-119">连接字符串</span><span class="sxs-lookup"><span data-stu-id="41b6b-119">Connection string</span></span>|<span data-ttu-id="41b6b-120">数据库的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="41b6b-120">The connection string for the database.</span></span> <span data-ttu-id="41b6b-121">有关详细信息以及如何查看经常使用的数据源的连接字符串示例，请参阅[Reporting Services 中的数据连接、数据源和连接字符串](../data-connections-data-sources-and-connection-strings-in-reporting-services.md)。</span><span class="sxs-lookup"><span data-stu-id="41b6b-121">For more information and to view examples of connection strings to frequently used data sources, see [Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md).</span></span>|  
|<span data-ttu-id="41b6b-122">凭据类型</span><span class="sxs-lookup"><span data-stu-id="41b6b-122">Credential type</span></span>|<span data-ttu-id="41b6b-123">指定如何为连接获取凭据以及在建立连接后是否使用这些凭据。</span><span class="sxs-lookup"><span data-stu-id="41b6b-123">Specifies how credentials are obtained for the connection and whether they are to be used after the connection is made.</span></span> <span data-ttu-id="41b6b-124">有关详细信息，请参阅[为报表数据源指定凭据和连接信息](../../integration-services/connection-manager/data-sources.md)</span><span class="sxs-lookup"><span data-stu-id="41b6b-124">For more information, see [Specify Credential and Connection Information for Report Data Sources](../../integration-services/connection-manager/data-sources.md).</span></span>|  
  
 <span data-ttu-id="41b6b-125">共享数据源不包含用于检索数据的查询信息。</span><span class="sxs-lookup"><span data-stu-id="41b6b-125">A shared data source does not contain query information used to retrieve data.</span></span> <span data-ttu-id="41b6b-126">查询始终保存在报表定义中。</span><span class="sxs-lookup"><span data-stu-id="41b6b-126">The query is always kept within a report definition.</span></span>  
  
## <a name="creating-and-modifying-a-shared-data-source"></a><span data-ttu-id="41b6b-127">创建和修改共享数据源</span><span class="sxs-lookup"><span data-stu-id="41b6b-127">Creating and Modifying a Shared Data Source</span></span>  
 <span data-ttu-id="41b6b-128">若要创建共享数据源或修改其属性，必须对报表服务器拥有 **管理数据源** 的权限。</span><span class="sxs-lookup"><span data-stu-id="41b6b-128">To create a shared data source or modify its properties, you must have **Manage data sources** permissions on the report server.</span></span> <span data-ttu-id="41b6b-129">如果报表服务器在本机模式下运行，则可使用报表管理器创建和配置共享数据源。</span><span class="sxs-lookup"><span data-stu-id="41b6b-129">If the report server runs in native mode, you can use Report Manager to create and configure the shared data source.</span></span> <span data-ttu-id="41b6b-130">如果报表服务器在 SharePoint 集成模式下运行，则可使用 SharePoint 站点上的应用程序页。</span><span class="sxs-lookup"><span data-stu-id="41b6b-130">If the report server runs in SharePoint integrated mode, you can use the application pages on a SharePoint site.</span></span> <span data-ttu-id="41b6b-131">对于任何报表服务器，不管其模式如何，均可在报表设计器中创建共享数据源，然后将该数据源发布到目标服务器。</span><span class="sxs-lookup"><span data-stu-id="41b6b-131">For any report server regardless of its mode, you can create a shared data source in Report Designer and then publish it to a target server.</span></span>  
  
 <span data-ttu-id="41b6b-132">有关创建共享数据源的详细信息，请参阅：</span><span class="sxs-lookup"><span data-stu-id="41b6b-132">For more information about creating a shared data source, see:</span></span>  
  
-   [<span data-ttu-id="41b6b-133">创建嵌入数据源或共享数据源 (SSRS)</span><span class="sxs-lookup"><span data-stu-id="41b6b-133">Create an Embedded or Shared Data Source &#40;SSRS&#41;</span></span>](../create-an-embedded-or-shared-data-source-ssrs.md)  
  
-   [<span data-ttu-id="41b6b-134">创建和管理共享数据源（SharePoint 集成模式下的 Reporting Services）</span><span class="sxs-lookup"><span data-stu-id="41b6b-134">Create and Manage Shared Data Sources &#40;Reporting Services in SharePoint Integrated Mode&#41;</span></span>](../create-manage-shared-data-sources-reporting-services-sharepoint-integrated-mode.md)  
  
 <span data-ttu-id="41b6b-135">在报表服务器上创建共享数据源后，可通过创建角色分配来控制对该共享数据源的访问、将该共享数据源移到其他位置、对其重命名，或使之脱机以防止在对外部数据源执行维护操作时处理报表。</span><span class="sxs-lookup"><span data-stu-id="41b6b-135">After you create a shared data source on the report server, you can create role assignments to control access to it, move it to a different location, rename it, or take it offline to prevent report processing while maintenance operations are performed on the external data source.</span></span> <span data-ttu-id="41b6b-136">如果您在报表服务器文件夹层次结构中对共享数据源项重命名，或将其移到其他位置，则引用该共享数据源的所有报表或订阅中的路径信息都会相应更新。</span><span class="sxs-lookup"><span data-stu-id="41b6b-136">If you rename or move a shared data source item to another location in the report server folder hierarchy, the path information in all reports or subscriptions that reference the shared data source are updated accordingly.</span></span> <span data-ttu-id="41b6b-137">如果使共享数据源脱机，则直到您重新启用该数据源后所有报表、模型和订阅才会运行。</span><span class="sxs-lookup"><span data-stu-id="41b6b-137">If you take the shared data source offline, all reports, models, and subscriptions will not run until you re-enable the data source.</span></span>  
  
 <span data-ttu-id="41b6b-138">有关如何控制对报表服务器文件夹层次结构中的共享数据源的访问的详细信息，请参阅 [保护共享数据源项](../security/secure-shared-data-source-items.md)。</span><span class="sxs-lookup"><span data-stu-id="41b6b-138">For more information about controlling access to shared data sources in the report server folder hierarchy, see [Secure Shared Data Source Items](../security/secure-shared-data-source-items.md).</span></span>  
  
## <a name="deleting-a-shared-data-source"></a><span data-ttu-id="41b6b-139">删除共享数据源</span><span class="sxs-lookup"><span data-stu-id="41b6b-139">Deleting a Shared Data Source</span></span>  
 <span data-ttu-id="41b6b-140">可使用与从报表服务器删除任何项完全相同的方式来删除共享数据源。</span><span class="sxs-lookup"><span data-stu-id="41b6b-140">You can delete a shared data source the same way that you delete any item from the report server.</span></span> <span data-ttu-id="41b6b-141">在报表管理器中，在 "详细信息视图" 中打开该文件夹，选择该项，然后单击 "**删除**"。</span><span class="sxs-lookup"><span data-stu-id="41b6b-141">In Report Manager, you open the folder in Details View, select the item, and click **Delete**.</span></span> <span data-ttu-id="41b6b-142">在 SharePoint 站点上的应用程序页中，打开 SharePoint 库，选择该项，然后单击 "**删除**"。</span><span class="sxs-lookup"><span data-stu-id="41b6b-142">In an application page on a SharePoint site, you open the SharePoint library, select the item, and click **Delete**.</span></span>  
  
 <span data-ttu-id="41b6b-143">删除共享数据源将停用所有使用该共享数据源的报表、模型或数据驱动订阅。</span><span class="sxs-lookup"><span data-stu-id="41b6b-143">Deleting a shared data source will deactivate any report, model, or data-driven subscription that uses it.</span></span> <span data-ttu-id="41b6b-144">在没有数据源连接信息的情况下，这些项将不再运行。</span><span class="sxs-lookup"><span data-stu-id="41b6b-144">Without the data source connection information, the items will no longer run.</span></span> <span data-ttu-id="41b6b-145">若要激活这些项，必须打开每一项并执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="41b6b-145">To activate these items, you must open each one and do the following:</span></span>  
  
-   <span data-ttu-id="41b6b-146">对于引用共享数据源的报表和数据驱动订阅，可在报表属性或订阅中指定数据源连接信息，或者选择具有要使用的值的新共享数据源。</span><span class="sxs-lookup"><span data-stu-id="41b6b-146">For reports and data-driven subscriptions that reference the shared data source, you can specify data source connection information in report properties or subscription, or you can select a new shared data source that has the values you want to use.</span></span>  
  
-   <span data-ttu-id="41b6b-147">对于模型和使用该模型的报表生成器报表，必须指定新的共享数据源。</span><span class="sxs-lookup"><span data-stu-id="41b6b-147">For models and Report Builder reports that use that model, you must specify a new shared data source.</span></span> <span data-ttu-id="41b6b-148">模型只能通过共享数据源获取数据源连接信息。</span><span class="sxs-lookup"><span data-stu-id="41b6b-148">Models get data source connection information only through shared data sources.</span></span>  
  
 <span data-ttu-id="41b6b-149">若要查看使用数据源的报表和模型的列表，请打开相应共享数据源的“依赖项”页。</span><span class="sxs-lookup"><span data-stu-id="41b6b-149">To view a list of reports and models that use the data source, open the Dependent Items page for the shared data source.</span></span> <span data-ttu-id="41b6b-150">在报表管理器或 SharePoint 应用程序页中打开该数据源后即可访问此页。</span><span class="sxs-lookup"><span data-stu-id="41b6b-150">You can access this page when you open the data source in Report Manager or a SharePoint application page.</span></span> <span data-ttu-id="41b6b-151">请注意“依赖项”页不显示数据驱动订阅。</span><span class="sxs-lookup"><span data-stu-id="41b6b-151">Note that the Dependent Items page does not show data-driven subscriptions.</span></span> <span data-ttu-id="41b6b-152">如果共享数据源是由订阅使用，则该订阅将不会显示在依赖项列表中。</span><span class="sxs-lookup"><span data-stu-id="41b6b-152">If a shared data source is used by a subscription, the subscription will not appear in the dependent items list.</span></span>  
  
 <span data-ttu-id="41b6b-153">删除共享数据源后没有“撤消”操作可用。</span><span class="sxs-lookup"><span data-stu-id="41b6b-153">There is no Undo operation for deleting a shared data source.</span></span> <span data-ttu-id="41b6b-154">不过，如果您意外删除了一个共享数据源，则可以使用与删除的共享数据源相同的属性值来创建一个新的共享数据源。</span><span class="sxs-lookup"><span data-stu-id="41b6b-154">However, if you accidentally delete a shared data source, you can create a new one using the same property values as the one you deleted.</span></span> <span data-ttu-id="41b6b-155">您必须打开每个报表、模型和数据驱动订阅才能将该共享数据源重新绑定到使用该共享数据源的项，但是只要这些数据源属性和以前的数据源属性相同，这些报表、模型和订阅便可像以前一样正常使用。</span><span class="sxs-lookup"><span data-stu-id="41b6b-155">You will have to open each report, model, and data-driven subscription to rebind the shared data source to the item that uses it, but as long as the data source properties are the same as before, the reports, models, and subscriptions will continue to function as before.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="41b6b-156">另请参阅</span><span class="sxs-lookup"><span data-stu-id="41b6b-156">See Also</span></span>  
 <span data-ttu-id="41b6b-157">[在 SharePoint 集成模式下创建和管理共享数据源 &#40;Reporting Services&#41;](../create-manage-shared-data-sources-reporting-services-sharepoint-integrated-mode.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-157">[Create and Manage Shared Data Sources &#40;Reporting Services in SharePoint Integrated Mode&#41;](../create-manage-shared-data-sources-reporting-services-sharepoint-integrated-mode.md) </span></span>  
 <span data-ttu-id="41b6b-158">[Reporting Services 中的数据连接、数据源和连接字符串](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-158">[Data Connections, Data Sources, and Connection Strings in Reporting Services](../data-connections-data-sources-and-connection-strings-in-reporting-services.md) </span></span>  
 <span data-ttu-id="41b6b-159">[管理报表数据源](manage-report-data-sources.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-159">[Manage Report Data Sources](manage-report-data-sources.md) </span></span>  
 <span data-ttu-id="41b6b-160">[报表管理器（SSRS 本机模式）](../report-manager-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-160">[Report Manager  &#40;SSRS Native Mode&#41;](../report-manager-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="41b6b-161">[嵌入和共享的数据连接或数据源 &#40;报表生成器和 SSRS&#41;](../embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-161">[Embedded and Shared Data Connections or Data Sources &#40;Report Builder and SSRS&#41;](../embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="41b6b-162">["数据源" 属性页 &#40;报表管理器&#41;](../data-sources-properties-page-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-162">[Data Sources Properties Page &#40;Report Manager&#41;](../data-sources-properties-page-report-manager.md) </span></span>  
 <span data-ttu-id="41b6b-163">[创建、删除或修改共享数据源 &#40;报表管理器&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span><span class="sxs-lookup"><span data-stu-id="41b6b-163">[Create, Delete, or Modify a Shared Data Source &#40;Report Manager&#41;](../create-delete-or-modify-a-shared-data-source-report-manager.md) </span></span>  
 [<span data-ttu-id="41b6b-164">配置报表的数据源属性（报表管理器）</span><span class="sxs-lookup"><span data-stu-id="41b6b-164">Configure Data Source Properties for a Report  &#40;Report Manager&#41;</span></span>](configure-data-source-properties-for-a-report-report-manager.md)  
  
  
