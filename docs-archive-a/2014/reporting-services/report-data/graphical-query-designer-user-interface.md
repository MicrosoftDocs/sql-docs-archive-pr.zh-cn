---
title: 图形查询设计器用户界面 | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10012"
- sql12.rtp.rptdesigner.dataview.vdtquerydesigner.f1
helpviewer_keywords:
- graphical query designer [Reporting Services]
- data sources [Reporting Services], creating
- text-based query designer [Reporting Services]
- query designers [Reporting Services]
- Reporting Services, query designers
ms.assetid: 5022ae33-03a3-48de-8ac1-82742f48cebe
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 12cc3cdc2a5a36ebcadd01f61c6a04ea66b0e4f4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87580004"
---
# <a name="graphical-query-designer-user-interface"></a><span data-ttu-id="65e52-102">图形查询设计器用户界面</span><span class="sxs-lookup"><span data-stu-id="65e52-102">Graphical Query Designer User Interface</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="65e52-103">同时提供了图形查询设计器和基于文本的查询设计器，用于创建在报表设计器中为报表数据集检索关系数据库中的数据的查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-103">provides both a graphical query designer and a text-based query designer for creating queries to retrieve data from a relational database for a report dataset in Report Designer.</span></span> <span data-ttu-id="65e52-104">使用图形查询设计器能够以交互方式生成查询并查看数据源类型 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]、Oracle、OLE DB 和 ODBC 的结果。</span><span class="sxs-lookup"><span data-stu-id="65e52-104">Use the graphical query designer to interactively build a query and view the results for data source types [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], Oracle, OLE DB, and ODBC.</span></span> <span data-ttu-id="65e52-105">使用基于文本的查询设计器可以指定多个 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 语句、复杂的查询或命令语句以及基于表达式的查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-105">Use the text-based query designer to specify multiple [!INCLUDE[tsql](../../../includes/tsql-md.md)] statements, complex query or command syntax, and expression-based queries.</span></span> <span data-ttu-id="65e52-106">有关详细信息，请参阅 [基于文本的查询设计器用户界面](../text-based-query-designer-user-interface.md)。</span><span class="sxs-lookup"><span data-stu-id="65e52-106">For more information, see [Text-based Query Designer User Interface](../text-based-query-designer-user-interface.md).</span></span> <span data-ttu-id="65e52-107">有关使用特定数据源类型的详细信息，请参阅[将数据添加到报表 &#40;报表生成器和 SSRS&#41;](report-datasets-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="65e52-107">For more information about working with specific data source types, see [Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md).</span></span>

 <span data-ttu-id="65e52-108">。</span><span class="sxs-lookup"><span data-stu-id="65e52-108">.</span></span>

## <a name="graphical-query-designer"></a><span data-ttu-id="65e52-109">图形查询设计器</span><span class="sxs-lookup"><span data-stu-id="65e52-109">Graphical Query Designer</span></span>
 <span data-ttu-id="65e52-110">此图形查询设计器支持三种查询命令类型： **Text**、 **StoredProcedure**或 **TableDirect**。</span><span class="sxs-lookup"><span data-stu-id="65e52-110">This graphical query designer supports three types of query commands: **Text**, **StoredProcedure**, or **TableDirect**.</span></span> <span data-ttu-id="65e52-111">为数据集创建查询之前，必须在 [“数据集属性”](../dataset-properties-dialog-box-query.md) 对话框的“查询”页中选择一个命令类型选项。</span><span class="sxs-lookup"><span data-stu-id="65e52-111">Before you create a query for your dataset, you must select a command type option on the Query page of the [Dataset Properties](../dataset-properties-dialog-box-query.md) dialog box.</span></span>

 <span data-ttu-id="65e52-112">以下是可用于查询类型的选项：</span><span class="sxs-lookup"><span data-stu-id="65e52-112">The following options are available for query type:</span></span>

-   <span data-ttu-id="65e52-113">**Text**：支持用于关系数据库数据源的标准 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 查询文本，其中包括 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 和 Oracle 的数据处理扩展插件。</span><span class="sxs-lookup"><span data-stu-id="65e52-113">**Text** Supports standard [!INCLUDE[tsql](../../../includes/tsql-md.md)] query text for relational database data sources, including data processing extensions for [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and Oracle.</span></span>

-   <span data-ttu-id="65e52-114">**TableDirect** ：选择指定表中的所有列。</span><span class="sxs-lookup"><span data-stu-id="65e52-114">**TableDirect** Selects all the columns from the specified table.</span></span> <span data-ttu-id="65e52-115">例如，对于名为 Customers 的表，这等同于 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 语句 `SELECT * FROM Customers`。</span><span class="sxs-lookup"><span data-stu-id="65e52-115">For example, for a table named Customers, this is the equivalent of the [!INCLUDE[tsql](../../../includes/tsql-md.md)] statement `SELECT * FROM Customers`.</span></span>

-   <span data-ttu-id="65e52-116">**StoredProcedure** ：支持对数据源中的存储过程的调用。</span><span class="sxs-lookup"><span data-stu-id="65e52-116">**StoredProcedure** Supports calls to stored procedures on the data source.</span></span> <span data-ttu-id="65e52-117">若要使用此选项，您必须已被数据库管理员授予对数据源中的存储过程的执行权限。</span><span class="sxs-lookup"><span data-stu-id="65e52-117">To use this option, you must have been granted Execute permissions on the stored procedure by the database administrator on the data source.</span></span>

 <span data-ttu-id="65e52-118">默认命令类型为 **“文本”** 。</span><span class="sxs-lookup"><span data-stu-id="65e52-118">The default command type is **Text**.</span></span>

> [!NOTE]
>  <span data-ttu-id="65e52-119">不是所有的数据处理扩展插件都支持上述所有类型。</span><span class="sxs-lookup"><span data-stu-id="65e52-119">Not all data processing extensions support all types.</span></span> <span data-ttu-id="65e52-120">基础数据访问接口必须支持某个命令类型，该命令类型选项才可用。</span><span class="sxs-lookup"><span data-stu-id="65e52-120">The underlying data provider must support a command type before the option is available.</span></span>

### <a name="command-type-text"></a><span data-ttu-id="65e52-121">命令类型 Text</span><span class="sxs-lookup"><span data-stu-id="65e52-121">Command Type Text</span></span>
 <span data-ttu-id="65e52-122">在 **“文本”** 类型中，图形查询设计器会显示四个区域，或四个窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-122">In **Text** type, the graphical query designer presents four areas, or panes.</span></span> <span data-ttu-id="65e52-123">可以为 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 查询指定列、别名、排序值和筛选器值。</span><span class="sxs-lookup"><span data-stu-id="65e52-123">You can specify columns, aliases, sort values, and filter values for a [!INCLUDE[tsql](../../../includes/tsql-md.md)] query.</span></span> <span data-ttu-id="65e52-124">还可以查看根据您的选择生成的查询文本、运行查询并查看结果集。</span><span class="sxs-lookup"><span data-stu-id="65e52-124">You can view the query text generated from your selections, run the query, and view the result set.</span></span> <span data-ttu-id="65e52-125">下图显示了 4 个窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-125">The following figure shows the four panes.</span></span>

 <span data-ttu-id="65e52-126">![用于 SQL 查询的图形查询设计器](../media/rsqd-dsaw-sql.gif "用于 SQL 查询的图形查询设计器")</span><span class="sxs-lookup"><span data-stu-id="65e52-126">![Graphical query designer for sql query](../media/rsqd-dsaw-sql.gif "Graphical query designer for sql query")</span></span>

 <span data-ttu-id="65e52-127">下表介绍了每个窗格的功能。</span><span class="sxs-lookup"><span data-stu-id="65e52-127">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="65e52-128">窗格</span><span class="sxs-lookup"><span data-stu-id="65e52-128">Pane</span></span>|<span data-ttu-id="65e52-129">函数</span><span class="sxs-lookup"><span data-stu-id="65e52-129">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="65e52-130">图表</span><span class="sxs-lookup"><span data-stu-id="65e52-130">Diagram</span></span>|<span data-ttu-id="65e52-131">显示查询中表的图形表示形式。</span><span class="sxs-lookup"><span data-stu-id="65e52-131">Displays graphic representations of the tables in the query.</span></span> <span data-ttu-id="65e52-132">使用此窗格可以选择字段并定义表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="65e52-132">Use this pane to select fields and define relationships between tables.</span></span>|
|<span data-ttu-id="65e52-133">Grid</span><span class="sxs-lookup"><span data-stu-id="65e52-133">Grid</span></span>|<span data-ttu-id="65e52-134">显示查询返回的字段列表。</span><span class="sxs-lookup"><span data-stu-id="65e52-134">Displays a list of fields returned by the query.</span></span> <span data-ttu-id="65e52-135">使用此窗格可以定义别名、排序顺序、筛选器、组和参数。</span><span class="sxs-lookup"><span data-stu-id="65e52-135">Use this pane to define aliases, sort order, filters, groups, and parameters.</span></span>|
|<span data-ttu-id="65e52-136">SQL</span><span class="sxs-lookup"><span data-stu-id="65e52-136">SQL</span></span>|<span data-ttu-id="65e52-137">显示关系图窗格和网格窗格表示的 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-137">Displays the [!INCLUDE[tsql](../../../includes/tsql-md.md)] query represented by the diagram and Grid panes.</span></span> <span data-ttu-id="65e52-138">使用此窗格可以用 [!INCLUDE[tsql](../../../includes/tsql-md.md)]编写或更新查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-138">Use this pane to write or update a query using [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>|
|<span data-ttu-id="65e52-139">结果</span><span class="sxs-lookup"><span data-stu-id="65e52-139">Result</span></span>|<span data-ttu-id="65e52-140">显示查询的结果。</span><span class="sxs-lookup"><span data-stu-id="65e52-140">Displays the results of the query.</span></span> <span data-ttu-id="65e52-141">若要运行查询，请右键单击任意窗格，再单击“运行”，或者单击工具栏中的“运行”按钮   。</span><span class="sxs-lookup"><span data-stu-id="65e52-141">To run the query, right-click in any pane, and then click **Run**, or click the **Run** button on the toolbar.</span></span>|

 <span data-ttu-id="65e52-142">当您在前三个窗格的任意一个窗格中更改信息时，其他窗格中也会显示这些更改。</span><span class="sxs-lookup"><span data-stu-id="65e52-142">When you change information in any one of the first three panes, those changes will appear in the other panes.</span></span> <span data-ttu-id="65e52-143">例如，如果在“关系图”窗格中添加了一个表，则将自动在 SQL 窗格的 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 查询中添加该表。</span><span class="sxs-lookup"><span data-stu-id="65e52-143">For example, if you add a table in the Diagram pane, it will automatically be added to the [!INCLUDE[tsql](../../../includes/tsql-md.md)] query in the SQL pane.</span></span> <span data-ttu-id="65e52-144">如果在 SQL 窗格的查询中添加了一个字段，则将自动在“网格”窗格的列表中添加该字段并更新“关系图”窗格中的表。</span><span class="sxs-lookup"><span data-stu-id="65e52-144">Adding a field to the query in the SQL pane will automatically add the field to the list in the Grid pane and update the table in the Diagram pane.</span></span>

 <span data-ttu-id="65e52-145">有关详细信息，请参阅[查询和视图设计器工具（可视化数据库工具）](../../ssms/visual-db-tools/visual-database-tools.md)。</span><span class="sxs-lookup"><span data-stu-id="65e52-145">For more information, see [Query and View Designer Tools &#40;Visual Database Tools&#41;](../../ssms/visual-db-tools/visual-database-tools.md).</span></span>

#### <a name="toolbar-for-the-graphical-query-designer"></a><span data-ttu-id="65e52-146">图形查询设计器的工具栏</span><span class="sxs-lookup"><span data-stu-id="65e52-146">Toolbar for the Graphical Query Designer</span></span>
 <span data-ttu-id="65e52-147">图形查询设计器工具栏提供了有助于您使用图形界面来设计 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 查询的按钮。</span><span class="sxs-lookup"><span data-stu-id="65e52-147">The graphical query designer toolbar provides buttons to help you design [!INCLUDE[tsql](../../../includes/tsql-md.md)] queries using the graphical interface.</span></span>

|<span data-ttu-id="65e52-148">按钮</span><span class="sxs-lookup"><span data-stu-id="65e52-148">Button</span></span>|<span data-ttu-id="65e52-149">说明</span><span class="sxs-lookup"><span data-stu-id="65e52-149">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="65e52-150">**编辑为文本**</span><span class="sxs-lookup"><span data-stu-id="65e52-150">**Edit As Text**</span></span>|<span data-ttu-id="65e52-151">在基于文本的查询设计器和图形查询设计器之间切换。</span><span class="sxs-lookup"><span data-stu-id="65e52-151">Toggle between the text-based query designer and the graphical query designer.</span></span>|
|<span data-ttu-id="65e52-152">**导入**</span><span class="sxs-lookup"><span data-stu-id="65e52-152">**Import**</span></span>|<span data-ttu-id="65e52-153">从文件或报表中导入现有的查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-153">Import an existing query from a file or report.</span></span> <span data-ttu-id="65e52-154">仅支持 .sql 和 .rdl 文件类型。</span><span class="sxs-lookup"><span data-stu-id="65e52-154">Only file types .sql and .rdl are supported.</span></span> <span data-ttu-id="65e52-155">有关详细信息，请参阅 [报表的嵌入数据集和共享数据集（报表生成器和 SSRS）](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="65e52-155">For more information, see [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span></span>|
|<span data-ttu-id="65e52-156">![用于显示/隐藏“关系图”窗格的切换按钮](../media/rsqdicon-showhidediagram.gif "用于显示/隐藏“关系图”窗格的切换按钮")</span><span class="sxs-lookup"><span data-stu-id="65e52-156">![Show/Hide diagram pane toggle button](../media/rsqdicon-showhidediagram.gif "Show/Hide diagram pane toggle button")</span></span>|<span data-ttu-id="65e52-157">显示或隐藏“关系图”窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-157">Show or hide the Diagram pane.</span></span>|
|<span data-ttu-id="65e52-158">![用于显示或隐藏“网格”窗格的切换按钮](../media/rsqdicon-showhidegrid.gif "用于显示或隐藏“网格”窗格的切换按钮")</span><span class="sxs-lookup"><span data-stu-id="65e52-158">![Show or Hide Grid pane toggle](../media/rsqdicon-showhidegrid.gif "Show or Hide Grid pane toggle")</span></span>|<span data-ttu-id="65e52-159">显示或隐藏“网格”窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-159">Show or hide the Grid pane.</span></span>|
|<span data-ttu-id="65e52-160">![用于显示或隐藏“SQL”窗格的切换按钮](../media/rsqdicon-showhidesql.gif "用于显示或隐藏“SQL”窗格的切换按钮")</span><span class="sxs-lookup"><span data-stu-id="65e52-160">![Show or hide sql pane toggle](../media/rsqdicon-showhidesql.gif "Show or hide sql pane toggle")</span></span>|<span data-ttu-id="65e52-161">显示或隐藏 SQL 窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-161">Show or hide the SQL pane.</span></span>|
|<span data-ttu-id="65e52-162">![用于显示或隐藏“结果”窗格的切换按钮](../media/rsqdicon-showhideresult.gif "用于显示或隐藏“结果”窗格的切换按钮")</span><span class="sxs-lookup"><span data-stu-id="65e52-162">![Show or Hide Result pane toggle](../media/rsqdicon-showhideresult.gif "Show or Hide Result pane toggle")</span></span>|<span data-ttu-id="65e52-163">显示或隐藏“结果”窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-163">Show or hide the Result pane.</span></span>|
|<span data-ttu-id="65e52-164">![运行查询](../../analysis-services/media/rsqdicon-run.gif "运行查询")</span><span class="sxs-lookup"><span data-stu-id="65e52-164">![Run the query](../../analysis-services/media/rsqdicon-run.gif "Run the query")</span></span>|<span data-ttu-id="65e52-165">运行查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-165">Run the query.</span></span>|
|<span data-ttu-id="65e52-166">![用于在“SQL”窗格中验证 SQL 的按钮](../media/rsqdicon-verifysql.gif "用于在“SQL”窗格中验证 SQL 的按钮")</span><span class="sxs-lookup"><span data-stu-id="65e52-166">![Verify SQL in SQL pane button](../media/rsqdicon-verifysql.gif "Verify SQL in SQL pane button")</span></span>|<span data-ttu-id="65e52-167">检查查询文本的语法是否正确。</span><span class="sxs-lookup"><span data-stu-id="65e52-167">Check that the syntax of the query text is correct.</span></span>|
|<span data-ttu-id="65e52-168">![为选定字段设置按升序排序](../media/rsqdicon-sortascending.gif "为选定字段设置按升序排序")</span><span class="sxs-lookup"><span data-stu-id="65e52-168">![Set Sort Ascending on selected field](../media/rsqdicon-sortascending.gif "Set Sort Ascending on selected field")</span></span>|<span data-ttu-id="65e52-169">在“关系图”窗格中，将选定列的排序顺序设置为 **“升序排序”** 。</span><span class="sxs-lookup"><span data-stu-id="65e52-169">Set the sort order to **Sort Ascending** for the selected column in the Diagram pane,</span></span>|
|<span data-ttu-id="65e52-170">![为选定字段设置按降序排序](../media/rsqdicon-sortdescending.gif "为选定字段设置按降序排序")</span><span class="sxs-lookup"><span data-stu-id="65e52-170">![Set Sort Descending on selected field](../media/rsqdicon-sortdescending.gif "Set Sort Descending on selected field")</span></span>|<span data-ttu-id="65e52-171">在“关系图”窗格中，将选定列的排序顺序设置为 **“降序排序”** 。</span><span class="sxs-lookup"><span data-stu-id="65e52-171">Set the sort order to **Sort Descending** for the selected column in the Diagram pane,</span></span>|
|<span data-ttu-id="65e52-172">![删除选定字段的筛选器](../media/rsqdicon-removefilter.gif "删除选定字段的筛选器")</span><span class="sxs-lookup"><span data-stu-id="65e52-172">![Remove filter on selected field](../media/rsqdicon-removefilter.gif "Remove filter on selected field")</span></span>|<span data-ttu-id="65e52-173">在“关系图”窗格中，删除标记为有筛选器（![选定筛选器列旁边的筛选器图形](../media/rsqdicon-filter.gif "选定筛选器列旁边的筛选器图形")）的选定列的筛选器。</span><span class="sxs-lookup"><span data-stu-id="65e52-173">Remove the filter for the selected column in the Diagram pane that is marked as having a filter (![Filter graphic next to selected filter column](../media/rsqdicon-filter.gif "Filter graphic next to selected filter column")).</span></span>|
|<span data-ttu-id="65e52-174">![对选定字段使用“分组依据”](../media/rsqdicon-usegroupby.gif "对选定字段使用“分组依据”")</span><span class="sxs-lookup"><span data-stu-id="65e52-174">![Use Group By for the selected field](../media/rsqdicon-usegroupby.gif "Use Group By for the selected field")</span></span>|<span data-ttu-id="65e52-175">在“网格”窗格中显示或隐藏 **“分组依据”** 列。</span><span class="sxs-lookup"><span data-stu-id="65e52-175">Show or hide the **Group By** column in the Grid pane.</span></span> <span data-ttu-id="65e52-176">当 **“分组依据”** 切换为开时，“网格”窗格中将出现以 **“分组依据”** 命名的额外列，并且查询中选定列的每个值都默认为 **“分组依据”** ，这将导致选定列被包含在 SQL 文本的 Group By 子句中。</span><span class="sxs-lookup"><span data-stu-id="65e52-176">When the **Group By** toggle is on, an extra column named **Group By** appears in the Grid pane, and each value for the selected columns in the query defaults to **Group By**, which causes the selected column to be included in a Group By clause in the SQL text.</span></span> <span data-ttu-id="65e52-177">使用“分组依据”按钮自动添加 GROUP BY 子句，其中包括 SELECT 子句中的所有列。</span><span class="sxs-lookup"><span data-stu-id="65e52-177">Use the Group By button to automatically add a GROUP BY clause that includes all columns in the SELECT clause.</span></span> <span data-ttu-id="65e52-178">当 SELECT 子句包含聚合函数调用（如 SUM(ColumnName)）时，如果想让它出现在结果集中，则需将每个非聚合列包含在 GROUP BY 子句中。</span><span class="sxs-lookup"><span data-stu-id="65e52-178">When your SELECT clause includes aggregate function calls (for example, SUM(ColumnName)), include each non-aggregate column in the GROUP BY clause if you want it to appear in the result set.</span></span><br /><br /> <span data-ttu-id="65e52-179">若要出现在“结果”窗格中，查询中的每列都必须有一个定义用于计算要在“结果”窗格中显示的值的聚合函数，或者查询中的列都必须在 SQL 查询的 GROUP BY 子句中指定。</span><span class="sxs-lookup"><span data-stu-id="65e52-179">To appear in the Result pane, each column in the query must have an aggregate function defined for use in calculating the value to display in the Result pane, or the column in the query has to be specified in the GROUP BY clause of the SQL query.</span></span>|
|<span data-ttu-id="65e52-180">![向“关系图”窗格中添加新表](../media/rsqdicon-addtable.gif "向“关系图”窗格中添加新表")</span><span class="sxs-lookup"><span data-stu-id="65e52-180">![Add a new table to the diagram pane](../media/rsqdicon-addtable.gif "Add a new table to the diagram pane")</span></span>|<span data-ttu-id="65e52-181">从数据源向“关系图”窗格中添加新表。</span><span class="sxs-lookup"><span data-stu-id="65e52-181">Add a new table from the data source to the Diagram pane.</span></span><br /><br /> <span data-ttu-id="65e52-182">**注意** ：添加新表时，查询设计器将尝试匹配来自数据源的外键关系。</span><span class="sxs-lookup"><span data-stu-id="65e52-182">**Note** When you add a new table, the query designer tries to match up foreign key relationships from the data source.</span></span> <span data-ttu-id="65e52-183">添加表后，请确认表之间以链接形式表示的外键关系是正确的。</span><span class="sxs-lookup"><span data-stu-id="65e52-183">After you add a table, confirm that the foreign key relationships represented by linkages between the tables are correct.</span></span>|

#### <a name="example"></a><span data-ttu-id="65e52-184">示例</span><span class="sxs-lookup"><span data-stu-id="65e52-184">Example</span></span>
 <span data-ttu-id="65e52-185">以下查询将从 [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] 数据库的 **Person** 表中返回姓氏列表：</span><span class="sxs-lookup"><span data-stu-id="65e52-185">The following query returns the list of last names from the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] database **Person** table:</span></span>

```
SELECT LastName FROM Person.Person;
```

 <span data-ttu-id="65e52-186">可以通过 SQL 窗格运行存储过程。</span><span class="sxs-lookup"><span data-stu-id="65e52-186">You can also run stored procedures from the SQL pane.</span></span> <span data-ttu-id="65e52-187">以下查询将在 **数据库中运行存储过程** uspGetEmployeeManagers [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] ：</span><span class="sxs-lookup"><span data-stu-id="65e52-187">The following query runs the stored procedure **uspGetEmployeeManagers** in the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] database:</span></span>

```
EXEC uspGetEmployeeManagers '1';
```

### <a name="command-type-tabledirect"></a><span data-ttu-id="65e52-188">命令类型 TableDirect</span><span class="sxs-lookup"><span data-stu-id="65e52-188">Command Type TableDirect</span></span>
 <span data-ttu-id="65e52-189">在 **TableDirect** 类型中，图形查询设计器将显示数据源中可用表的下拉列表和一个“结果”窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-189">In **TableDirect** type, the graphical query designer displays a drop-down list of the available tables from the data source and a Result pane.</span></span> <span data-ttu-id="65e52-190">如果选定一个表并单击 **“运行”** 按钮，将返回该表的所有列。</span><span class="sxs-lookup"><span data-stu-id="65e52-190">If you select a table and click the **Run** button, all the columns for that table are returned.</span></span>

> [!NOTE]
>  <span data-ttu-id="65e52-191">只有 **OLE DB** 和 **ODBC** 数据源类型支持 TableDirect 功能。</span><span class="sxs-lookup"><span data-stu-id="65e52-191">the TableDirect feature is supported only by **OLE DB** and **ODBC** data source types.</span></span>

 <span data-ttu-id="65e52-192">下表介绍了每个窗格的功能。</span><span class="sxs-lookup"><span data-stu-id="65e52-192">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="65e52-193">窗格</span><span class="sxs-lookup"><span data-stu-id="65e52-193">Pane</span></span>|<span data-ttu-id="65e52-194">函数</span><span class="sxs-lookup"><span data-stu-id="65e52-194">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="65e52-195">表的下拉列表</span><span class="sxs-lookup"><span data-stu-id="65e52-195">Table drop-down list</span></span>|<span data-ttu-id="65e52-196">列出来自数据源的所有可用表。</span><span class="sxs-lookup"><span data-stu-id="65e52-196">Lists all the available tables from the data source.</span></span> <span data-ttu-id="65e52-197">从列表中选择一项即可使其处于活动状态。</span><span class="sxs-lookup"><span data-stu-id="65e52-197">Select one from the list to make it active.</span></span>|
|<span data-ttu-id="65e52-198">结果</span><span class="sxs-lookup"><span data-stu-id="65e52-198">Result</span></span>|<span data-ttu-id="65e52-199">显示选定表的所有列。</span><span class="sxs-lookup"><span data-stu-id="65e52-199">Displays all columns from the selected table.</span></span> <span data-ttu-id="65e52-200">若要运行表查询，请单击工具栏中的 **“运行”** 按钮。</span><span class="sxs-lookup"><span data-stu-id="65e52-200">To run the table query, click the **Run** button on the toolbar.</span></span>|

#### <a name="toolbar-buttons-for-the-command-type-tabledirect"></a><span data-ttu-id="65e52-201">命令类型 TableDirect 的工具栏按钮</span><span class="sxs-lookup"><span data-stu-id="65e52-201">Toolbar Buttons for the Command Type TableDirect</span></span>
 <span data-ttu-id="65e52-202">图形查询设计器工具栏提供了数据源中的表的下拉列表。</span><span class="sxs-lookup"><span data-stu-id="65e52-202">The graphical query designer toolbar provides a drop-down list of tables on the data source.</span></span> <span data-ttu-id="65e52-203">下表列出了每个按钮及其功能。</span><span class="sxs-lookup"><span data-stu-id="65e52-203">The following table lists each button and its function.</span></span>

|<span data-ttu-id="65e52-204">按钮</span><span class="sxs-lookup"><span data-stu-id="65e52-204">Button</span></span>|<span data-ttu-id="65e52-205">说明</span><span class="sxs-lookup"><span data-stu-id="65e52-205">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="65e52-206">**编辑为文本**</span><span class="sxs-lookup"><span data-stu-id="65e52-206">**Edit As Text**</span></span>|<span data-ttu-id="65e52-207">在基于文本的查询设计器和图形查询设计器之间切换。</span><span class="sxs-lookup"><span data-stu-id="65e52-207">Toggle between the text-based query designer and the graphical query designer.</span></span>|
|<span data-ttu-id="65e52-208">**导入**</span><span class="sxs-lookup"><span data-stu-id="65e52-208">**Import**</span></span>|<span data-ttu-id="65e52-209">从文件或报表中导入现有的查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-209">Import an existing query from a file or report.</span></span> <span data-ttu-id="65e52-210">仅支持 .sql 和 .rdl 文件类型。</span><span class="sxs-lookup"><span data-stu-id="65e52-210">Only file types .sql and .rdl are supported.</span></span> <span data-ttu-id="65e52-211">有关详细信息，请参阅 [报表的嵌入数据集和共享数据集（报表生成器和 SSRS）](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="65e52-211">For more information, see [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span></span>|
|<span data-ttu-id="65e52-212">![“通用查询设计器”按钮图标](../media/icongenericquerydesigner.gif "“通用查询设计器”按钮图标")</span><span class="sxs-lookup"><span data-stu-id="65e52-212">![Icon of the Generic Query Designer button](../media/icongenericquerydesigner.gif "Icon of the Generic Query Designer button")</span></span>|<span data-ttu-id="65e52-213">在通用查询设计器和图形查询设计器之间切换，同时保留查询文本或存储过程视图。</span><span class="sxs-lookup"><span data-stu-id="65e52-213">Toggle between generic query designer and graphical query designer, preserving the query text or stored procedure view.</span></span>|
|<span data-ttu-id="65e52-214">![运行查询](../../analysis-services/media/rsqdicon-run.gif "运行查询")</span><span class="sxs-lookup"><span data-stu-id="65e52-214">![Run the query](../../analysis-services/media/rsqdicon-run.gif "Run the query")</span></span>|<span data-ttu-id="65e52-215">选择选定表的所有列。</span><span class="sxs-lookup"><span data-stu-id="65e52-215">Select all columns from the selected table.</span></span>|

### <a name="command-type-storedprocedure"></a><span data-ttu-id="65e52-216">命令类型 StoredProcedure</span><span class="sxs-lookup"><span data-stu-id="65e52-216">Command Type StoredProcedure</span></span>
 <span data-ttu-id="65e52-217">在 **StoredProcedure** 类型中，图形查询设计器将显示数据源中可用存储过程的下拉列表和一个“结果”窗格。</span><span class="sxs-lookup"><span data-stu-id="65e52-217">In **StoredProcedure** type, the graphical query designer displays a drop-down list of the available stored procedures from the data source and a Result pane.</span></span> <span data-ttu-id="65e52-218">下表介绍了每个窗格的功能。</span><span class="sxs-lookup"><span data-stu-id="65e52-218">The following table describes the function of each pane.</span></span>

|<span data-ttu-id="65e52-219">窗格</span><span class="sxs-lookup"><span data-stu-id="65e52-219">Pane</span></span>|<span data-ttu-id="65e52-220">函数</span><span class="sxs-lookup"><span data-stu-id="65e52-220">Function</span></span>|
|----------|--------------|
|<span data-ttu-id="65e52-221">存储过程下拉列表</span><span class="sxs-lookup"><span data-stu-id="65e52-221">Stored procedure drop-down list</span></span>|<span data-ttu-id="65e52-222">列出来自数据源的所有可用存储过程。</span><span class="sxs-lookup"><span data-stu-id="65e52-222">Lists all the available stored procedures from the data source.</span></span> <span data-ttu-id="65e52-223">从列表中选择一项即可使其处于活动状态。</span><span class="sxs-lookup"><span data-stu-id="65e52-223">Select one from the list to make it active.</span></span>|
|<span data-ttu-id="65e52-224">结果</span><span class="sxs-lookup"><span data-stu-id="65e52-224">Result</span></span>|<span data-ttu-id="65e52-225">显示运行存储过程的结果。</span><span class="sxs-lookup"><span data-stu-id="65e52-225">Displays the result of running the stored procedure.</span></span> <span data-ttu-id="65e52-226">若要运行选定的存储过程，请单击工具栏中的 **“运行”** 按钮。</span><span class="sxs-lookup"><span data-stu-id="65e52-226">To run the selected stored procedure, click the **Run** button on the toolbar.</span></span>|

#### <a name="toolbar-buttons-for-command-type-storedprocedure"></a><span data-ttu-id="65e52-227">命令类型 StoredProcedure 的工具栏按钮</span><span class="sxs-lookup"><span data-stu-id="65e52-227">Toolbar Buttons for Command Type StoredProcedure</span></span>
 <span data-ttu-id="65e52-228">图形查询设计器工具栏提供了数据源中的存储过程的下拉列表。</span><span class="sxs-lookup"><span data-stu-id="65e52-228">The graphical query designer toolbar provides a drop-down list of stored procedures on the data source.</span></span> <span data-ttu-id="65e52-229">下表列出了每个按钮及其功能。</span><span class="sxs-lookup"><span data-stu-id="65e52-229">The following table lists each button and its function.</span></span>

|<span data-ttu-id="65e52-230">按钮</span><span class="sxs-lookup"><span data-stu-id="65e52-230">Button</span></span>|<span data-ttu-id="65e52-231">说明</span><span class="sxs-lookup"><span data-stu-id="65e52-231">Description</span></span>|
|------------|-----------------|
|<span data-ttu-id="65e52-232">**编辑为文本**</span><span class="sxs-lookup"><span data-stu-id="65e52-232">**Edit As Text**</span></span>|<span data-ttu-id="65e52-233">在基于文本的查询设计器和图形查询设计器之间切换。</span><span class="sxs-lookup"><span data-stu-id="65e52-233">Toggle between the text-based query designer and the graphical query designer.</span></span>|
|<span data-ttu-id="65e52-234">**导入**</span><span class="sxs-lookup"><span data-stu-id="65e52-234">**Import**</span></span>|<span data-ttu-id="65e52-235">从文件或报表中导入现有的查询。</span><span class="sxs-lookup"><span data-stu-id="65e52-235">Import an existing query from a file or report.</span></span> <span data-ttu-id="65e52-236">仅支持 .sql 和 .rdl 文件类型。</span><span class="sxs-lookup"><span data-stu-id="65e52-236">Only file types .sql and .rdl are supported.</span></span> <span data-ttu-id="65e52-237">有关详细信息，请参阅 [报表的嵌入数据集和共享数据集（报表生成器和 SSRS）](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="65e52-237">For more information, see [Report Embedded Datasets and Shared Datasets &#40;Report Builder and SSRS&#41;](report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md).</span></span>|
|<span data-ttu-id="65e52-238">![运行查询](../../analysis-services/media/rsqdicon-run.gif "运行查询")</span><span class="sxs-lookup"><span data-stu-id="65e52-238">![Run the query](../../analysis-services/media/rsqdicon-run.gif "Run the query")</span></span>|<span data-ttu-id="65e52-239">运行选定的存储过程。</span><span class="sxs-lookup"><span data-stu-id="65e52-239">Run the selected stored procedure.</span></span>|
|<span data-ttu-id="65e52-240">存储过程下拉列表</span><span class="sxs-lookup"><span data-stu-id="65e52-240">Stored procedure drop-down list</span></span>|<span data-ttu-id="65e52-241">单击向下键，以显示来自数据源的可用存储过程的列表。</span><span class="sxs-lookup"><span data-stu-id="65e52-241">Click the down arrow to display a list of available stored procedures from the data source.</span></span> <span data-ttu-id="65e52-242">在列表中单击任一存储过程以将其选中。</span><span class="sxs-lookup"><span data-stu-id="65e52-242">Click any stored procedure from the list to select it.</span></span>|

#### <a name="example"></a><span data-ttu-id="65e52-243">示例</span><span class="sxs-lookup"><span data-stu-id="65e52-243">Example</span></span>
 <span data-ttu-id="65e52-244">以下存储过程将从 [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] 数据库中调用管理器的命令链列表。</span><span class="sxs-lookup"><span data-stu-id="65e52-244">The following stored procedure calls a chain-of-command list of managers from the [!INCLUDE[ssSampleDBobject](../../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="65e52-245">该存储过程接受 *BusinessEntityID* 作为参数。</span><span class="sxs-lookup"><span data-stu-id="65e52-245">This stored procedure accepts *BusinessEntityID* as parameter.</span></span> <span data-ttu-id="65e52-246">可输入任一小的整数。</span><span class="sxs-lookup"><span data-stu-id="65e52-246">You can enter any small integer.</span></span>

 `uspGetEmployeeManagers '1';`

## <a name="see-also"></a><span data-ttu-id="65e52-247">另请参阅</span><span class="sxs-lookup"><span data-stu-id="65e52-247">See Also</span></span>
 <span data-ttu-id="65e52-248">[报表设计器 SQL Server Data Tools 中的查询设计工具 &#40;SSRS&#41;](query-design-tools-ssrs.md) [将数据添加到报表 &#40;报表生成器和 ssrs](report-datasets-ssrs.md)&#41;SQL Server ssrs [&#40;](sql-server-connection-type-ssrs.md)&#41;ssrs OLE DB &#40;ssrs&#41;&#40;ssrs 报表生成器[&#41;](ole-db-connection-type-ssrs.md) [的](report-datasets-ssrs.md)&#40;&#41;&#40;的&#41;的的[Oracle Connection Type &#40;SSRS&#41;](oracle-connection-type-ssrs.md)的[配置文件](../report-server/rsreportdesigner-configuration-file.md)[设计查询和视图](../../ssms/visual-db-tools/design-queries-and-views-how-to-topics-visual-database-tools.md)操作指南主题</span><span class="sxs-lookup"><span data-stu-id="65e52-248">[Query Design Tools in Report Designer SQL Server Data Tools &#40;SSRS&#41;](query-design-tools-ssrs.md) [Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md) [SQL Server Connection Type &#40;SSRS&#41;](sql-server-connection-type-ssrs.md) [OLE DB Connection Type &#40;SSRS&#41;](ole-db-connection-type-ssrs.md) [Add Data to a Report &#40;Report Builder and SSRS&#41;](report-datasets-ssrs.md) [Oracle Connection Type &#40;SSRS&#41;](oracle-connection-type-ssrs.md) [RSReportDesigner Configuration File](../report-server/rsreportdesigner-configuration-file.md) [Design Queries and Views How-to Topics &#40;Visual Database Tools&#41;](../../ssms/visual-db-tools/design-queries-and-views-how-to-topics-visual-database-tools.md)</span></span>


