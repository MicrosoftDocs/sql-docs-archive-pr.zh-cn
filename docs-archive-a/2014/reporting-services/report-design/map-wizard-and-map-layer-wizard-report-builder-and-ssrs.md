---
title: 地图向导和地图层向导（报表生成器和 SSRS）| Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- sql12.rtp.rptdesigner.mapandlayerwizard.f1
- "10542"
- MICROSOFT.REPORTDESIGNER.MAPLAYER.NAME
ms.assetid: 48cbe18b-1290-4107-8a1c-ec6acd71f73b
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: f51a8367f183c6e10fe8953860c29909e7c19e77
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691087"
---
# <a name="map-wizard-and-map-layer-wizard-report-builder-and-ssrs"></a><span data-ttu-id="90e53-102">地图向导和地图层向导（报表生成器和 SSRS）</span><span class="sxs-lookup"><span data-stu-id="90e53-102">Map Wizard and Map Layer Wizard (Report Builder and SSRS)</span></span>
  <span data-ttu-id="90e53-103">地图向导和地图层向导可以自动执行创建地图、添加地图层或更改现有层上的地图层选项的任务。</span><span class="sxs-lookup"><span data-stu-id="90e53-103">The Map Wizard and Map Layer Wizard automate the task of creating a map, adding a map layer, or changing map layer options on an existing layer.</span></span>

> [!NOTE]
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]

 <span data-ttu-id="90e53-104">向报表添加地图或向地图添加地图层之前，必须具有以下信息：</span><span class="sxs-lookup"><span data-stu-id="90e53-104">Before you add a map to a report or a map layer to a map, you must have the following information:</span></span>

-   <span data-ttu-id="90e53-105">**空间数据源。**</span><span class="sxs-lookup"><span data-stu-id="90e53-105">**Spatial data source.**</span></span> <span data-ttu-id="90e53-106">提供空间数据的源的位置或连接，例如，包含空间数据的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例和数据库的名称，或是 Environmental Systems Research Institute, Inc.(ESRI) 形状文件的名称。</span><span class="sxs-lookup"><span data-stu-id="90e53-106">The location or connection to a source that provides spatial data, for example, the name of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a database that contains spatial data, or the name of an Environmental Systems Research Institute, Inc. (ESRI) Shapefile.</span></span>

-   <span data-ttu-id="90e53-107">**Spatial data.**</span><span class="sxs-lookup"><span data-stu-id="90e53-107">**Spatial data.**</span></span> <span data-ttu-id="90e53-108">来自空间数据源，是包含用于指定位置的一系列坐标的字段。</span><span class="sxs-lookup"><span data-stu-id="90e53-108">From the spatial data source, a field that contains sets of coordinates that specify locations.</span></span>

-   <span data-ttu-id="90e53-109">**分析数据。**</span><span class="sxs-lookup"><span data-stu-id="90e53-109">**Analytical data.**</span></span> <span data-ttu-id="90e53-110">用于改变地图显示的分析数据，例如，年度商店销售额。</span><span class="sxs-lookup"><span data-stu-id="90e53-110">Analytical data to use to vary the map display, for example, annual store sales.</span></span>

-   <span data-ttu-id="90e53-111">**匹配字段。**</span><span class="sxs-lookup"><span data-stu-id="90e53-111">**Match fields.**</span></span> <span data-ttu-id="90e53-112">定义空间数据和分析数据之间关系的匹配字段，例如，唯一标识每个城市的地区和城市的名称。</span><span class="sxs-lookup"><span data-stu-id="90e53-112">Match fields that define the relationship between spatial data and analytical data, for example, the name of a region and city to uniquely identify each city.</span></span>

 <span data-ttu-id="90e53-113">以下部分提供了有关在地图向导和地图层向导中可以指定的选项的信息。</span><span class="sxs-lookup"><span data-stu-id="90e53-113">The following sections provide information about options that you specify when in the Map and Map Layer Wizards.</span></span>

##  <a name="map-wizard-and-map-layer-wizard-pages"></a><a name="BackToTop"></a><span data-ttu-id="90e53-114">地图向导和地图层向导页</span><span class="sxs-lookup"><span data-stu-id="90e53-114">Map Wizard and Map Layer Wizard Pages</span></span>
 <span data-ttu-id="90e53-115">若要打开地图向导，请执行以下操作之一：</span><span class="sxs-lookup"><span data-stu-id="90e53-115">To open the Map wizard, do one of the following actions:</span></span>

-   <span data-ttu-id="90e53-116">首次打开报表生成器时，请单击设计图面中心区域上的 **“地图”** 向导图标。</span><span class="sxs-lookup"><span data-stu-id="90e53-116">When you first open Report Builder, click the **Map** wizard icon in the center of the design surface.</span></span>

-   <span data-ttu-id="90e53-117">在 **“插入”** 选项卡上，单击 **“地图”**，然后单击 **“地图向导”**。</span><span class="sxs-lookup"><span data-stu-id="90e53-117">On the **Insert** tab, click **Map**, and then click **Map Wizard**.</span></span>

 <span data-ttu-id="90e53-118">若要打开地图层向导，请执行以下操作之一：</span><span class="sxs-lookup"><span data-stu-id="90e53-118">To open the Map Layer wizard, do the following action:</span></span>

-   <span data-ttu-id="90e53-119">单击地图以显示“地图”窗格和工具栏，然后单击 **“新建层向导”** 按钮。</span><span class="sxs-lookup"><span data-stu-id="90e53-119">Click the map to display the Map pane and on the toolbar, click the **New layer wizard** button.</span></span>

 <span data-ttu-id="90e53-120">单击向导页标题以获得相应的帮助内容。</span><span class="sxs-lookup"><span data-stu-id="90e53-120">Click the title of the wizard page for the corresponding help content.</span></span> <span data-ttu-id="90e53-121">您看到的页面取决于您选择的地图类型、空间数据源和分析数据源。</span><span class="sxs-lookup"><span data-stu-id="90e53-121">The pages that you see vary depending on your choices for the type of map, the source of spatial data, and the source of analytical data.</span></span>

1.  <span data-ttu-id="90e53-122">[选择空间数据的源](#SpatialDataSource)。</span><span class="sxs-lookup"><span data-stu-id="90e53-122">[Choose a source of spatial data](#SpatialDataSource).</span></span> <span data-ttu-id="90e53-123">空间数据可来自地图库、Environmental Systems Research Institute, Inc. (ESRI) 形状文件，或来自 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 关系数据库中的空间数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-123">Spatial data can come from the map gallery, an Environmental Systems Research Institute, Inc. (ESRI) Shapefile, or from spatial data in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] relational database.</span></span>

    -   [<span data-ttu-id="90e53-124">什么是空间数据？</span><span class="sxs-lookup"><span data-stu-id="90e53-124">What is spatial data?</span></span>](#SpatialData)

    -   [<span data-ttu-id="90e53-125">什么是地图库？</span><span class="sxs-lookup"><span data-stu-id="90e53-125">What is the Map gallery?</span></span>](#MapGallery)

    -   [<span data-ttu-id="90e53-126">什么是 ESRI 形状文件？</span><span class="sxs-lookup"><span data-stu-id="90e53-126">What is an ESRI Shapefile?</span></span>](#Shapefile)

    -   [<span data-ttu-id="90e53-127">在哪里可以获得 ESRI 形状文件？</span><span class="sxs-lookup"><span data-stu-id="90e53-127">Where can I get ESRI shapefiles?</span></span>](#GetShapefiles)

    -   [<span data-ttu-id="90e53-128">什么是 SQL Server 空间查询？</span><span class="sxs-lookup"><span data-stu-id="90e53-128">What is a SQL Server spatial query?</span></span>](#SqlServerSpatial)

2.  <span data-ttu-id="90e53-129">[选择空间数据和地图视图选项](#MapView)。</span><span class="sxs-lookup"><span data-stu-id="90e53-129">[Choose spatial data and map view options](#MapView).</span></span> <span data-ttu-id="90e53-130">设置地图视图、地图分辨率，指定是否在报表中嵌入空间数据，并指定是否包括 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Bing 地图图块的图块背景。</span><span class="sxs-lookup"><span data-stu-id="90e53-130">Set the map view, the map resolution, specify whether to embed spatial data in the report, and specify whether to include a tile background of [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Bing map tiles.</span></span>

    -   [<span data-ttu-id="90e53-131">什么是地图视图或视区？</span><span class="sxs-lookup"><span data-stu-id="90e53-131">What is the map view or viewport?</span></span>](#Viewport)

    -   [<span data-ttu-id="90e53-132">什么是地图分辨率或优化？</span><span class="sxs-lookup"><span data-stu-id="90e53-132">What is map resolution or optimization?</span></span>](#Resolution)

    -   [<span data-ttu-id="90e53-133">嵌入空间数据有什么作用？</span><span class="sxs-lookup"><span data-stu-id="90e53-133">What does embedding spatial data do?</span></span>](#Embed)

    -   [<span data-ttu-id="90e53-134">什么是 Bing 地图图块背景？</span><span class="sxs-lookup"><span data-stu-id="90e53-134">What is a Bing maps tile background?</span></span>](#Tiles)

3.  <span data-ttu-id="90e53-135">[选择地图可视化](#Visualization)。</span><span class="sxs-lookup"><span data-stu-id="90e53-135">[Choose map visualization](#Visualization).</span></span> <span data-ttu-id="90e53-136">选择要创建的地图的类型。</span><span class="sxs-lookup"><span data-stu-id="90e53-136">Choose the type of map to create.</span></span>

    -   [<span data-ttu-id="90e53-137">基本图、气泡图和分析图之间有什么区别？</span><span class="sxs-lookup"><span data-stu-id="90e53-137">What is the difference between a Basic Map, a Bubble Map, and an Analytical Map?</span></span>](#MapType)

    -   <span data-ttu-id="90e53-138">**选择地图可视化：多边形**</span><span class="sxs-lookup"><span data-stu-id="90e53-138">**Choose map visualization: Polygons**</span></span>

    -   <span data-ttu-id="90e53-139">**选择地图可视化：线条**</span><span class="sxs-lookup"><span data-stu-id="90e53-139">**Choose map visualization: Lines**</span></span>

    -   <span data-ttu-id="90e53-140">**选择地图可视化：点**</span><span class="sxs-lookup"><span data-stu-id="90e53-140">**Choose map visualization: Points**</span></span>

4.  <span data-ttu-id="90e53-141">**选择数据源的连接**。</span><span class="sxs-lookup"><span data-stu-id="90e53-141">**Choose a connection to a data source**.</span></span> <span data-ttu-id="90e53-142">选择或创建一个与包含要在地图上显示的分析数据的外部数据源的数据源连接。</span><span class="sxs-lookup"><span data-stu-id="90e53-142">Choose a data source connection or create one to an external data source that contains analytical data to display on the map.</span></span>

5.  <span data-ttu-id="90e53-143">**设计查询**。</span><span class="sxs-lookup"><span data-stu-id="90e53-143">**Design a query**.</span></span> <span data-ttu-id="90e53-144">生成指定分析数据的查询。</span><span class="sxs-lookup"><span data-stu-id="90e53-144">Build a query that specifies the analytical data.</span></span>

6.  <span data-ttu-id="90e53-145">[选择分析数据集](#AnalyticalData)。</span><span class="sxs-lookup"><span data-stu-id="90e53-145">[Choose the analytical dataset](#AnalyticalData).</span></span> <span data-ttu-id="90e53-146">指定分析数据的数据源。</span><span class="sxs-lookup"><span data-stu-id="90e53-146">Specify a data source for the analytical data.</span></span>

    -   [<span data-ttu-id="90e53-147">空间数据与分析数据之间的区别是什么？</span><span class="sxs-lookup"><span data-stu-id="90e53-147">What is the difference between spatial data and analytical data?</span></span>](#Diff)

7.  <span data-ttu-id="90e53-148">[为空间数据和分析数据指定匹配字段](#SpecifyMatchFields)。</span><span class="sxs-lookup"><span data-stu-id="90e53-148">[Specify the match fields for spatial and analytical data](#SpecifyMatchFields).</span></span> <span data-ttu-id="90e53-149">在空间数据和分析数据之间建立关系，以便地图元素的外观可随数据变化。</span><span class="sxs-lookup"><span data-stu-id="90e53-149">Build a relationship between the spatial data and analytical data so that the appearance of map elements can vary based on data.</span></span>

    -   [<span data-ttu-id="90e53-150">什么是匹配字段？</span><span class="sxs-lookup"><span data-stu-id="90e53-150">What is a match field?</span></span>](#MatchFields)

8.  <span data-ttu-id="90e53-151">[选择颜色主题和数据可视化](#ThemeandVisualization)。</span><span class="sxs-lookup"><span data-stu-id="90e53-151">[Choose color theme and data visualization](#ThemeandVisualization).</span></span> <span data-ttu-id="90e53-152">若要指定如何在地图背景上实现数据的可视化，请指定地图主题、要实现可视化的字段，以及要改变的内容：颜色、大小和/或标记类型。</span><span class="sxs-lookup"><span data-stu-id="90e53-152">To specify how to visualize your data against the map background, specify the map theme, the fields to visualize, and what to vary: color, size, and/or marker type.</span></span>

    -   [<span data-ttu-id="90e53-153">主题有什么作用？</span><span class="sxs-lookup"><span data-stu-id="90e53-153">What does the theme do?</span></span>](#Theme)

    -   [<span data-ttu-id="90e53-154">地图预览中的图例和刻度有哪些？</span><span class="sxs-lookup"><span data-stu-id="90e53-154">What are the legends and scales in Map Preview for?</span></span>](#Legends)

    -   [<span data-ttu-id="90e53-155">什么是规则？</span><span class="sxs-lookup"><span data-stu-id="90e53-155">What are rules?</span></span>](#Rules)

 <span data-ttu-id="90e53-156">添加地图或地图层并预览报表之后，您可以更改在向导中设置的地图和地图层选项。</span><span class="sxs-lookup"><span data-stu-id="90e53-156">After you add a map or map layer and preview the report, you can change map and map layer options that you set in the wizards.</span></span> <span data-ttu-id="90e53-157">有关详细信息，请参阅[自定义地图或地图层的数据和显示（报表生成器和 SSRS）](customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-157">For more information, see [Customize the Data and Display of a Map or Map Layer &#40;Report Builder and SSRS&#41;](customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs.md).</span></span>

 <span data-ttu-id="90e53-158">有关地图的详细信息，请参阅 [地图（报表生成器和 SSRS）](maps-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-158">For more information about maps, see [Maps &#40;Report Builder and SSRS&#41;](maps-report-builder-and-ssrs.md).</span></span> <span data-ttu-id="90e53-159">有关向报表添加地图的分步说明，请参阅[教程：地图报表（报表生成器）](../tutorial-map-report-report-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-159">For step-by-step instructions to add a map to a report, see [Tutorial: Map Report &#40;Report Builder&#41;](../tutorial-map-report-report-builder.md).</span></span>

 <span data-ttu-id="90e53-160">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-160">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

##  <a name="choose-a-source-of-spatial-data"></a><a name="SpatialDataSource"></a> <span data-ttu-id="90e53-161">选择空间数据的源</span><span class="sxs-lookup"><span data-stu-id="90e53-161">Choose a source of spatial data</span></span>
 <span data-ttu-id="90e53-162">在此页上，指定空间数据源和要包括的空间数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-162">On this page, specify the spatial data source and which spatial data to include.</span></span> <span data-ttu-id="90e53-163">空间数据可来自地图库或 ESRI 形状文件，也可来自数据集查询（此类查询指定 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 或更高版本数据库中的 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 空间数据）。</span><span class="sxs-lookup"><span data-stu-id="90e53-163">Spatial data can come from the map gallery, an ESRI Shapefile, or a dataset query that specifies [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] spatial data from a [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] or later version database.</span></span>

 <span data-ttu-id="90e53-164">可以为每层使用相同或不同的空间数据源，但必须在每次添加层时指定源。</span><span class="sxs-lookup"><span data-stu-id="90e53-164">You can use the same source or a different source of spatial data for each layer, but you must specify the source every time you add a layer.</span></span> <span data-ttu-id="90e53-165">当空间数据来自地图库或 ESRI 形状文件时，空间数据源不是单独的报表项。</span><span class="sxs-lookup"><span data-stu-id="90e53-165">When the spatial data is from the map gallery or an ESRI Shapefile, the spatial data source is not a separate report item.</span></span> <span data-ttu-id="90e53-166">它不显示在“报表数据”窗格中。</span><span class="sxs-lookup"><span data-stu-id="90e53-166">It does not appear in the Report Data pane.</span></span>

###  <a name="what-is-spatial-data"></a><a name="SpatialData"></a><span data-ttu-id="90e53-167">什么是空间数据？</span><span class="sxs-lookup"><span data-stu-id="90e53-167">What is spatial data?</span></span>
 <span data-ttu-id="90e53-168">空间数据包含定义地理或几何元素的坐标。</span><span class="sxs-lookup"><span data-stu-id="90e53-168">Spatial data contains coordinates that define geographic or geometric elements.</span></span> <span data-ttu-id="90e53-169">在地图中，空间数据定义“地图元素” \*\*：定义区域或形状的多边形、定义路线或路径的线条，以及定义标记或图钉的点。</span><span class="sxs-lookup"><span data-stu-id="90e53-169">In a map, spatial data defines *map elements*: polygons that define areas or shapes, lines that define routes or paths, and points that define markers or pushpins.</span></span> <span data-ttu-id="90e53-170">空间数据在数据源中以二进制格式存储，并指定为坐标集。</span><span class="sxs-lookup"><span data-stu-id="90e53-170">Spatial data is stored in binary format on the data source and is specified as sets of coordinates.</span></span> <span data-ttu-id="90e53-171">例如，点是 X 和 Y 坐标 (X Y)，线条是两组坐标 ((X1 Y1), (X2 Y2))，多边形是四组或更多坐标，其中第一组和最后一组坐标是相同的 ((X1 Y1), (X2 Y2), (X3 Y3), (X1 Y1))。</span><span class="sxs-lookup"><span data-stu-id="90e53-171">For example, a point is an X and Y coordinate (X Y), a line is two sets of coordinates ((X1 Y1), (X2 Y2)), a polygon is four or more sets of coordinates where the first and last set of coordinates are the same ((X1 Y1), (X2 Y2), (X3 Y3), (X1 Y1)).</span></span>

 <span data-ttu-id="90e53-172">有关详细信息，请参阅所用空间数据类型的文档。</span><span class="sxs-lookup"><span data-stu-id="90e53-172">For more information, see the documentation for the type of spatial data that you use.</span></span>

###  <a name="what-is-the-map-gallery"></a><a name="MapGallery"></a> <span data-ttu-id="90e53-173">What is the map gallery?</span><span class="sxs-lookup"><span data-stu-id="90e53-173">What is the map gallery?</span></span>
 <span data-ttu-id="90e53-174">地图库所包含的地图来自面向报表创作环境的地图库文件夹中的报表。</span><span class="sxs-lookup"><span data-stu-id="90e53-174">The map gallery contains maps from reports that are located in the map gallery folder for the report authoring environment.</span></span> <span data-ttu-id="90e53-175">库中的地图提供支持向报表快速添加地图。</span><span class="sxs-lookup"><span data-stu-id="90e53-175">Maps from the gallery provide a quick start to add a map to your report.</span></span> <span data-ttu-id="90e53-176">库中预先定义的地图是由地图提供商提供的。</span><span class="sxs-lookup"><span data-stu-id="90e53-176">The predefined maps in the gallery are provided by a map provider.</span></span>

> [!NOTE]
>  <span data-ttu-id="90e53-177">这 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 种映射功能使用 TIGER/Line 形状文件提供的数据， ([http://www.census.gov/](http://www.census.gov/)) 。</span><span class="sxs-lookup"><span data-stu-id="90e53-177">This [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] mapping feature uses data from TIGER/Line Shapefiles provided courtesy of the U.S. Census Bureau ([http://www.census.gov/](http://www.census.gov/)).</span></span> <span data-ttu-id="90e53-178">TIGER/Line 形状文件是从 Census MAF/TIGER 数据库中精选的地理和制图信息的摘录。</span><span class="sxs-lookup"><span data-stu-id="90e53-178">TIGER/Line Shapefiles are an extract of selected geographic and cartographic information from the Census MAF/TIGER database.</span></span> <span data-ttu-id="90e53-179">TIGER/Line 形状文件可以从美国人口普查局免费获得。</span><span class="sxs-lookup"><span data-stu-id="90e53-179">TIGER/Line Shapefiles are available without charge from the U.S. Census Bureau.</span></span> <span data-ttu-id="90e53-180">若要获取关于 TIGER/Line 形状文件的详细信息，请转到 [TIGER/Line 形状文件和 TIGER/Line 文件技术文档](https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/tiger-geo-line.html)。</span><span class="sxs-lookup"><span data-stu-id="90e53-180">To obtain more information about the TIGER/Line Shapefiles go to [TIGER/Line Shapefiles and TIGER/Line Files Technical Documentation](https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/tiger-geo-line.html).</span></span> <span data-ttu-id="90e53-181">TIGER/Line 形状文件中的边界信息仅用于统计数据收集和制表目的；其中用于统计目的的描述和名称不构成对于司法机构、所有权或享有权利的界定，它们不是法律上关于领土的说明。</span><span class="sxs-lookup"><span data-stu-id="90e53-181">The boundary information in the TIGER/Line Shapefiles are for statistical data collection and tabulation purposes only; their depiction and designation for statistical purposes does not constitute a determination of jurisdictional authority or rights of ownership or entitlement and they are not legal land descriptions.</span></span> <span data-ttu-id="90e53-182">Census TIGER 和 TIGER/Line 是美国人口普查局的注册商标。</span><span class="sxs-lookup"><span data-stu-id="90e53-182">Census TIGER and TIGER/Line are registered trademarks of the U.S. Bureau of the Census.</span></span>

 <span data-ttu-id="90e53-183">若要扩展地图库，可以在地图库目录中添加或删除报表，并添加文件夹对地图进行组织。</span><span class="sxs-lookup"><span data-stu-id="90e53-183">To extend the map gallery, you can add or remove reports from the map gallery directory, and add folders to organize the maps.</span></span> <span data-ttu-id="90e53-184">有关详细信息，请参阅[地图（报表生成器和 SSRS）](maps-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-184">For more information, see [Maps &#40;Report Builder and SSRS&#41;](maps-report-builder-and-ssrs.md).</span></span>

###  <a name="what-is-an-esri-shapefile"></a><a name="Shapefile"></a><span data-ttu-id="90e53-185">什么是 ESRI 形状文件？</span><span class="sxs-lookup"><span data-stu-id="90e53-185">What is an ESRI shapefile?</span></span>
 <span data-ttu-id="90e53-186">ESRI 形状文件是一个文件集，其中的数据符合 Environmental Systems Research Institute, Inc. (ESRI) 形状文件空间数据格式。</span><span class="sxs-lookup"><span data-stu-id="90e53-186">An ESRI Shapefile is a set of files with data that conforms to the Environmental Systems Research Institute, Inc. (ESRI) shapefile spatial data format.</span></span> <span data-ttu-id="90e53-187">文件集通常包含 *\<filename>* 包含空间数据的 shp 文件和支持文件 *\<filename>* .dbf。</span><span class="sxs-lookup"><span data-stu-id="90e53-187">The set of files typically includes the *\<filename>*.shp file that contains the spatial data and a support file, *\<filename>*.dbf.</span></span>

 <span data-ttu-id="90e53-188">当您将形状文件指定为空间数据源而该文件位于您的本地计算机中时，空间数据将自动嵌入到报表中。</span><span class="sxs-lookup"><span data-stu-id="90e53-188">When you specify a shape file as a spatial data source and it is located on your local computer, the spatial data is automatically embedded in the report.</span></span> <span data-ttu-id="90e53-189">若要动态使用 ESRI 文件中的空间数据，必须执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="90e53-189">To use spatial data from an ESRI file dynamically, you must do the following:</span></span>

 <span data-ttu-id="90e53-190">在报表生成器中，将 .shp 文件及 .dbf 文件同时上载到报表服务器上的同一文件夹，然后链接到作为空间数据源的 .shp 文件。</span><span class="sxs-lookup"><span data-stu-id="90e53-190">In Report Builder, upload both the .shp file and the .dbf file to the same folder on a report server, and then link to the .shp file as the spatial data source.</span></span>

 <span data-ttu-id="90e53-191">在 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]中的报表设计器中，将 .shp 文件及 .dbf 文件同时添加到报表项目中，然后将该 .shp 文件的名称指定为空间数据源。</span><span class="sxs-lookup"><span data-stu-id="90e53-191">In Report Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], add both the .shp file and the .dbf file to the report project, and then specify the name of the .shp file as the spatial data source.</span></span>

###  <a name="where-can-i-get-esri-shapefiles"></a><a name="GetShapefiles"></a> <span data-ttu-id="90e53-192">在何处可以获取 ESRI 形状文件？</span><span class="sxs-lookup"><span data-stu-id="90e53-192">Where can I get ESRI shapefiles?</span></span>
 <span data-ttu-id="90e53-193">在网络上提供 ESRI 形状文件。</span><span class="sxs-lookup"><span data-stu-id="90e53-193">ESRI shapefiles are available on the Web.</span></span> <span data-ttu-id="90e53-194">有关详细信息，请参阅 [Finding ESRI Shapefiles for a Map](https://go.microsoft.com/fwlink/?linkid=178814)（查找用于地图的 ESRI 形状文件）。</span><span class="sxs-lookup"><span data-stu-id="90e53-194">For more information, see [Finding ESRI Shapefiles for a Map](https://go.microsoft.com/fwlink/?linkid=178814).</span></span>

###  <a name="what-is-a-sql-server-spatial-query"></a><a name="SqlServerSpatial"></a><span data-ttu-id="90e53-195">什么是 SQL Server 空间查询？</span><span class="sxs-lookup"><span data-stu-id="90e53-195">What is a SQL Server spatial query?</span></span>
 <span data-ttu-id="90e53-196">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 空间查询是一种数据集查询，该查询指定来自 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 关系数据库的 SQLGeometry 或 SQLGeography 数据类型的数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-196">A [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] spatial query is a dataset query that specifies data that is either a SQLGeometry or a SQLGeography data type from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] relational database.</span></span>

> [!NOTE]
>  <span data-ttu-id="90e53-197">在向导中定义数据源时，您将在“设计查询”页中看到不同的查询设计器，具体取决于您所连接的数据源的类型。</span><span class="sxs-lookup"><span data-stu-id="90e53-197">When you define a data source in the wizard, you will see different query designers in the Design a Query page, depending on what type of data source you are connecting to.</span></span> <span data-ttu-id="90e53-198">有关详细信息，请参阅[查询设计器（报表生成器）](../query-designers-report-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-198">For more information, see [Query Designers &#40;Report Builder&#41;](../query-designers-report-builder.md).</span></span>

 <span data-ttu-id="90e53-199">在查询设计器中运行该查询时，结果集显示一列，其中的空间数据显示为文本。</span><span class="sxs-lookup"><span data-stu-id="90e53-199">When you run the query in the query designer, the result set displays a column with spatial data that appears as text.</span></span> <span data-ttu-id="90e53-200">例如，一行可能包含作为一个点的空间数据，而下一行可能包含定义一组点的空间数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-200">For example, one row might contain spatial data that is a single point and the next row might contain spatial data that defines a set of points.</span></span> <span data-ttu-id="90e53-201">每行都成为一个地图元素。</span><span class="sxs-lookup"><span data-stu-id="90e53-201">Each row becomes one map element.</span></span> <span data-ttu-id="90e53-202">您可以改变每个图元素的显示，将其作为不可分的单元。</span><span class="sxs-lookup"><span data-stu-id="90e53-202">You can vary the display of each map element as an indivisible unit.</span></span>

 <span data-ttu-id="90e53-203">有关详细信息，请参阅 [SQL Server 联机丛书](https://go.microsoft.com/fwlink/?linkid=120955)中的“空间数据类型”。</span><span class="sxs-lookup"><span data-stu-id="90e53-203">For more information, see "Types of Spatial Data" in [SQL Server Books Online](https://go.microsoft.com/fwlink/?linkid=120955).</span></span>

 <span data-ttu-id="90e53-204">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-204">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

##  <a name="choose-spatial-data-and-map-view-options"></a><a name="MapView"></a> <span data-ttu-id="90e53-205">选择空间数据和地图视图选项</span><span class="sxs-lookup"><span data-stu-id="90e53-205">Choose spatial data and map view options</span></span>
 <span data-ttu-id="90e53-206">在此页上可以设置以下选项：</span><span class="sxs-lookup"><span data-stu-id="90e53-206">On this page you can set the following options:</span></span>

-   <span data-ttu-id="90e53-207">为在上一向导页中选定的空间数据设置视图中心和缩放级别。</span><span class="sxs-lookup"><span data-stu-id="90e53-207">Set the view center and zoom level for the spatial data that you selected in the previous wizard page.</span></span> <span data-ttu-id="90e53-208">您设置的视图适用于整个地图。</span><span class="sxs-lookup"><span data-stu-id="90e53-208">The view that you set applies to the whole map.</span></span>

-   <span data-ttu-id="90e53-209">设置地图分辨率。</span><span class="sxs-lookup"><span data-stu-id="90e53-209">Set the map resolution.</span></span>

-   <span data-ttu-id="90e53-210">指定是否在报表中嵌入空间数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-210">Specify whether to embed the spatial data in the report.</span></span>

-   <span data-ttu-id="90e53-211">对于嵌入数据，指定是包括所有数据还是仅包括当前视图中的数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-211">For embedded data, specify whether to include all data or just the data in the current view.</span></span>

-   <span data-ttu-id="90e53-212">指定是否包括 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Bing 地图图块背景。</span><span class="sxs-lookup"><span data-stu-id="90e53-212">Specify whether to include a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Bing map tiles background.</span></span>

###  <a name="what-is-the-map-view-or-viewport"></a><a name="Viewport"></a> <span data-ttu-id="90e53-213">什么是地图视图或视区？</span><span class="sxs-lookup"><span data-stu-id="90e53-213">What is the map view or viewport?</span></span>
 <span data-ttu-id="90e53-214">地图视区定义要为报表中的所有层显示的地图区域。</span><span class="sxs-lookup"><span data-stu-id="90e53-214">The map viewport defines the map area to display for all layers in your report.</span></span>

 <span data-ttu-id="90e53-215">默认情况下，色阶和距离刻度显示在视区内，地图图例显示在视区外。</span><span class="sxs-lookup"><span data-stu-id="90e53-215">By default, color scale and distance scale appear inside the viewport, and the map legend appears outside the viewport.</span></span> <span data-ttu-id="90e53-216">可以在完成向导操作后更改这些视区选项。</span><span class="sxs-lookup"><span data-stu-id="90e53-216">You can change these options for the viewport after you complete the wizard.</span></span>

###  <a name="what-is-map-resolution-and-optimization"></a><a name="Resolution"></a> <span data-ttu-id="90e53-217">什么是地图分辨率和优化？</span><span class="sxs-lookup"><span data-stu-id="90e53-217">What is map resolution and optimization?</span></span>
 <span data-ttu-id="90e53-218">当您更改表示线条或多边形的空间数据的分辨率时，您是在指定要绘制的地图的详细程度。</span><span class="sxs-lookup"><span data-stu-id="90e53-218">When you change the resolution for spatial data that represents lines or polygons, you are specifying how detailed you want the map to be drawn.</span></span> <span data-ttu-id="90e53-219">例如，对于区域的空中视图，您是需要将粒度降到地球上百米的表面积，还是一英里的分辨率就足够了？</span><span class="sxs-lookup"><span data-stu-id="90e53-219">For example, for aerial views of a region, do you need granularity down to a hundred meters of surface area on the earth, or is one mile resolution enough?</span></span>

 <span data-ttu-id="90e53-220">如果报表中嵌入了空间数据，较高的分辨率将增加按该分辨率绘制详细信息所需的元素数。</span><span class="sxs-lookup"><span data-stu-id="90e53-220">When spatial data is embedded in the report, a higher resolution increases the number of elements that are needed to draw details at that resolution.</span></span> <span data-ttu-id="90e53-221">如果报表中未嵌入空间数据，较高的分辨率将在您每次查看报表时增加报表处理器按该分辨率计算地图中线条所需的时间。</span><span class="sxs-lookup"><span data-stu-id="90e53-221">When the spatial data is not embedded in the report, a higher resolution increases the amount of time required by the report processor to calculate the lines for the map at that resolution every time you view the report.</span></span>

 <span data-ttu-id="90e53-222">降低分辨率后，报表处理器将应用一种算法来减少绘制地图元素所需的点数。</span><span class="sxs-lookup"><span data-stu-id="90e53-222">When you lower the resolution, the report processor applies an algorithm to reduce the number of points needed to draw the map elements.</span></span> <span data-ttu-id="90e53-223">分辨率越低，显示地图元素所需的数据就越少，这样可以提高显示性能。</span><span class="sxs-lookup"><span data-stu-id="90e53-223">The lower the resolution, the less data is required to display the map elements, which can lead to better display performance.</span></span>

 <span data-ttu-id="90e53-224">调整滑块时，向导窗格中的预览数据随之更新，为您指示调整的影响。</span><span class="sxs-lookup"><span data-stu-id="90e53-224">As you adjust the slider, the preview data in the wizard pane updates to give you an indication of the effect.</span></span> <span data-ttu-id="90e53-225">将地图添加到报表后，可以通过更改地图视区选项来调整此值。</span><span class="sxs-lookup"><span data-stu-id="90e53-225">After you add the map to the report, you can adjust this value by changing map viewport options.</span></span>

###  <a name="what-does-embedding-spatial-data-do"></a><a name="Embed"></a><span data-ttu-id="90e53-226">嵌入空间数据有什么作用？</span><span class="sxs-lookup"><span data-stu-id="90e53-226">What does embedding spatial data do?</span></span>
 <span data-ttu-id="90e53-227">在报表中嵌入地图元素或 Bing 地图图块时，空间数据存储在报表定义中。</span><span class="sxs-lookup"><span data-stu-id="90e53-227">When you embed map elements or Bing map tiles in a report, the spatial data is stored in the report definition.</span></span>

 <span data-ttu-id="90e53-228">带地图的报表可以使用在处理报表时动态检索到的空间数据或 Bing 地图图块，或是在设计时创建然后嵌入报表定义的空间数据或 Bing 地图图块。</span><span class="sxs-lookup"><span data-stu-id="90e53-228">A report with a map can use spatial data or Bing map tiles that are retrieved dynamically either when the report is processed or at design time and then embedded in the report definition.</span></span> <span data-ttu-id="90e53-229">嵌入的地图元素可能会显著增加报表定义的大小，但会减少在报表中查看地图所需的时间。</span><span class="sxs-lookup"><span data-stu-id="90e53-229">Embedded map elements can significantly increase the size of the report definition, but reduce the time it takes to view the map in the report.</span></span> <span data-ttu-id="90e53-230">动态地图元素减少报表定义大小，但会增加处理和查看地图所需的时间。</span><span class="sxs-lookup"><span data-stu-id="90e53-230">Dynamic map elements reduce the report definition size but increase the time it takes to process and view the map.</span></span>

 <span data-ttu-id="90e53-231">优秀的报表设计要求您在静态和动态地图数据之间权衡利弊，找出适合您所在环境的平衡点。</span><span class="sxs-lookup"><span data-stu-id="90e53-231">Good report design requires that you assess the trade-offs for static or dynamic map data and find the balance that works for your circumstances.</span></span> <span data-ttu-id="90e53-232">总之，更多数据意味着报表定义和编译的报表要求在报表服务器上占有更大的存储空间，以及较长的处理时间。</span><span class="sxs-lookup"><span data-stu-id="90e53-232">In general, more data means the report definition and the compiled report requires more storage on the report server and longer processing times.</span></span> <span data-ttu-id="90e53-233">剪裁空间数据并限制其他报表数据，以便仅包括报表所需信息，这始终不失为一种好的做法。</span><span class="sxs-lookup"><span data-stu-id="90e53-233">It is always a best practice to crop spatial data, as well as limit other report data, to include just what is needed for the report.</span></span>

###  <a name="what-is-a-bing-map-tile-background"></a><a name="Tiles"></a> <span data-ttu-id="90e53-234">什么是 Bing 地图图块背景？</span><span class="sxs-lookup"><span data-stu-id="90e53-234">What is a Bing map tile background?</span></span>
 <span data-ttu-id="90e53-235">若要向地图中添加地理图像背景，请选择 Bing 地图图块背景选项。</span><span class="sxs-lookup"><span data-stu-id="90e53-235">To add a geographic image background to your map, select the Bing map tile background option.</span></span> <span data-ttu-id="90e53-236">报表处理器会为在此向导页上指定的地图区域和分辨率从 Bing 地图 Web 服务下载图块。</span><span class="sxs-lookup"><span data-stu-id="90e53-236">The report processor downloads tiles from Bing Maps Web Services for the map area and resolution that you specify on this wizard page.</span></span> <span data-ttu-id="90e53-237">可以指定下列图块类型之一：</span><span class="sxs-lookup"><span data-stu-id="90e53-237">You can specify one of the following tile types:</span></span>

-   <span data-ttu-id="90e53-238">**前方.**</span><span class="sxs-lookup"><span data-stu-id="90e53-238">**Road.**</span></span> <span data-ttu-id="90e53-239">显示背景为白色的道路地图样式。</span><span class="sxs-lookup"><span data-stu-id="90e53-239">Display a road map style with white background.</span></span>

-   <span data-ttu-id="90e53-240">**空中：**</span><span class="sxs-lookup"><span data-stu-id="90e53-240">**Aerial.**</span></span> <span data-ttu-id="90e53-241">仅显示鸟瞰图。</span><span class="sxs-lookup"><span data-stu-id="90e53-241">Display an aerial view only.</span></span> <span data-ttu-id="90e53-242">这种模式下不显示任何文本。</span><span class="sxs-lookup"><span data-stu-id="90e53-242">No text is displayed in this mode.</span></span>

-   <span data-ttu-id="90e53-243">**综合.**</span><span class="sxs-lookup"><span data-stu-id="90e53-243">**Hybrid.**</span></span> <span data-ttu-id="90e53-244">显示组合起来的 **“道路”** 和 **“空中”** 视图。</span><span class="sxs-lookup"><span data-stu-id="90e53-244">Display the combination of **Road** and **Aerial** views.</span></span>

 <span data-ttu-id="90e53-245">有关图块的详细信息，请参阅 [Bing 地图图块系统](https://go.microsoft.com/fwlink/?LinkId=147315)。</span><span class="sxs-lookup"><span data-stu-id="90e53-245">For more information about tiles, see [Bing Maps Tiles System](https://go.microsoft.com/fwlink/?LinkId=147315).</span></span> <span data-ttu-id="90e53-246">有关在报表中使用 Bing 地图图块的详细信息，请参阅 [其他使用条款](https://go.microsoft.com/fwlink/?LinkId=151371) 和 [隐私声明](https://go.microsoft.com/fwlink/?LinkId=151372)。</span><span class="sxs-lookup"><span data-stu-id="90e53-246">For more information about the use of Bing map tiles in your report, see [Additional Terms of Use](https://go.microsoft.com/fwlink/?LinkId=151371) and [Privacy Statement](https://go.microsoft.com/fwlink/?LinkId=151372).</span></span>

 <span data-ttu-id="90e53-247">若要在设计视图中查看图块背景，您必须能访问 Internet。</span><span class="sxs-lookup"><span data-stu-id="90e53-247">To see a tile background in Design view, you must have Internet access.</span></span> <span data-ttu-id="90e53-248">若要通过报表服务器上的报表以预览模式查看图块背景，报表服务器必须配置为支持 Bing 地图图块。</span><span class="sxs-lookup"><span data-stu-id="90e53-248">To see the tile background in preview from a report on a report server, the report server must be configured to support Bing map tiles.</span></span> <span data-ttu-id="90e53-249">有关详细信息，请参阅 SQL Server 联机丛书的[Reporting Services 文档](https://go.microsoft.com/fwlink/?linkid=121312)中的[报表故障排除：地图报表 &#40;报表生成器和 SSRS&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md)和 "规划地图"。</span><span class="sxs-lookup"><span data-stu-id="90e53-249">For more information, see [Troubleshoot Reports: Map Reports &#40;Report Builder and SSRS&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md) and "Planning for Maps" in the [Reporting Services documentation](https://go.microsoft.com/fwlink/?linkid=121312) in SQL Server Books Online.</span></span>

 <span data-ttu-id="90e53-250">有关自定义图块层的其他方式的详细信息，请参阅[添加、更改或删除地图或地图层（报表生成器和 SSRS）](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-250">For more information on other ways to customize a tile layer, see [Add, Change, or Delete a Map or Map Layer &#40;Report Builder and SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md).</span></span>

 <span data-ttu-id="90e53-251">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-251">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

##  <a name="choose-map-visualization"></a><a name="Visualization"></a><span data-ttu-id="90e53-252">选择地图可视化</span><span class="sxs-lookup"><span data-stu-id="90e53-252">Choose map visualization</span></span>
 <span data-ttu-id="90e53-253">在此页上，选择要添加到报表的地图或地图层的类型。</span><span class="sxs-lookup"><span data-stu-id="90e53-253">On this page, choose the type of map or map layer to add to your report.</span></span> <span data-ttu-id="90e53-254">首次运行该向导时，将向报表添加地图以及第一个地图层。</span><span class="sxs-lookup"><span data-stu-id="90e53-254">The first time you run the wizard, you are adding the map and the first map layer to the report.</span></span> <span data-ttu-id="90e53-255">一个地图可以包含多个地图层。</span><span class="sxs-lookup"><span data-stu-id="90e53-255">A map can contain multiple map layers.</span></span> <span data-ttu-id="90e53-256">每个地图层都显示一种特定类型的空间数据：多边形、线条或点。</span><span class="sxs-lookup"><span data-stu-id="90e53-256">Each map layer displays a specific type of spatial data: polygons, lines, or points.</span></span>

 <span data-ttu-id="90e53-257">您选择的地图类型取决于地图的用途和可用的数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-257">The type of map that you choose depends on the purpose of the map and the data that you have available.</span></span>

###  <a name="what-is-the-difference-among-a-basic-map-a-bubble-map-and-an-analytical-map"></a><a name="MapType"></a> <span data-ttu-id="90e53-258">基本图、气泡图和分析图之间有什么区别？</span><span class="sxs-lookup"><span data-stu-id="90e53-258">What is the difference among a Basic Map, a Bubble Map, and an Analytical Map?</span></span>
 <span data-ttu-id="90e53-259">**“基本图”** 只显示位置。</span><span class="sxs-lookup"><span data-stu-id="90e53-259">A **Basic Map** displays locations only.</span></span> <span data-ttu-id="90e53-260">您可以通过阴影来改变地图上区域的颜色，但颜色不代表分析数据值。</span><span class="sxs-lookup"><span data-stu-id="90e53-260">You can vary the colors of the areas on the map by shade, but the color does not represent analytical data values.</span></span>

 <span data-ttu-id="90e53-261">**“气泡图”** 将单个分析数据聚合的相关值表示为气泡大小，例如，商店销售额。</span><span class="sxs-lookup"><span data-stu-id="90e53-261">A **Bubble Map** conveys the relative value for a single analytical data aggregate as bubble size, for example, store sales.</span></span> <span data-ttu-id="90e53-262">可以为多边形或点创建气泡图。</span><span class="sxs-lookup"><span data-stu-id="90e53-262">You can create bubble maps for either polygons or points.</span></span> <span data-ttu-id="90e53-263">对于多边形，设置多边形中心点属性；对于点，设置标记属性。</span><span class="sxs-lookup"><span data-stu-id="90e53-263">For polygons, set the polygon center point properties; for points, set the marker properties.</span></span>

 <span data-ttu-id="90e53-264">**“分析图”** 表示每个地图元素的一个或多个分析数据聚合的相关值。</span><span class="sxs-lookup"><span data-stu-id="90e53-264">An **Analytical Map** conveys the relative value of one or more analytical data aggregates for each map element.</span></span> <span data-ttu-id="90e53-265">例如，将商店销售额表示为标记大小，将产品类别的利润范围表示为标记颜色，将畅销产品表示为标记类型。</span><span class="sxs-lookup"><span data-stu-id="90e53-265">For example, store sales as marker size, profit range for product categories as marker color, and top selling product as marker type.</span></span>

 <span data-ttu-id="90e53-266">有关详细信息，请参阅 [规划地图报表（报表生成器和 SSRS）](plan-a-map-report-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-266">For more information, see [Plan a Map Report &#40;Report Builder and SSRS&#41;](plan-a-map-report-report-builder-and-ssrs.md).</span></span>

 <span data-ttu-id="90e53-267">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-267">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

##  <a name="choose-the-analytical-dataset"></a><a name="AnalyticalData"></a><span data-ttu-id="90e53-268">选择分析数据集</span><span class="sxs-lookup"><span data-stu-id="90e53-268">Choose the analytical dataset</span></span>
 <span data-ttu-id="90e53-269">在此页上，指定要在此地图层上显示的分析数据的来源。</span><span class="sxs-lookup"><span data-stu-id="90e53-269">On this page, specify where to get the analytical data to display on this map layer.</span></span>

 <span data-ttu-id="90e53-270">若要在地图背景上显示报表数据或任何分析数据，必须指定数据来源以及如何将这些数据关联到空间数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-270">To display your report data or any analytical data against the map background, you must specify where the data is and how it is related to the spatial data.</span></span> <span data-ttu-id="90e53-271">数据可以来自现有报表数据集，或来自针对其建立查询的新数据集。</span><span class="sxs-lookup"><span data-stu-id="90e53-271">Your data can come from an existing report dataset, or from a new dataset that you build a query for.</span></span> <span data-ttu-id="90e53-272">现有分析数据可以包括在包含空间数据的 ESRI 形状文件中。</span><span class="sxs-lookup"><span data-stu-id="90e53-272">Existing analytical data might be included in the ESRI Shapefile that contains the spatial data.</span></span>

###  <a name="what-is-the-difference-between-spatial-data-and-analytical-data"></a><a name="Diff"></a> <span data-ttu-id="90e53-273">空间数据和分析数据之间有什么区别？</span><span class="sxs-lookup"><span data-stu-id="90e53-273">What is the difference between spatial data and analytical data?</span></span>
 <span data-ttu-id="90e53-274">空间数据包含指定点、线条和多边形的一系列坐标。</span><span class="sxs-lookup"><span data-stu-id="90e53-274">Spatial data consists of sets of coordinates that specify points, lines, and polygons.</span></span> <span data-ttu-id="90e53-275">地图元素基于空间数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-275">Map elements are based on spatial data.</span></span>

 <span data-ttu-id="90e53-276">分析数据是您要用来改变地图外观的数值或类别数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-276">Analytical data is numeric or categorical data that you want use to vary the appearance of the map.</span></span> <span data-ttu-id="90e53-277">分析数据可以来自报表数据集，也可能随地图库或 ESRI 形状文件中的某个地图的空间数据附带。</span><span class="sxs-lookup"><span data-stu-id="90e53-277">Analytical can come from a report dataset or might be included with spatial data from a map from the map gallery or from an ESRI shape file.</span></span>

 <span data-ttu-id="90e53-278">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-278">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

##  <a name="specify-the-match-fields"></a><a name="SpecifyMatchFields"></a> <span data-ttu-id="90e53-279">指定匹配字段</span><span class="sxs-lookup"><span data-stu-id="90e53-279">Specify the match fields</span></span>
 <span data-ttu-id="90e53-280">在此页上，建立空间数据与分析数据之间的关系。</span><span class="sxs-lookup"><span data-stu-id="90e53-280">On this page, build a relationship between the spatial data and analytical data.</span></span>

###  <a name="what-are-match-fields"></a><a name="MatchFields"></a> <span data-ttu-id="90e53-281">什么是匹配字段？</span><span class="sxs-lookup"><span data-stu-id="90e53-281">What are match fields?</span></span>
 <span data-ttu-id="90e53-282">匹配字段支持报表处理器在分析数据与空间数据之间建立关系。</span><span class="sxs-lookup"><span data-stu-id="90e53-282">Match fields enable the report processor to build a relationship between the analytical data and the spatial data.</span></span> <span data-ttu-id="90e53-283">匹配字段指定分析数据内的唯一值。</span><span class="sxs-lookup"><span data-stu-id="90e53-283">Match fields specify unique values within the analytical data.</span></span> <span data-ttu-id="90e53-284">例如，商店名称在数据中可能不唯一，所以可以同时指定城市和商店的名称。</span><span class="sxs-lookup"><span data-stu-id="90e53-284">For example, the store name might not be unique within the data, so you could specify both a city and the store name.</span></span>

 <span data-ttu-id="90e53-285">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-285">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

##  <a name="choose-color-theme-and-data-visualization"></a><a name="ThemeandVisualization"></a> <span data-ttu-id="90e53-286">选择颜色主题和数据可视化</span><span class="sxs-lookup"><span data-stu-id="90e53-286">Choose color theme and data visualization</span></span>
 <span data-ttu-id="90e53-287">在此页上，指定如何在地图背景上使数据可视、指定地图主题、要可视化的字段，以及要改变的内容：颜色、大小和/或标记类型。</span><span class="sxs-lookup"><span data-stu-id="90e53-287">On this page, specify how to visualize your data against the map background, the map theme, the fields to visualize, and what to vary: color, size, and/or marker type.</span></span>

###  <a name="what-does-the-theme-do"></a><a name="Theme"></a> <span data-ttu-id="90e53-288">主题有什么作用？</span><span class="sxs-lookup"><span data-stu-id="90e53-288">What does the theme do?</span></span>
 <span data-ttu-id="90e53-289">所选主题设置颜色、边框和字体的默认值。</span><span class="sxs-lookup"><span data-stu-id="90e53-289">The theme that you choose sets default values for color, border, and font.</span></span> <span data-ttu-id="90e53-290">可以在完成向导操作后更改这些选项。</span><span class="sxs-lookup"><span data-stu-id="90e53-290">You can change these options after you complete the wizard.</span></span>

###  <a name="what-are-the-legends-and-scales-in-map-preview-for"></a><a name="Legends"></a> <span data-ttu-id="90e53-291">地图预览中的图例和比例尺有什么作用？</span><span class="sxs-lookup"><span data-stu-id="90e53-291">What are the legends and scales in Map Preview for?</span></span>
 <span data-ttu-id="90e53-292">图例可帮助用户解释地图上显示的数据。</span><span class="sxs-lookup"><span data-stu-id="90e53-292">Legends help a user interpret the data that is displayed on a map.</span></span> <span data-ttu-id="90e53-293">地图中提供了色阶、距离刻度和图例。</span><span class="sxs-lookup"><span data-stu-id="90e53-293">A map provides a color range, a distance scale, and a legend.</span></span>

-   <span data-ttu-id="90e53-294">**颜色范围。**</span><span class="sxs-lookup"><span data-stu-id="90e53-294">**Color range.**</span></span> <span data-ttu-id="90e53-295">颜色范围显示一个带刻度的颜色条，刻度用于提供由报表处理器根据你为层指定的规则所确定的数据间隔指南。</span><span class="sxs-lookup"><span data-stu-id="90e53-295">The color range displays a color bar with a scale that provides a guide to the data intervals that are determined by the report processor based on the rules that you specify for the layer.</span></span>

-   <span data-ttu-id="90e53-296">**距离刻度：**</span><span class="sxs-lookup"><span data-stu-id="90e53-296">**Distance scale.**</span></span> <span data-ttu-id="90e53-297">距离刻度用于提供地图上的距离单位指南。</span><span class="sxs-lookup"><span data-stu-id="90e53-297">The distance scale provides a guide to the distance units on the map.</span></span> <span data-ttu-id="90e53-298">距离单位将根据地图投影和缩放级别自动确定。</span><span class="sxs-lookup"><span data-stu-id="90e53-298">Distance units are determined automatically based on the map projection and zoom level.</span></span>

-   <span data-ttu-id="90e53-299">**例.**</span><span class="sxs-lookup"><span data-stu-id="90e53-299">**Legend.**</span></span> <span data-ttu-id="90e53-300">图例用于提供帮助解释地图上的颜色、大小和标记类型含义的指南。</span><span class="sxs-lookup"><span data-stu-id="90e53-300">The legend provides a guide to help interpret the meaning of colors, sizes, and marker types on a map.</span></span> <span data-ttu-id="90e53-301">默认情况下，所有层的所有规则都会在第一个图例中显示数据间隔。</span><span class="sxs-lookup"><span data-stu-id="90e53-301">By default, all the rules for all the layers display data intervals in the first legend.</span></span> <span data-ttu-id="90e53-302">将地图添加到报表后，可以自定义此图例以及添加图例。</span><span class="sxs-lookup"><span data-stu-id="90e53-302">You can customize this legend and add legends after you add the map to the report.</span></span>

###  <a name="what-are-rules"></a><a name="Rules"></a> <span data-ttu-id="90e53-303">什么是规则？</span><span class="sxs-lookup"><span data-stu-id="90e53-303">What are rules?</span></span>
 <span data-ttu-id="90e53-304">规则是报表处理器将分析数据划分为范围所使用的计算。</span><span class="sxs-lookup"><span data-stu-id="90e53-304">Rules are calculations that the report processor uses to divide analytical data into ranges.</span></span> <span data-ttu-id="90e53-305">可以为每一层指定不同的规则。</span><span class="sxs-lookup"><span data-stu-id="90e53-305">You can specify different rules for each layer.</span></span> <span data-ttu-id="90e53-306">可以指定的规则类型取决于层上空间数据的类型：</span><span class="sxs-lookup"><span data-stu-id="90e53-306">The type of rules you can specify depend on the type of spatial data on the layer:</span></span>

-   <span data-ttu-id="90e53-307">**多边形.**</span><span class="sxs-lookup"><span data-stu-id="90e53-307">**Polygons.**</span></span> <span data-ttu-id="90e53-308">可以指定颜色规则。</span><span class="sxs-lookup"><span data-stu-id="90e53-308">You can specify color rules.</span></span>

-   <span data-ttu-id="90e53-309">**多边形中心点：**</span><span class="sxs-lookup"><span data-stu-id="90e53-309">**Center points for polygons.**</span></span> <span data-ttu-id="90e53-310">可以指定颜色、大小和标记类型规则。</span><span class="sxs-lookup"><span data-stu-id="90e53-310">You can specify color, size, and marker type rules.</span></span>

-   <span data-ttu-id="90e53-311">**行.**</span><span class="sxs-lookup"><span data-stu-id="90e53-311">**Lines.**</span></span> <span data-ttu-id="90e53-312">可以指定颜色和宽度规则。</span><span class="sxs-lookup"><span data-stu-id="90e53-312">You can specify color and width rules.</span></span>

-   <span data-ttu-id="90e53-313">**热点.**</span><span class="sxs-lookup"><span data-stu-id="90e53-313">**Points.**</span></span> <span data-ttu-id="90e53-314">可以指定颜色、大小和标记类型规则。</span><span class="sxs-lookup"><span data-stu-id="90e53-314">You can specify color, size, and marker type rules.</span></span>

 <span data-ttu-id="90e53-315">报表处理器应用您设置的规则，并自动确定要显示在图例中的项列表。</span><span class="sxs-lookup"><span data-stu-id="90e53-315">The report processor applies the rules that you set and automatically determines the list of items to display in a legend.</span></span> <span data-ttu-id="90e53-316">默认情况下，所有层的所有规则的结果都会显示在第一个图例中。</span><span class="sxs-lookup"><span data-stu-id="90e53-316">By default, the results of all rules for all layers display in the first legend.</span></span> <span data-ttu-id="90e53-317">您可以在完成向导操作后对此进行调整。</span><span class="sxs-lookup"><span data-stu-id="90e53-317">You can adjust this after you complete the wizard.</span></span> <span data-ttu-id="90e53-318">有关详细信息，请参阅 [按规则和分析数据更改多边形、线条和点的显示方式（报表生成器和 SSRS）](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)。</span><span class="sxs-lookup"><span data-stu-id="90e53-318">For more information, see [Vary Polygon, Line, and Point Display by Rules and Analytical Data &#40;Report Builder and SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).</span></span>

 <span data-ttu-id="90e53-319">![用于 "返回页首" 链接的箭头图标](../../2014-toc/media/uparrow16x16.gif "用于返回页首链接的箭头图标")[返回页首](#BackToTop)</span><span class="sxs-lookup"><span data-stu-id="90e53-319">![Arrow icon used with Back to Top link](../../2014-toc/media/uparrow16x16.gif "Arrow icon used with Back to Top link") [Back to Top](#BackToTop)</span></span>

## <a name="see-also"></a><span data-ttu-id="90e53-320">另请参阅</span><span class="sxs-lookup"><span data-stu-id="90e53-320">See Also</span></span>
 <span data-ttu-id="90e53-321">[报表故障排除：地图报表 &#40;报表生成器和 ssrs&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md) [规划地图报表 &#40;报表生成器和](plan-a-map-report-report-builder-and-ssrs.md)ssrs&#41;&#40;报表生成器[和 ssrs](maps-report-builder-and-ssrs.md)&#41;</span><span class="sxs-lookup"><span data-stu-id="90e53-321">[Troubleshoot Reports: Map Reports &#40;Report Builder and SSRS&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md) [Plan a Map Report &#40;Report Builder and SSRS&#41;](plan-a-map-report-report-builder-and-ssrs.md) [Maps &#40;Report Builder and SSRS&#41;](maps-report-builder-and-ssrs.md)</span></span>


