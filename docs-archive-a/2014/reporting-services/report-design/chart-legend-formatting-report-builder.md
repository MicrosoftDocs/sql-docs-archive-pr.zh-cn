---
title: 设置图表上图例的格式（报表生成器和 SSRS）| Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10183"
- sql12.rtp.rptdesigner.legendtitleproperties.shadow.f1
- "10189"
- sql12.rtp.rptdesigner.calculatedseriesproperties.legend.f1
- sql12.rtp.rptdesigner.legendproperties.shadow.f1
- "10185"
- sql12.rtp.rptdesigner.seriesproperties.legend.f1
- sql12.rtp.rptdesigner.legendproperties.font.f1
- "10254"
- "10152"
- sql12.rtp.rptdesigner.legendtitleproperties.font.f1
- sql12.rtp.rptdesigner.legendproperties.border.f1
- "10187"
- "10181"
- "10188"
- sql12.rtp.rptdesigner.legendtitleproperties.general.f1
ms.assetid: b035b2e0-ab1e-4a37-bff7-a42d1e914bac
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: d44b66d9937c643fc23efbd246ba9543d28c7859
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87590063"
---
# <a name="formatting-the-legend-on-a-chart-report-builder-and-ssrs"></a><span data-ttu-id="d4bba-102">设置图表上图例的格式（报表生成器和 SSRS）</span><span class="sxs-lookup"><span data-stu-id="d4bba-102">Formatting the Legend on a Chart (Report Builder and SSRS)</span></span>
  <span data-ttu-id="d4bba-103">图表图例包含对图表中每个类别的说明。</span><span class="sxs-lookup"><span data-stu-id="d4bba-103">The chart legend contains descriptions for each category in a chart.</span></span> <span data-ttu-id="d4bba-104">图例始终包含一个或多个图例项，每个图例项包含一个表示序列的彩色框以及一个描述该序列的文本字符串，如下图所示。</span><span class="sxs-lookup"><span data-stu-id="d4bba-104">A legend always contains one or more legend items, where each legend item consists of a colored box that represents the series, and a text string that describes the series, as indicated in the following illustration.</span></span>  
  
 <span data-ttu-id="d4bba-105">![图表图例关系图](../media/rs-legenddiagram.gif "图表图例关系图")</span><span class="sxs-lookup"><span data-stu-id="d4bba-105">![Diagram of a chart legend](../media/rs-legenddiagram.gif "Diagram of a chart legend")</span></span>  
  
 <span data-ttu-id="d4bba-106">对于除形状图以外的图表，图例项连接到该图表上的单个序列；对于形状图而言，图例连接到各个数据点。</span><span class="sxs-lookup"><span data-stu-id="d4bba-106">A legend item is connected to an individual series on the chart, except for Shape charts, where the legend is connected to individual data points.</span></span> <span data-ttu-id="d4bba-107">图表会自动基于根据数据生成的序列向图例中添加项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-107">The chart automatically adds items into the legend based on the series that are generated from your data.</span></span>  
  
 <span data-ttu-id="d4bba-108">可以使用 **“图例属性”** 对话框或“属性”窗格来设置图例的格式。</span><span class="sxs-lookup"><span data-stu-id="d4bba-108">You can format a legend by using the **Legend Properties** dialog box or by using the Properties pane.</span></span> <span data-ttu-id="d4bba-109">右键单击图例，然后单击 **“图例属性”** 可以更改图例文本、背景色、边框和三维效果的值。</span><span class="sxs-lookup"><span data-stu-id="d4bba-109">Right-click the legend and click **Legend Properties** to change values for the legend text, background color, borders, and 3D effects.</span></span> <span data-ttu-id="d4bba-110">若要更改图例标题的值，请选择图例，再右键单击图例标题，然后单击 **“图例标题属性”** 。</span><span class="sxs-lookup"><span data-stu-id="d4bba-110">To change values for the legend title, select the legend, right-click the legend title, and click **Legend Title Properties**.</span></span>  
  
 <span data-ttu-id="d4bba-111">不能向图例中添加图像、额外的列或其他补充项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-111">You cannot add images, extra columns or other supplementary items to the legend.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
## <a name="ordering-legend-items-in-the-legend"></a><span data-ttu-id="d4bba-112">对图例中的图例项进行排序</span><span class="sxs-lookup"><span data-stu-id="d4bba-112">Ordering Legend Items in the Legend</span></span>  
 <span data-ttu-id="d4bba-113">在图例中，序列是按照 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 处理引擎处理它们的顺序进行排序的。</span><span class="sxs-lookup"><span data-stu-id="d4bba-113">Series are ordered in the legend according to the order that they are processed by the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] processing engine.</span></span> <span data-ttu-id="d4bba-114">可以更改排序顺序，方法是更改数据字段放置区中字段的顺序。</span><span class="sxs-lookup"><span data-stu-id="d4bba-114">You can change the order by changing the order of fields in the data fields drop-zone.</span></span> <span data-ttu-id="d4bba-115">如果使用序列分组，序列数据在处理之前是未知的，因此您无法对这些项重新进行排序。</span><span class="sxs-lookup"><span data-stu-id="d4bba-115">If you are using series grouping, the series data is not known until processing, so that there is no way for you to re-order these items.</span></span> <span data-ttu-id="d4bba-116">所做的更改可在“预览”中查看。</span><span class="sxs-lookup"><span data-stu-id="d4bba-116">The changes can be seen in Preview.</span></span> <span data-ttu-id="d4bba-117">有关序列分组的详细信息，请参阅 [图表（报表生成器和 SSRS）](charts-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="d4bba-117">For more information about series grouping, see [Charts &#40;Report Builder and SSRS&#41;](charts-report-builder-and-ssrs.md).</span></span>  
  
 <span data-ttu-id="d4bba-118">您可以隐藏任何序列，使其不显示在图例中。</span><span class="sxs-lookup"><span data-stu-id="d4bba-118">You can hide any series from being shown in the legend.</span></span> <span data-ttu-id="d4bba-119">如果使用序列分组，所有与数据字段相关的序列都将隐藏。</span><span class="sxs-lookup"><span data-stu-id="d4bba-119">If you are using series grouping, all series related to the data field will be hidden.</span></span> <span data-ttu-id="d4bba-120">有关详细信息，请参阅 [隐藏图表上的图例项（报表生成器和 SSRS）](chart-legend-hide-items-report-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="d4bba-120">For more information, see [Hide Legend Items on the Chart &#40;Report Builder and SSRS&#41;](chart-legend-hide-items-report-builder.md).</span></span>  
  
## <a name="changing-the-text-or-color-of-a-legend-item-in-the-legend"></a><span data-ttu-id="d4bba-121">更改图例中图例项的文本或颜色</span><span class="sxs-lookup"><span data-stu-id="d4bba-121">Changing the Text or Color of a Legend Item in the Legend</span></span>  
 <span data-ttu-id="d4bba-122">在图表的数据字段放置区中放入一个字段时，会自动生成一个包含此字段名称的图例项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-122">When a field is placed in the data field drop-zone of a chart, a legend item is automatically generated that contains the name of this field.</span></span> <span data-ttu-id="d4bba-123">默认情况下，每个图例项以数据字段的名称作为其文本。</span><span class="sxs-lookup"><span data-stu-id="d4bba-123">By default, the text of each legend item is taken from the name of the data field.</span></span> <span data-ttu-id="d4bba-124">对于除形状图外的其他图表，每个图例项会连接到图表上的单个序列，而对于形状图，图例会连接到单个数据点而不是单个序列。</span><span class="sxs-lookup"><span data-stu-id="d4bba-124">Every legend item is connected to an individual series on the chart with the exception of Shape charts, where the legend is connected to individual data points instead of individual series.</span></span> <span data-ttu-id="d4bba-125">在形状图中定义类别组时，每个图例项以该类别组的字符串表示形式作为其文本。</span><span class="sxs-lookup"><span data-stu-id="d4bba-125">When a category group is defined on a Shape chart, the text of each legend item is taken from the string representation of the category group.</span></span> <span data-ttu-id="d4bba-126">您可以为饼图、圆环图和漏斗图指定自定义标签文本，以显示不同于类别组标签的与图例中每个单个数据点相关的信息。</span><span class="sxs-lookup"><span data-stu-id="d4bba-126">You can specify custom label text for pie, doughnut and funnel charts to show information other than the category group label that relates to each individual data point in the legend.</span></span> <span data-ttu-id="d4bba-127">若要执行此操作，请选择图例，并在 **“序列属性”** 对话框或“属性”窗格的 **LegendText** 属性中指定图例文本。</span><span class="sxs-lookup"><span data-stu-id="d4bba-127">To do this, select the legend and specify legend text in either the **Series Properties** dialog box or the **LegendText** property in the Properties pane.</span></span> <span data-ttu-id="d4bba-128">有关详细信息，请参阅 [更改图例项的文本（报表生成器和 SSRS）](chart-legend-change-item-text-report-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="d4bba-128">For more information, see [Change the Text of a Legend Item &#40;Report Builder and SSRS&#41;](chart-legend-change-item-text-report-builder.md).</span></span>  
  
 <span data-ttu-id="d4bba-129">您还可以在 **LegendText** 属性或 **“序列属性”** 对话框中，为经常引用的属性指定特定于图表且区分大小写的关键字。</span><span class="sxs-lookup"><span data-stu-id="d4bba-129">You can also specify chart-specific, case-sensitive keywords for commonly referenced attributes in the **LegendText** property or in the **Series Properties** dialog box.</span></span> <span data-ttu-id="d4bba-130">图表控件会在运行时用其数据表示形式替换这些关键字。</span><span class="sxs-lookup"><span data-stu-id="d4bba-130">The chart control replaces these keywords at run time with their data representation.</span></span> <span data-ttu-id="d4bba-131">对于形状图，此方法非常有用，因为这样可以显示与特定数据点相关的信息。</span><span class="sxs-lookup"><span data-stu-id="d4bba-131">This approach is useful on Shape charts because you are able to show information relating to specific data points.</span></span> <span data-ttu-id="d4bba-132">有关详细信息，请参阅 [设置图表上数据点的格式（报表生成器和 SSRS）](formatting-data-points-on-a-chart-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="d4bba-132">For more information, see [Formatting Data Points on a Chart &#40;Report Builder and SSRS&#41;](formatting-data-points-on-a-chart-report-builder-and-ssrs.md).</span></span>  
  
 <span data-ttu-id="d4bba-133">为每个图例项显示的彩色框继承自其相应序列的填充颜色。</span><span class="sxs-lookup"><span data-stu-id="d4bba-133">The colored box displayed for each legend item is inherited from the fill color of its corresponding series.</span></span> <span data-ttu-id="d4bba-134">若要更改显示在图例项中的颜色，必须更改相应序列的颜色。</span><span class="sxs-lookup"><span data-stu-id="d4bba-134">If you want to change the color displayed in a legend item, you will have to change the color of the corresponding series.</span></span> <span data-ttu-id="d4bba-135">有关详细信息，请参阅 [设置图表上序列颜色的格式（报表生成器和 SSRS）](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="d4bba-135">For more information, see [Formatting Series Colors on a Chart &#40;Report Builder and SSRS&#41;](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md).</span></span>  
  
## <a name="removing-extra-legend-items-from-the-legend"></a><span data-ttu-id="d4bba-136">删除图例中的多余图例项</span><span class="sxs-lookup"><span data-stu-id="d4bba-136">Removing Extra Legend Items from the Legend</span></span>  
 <span data-ttu-id="d4bba-137">图例始终连接到序列。</span><span class="sxs-lookup"><span data-stu-id="d4bba-137">The legend is always connected to a series.</span></span> <span data-ttu-id="d4bba-138">如果一个图例项显示在图例中，但是相应的序列却没有显示在图表中，最有可能的原因是该序列不包含任何值。</span><span class="sxs-lookup"><span data-stu-id="d4bba-138">If a legend item appears in the legend but the corresponding series is not displayed in the chart, the most likely cause is that the series does not contain any values.</span></span> <span data-ttu-id="d4bba-139">您必须删除此序列才能从图例中删除该图例项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-139">You must remove this series in order to remove the legend item from the legend.</span></span> <span data-ttu-id="d4bba-140">若要从图表中删除序列，请右键单击指定的序列，然后选择“删除序列”选项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-140">To remove a series from your chart, you can right-click the specified series and select the Delete Series option.</span></span>  
  
## <a name="repositioning-the-legend"></a><span data-ttu-id="d4bba-141">重新定位图例</span><span class="sxs-lookup"><span data-stu-id="d4bba-141">Repositioning the Legend</span></span>  
 <span data-ttu-id="d4bba-142">图表区是包含轴标签和绘图区的矩形区域。</span><span class="sxs-lookup"><span data-stu-id="d4bba-142">The chart area is the rectangular area that encompasses the axis labels and the plotting area.</span></span> <span data-ttu-id="d4bba-143">当图例位于图表区之外时，你可以将该图例拖放到十二个不同位置中的一个。</span><span class="sxs-lookup"><span data-stu-id="d4bba-143">You can drag the legend to one of twelve different positions when the legend is placed outside the chart area.</span></span> <span data-ttu-id="d4bba-144">默认情况下，图例显示在图表区之外。</span><span class="sxs-lookup"><span data-stu-id="d4bba-144">By default, the legend is shown outside the chart area.</span></span> <span data-ttu-id="d4bba-145">还可以在 **“图例属性”** 对话框中设置该位置。</span><span class="sxs-lookup"><span data-stu-id="d4bba-145">You can also set the position in the **Legend Properties** dialog box.</span></span>  
  
 <span data-ttu-id="d4bba-146">不能将图例拖入或拖离图表区。</span><span class="sxs-lookup"><span data-stu-id="d4bba-146">You cannot drag the legend inside or outside the chart area.</span></span> <span data-ttu-id="d4bba-147">如果要将图例定位在图表区中，请在 **“图例属性”** 对话框的 **“停靠”** 下，从下拉列表中选择 **“默认值”** ，然后清除 **“在图表区之外显示图例”** 选项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-147">If you want to position the legend inside the chart area, on the **Legend Properties** dialog box, under **Docking**, select **Default** from the drop-down list and clear the **Show legend outside chart area** option.</span></span> <span data-ttu-id="d4bba-148">通过将图例放置在图表区中，可以最大化图表上数据点的空间。</span><span class="sxs-lookup"><span data-stu-id="d4bba-148">By placing the legend inside the chart area, you can maximize space for data points on the chart.</span></span> <span data-ttu-id="d4bba-149">但是，这有可能导致图例与图表上的一些数据点重叠，从而导致图表很难读懂，具体情况取决于数据集。</span><span class="sxs-lookup"><span data-stu-id="d4bba-149">However, depending on the dataset, it can cause the legend to overlap some data points on the chart area, making the chart more difficult to read.</span></span>  
  
## <a name="displaying-legend-items-horizontally"></a><span data-ttu-id="d4bba-150">水平显示图例项</span><span class="sxs-lookup"><span data-stu-id="d4bba-150">Displaying Legend Items Horizontally</span></span>  
 <span data-ttu-id="d4bba-151">默认情况下，图例的格式被设置为由一行或多行组成的列表，其中每一行都包含一个图例项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-151">By default, the legend is formatted as a list of one or more rows containing one legend item each.</span></span> <span data-ttu-id="d4bba-152">图例区会展开以容纳图例项的数量。</span><span class="sxs-lookup"><span data-stu-id="d4bba-152">The legend area expands to accommodate the number of legend items.</span></span> <span data-ttu-id="d4bba-153">如果图例无法展开，将显示省略号 (...)。</span><span class="sxs-lookup"><span data-stu-id="d4bba-153">If the legend cannot expand, an ellipsis (...) is displayed.</span></span> <span data-ttu-id="d4bba-154">图例可垂直或水平展开，具体情况取决于指定的图例样式。</span><span class="sxs-lookup"><span data-stu-id="d4bba-154">Depending on the specified legend style, the legend can expand vertically or horizontally.</span></span> <span data-ttu-id="d4bba-155">可以在 **“图例属性”** 对话框中更改布局样式，或更改分配的空间以显示所有图例项。</span><span class="sxs-lookup"><span data-stu-id="d4bba-155">You can change the layout style on the **Legend Properties** dialog box or change the allocated space to display all the legend items.</span></span>  
  
 <span data-ttu-id="d4bba-156">若要水平显示图例，请将图例停靠到图表的顶部或底部。</span><span class="sxs-lookup"><span data-stu-id="d4bba-156">To display the legend horizontally, dock the legend to the top or bottom of the chart.</span></span> <span data-ttu-id="d4bba-157">这将导致图例水平展开。</span><span class="sxs-lookup"><span data-stu-id="d4bba-157">This causes the legend to expand horizontally.</span></span> <span data-ttu-id="d4bba-158">还可以将 Layout 属性设置为“行”或“宽表”   。</span><span class="sxs-lookup"><span data-stu-id="d4bba-158">You can also set the Layout property to **Row** or **Wide Table**.</span></span> <span data-ttu-id="d4bba-159">在“属性”窗格中设置 MaxAutoSize 属性以控制当图例停靠在图表区的顶部或底部时分配给图例的垂直空间。</span><span class="sxs-lookup"><span data-stu-id="d4bba-159">Set the MaxAutoSize property in the Properties pane to control the vertical space allocated to the legend when it is docked at the top or bottom of the chart area.</span></span>  
  
## <a name="formatting-the-legend-text"></a><span data-ttu-id="d4bba-160">设置图例文本的格式</span><span class="sxs-lookup"><span data-stu-id="d4bba-160">Formatting the Legend Text</span></span>  
 <span data-ttu-id="d4bba-161">可以在 **“图例属性”** 对话框的 **“字体”** 页上更改图例文本的字体、大小、样式和颜色。</span><span class="sxs-lookup"><span data-stu-id="d4bba-161">You can change the font, size, style, and color of legend text on the **Font** page of the **Legend Properties** dialog box.</span></span>  
  
 <span data-ttu-id="d4bba-162">默认情况下，图例文本没有为适应图例区的大小而进行优化。</span><span class="sxs-lookup"><span data-stu-id="d4bba-162">By default, the legend text is not optimized to fit the legend area.</span></span> <span data-ttu-id="d4bba-163">若要使图例文本自动适应所分配的空间，请将 AutoFitTextDisabled 属性设置为， `False` 并将 MinFontSize 属性的最小字号设置为可表达的最小字体大小，并仍允许进行图例优化。</span><span class="sxs-lookup"><span data-stu-id="d4bba-163">To cause the legend text to automatically fit the allocated space, set the AutoFitTextDisabled property to `False` and set a minimum font size for the MinFontSize property to the lowest font size that you think will be presentable and still allow for legend optimization.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d4bba-164">另请参阅</span><span class="sxs-lookup"><span data-stu-id="d4bba-164">See Also</span></span>  
 <span data-ttu-id="d4bba-165">[“图例属性”对话框，“常规”（报表生成器和 SSRS）](../legend-properties-dialog-box-general-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="d4bba-165">[Legend Properties Dialog Box, General &#40;Report Builder and SSRS&#41;](../legend-properties-dialog-box-general-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="d4bba-166">[更改图例项的文本（报表生成器和 SSRS）](chart-legend-change-item-text-report-builder.md) </span><span class="sxs-lookup"><span data-stu-id="d4bba-166">[Change the Text of a Legend Item &#40;Report Builder and SSRS&#41;](chart-legend-change-item-text-report-builder.md) </span></span>  
 <span data-ttu-id="d4bba-167">[设置图表格式（报表生成器和 SSRS）](formatting-a-chart-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="d4bba-167">[Formatting a Chart &#40;Report Builder and SSRS&#41;](formatting-a-chart-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="d4bba-168">[设置图表上序列颜色的格式（报表生成器和 SSRS）](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="d4bba-168">[Formatting Series Colors on a Chart &#40;Report Builder and SSRS&#41;](formatting-series-colors-on-a-chart-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="d4bba-169">[图表（报表生成器和 SSRS）](charts-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="d4bba-169">[Charts &#40;Report Builder and SSRS&#41;](charts-report-builder-and-ssrs.md) </span></span>  
 <span data-ttu-id="d4bba-170">[隐藏图表上的图例项（报表生成器和 SSRS）](chart-legend-hide-items-report-builder.md) </span><span class="sxs-lookup"><span data-stu-id="d4bba-170">[Hide Legend Items on the Chart &#40;Report Builder and SSRS&#41;](chart-legend-hide-items-report-builder.md) </span></span>  
 [<span data-ttu-id="d4bba-171">使用调色板定义图表上的颜色（报表生成器和 SSRS）</span><span class="sxs-lookup"><span data-stu-id="d4bba-171">Define Colors on a Chart Using a Palette &#40;Report Builder and SSRS&#41;</span></span>](define-colors-on-a-chart-using-a-palette-report-builder-and-ssrs.md)  
  
  
