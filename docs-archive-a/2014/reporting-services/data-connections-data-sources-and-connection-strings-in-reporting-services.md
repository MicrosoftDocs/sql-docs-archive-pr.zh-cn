---
title: Reporting Services 中的数据连接、数据源和连接字符串 |Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- connections [Reporting Services], data sources
- reports [Reporting Services], data
- expressions [Reporting Services], data sources
- data sources [Reporting Services], connections
- connection strings [Reporting Services]
- shared data sources [Reporting Services]
- Reporting Services, data sources
- logins [Reporting Services]
ms.assetid: 4d8f0ae1-102b-4b3d-9155-fa584c962c9e
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 320d538ea7d2b4fa971f3df8c8e1e4165052b79f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87587248"
---
# <a name="data-connections-data-sources-and-connection-strings-in-reporting-services"></a><span data-ttu-id="7b3c7-102">Data Connections, Data Sources, and Connection Strings in Reporting Services</span><span class="sxs-lookup"><span data-stu-id="7b3c7-102">Data Connections, Data Sources, and Connection Strings in Reporting Services</span></span>
  <span data-ttu-id="7b3c7-103">若要在 [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] 报表中包含数据，必须首先创建“数据源” \*\* 和“数据集” \*\*。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-103">To include data in a [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] report, you must first create *data sources* and *datasets*.</span></span> <span data-ttu-id="7b3c7-104">本主题解释数据源的类型、如何创建数据源以及与数据源凭据相关的重要信息。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-104">This topic explains the type of data sources, how to create data sources, and important information related to data source credentials.</span></span> <span data-ttu-id="7b3c7-105">数据源包含数据源类型、连接信息以及要使用的凭据的类型。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-105">A data source includes the data source type, connection information, and the type of credentials to use.</span></span> <span data-ttu-id="7b3c7-106">有两种类型的数据源：嵌入数据源和共享数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-106">There are two types of data sources: embedded and shared.</span></span> <span data-ttu-id="7b3c7-107">嵌入数据源在报表中定义并只由该报表使用。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-107">An embedded data source is defined in the report and used only by that report.</span></span> <span data-ttu-id="7b3c7-108">共享数据源独立于报表定义并可由多个报表使用。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-108">A shared data source is defined independently from a report and can be used by multiple reports.</span></span> <span data-ttu-id="7b3c7-109">有关详细信息，请参阅[嵌入和共享的数据连接或数据源（报表生成器和 SSRS）](../../2014/reporting-services/embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md)和[嵌入数据集和共享数据集（报表生成器和 SSRS）](report-data/embedded-and-shared-datasets-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-109">For more information, see [Embedded and Shared Data Connections or Data Sources &#40;Report Builder and SSRS&#41;](../../2014/reporting-services/embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) and [Embedded and Shared Datasets &#40;Report Builder and SSRS&#41;](report-data/embedded-and-shared-datasets-report-builder-and-ssrs.md).</span></span>

||
|-|
|<span data-ttu-id="7b3c7-110">**[!INCLUDE[applies](../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] 本机模式 &#124; [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] SharePoint 模式</span><span class="sxs-lookup"><span data-stu-id="7b3c7-110">**[!INCLUDE[applies](../includes/applies-md.md)]**  [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] Native mode &#124; [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] SharePoint mode</span></span>|

> [!NOTE]
>  [!INCLUDE[ssRBRDDup](../includes/ssrbrddup-md.md)]



##  <a name="embedded-and-shared-data-sources"></a><a name="bkmk_data_sources"></a><span data-ttu-id="7b3c7-111">嵌入数据源和共享数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-111">Embedded and shared data sources</span></span>
 <span data-ttu-id="7b3c7-112">嵌入数据源和共享数据源的区别在于创建、存储和管理它们的方式不同。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-112">The difference between the embedded and shared data sources is in how they are created, stored, and managed.</span></span>

-   <span data-ttu-id="7b3c7-113">在报表设计器中，将嵌入数据源或共享数据源作为 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] 项目的一部分创建。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-113">In Report Designer, create embedded or shared data sources as part of a [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] project.</span></span> <span data-ttu-id="7b3c7-114">您可以控制是在本地使用它们以便进行预览，还是将其作为项目的一部分部署到报表服务器或 SharePoint 站点。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-114">You can control whether to use them locally for preview or to deploy them as part of the project to a report server or SharePoint site.</span></span> <span data-ttu-id="7b3c7-115">您可以使用已安装在您的计算机上和安装在报表服务器或 SharePoint 站点（在其中部署您的报表）上的自定义数据扩展插件。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-115">You can use custom data extensions that have been installed on your computer and on the report server or SharePoint site where you deploy your reports.</span></span>

     <span data-ttu-id="7b3c7-116">系统管理员可以安装和配置其他数据处理扩展插件和 .NET Framework 数据访问接口。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-116">System administrators can install and configure additional data processing extensions and .NET Framework data providers.</span></span> <span data-ttu-id="7b3c7-117">有关详细信息，请参阅[数据处理扩展插件和 .NET Framework 数据提供程序 (SSRS)](report-data/data-processing-extensions-and-net-framework-data-providers-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-117">For more information, see [Data Processing Extensions and .NET Framework Data Providers &#40;SSRS&#41;](report-data/data-processing-extensions-and-net-framework-data-providers-ssrs.md).</span></span>

     <span data-ttu-id="7b3c7-118">开发人员可以使用 <xref:Microsoft.ReportingServices.DataProcessing> API 创建数据处理扩展插件以支持其他类型的数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-118">Developers can use the <xref:Microsoft.ReportingServices.DataProcessing> API to create data processing extensions to support additional types of data sources.</span></span>

-   <span data-ttu-id="7b3c7-119">在报表生成器中，浏览到某一报表服务器或 SharePoint 站点并选择共享数据源，或者在报表中创建嵌入数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-119">In Report Builder, browse to a report server or SharePoint site and select shared data sources or create embedded data sources in the report.</span></span> <span data-ttu-id="7b3c7-120">不能在报表生成器中创建共享数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-120">You cannot create a shared data source in Report Builder.</span></span> <span data-ttu-id="7b3c7-121">不能在报表生成器中使用自定义数据扩展插件</span><span class="sxs-lookup"><span data-stu-id="7b3c7-121">You cannot use custom data extensions in Report Builder</span></span>

##  <a name="built-in-data-extensions"></a><a name="bkmk_DataConnections"></a><span data-ttu-id="7b3c7-122">内置数据扩展插件</span><span class="sxs-lookup"><span data-stu-id="7b3c7-122">Built-in data extensions</span></span>
 <span data-ttu-id="7b3c7-123">[!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] 中的内置数据扩展插件包含以下类型的数据连接：</span><span class="sxs-lookup"><span data-stu-id="7b3c7-123">Default data extensions in [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] include the following types of data connections:</span></span>

-   <span data-ttu-id="7b3c7-124">Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="7b3c7-124">Microsoft SQL Server</span></span>

-   <span data-ttu-id="7b3c7-125">Microsoft SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="7b3c7-125">Microsoft SQL Server Analysis Services</span></span>

-   <span data-ttu-id="7b3c7-126">Microsoft SharePoint 列表</span><span class="sxs-lookup"><span data-stu-id="7b3c7-126">Microsoft SharePoint List</span></span>

-   [!INCLUDE[ssSDSfull](../includes/sssdsfull-md.md)]

-   <span data-ttu-id="7b3c7-127">Microsoft SQL Server Parallel Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="7b3c7-127">Microsoft SQL Server Parallel Data Warehouse</span></span>

-   <span data-ttu-id="7b3c7-128">OLE DB</span><span class="sxs-lookup"><span data-stu-id="7b3c7-128">OLE DB</span></span>

-   <span data-ttu-id="7b3c7-129">Oracle</span><span class="sxs-lookup"><span data-stu-id="7b3c7-129">Oracle</span></span>

-   <span data-ttu-id="7b3c7-130">SAP NetWeaver BI</span><span class="sxs-lookup"><span data-stu-id="7b3c7-130">SAP NetWeaver BI</span></span>

-   <span data-ttu-id="7b3c7-131">Hyperion Essbase</span><span class="sxs-lookup"><span data-stu-id="7b3c7-131">Hyperion Essbase</span></span>

-   <span data-ttu-id="7b3c7-132">Teradata</span><span class="sxs-lookup"><span data-stu-id="7b3c7-132">Teradata</span></span>

-   <span data-ttu-id="7b3c7-133">XML</span><span class="sxs-lookup"><span data-stu-id="7b3c7-133">XML</span></span>

-   <span data-ttu-id="7b3c7-134">ODBC</span><span class="sxs-lookup"><span data-stu-id="7b3c7-134">ODBC</span></span>

-   <span data-ttu-id="7b3c7-135">用于 Power View 的 Microsoft BI 语义模型：在配置用于 PowerPivot 库和 [!INCLUDE[ssCrescent](../includes/sscrescent-md.md)]的 SharePoint 站点上，此数据源类型可用。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-135">Microsoft BI Semantic Model for Power View : On a SharePoint site that has been configured for a PowerPivot gallery and [!INCLUDE[ssCrescent](../includes/sscrescent-md.md)], this data source type is available.</span></span> <span data-ttu-id="7b3c7-136">此数据源类型仅可用于 [!INCLUDE[ssCrescent](../includes/sscrescent-md.md)] 演示文稿。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-136">This data source type is used only for [!INCLUDE[ssCrescent](../includes/sscrescent-md.md)] presentations.</span></span> <span data-ttu-id="7b3c7-137">有关详细信息，请参阅 [建立用于 Power View 的完美 BI 语义表格模型](https://technet.microsoft.com/video/building-the-perfect-bi-semantic-tabular-models-for-power-view.aspx)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-137">For more information, see [Building the Perfect BI Semantic Tabular Models for Power View](https://technet.microsoft.com/video/building-the-perfect-bi-semantic-tabular-models-for-power-view.aspx).</span></span>

 <span data-ttu-id="7b3c7-138">有关 [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] 支持的数据源和版本的完整列表，请参阅 [Reporting Services 支持的数据源 (SSRS)](create-deploy-and-manage-mobile-and-paginated-reports.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-138">For a full list of data sources and versions [!INCLUDE[ssRSnoversion](../includes/ssrsnoversion-md.md)] supports, see [Data Sources Supported by Reporting Services &#40;SSRS&#41;](create-deploy-and-manage-mobile-and-paginated-reports.md).</span></span>

##  <a name="create-a-data-source"></a><a name="bkmk_create_data_source"></a><span data-ttu-id="7b3c7-139">创建数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-139">Create a data source</span></span>
 <span data-ttu-id="7b3c7-140">若要创建数据源，必须具有以下信息：</span><span class="sxs-lookup"><span data-stu-id="7b3c7-140">To create a data source, you must have the following information:</span></span>

-   <span data-ttu-id="7b3c7-141">**数据源类型**连接类型，例如 [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-141">**Data source type** The connection type, for example, [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="7b3c7-142">请从连接类型的下拉列表中选择该值。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-142">Choose this value from the drop-down list of connection types.</span></span>

-   <span data-ttu-id="7b3c7-143">**连接信息** 连接信息包含数据源的名称和位置，以及特定于各数据提供程序的连接属性。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-143">**Connection information** Connection information includes the name and location of the data source, and connection properties that are specific to each data provider.</span></span> <span data-ttu-id="7b3c7-144">\*\* “连接字符串”是连接信息的文本表示形式。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-144">The *connection string* is the text representation of connection information.</span></span> <span data-ttu-id="7b3c7-145">例如，如果数据源为某一 SQL Server 数据库，则可以指定该数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-145">For example, if the data source is a SQL Server database, you can specify the name of the database.</span></span> <span data-ttu-id="7b3c7-146">对于嵌入数据源，还可以编写在运行时计算的基于表达式的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-146">For embedded data sources, you can also write expression-based connection strings that are evaluated at run time.</span></span> <span data-ttu-id="7b3c7-147">有关详细信息，请参阅本主题后面部分的 [基于表达式的连接字符串](#bkmk_Expressions_in_connection_strings) 。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-147">For more information, see [Expression-based Connection Strings](#bkmk_Expressions_in_connection_strings) later in this topic.</span></span>

-   <span data-ttu-id="7b3c7-148">**凭据** 你提供访问数据所需的凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-148">**Credentials** You provide the credentials that are needed to access the data.</span></span> <span data-ttu-id="7b3c7-149">数据源所有者必须向您授予访问数据源和数据源上特定数据所需的相应权限。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-149">The data source owner must have granted you the appropriate permissions to access both the data source and the specific data on the data source.</span></span> <span data-ttu-id="7b3c7-150">例如，若要连接到网络服务器上安装的 [!INCLUDE[ssSampleDBnormal](../includes/sssampledbnormal-md.md)] 示例数据库，您必须拥有连接到该服务器的权限以及访问该数据库的只读权限。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-150">For example, to connect to the [!INCLUDE[ssSampleDBnormal](../includes/sssampledbnormal-md.md)] sample database installed on a network server, you must have permission to connect to the server and also read-only permission to access the database.</span></span>

    > [!NOTE]
    >  <span data-ttu-id="7b3c7-151">在设计上，凭据与数据源是分开管理的。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-151">By design, credentials are managed independently from data sources.</span></span> <span data-ttu-id="7b3c7-152">在本地系统预览报表所使用的凭据可能不同于查看已发布报表所需要的凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-152">Credentials that you use to preview your report on a local system may differ from credentials you need to view your published report.</span></span> <span data-ttu-id="7b3c7-153">在将数据源保存到报表服务器或 SharePoint 站点后，您可能需要更改要从该位置使用的凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-153">After you save a data source to the report server or SharePoint site, you might need to change the credentials to work from that location.</span></span> <span data-ttu-id="7b3c7-154">有关详细信息，请参阅 [数据源凭据](#bkmk_credentials)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-154">For more information, see [Credentials for Data Sources](#bkmk_credentials).</span></span>

> [!NOTE]
>  <span data-ttu-id="7b3c7-155">当您在 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]中创建某个报表的嵌入数据源时，必须在解决方案资源管理器或“报表数据”窗格的报表设计器中创建数据源，但不能在服务器资源管理器中创建。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-155">When you create an embedded data source for a report in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], you must create the data source in Report Designer in either Solution Explorer or the Report Data pane, but not in Server Explorer.</span></span> [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="7b3c7-156">报表设计器不支持在服务器资源管理器中创建的 [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] 数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-156">Report Designer does not support [!INCLUDE[vsprvs](../includes/vsprvs-md.md)] data sources created in Server Explorer.</span></span>

 <span data-ttu-id="7b3c7-157">“报表数据”窗格显示嵌入数据源以及对已添加到报表的共享数据源的引用。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-157">The Report Data pane displays embedded data sources and references to shared data sources that have been added to the report.</span></span> <span data-ttu-id="7b3c7-158">在报表生成器中，共享数据源引用将指向报表服务器或 SharePoint 站点上的共享数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-158">In Report Builder, a shared data source reference points to a shared data source on a report server or SharePoint site.</span></span> <span data-ttu-id="7b3c7-159">在报表设计器中，共享数据源引用将指向解决方案资源管理器中“共享数据源”文件夹下的某一共享数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-159">In Report Designer, a shared data source reference points to a shared data source in Solution Explorer under the Shared Data Source folder.</span></span>

##  <a name="credentials-for-data-sources"></a><a name="bkmk_credentials"></a><span data-ttu-id="7b3c7-160">数据源的凭据</span><span class="sxs-lookup"><span data-stu-id="7b3c7-160">Credentials for data sources</span></span>
 <span data-ttu-id="7b3c7-161">在设计上，凭据与连接信息可以分开保存和管理。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-161">By design, credentials can be saved and managed independently from connection information.</span></span> <span data-ttu-id="7b3c7-162">凭据用于创建数据源、运行数据集查询和预览报表。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-162">Credentials are used to create a data source, to run a dataset query, and to preview a report.</span></span>

> [!NOTE]
>  <span data-ttu-id="7b3c7-163">我们建议您不要包含数据源连接属性的登录信息，例如登录名和密码。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-163">We recommend that you do not include login information, such as login names and passwords, to the connection properties of the data source.</span></span> <span data-ttu-id="7b3c7-164">应尽可能将共享数据源与存储凭据一起使用。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-164">Use shared data sources with stored credentials whenever possible.</span></span> <span data-ttu-id="7b3c7-165">在创作环境中，当您创建数据连接或者运行数据集查询时，使用 **“数据源”** 对话框的“凭据”页输入凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-165">In an authoring environment, use the Credentials page of the **Data Source** dialog box to enter credentials when you create a data connection or run a dataset query.</span></span>

 <span data-ttu-id="7b3c7-166">您为从计算机进行数据访问而输入的凭据安全地存储于本地项目配置文件中，并且是特定于您的计算机的。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-166">Credentials that you enter for data access from your computer are stored securely in the local project configuration file and are specific to your computer.</span></span> <span data-ttu-id="7b3c7-167">如果将项目文件复制到另一台计算机，则必须重新为数据源定义凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-167">If you copy the project files to another computer, you must redefine the credentials for the data source.</span></span>

 <span data-ttu-id="7b3c7-168">在您将某一报表部署到报表服务器或 SharePoint 站点时，其嵌入数据源和共享数据源将独立进行管理。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-168">When you deploy a report to the report server or SharePoint site, its embedded and shared data sources are managed independently.</span></span> <span data-ttu-id="7b3c7-169">从您的计算机访问数据所需要的数据源凭据可能不同于从报表服务器访问数据所需要的凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-169">The data source credentials needed to access the data from your computer may differ from the credentials needed for the report server to access the data.</span></span>

 <span data-ttu-id="7b3c7-170">![注意](media/rs-fyinote.png "注意")一种很好的做法是在发布报表之后验证数据源连接是否继续成功连接。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-170">![note](media/rs-fyinote.png "note")A good practice is to verify that the data source connections continue to connect successfully after you publish a report.</span></span> <span data-ttu-id="7b3c7-171">如果需要更改凭据，则可以在报表服务器上直接修改。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-171">If you need to change the credentials, you can modify them directly on the report server.</span></span>

 <span data-ttu-id="7b3c7-172">若要更改报表使用的数据源，可以在纯模式下修改报表属性，报表管理器或在 SharePoint 模式下从文档库中修改报表属性。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-172">To change the data sources that a report uses, you can modify the report properties in Native mode Report Manager or from document libraries in SharePoint mode.</span></span> <span data-ttu-id="7b3c7-173">有关详细信息，请参阅以下主题：</span><span class="sxs-lookup"><span data-stu-id="7b3c7-173">For more information, see the following:</span></span>

-   <span data-ttu-id="7b3c7-174">在[Reporting Services 数据源](report-data/store-credentials-in-a-reporting-services-data-source.md)[的 Reporting Services 数据源存储凭据中存储凭据](report-data/store-credentials-in-a-reporting-services-data-source.md)</span><span class="sxs-lookup"><span data-stu-id="7b3c7-174">[Store Credentials in a Reporting Services Data Source](report-data/store-credentials-in-a-reporting-services-data-source.md) [Store Credentials in a Reporting Services Data Source](report-data/store-credentials-in-a-reporting-services-data-source.md)</span></span>

-   [<span data-ttu-id="7b3c7-175">为报表数据源指定凭据和连接信息</span><span class="sxs-lookup"><span data-stu-id="7b3c7-175">Specify Credential and Connection Information for Report Data Sources</span></span>](report-data/specify-credential-and-connection-information-for-report-data-sources.md)

-   [<span data-ttu-id="7b3c7-176">指定用于自定义数据处理扩展插件的连接</span><span class="sxs-lookup"><span data-stu-id="7b3c7-176">Specify Connections for Custom Data Processing Extensions</span></span>](report-data/specify-connections-for-custom-data-processing-extensions.md)

-   [<span data-ttu-id="7b3c7-177">在报表生成器中指定凭据</span><span class="sxs-lookup"><span data-stu-id="7b3c7-177">Specify Credentials in Report Builder</span></span>](../../2014/reporting-services/specify-credentials-in-report-builder.md)

-   [<span data-ttu-id="7b3c7-178">添加和验证数据连接或数据源 &#40;报表生成器和 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="7b3c7-178">Add and Verify a Data Connection or Data Source &#40;Report Builder and SSRS&#41;</span></span>](report-data/add-and-verify-a-data-connection-report-builder-and-ssrs.md)

##  <a name="common-connection-string-examples"></a><a name="bkmk_connection_examples"></a> <span data-ttu-id="7b3c7-179">常用连接字符串示例</span><span class="sxs-lookup"><span data-stu-id="7b3c7-179">Common connection string examples</span></span>
 <span data-ttu-id="7b3c7-180">连接字符串是数据访问接口的连接属性的文本表示形式。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-180">Connection strings are the text representation of connection properties for a data provider.</span></span> <span data-ttu-id="7b3c7-181">下表列出了各种数据连接类型的连接字符串示例。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-181">The following table lists examples of connections strings for various data connection types.</span></span>

|<span data-ttu-id="7b3c7-182">**数据源**</span><span class="sxs-lookup"><span data-stu-id="7b3c7-182">**Data source**</span></span>|<span data-ttu-id="7b3c7-183">**示例**</span><span class="sxs-lookup"><span data-stu-id="7b3c7-183">**Example**</span></span>|<span data-ttu-id="7b3c7-184">**说明**</span><span class="sxs-lookup"><span data-stu-id="7b3c7-184">**Description**</span></span>|
|---------------------|-----------------|---------------------|
|<span data-ttu-id="7b3c7-185">本地服务器上的 SQL Server 数据库</span><span class="sxs-lookup"><span data-stu-id="7b3c7-185">SQL Server database on the local server</span></span>|`data source="(local)";initial catalog=AdventureWorks`|<span data-ttu-id="7b3c7-186">将数据源类型设置为 `Microsoft SQL Server`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-186">Set data source type to `Microsoft SQL Server`.</span></span> <span data-ttu-id="7b3c7-187">有关详细信息，请参阅 [SQL Server 连接类型 (SSRS)](report-data/sql-server-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-187">For more information, see [SQL Server Connection Type &#40;SSRS&#41;](report-data/sql-server-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-188">本地服务器上的 SQL Server 数据库</span><span class="sxs-lookup"><span data-stu-id="7b3c7-188">SQL Server database on the local server</span></span>|`data source="(local)";initial catalog=AdventureWorks`|<span data-ttu-id="7b3c7-189">将数据源类型设置为 `Microsoft SQL Server`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-189">Set data source type to `Microsoft SQL Server`.</span></span>|
|<span data-ttu-id="7b3c7-190">SQL Server 实例</span><span class="sxs-lookup"><span data-stu-id="7b3c7-190">SQL Server Instance</span></span><br /><br /> <span data-ttu-id="7b3c7-191">database</span><span class="sxs-lookup"><span data-stu-id="7b3c7-191">database</span></span>|`Data Source=localhost\MSSQL10_50.InstanceName; Initial Catalog=AdventureWorks`|<span data-ttu-id="7b3c7-192">将数据源类型设置为 `Microsoft SQL Server`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-192">Set data source type to `Microsoft SQL Server`.</span></span>|
|<span data-ttu-id="7b3c7-193">SQL Server Express 数据库</span><span class="sxs-lookup"><span data-stu-id="7b3c7-193">SQL Server Express database</span></span>|`Data Source=localhost\MSSQL10_50.SQLEXPRESS; Initial Catalog=AdventureWorks`|<span data-ttu-id="7b3c7-194">将数据源类型设置为 `Microsoft SQL Server`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-194">Set data source type to `Microsoft SQL Server`.</span></span>|
|[!INCLUDE[ssSDS](../includes/sssds-md.md)]<span data-ttu-id="7b3c7-195">在云中</span><span class="sxs-lookup"><span data-stu-id="7b3c7-195">in the cloud</span></span>|`Data Source=<host>;Initial Catalog=AdventureWorks; Encrypt=True`|<span data-ttu-id="7b3c7-196">将数据源类型设置为 `Azure SQL Database`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-196">Set data source type to `Azure SQL Database`.</span></span> <span data-ttu-id="7b3c7-197">有关详细信息，请参阅 [SQL Azure 连接类型 (SSRS)](report-data/sql-azure-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-197">For more information, see [SQL Azure Connection Type &#40;SSRS&#41;](report-data/sql-azure-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-198">SQL Server 并行数据仓库</span><span class="sxs-lookup"><span data-stu-id="7b3c7-198">SQL Server Parallel Data Warehouse</span></span>|`HOST=<IP address>;database= AdventureWorks; port=<port>`|<span data-ttu-id="7b3c7-199">将数据源类型设置为 `Microsoft SQL Server Parallel Data Warehouse`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-199">Set data source type to `Microsoft SQL Server Parallel Data Warehouse`.</span></span> <span data-ttu-id="7b3c7-200">有关详细信息，请参阅 [SQL Server 并行数据仓库连接类型 (SSRS)](report-data/sql-server-parallel-data-warehouse-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-200">For more information, see [SQL Server Parallel Data Warehouse Connection Type &#40;SSRS&#41;](report-data/sql-server-parallel-data-warehouse-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-201">本地服务器上的 Analysis Services 数据库</span><span class="sxs-lookup"><span data-stu-id="7b3c7-201">Analysis Services database on the local server</span></span>|`data source=localhost;initial catalog=Adventure Works DW`|<span data-ttu-id="7b3c7-202">将数据源类型设置为 `Microsoft SQL Server Analysis Services`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-202">Set data source type to `Microsoft SQL Server Analysis Services`.</span></span> <span data-ttu-id="7b3c7-203">有关详细信息，请参阅[针对 MDX 的 Analysis Services 连接类型 (SSRS)](report-data/analysis-services-connection-type-for-mdx-ssrs.md) 或[针对 DMX 的 Analysis Services 连接类型 (SSRS)](report-data/analysis-services-connection-type-for-dmx-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-203">For more information, see [Analysis Services Connection Type for MDX &#40;SSRS&#41;](report-data/analysis-services-connection-type-for-mdx-ssrs.md) or [Analysis Services Connection Type for DMX &#40;SSRS&#41;](report-data/analysis-services-connection-type-for-dmx-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-204">具有 Sales 透视的 Analysis Services 表格模型数据库</span><span class="sxs-lookup"><span data-stu-id="7b3c7-204">Analysis Services tabular model database with Sales perspective</span></span>|`Data source=<servername>;initial catalog= Adventure Works DW;cube='Sales'`|<span data-ttu-id="7b3c7-205">将数据源类型设置为 `Microsoft SQL Server Analysis Services`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-205">Set data source type to `Microsoft SQL Server Analysis Services`.</span></span> <span data-ttu-id="7b3c7-206">在 cube= 设置中指定透视名称。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-206">Specify perspective name in cube= setting.</span></span> <span data-ttu-id="7b3c7-207">有关详细信息，请参阅 [透视表（SSAS 表格）](https://docs.microsoft.com/analysis-services/tabular-models/perspectives-ssas-tabular)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-207">For more information, see [Perspectives &#40;SSAS Tabular&#41;](https://docs.microsoft.com/analysis-services/tabular-models/perspectives-ssas-tabular).</span></span>|
|<span data-ttu-id="7b3c7-208">在本机模式下配置的报表服务器上的报表模型数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-208">Report model data source on a report server configured in native mode</span></span>|`Server=http://myreportservername/reportserver; datasource=/models/Adventure Works`|<span data-ttu-id="7b3c7-209">指定报表服务器或文档库 URL 以及报表服务器文件夹或文档库文件夹命名空间中已发布的模型的路径。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-209">Specify the report server or document library URL and the path to the published model in the report server folder or document library folder namespace.</span></span>
|<span data-ttu-id="7b3c7-210">在 SharePoint 集成模式下配置的报表服务器上的报表模型数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-210">Report model data source on a report server configured in SharePoint integrated mode</span></span>|`Server=http://server; datasource=http://server/site/documents/models/Adventure Works.smdl`|<span data-ttu-id="7b3c7-211">指定报表服务器或文档库 URL 以及报表服务器文件夹或文档库文件夹命名空间中已发布的模型的路径。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-211">Specify the report server or document library URL and the path to the published model in the report server folder or document library folder namespace.</span></span>|
|[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="7b3c7-212">2000 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 服务器</span><span class="sxs-lookup"><span data-stu-id="7b3c7-212">2000 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] server</span></span>|`provider=MSOLAP.2;data source=<remote server name>;initial catalog=FoodMart 2000`|<span data-ttu-id="7b3c7-213">将数据源类型设置为 `OLE DB Provider for OLAP Services 8.0`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-213">Set the data source type to `OLE DB Provider for OLAP Services 8.0`.</span></span><br /><br /> <span data-ttu-id="7b3c7-214">如果将 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 属性设置为 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]，则可以快速连接到 `ConnectTo` 2000 `8.0` 数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-214">You can achieve a faster connection to [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 2000 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] data sources if you set the `ConnectTo` property to `8.0`.</span></span> <span data-ttu-id="7b3c7-215">若要设置此属性，请使用 **“连接属性”** 对话框中的 **“高级属性”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-215">To set this property, use the **Connection Properties** dialog box, **Advanced Properties** tab.</span></span>|
|<span data-ttu-id="7b3c7-216">Oracle 服务器</span><span class="sxs-lookup"><span data-stu-id="7b3c7-216">Oracle server</span></span>|`data source=myserver`|<span data-ttu-id="7b3c7-217">将数据源类型设置为 `Oracle`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-217">Set the data source type to `Oracle`.</span></span> <span data-ttu-id="7b3c7-218">此外，还必须在报表设计器计算机上和报表服务器上安装 Oracle 客户端工具。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-218">The Oracle client tools must be installed on the Report Designer computer and on the report server.</span></span> <span data-ttu-id="7b3c7-219">有关详细信息，请参阅 [Oracle 连接类型 (SSRS)](report-data/oracle-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-219">For more information, see [Oracle Connection Type &#40;SSRS&#41;](report-data/oracle-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-220">SAP NetWeaver BI 数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-220">SAP NetWeaver BI data source</span></span>|`DataSource=http://mySAPNetWeaverBIServer:8000/sap/bw/xml/soap/xmla`|<span data-ttu-id="7b3c7-221">将数据源类型设置为 `SAP NetWeaver BI`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-221">Set the data source type to `SAP NetWeaver BI`.</span></span> <span data-ttu-id="7b3c7-222">有关详细信息，请参阅 [SAP NetWeaver BI 连接类型 (SSRS)](report-data/sap-netweaver-bi-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-222">For more information, see [SAP NetWeaver BI Connection Type &#40;SSRS&#41;](report-data/sap-netweaver-bi-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-223">Hyperion Essbase 数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-223">Hyperion Essbase data source</span></span>|`Data Source=http://localhost:13080/aps/XMLA; Initial Catalog=Sample`|<span data-ttu-id="7b3c7-224">将数据源类型设置为 `Hyperion Essbase`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-224">Set the data source type to `Hyperion Essbase`.</span></span> <span data-ttu-id="7b3c7-225">有关详细信息，请参阅 [Hyperion Essbase 连接类型 (SSRS)](report-data/hyperion-essbase-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-225">For more information, see [Hyperion Essbase Connection Type &#40;SSRS&#41;](report-data/hyperion-essbase-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-226">Teradata 数据源</span><span class="sxs-lookup"><span data-stu-id="7b3c7-226">Teradata data source</span></span>|<span data-ttu-id="7b3c7-227">`data source=`\<NNN>.\<NNN>.\<NNN>.\<NNN>`;`</span><span class="sxs-lookup"><span data-stu-id="7b3c7-227">`data source=`\<NNN>.\<NNN>.\<NNN>.\<NNN>`;`</span></span>|<span data-ttu-id="7b3c7-228">将数据源类型设置为 `Teradata`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-228">Set the data source type to `Teradata`.</span></span> <span data-ttu-id="7b3c7-229">连接字符串是包含四个字段的 Internet 协议 (IP) 地址，其中每个字段可以包含一至三位数。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-229">The connection string is an Internet Protocol (IP) address in the form of four fields, where each field can be from one to three digits.</span></span> <span data-ttu-id="7b3c7-230">有关详细信息，请参阅 [Teradata 连接类型 (SSRS)](report-data/teradata-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-230">For more information, see [Teradata Connection Type &#40;SSRS&#41;](report-data/teradata-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-231">XML 数据源、Web 服务</span><span class="sxs-lookup"><span data-stu-id="7b3c7-231">XML data source, Web service</span></span>|`data source=http://adventure-works.com/results.aspx`|<span data-ttu-id="7b3c7-232">将数据源类型设置为 `XML`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-232">Set the data source type to `XML`.</span></span> <span data-ttu-id="7b3c7-233">连接字符串是支持 Web 服务定义语言 (WSDL) 的 Web 服务的 URL。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-233">The connection string is a URL for a web service that supports Web Services Definition Language (WSDL).</span></span> <span data-ttu-id="7b3c7-234">有关详细信息，请参阅 [XML 连接类型 (SSRS)](report-data/xml-connection-type-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-234">For more information, see [XML Connection Type &#40;SSRS&#41;](report-data/xml-connection-type-ssrs.md).</span></span>|
|<span data-ttu-id="7b3c7-235">XML 数据源、XML 文档</span><span class="sxs-lookup"><span data-stu-id="7b3c7-235">XML data source, XML document</span></span>|`http://localhost/XML/Customers.xml`|<span data-ttu-id="7b3c7-236">将数据源类型设置为 `XML`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-236">Set the data source type to `XML`.</span></span> <span data-ttu-id="7b3c7-237">其连接字符串是一个指向 XML 文档的 URL。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-237">The connection string is a URL to the XML document.</span></span>|
|<span data-ttu-id="7b3c7-238">XML 数据源、嵌入的 XML 文档</span><span class="sxs-lookup"><span data-stu-id="7b3c7-238">XML data source, embedded XML document</span></span>|<span data-ttu-id="7b3c7-239">*空*</span><span class="sxs-lookup"><span data-stu-id="7b3c7-239">*Empty*</span></span>|<span data-ttu-id="7b3c7-240">将数据源类型设置为 `XML`。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-240">Set the data source type to `XML`.</span></span> <span data-ttu-id="7b3c7-241">XML 数据嵌入在报表定义中。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-241">The XML data is embedded in the report definition.</span></span>|

<span data-ttu-id="7b3c7-242">如果无法使用 `localhost` 连接到报表服务器，请检查是否已启用网络协议 TCP/IP 协议。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-242">If you fail to connect to a report server using `localhost`, check that the network protocol for TCP/IP protocol is enabled.</span></span> <span data-ttu-id="7b3c7-243">有关详细信息，请参阅[配置客户端协议](../database-engine/configure-windows/configure-client-protocols.md)。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-243">For more information, see [Configure Client Protocols](../database-engine/configure-windows/configure-client-protocols.md).</span></span>

##  <a name="special-characters-in-a-password"></a><a name="bkmk_special_password_characters"></a><span data-ttu-id="7b3c7-244">密码中的特殊字符</span><span class="sxs-lookup"><span data-stu-id="7b3c7-244">Special characters in a password</span></span>
 <span data-ttu-id="7b3c7-245">如果将 ODBC 或 SQL 数据源配置为提示输入密码或在连接字符串中包含密码，并且用户输入了具有标点符号等特殊字符的密码，则有些基础数据源驱动程序无法验证特殊字符。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-245">If you configure your ODBC or SQL data source to prompt for a password or to include the password in the connection string, and a user enters the password with special characters like punctuation marks, some underlying data source drivers cannot validate the special characters.</span></span> <span data-ttu-id="7b3c7-246">处理报表时，可能会出现“密码无效”这一消息来指示此问题。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-246">When you process the report, the message "Not a valid password" may indicate this problem.</span></span> <span data-ttu-id="7b3c7-247">如果不能更改密码，则可以使用数据库管理员角色将相应的凭据作为系统 ODBC 数据源名称 (DSN) 的一部分存储在服务器上。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-247">If changing the password is impractical, you can work with your database administrator to store the appropriate credentials on the server as part of a system ODBC data source name (DSN).</span></span> <span data-ttu-id="7b3c7-248">有关详细信息，请参阅 [!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)] SDK 文档中的“OdbcConnection.ConnectionString”。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-248">For more information, see "OdbcConnection.ConnectionString" in the [!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)] SDK documentation.</span></span>

##  <a name="expression-based-connection-strings"></a><a name="bkmk_Expressions_in_connection_strings"></a><span data-ttu-id="7b3c7-249">基于表达式的连接字符串</span><span class="sxs-lookup"><span data-stu-id="7b3c7-249">Expression-based Connection Strings</span></span>
 <span data-ttu-id="7b3c7-250">基于表达式的连接字符串是在运行时计算的。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-250">Expression-based connection strings are evaluated at run time.</span></span> <span data-ttu-id="7b3c7-251">例如，您可以将数据源指定为参数，在连接字符串中包含相应的参数引用，并允许用户选择报表的数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-251">For example, you can specify the data source as a parameter, include the parameter reference in the connection string, and allow the user to choose a data source for the report.</span></span> <span data-ttu-id="7b3c7-252">例如，假设一个跨国公司在多个国家/地区都配置了数据服务器。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-252">For example, suppose a multinational firm has data servers in several countries.</span></span> <span data-ttu-id="7b3c7-253">使用基于表达式的连接字符串，要运行销售报表的用户就可以在运行报表之前选择用于特定国家/地区的数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-253">With an expression-based connection string, a user who is running a sales report can select a data source for a particular country before running the report.</span></span>

 <span data-ttu-id="7b3c7-254">下面的示例说明了 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 连接字符串中数据源表达式的用法。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-254">The following example illustrates the use of a data source expression in a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] connection string.</span></span> <span data-ttu-id="7b3c7-255">该示例假设您已经创建了一个名为 `ServerName`的报表参数：</span><span class="sxs-lookup"><span data-stu-id="7b3c7-255">The example assumes you have created a report parameter named `ServerName`:</span></span>

```
="data source=" & Parameters!ServerName.Value & ";initial catalog=AdventureWorks"
```

 <span data-ttu-id="7b3c7-256">数据源表达式在运行时或预览报表时进行处理。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-256">Data source expressions are processed at run time or when a report is previewed.</span></span> <span data-ttu-id="7b3c7-257">此类表达式必须用 [!INCLUDE[vbprvb](../includes/vbprvb-md.md)]编写。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-257">The expression must be written in [!INCLUDE[vbprvb](../includes/vbprvb-md.md)].</span></span> <span data-ttu-id="7b3c7-258">定义数据源表达式时请遵循以下原则：</span><span class="sxs-lookup"><span data-stu-id="7b3c7-258">Use the following guidelines when defining a data source expression:</span></span>

-   <span data-ttu-id="7b3c7-259">使用静态连接字符串设计报表。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-259">Design the report using a static connection string.</span></span> <span data-ttu-id="7b3c7-260">静态连接字符串指的是不通过表达式设置的连接字符串（例如，按照步骤创建报表特定数据源或共享数据源时，定义的就是静态连接字符串）。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-260">A static connection string refers to a connection string that is not set through an expression (for example, when you follow the steps for creating a report-specific or shared data source, you are defining a static connection string).</span></span> <span data-ttu-id="7b3c7-261">使用静态连接字符串，可以在报表设计器中连接到数据源，以便获取创建报表所需的查询结果。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-261">Using a static connection string allows you to connect to the data source in Report Designer so that you can get the query results you need to create the report.</span></span>

-   <span data-ttu-id="7b3c7-262">定义数据源连接时，请不要使用共享数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-262">When defining the data source connection, do not use a shared data source.</span></span> <span data-ttu-id="7b3c7-263">不能在共享数据源中使用数据源表达式。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-263">You cannot use a data source expression in a shared data source.</span></span> <span data-ttu-id="7b3c7-264">您必须为报表定义嵌入数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-264">You must define an embedded data source for the report.</span></span>

-   <span data-ttu-id="7b3c7-265">在连接字符串之外单独指定凭据。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-265">Specify credentials separately from the connection string.</span></span> <span data-ttu-id="7b3c7-266">您可以使用存储的凭据、提示凭据或集成安全性。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-266">You can use stored credentials, prompted credentials, or integrated security.</span></span>

-   <span data-ttu-id="7b3c7-267">添加报表参数以指定数据源。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-267">Add a report parameter to specify a data source.</span></span> <span data-ttu-id="7b3c7-268">对于参数值，可以提供可用值的静态列表（这种情况下，可用值应该是报表可以使用的数据源），或定义在运行时检索数据源列表的查询。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-268">For parameter values, you can either provide a static list of available values (in this case, the available values should be data sources you can use with the report) or define a query that retrieves a list of data sources at run time.</span></span>

-   <span data-ttu-id="7b3c7-269">请确保列表中的数据源共用同一个数据库架构。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-269">Be sure that the list of data sources shares the same database schema.</span></span> <span data-ttu-id="7b3c7-270">所有报表设计都以架构信息为基础。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-270">All report design begins with schema information.</span></span> <span data-ttu-id="7b3c7-271">如果用于定义报表的架构和报表运行时使用的实际架构不相符，报表将可能无法运行。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-271">If there is a mismatch between the schema used to define the report and the actual schema used by the report at run time, the report might not run.</span></span>

-   <span data-ttu-id="7b3c7-272">在发布报表之前，使用表达式替换静态连接字符串。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-272">Before publishing the report, replace the static connection string with an expression.</span></span> <span data-ttu-id="7b3c7-273">使用表达式替换静态连接字符串之前，必须保证已经完成了报表的设计。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-273">Wait until you are finished designing the report before you replace the static connection string with an expression.</span></span> <span data-ttu-id="7b3c7-274">一旦使用了表达式，就不能在报表设计器中执行查询。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-274">Once you use an expression, you cannot execute the query in Report Designer.</span></span> <span data-ttu-id="7b3c7-275">此外，“报表数据”窗格中的字段列表以及“参数”列表将不会自动更新。</span><span class="sxs-lookup"><span data-stu-id="7b3c7-275">Furthermore, the field list in the Report Data pane and the Parameters list will not update automatically.</span></span>

## <a name="see-also"></a><span data-ttu-id="7b3c7-276">另请参阅</span><span class="sxs-lookup"><span data-stu-id="7b3c7-276">See Also</span></span>
 <span data-ttu-id="7b3c7-277">[嵌入和共享的数据连接或数据源 &#40;报表生成器和 SSRS&#41;](../../2014/reporting-services/embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) [管理报表数据源](report-data/manage-report-data-sources.md) ["数据源属性" 对话框、"凭据](../../2014/reporting-services/data-source-properties-dialog-box-credentials.md)[共享数据源属性" 对话框、](../../2014/reporting-services/shared-data-source-properties-dialog-box-credentials.md) "凭据" "[创建"、"修改" 和 "删除共享数据源" &#40;SSRS&#41;](report-data/create-modify-and-delete-shared-data-sources-ssrs.md) [设置部署属性 &#40;Reporting Services](tools/set-deployment-properties-reporting-services.md)&#41;[指定报表数据源的凭据和连接信息](report-data/specify-credential-and-connection-information-for-report-data-sources.md)&#40;[报表生成器和 SSRS](report-data/add-and-verify-a-data-connection-report-builder-and-ssrs.md)&#41;</span><span class="sxs-lookup"><span data-stu-id="7b3c7-277">[Embedded and Shared Data Connections or Data Sources &#40;Report Builder and SSRS&#41;](../../2014/reporting-services/embedded-and-shared-data-connections-or-data-sources-report-builder-and-ssrs.md) [Manage Report Data Sources](report-data/manage-report-data-sources.md) [Data Source Properties Dialog Box, Credentials](../../2014/reporting-services/data-source-properties-dialog-box-credentials.md) [Shared Data Source Properties Dialog Box, Credentials](../../2014/reporting-services/shared-data-source-properties-dialog-box-credentials.md) [Create, Modify, and Delete Shared Data Sources &#40;SSRS&#41;](report-data/create-modify-and-delete-shared-data-sources-ssrs.md) [Set Deployment Properties &#40;Reporting Services&#41;](tools/set-deployment-properties-reporting-services.md) [Specify Credential and Connection Information for Report Data Sources](report-data/specify-credential-and-connection-information-for-report-data-sources.md) [Add and Verify a Data Connection or Data Source &#40;Report Builder and SSRS&#41;](report-data/add-and-verify-a-data-connection-report-builder-and-ssrs.md)</span></span>
