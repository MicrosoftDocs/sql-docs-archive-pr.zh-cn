---
title: 创建匹配策略 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.kb.kbmatchingresults.f1
- sql12.dqs.kb.kbmatchingmap.f1
- sql12.dqs.kb.kbmatchingpolicy.f1
ms.assetid: cce77a06-ca31-47b6-8146-22edf001d605
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 0aeca06ede925486c46e2b858d62ff527d1ebdbe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691878"
---
# <a name="create-a-matching-policy"></a><span data-ttu-id="f8f9a-102">创建匹配策略</span><span class="sxs-lookup"><span data-stu-id="f8f9a-102">Create a Matching Policy</span></span>
  <span data-ttu-id="f8f9a-103">本主题描述如何在 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) 的知识库中生成匹配策略。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-103">This topic describes how to build a matching policy in a knowledge base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="f8f9a-104">您可以通过对示例数据运行“匹配策略”活动在 DQS 中准备匹配过程。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-104">You prepare for the matching process in DQS by running the Matching Policy activity on sample data.</span></span> <span data-ttu-id="f8f9a-105">在此活动中，在策略中创建和测试一个或多个匹配规则，然后发布知识库以使匹配的规则可供公开使用。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-105">In this activity you create and test one or more matching rules in the policy, and then publish the knowledge base to make the matching rules publicly available for use.</span></span> <span data-ttu-id="f8f9a-106">知识库中只能有一个匹配策略，但该策略可以包含多个匹配规则。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-106">There can be only one matching policy in a knowledge base, but that policy can contain multiple matching rules.</span></span>  
  
 <span data-ttu-id="f8f9a-107">创建匹配规则分为三个阶段：一个映射过程，您可以在其中确定数据源并将域映射到列；一个匹配策略过程，您可以在其中创建一个或多个匹配规则并单独测试每个匹配规则；以及一个匹配结果过程，您可以在其中一起运行所有匹配规则；如果您对结果感到满意，则将该策略添加到知识库。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-107">Matching policy creation is performed in three stages: a mapping process in which you identify the data source and map domains to columns, a matching policy process in which you create one or more matching rules and test each matching rule separately, and a matching results process in which you run all matching rules together, and if satisfied with them, add the policy to the knowledge base.</span></span> <span data-ttu-id="f8f9a-108">将在“匹配策略”活动向导的单独页面上执行上述每个过程，这使您可以在不同页面之间来回移动，重新运行过程，并结束特定的匹配策略过程和返回到过程的相同阶段。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-108">Each of these processes is performed on a separate page of the Matching Policy activity wizard, enabling you to move back and forth to different pages, to re-run the process, and to close out of a specific matching policy process and return to the same stage of the process.</span></span> <span data-ttu-id="f8f9a-109">在一起测试所有规则之后，如果需要，您可以返回到 **“匹配策略”** 页，调整单个规则，再次单独测试此规则，然后返回到 **“匹配结果”** 页面以再次同时运行所有规则。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-109">After testing all rules together, if desired you can return to the **Matching Policy** page, tweak an individual rule, test it again separately, and then return to the **Matching Results** page to run all rules together once again.</span></span> <span data-ttu-id="f8f9a-110">DQS 向您提供有关源数据、匹配规则和匹配结果的统计信息，使您能够针对匹配策略制定明智的决策，从而优化此策略。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-110">DQS provides you with statistics about the source data, the matching rules, and the matching results that enable you to make informed decisions about the matching policy, so you can refine it.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="f8f9a-111">开始之前</span><span class="sxs-lookup"><span data-stu-id="f8f9a-111">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a><span data-ttu-id="f8f9a-112">先决条件</span><span class="sxs-lookup"><span data-stu-id="f8f9a-112">Prerequisites</span></span>  
 <span data-ttu-id="f8f9a-113">如果源数据在 Excel 文件中，则必须在 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] 计算机上安装 Microsoft Excel。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-113">Microsoft Excel must be installed on the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] computer if the source data is in an Excel file.</span></span> <span data-ttu-id="f8f9a-114">否则，您在映射阶段中将无法选择 Excel 文件。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-114">Otherwise, you will not be able to select the Excel file in the mapping stage.</span></span> <span data-ttu-id="f8f9a-115">由 Microsoft Excel 创建的文件可以具有 .xlsx、.xls 或 .csv 扩展名。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-115">The files created by Microsoft Excel can have an extension of .xlsx, .xls, or .csv.</span></span> <span data-ttu-id="f8f9a-116">如果使用 64 位版本的 Excel，则仅支持 Excel 2003 文件 (.xls)；而不支持 Excel 2007 或 2010 文件 (.xlsx)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-116">If the 64-bit version of Excel is used, only Excel 2003 files (.xls) are supported; Excel 2007 or 2010 files (.xlsx) are not supported.</span></span> <span data-ttu-id="f8f9a-117">如果您使用的是 64 位版本的 Excel 2007 或 2010，则将文件另存为 .xls 文件或 .csv 文件，或者改而安装 32 位版本的 Excel。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-117">If you are using 64-bit version of Excel 2007 or 2010, save the file as an .xls file or a .csv file, or install a 32-bit version of Excel instead.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="f8f9a-118">Security</span><span class="sxs-lookup"><span data-stu-id="f8f9a-118">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="f8f9a-119">权限</span><span class="sxs-lookup"><span data-stu-id="f8f9a-119">Permissions</span></span>  
 <span data-ttu-id="f8f9a-120">您必须对 DQS_MAIN 数据库具有 dqs_kb_editor 或 dqs_administrator 角色，才能创建匹配策略。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-120">You must have the dqs_kb_editor or the dqs_administrator role on the DQS_MAIN database to create a matching policy.</span></span>  
  
##  <a name="how-to-set-matching-rule-parameters"></a><a name="MatchingRules"></a><span data-ttu-id="f8f9a-121">如何设置匹配规则参数</span><span class="sxs-lookup"><span data-stu-id="f8f9a-121">How to Set Matching Rule Parameters</span></span>  
 <span data-ttu-id="f8f9a-122">创建匹配规则是一个迭代过程，您将在其中输入各种因子来确定一个记录是否与另一个记录匹配。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-122">Creating a matching rule is an iterative process in which you enter the factors used to determine if one record is a match for another.</span></span> <span data-ttu-id="f8f9a-123">您可以在表中输入任何域的条件。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-123">You can enter conditions for any domain in a table.</span></span> <span data-ttu-id="f8f9a-124">当 DQS 对两条记录执行匹配时，它将比较字段中已映射到匹配规则中所含域的值。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-124">When DQS performs matching on two records, it will compare the values in the fields mapped to the domains that are included in the matching rule.</span></span> <span data-ttu-id="f8f9a-125">DQS 分析规则中每个字段的值，然后使用在规则中为每个域输入的因子来计算最终匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-125">DQS analyzes the values in each field in the rule, and then uses the factors entered in the rule for each domain to calculate a final matching score.</span></span> <span data-ttu-id="f8f9a-126">如果所比较的两条记录的匹配分数大于最低匹配分数，则认为这两个字段是匹配的。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-126">If the matching score for the two records compared is greater than the minimum matching score, then the two fields are considered matches.</span></span>  
  
 <span data-ttu-id="f8f9a-127">您在匹配规则中输入的因子包括以下内容：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-127">The factors that you enter in a matching rule include the following:</span></span>  
  
-   <span data-ttu-id="f8f9a-128">权重：对于规则中的每个域，输入一个数字权重，用于确定如何将该域的匹配分析与规则中每个其他域的匹配分析进行比较。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-128">Weight: For each domain in the rule, enter a numerical weight that determines how the matching analysis for the domain will be compared to that for each other domain in the rule.</span></span> <span data-ttu-id="f8f9a-129">权重指示该字段的分数对两条记录之间的总匹配分数的贡献。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-129">The weight indicates the contribution of the field's score to the overall matching score between two records.</span></span> <span data-ttu-id="f8f9a-130">分配给每个源字段的计算分数将汇总在一起以获得这两条记录的综合匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-130">The calculated scores assigned to each source field are summed together for a composite matching score for the two records.</span></span> <span data-ttu-id="f8f9a-131">对于不是先决条件的每个字段（相似性为“精确”或“类似”），将权重设置为 10 到 100 之间。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-131">For each field that is not a prerequisite (with a similarity of exact or similar), set the weight between 10 and 100.</span></span> <span data-ttu-id="f8f9a-132">不属于先决条件的各域的权重之和必须等于 100。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-132">The sum of the weights of the domains that are not prerequisites must be equal to 100.</span></span> <span data-ttu-id="f8f9a-133">如果值是先决条件，则权重设置为 0 且无法更改。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-133">If the value is a prerequisite, the weight is set to 0 and cannot be changed.</span></span>  
  
-   <span data-ttu-id="f8f9a-134">相似性为“精确”：如果两条不同记录的相同字段中的值必须完全相同，其值才能被视为匹配，则选择 **“精确”** 。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-134">Similarity of Exact: Select **Exact** if the values in the same field of two different records must be identical for the values to be considered to be a match.</span></span> <span data-ttu-id="f8f9a-135">如果完全相同，则该域的匹配分数将设置为“100”，DQS 将使用此分数以及规则中其他域的分数来确定总匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-135">If identical, the matching score for that domain will be set to "100", and DQS will use that score and the scores for the other domains in the rule to determine the aggregate matching score.</span></span> <span data-ttu-id="f8f9a-136">否则，该域的匹配分数将设置为“0”，并将继续处理规则直至下一个条件。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-136">If not identical, the matching score for that domain will be set to "0", and processing of the rule will proceed to the next condition.</span></span> <span data-ttu-id="f8f9a-137">如果您为某个数字域设置了一个匹配规则并选择 **“类似”**，则可以按百分比或整数格式输入容差。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-137">If you set up a matching rule for a numeric domain and you select **Similar**, you can enter a tolerance either as a percentage or an integer.</span></span> <span data-ttu-id="f8f9a-138">对于日期类型的域，如果您选择 **“类似”**，则可以按天、月或年（整数）格式输入容差；对于日期域，没有百分比容差。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-138">For a domain of type date, you can enter a tolerance as a day, month, or year (integer) if you select **Similar**; there is no percentage tolerance for a date domain.</span></span> <span data-ttu-id="f8f9a-139">如果您选择 **“精确”**，则没有此选项。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-139">If you select **Exact**, you do not have this option.</span></span>  
  
-   <span data-ttu-id="f8f9a-140">相似性为“类似”：如果两条不同记录的相同字段中的两个值即使不完全相同，也能被视为匹配，则选择 **“类似”** 。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-140">Similarity of Similar: Select **Similar** if two values in the same field of two different records can be considered a match even if the values are not identical.</span></span> <span data-ttu-id="f8f9a-141">当 DQS 运行规则时，它将计算该域的匹配分数，并将使用此分数以及规则中其他域的分数来确定总匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-141">When DQS runs the rule, it will calculate a matching score for that domain, and will use that score and the scores for the other domains in the rule to determine the aggregate matching score.</span></span> <span data-ttu-id="f8f9a-142">字段值之间的最低相似性为 60%。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-142">The minimum similarity between the values of a field is 60%.</span></span> <span data-ttu-id="f8f9a-143">如果两条记录的某个字段的计算匹配分数低于 60，则相似性分数自动设置为 0。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-143">If the calculated matching score for a field of two records is less than 60, the similarity score is automatically set to 0.</span></span> <span data-ttu-id="f8f9a-144">如果您为某个数字字段设置了一个匹配规则并选择 **“类似”**，则可以按百分比或整数格式输入容差。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-144">If you are setting up a matching rule for a numeric field, and you select **Similar**, you can enter a tolerance as a percentage or integer.</span></span> <span data-ttu-id="f8f9a-145">如果您为某个日期字段设置了一个匹配规则并选择 **“类似”**，则可以输入数字容差。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-145">If you are setting up a matching rule for a date field, and you select **Similar**, you can enter a numerical tolerance.</span></span>  
  
-   <span data-ttu-id="f8f9a-146">先决条件：选择 **“先决条件”** 可指定两条不同记录的同一个字段中的值必须返回 100% 匹配，否则，这些记录将不会被视为匹配且忽略规则中的其他子句。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-146">Prerequisite: Select **Prerequisite** to specify that the values in the same field in two different records must return a 100% match, or the records are not considered a match and the other clauses in the rule are disregarded.</span></span> <span data-ttu-id="f8f9a-147">当选择 **“先决条件”** 时，将删除域的权重字段，以便您无法定义域的权重。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-147">When **Prerequisite** is selected, the weight field for the domain is removed so that you cannot define a weight for the domain.</span></span> <span data-ttu-id="f8f9a-148">您必须重置一个或多个域的权重，以便权重之和等于 100。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-148">You must reset one or more domain weights so that the sum of weights is equal to 100.</span></span> <span data-ttu-id="f8f9a-149">先决条件域不参与记录匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-149">Prerequisite domains do not contribute to the record matching score.</span></span> <span data-ttu-id="f8f9a-150">记录匹配分数是通过比较其“相似性”设置为“类似”或“精确”的字段中的值来确定的。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-150">The record matching score is determined by comparing the values in fields for which the Similarity is set to Similar or Exact.</span></span> <span data-ttu-id="f8f9a-151">当您将某个字段设为前提条件时，该域的“相似性”会自动设置为“精确”。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-151">When you make a field a prerequisite, the Similarity for that domain is automatically set to Exact.</span></span>  
  
 <span data-ttu-id="f8f9a-152">最低匹配分数是一个阈值，当等于或超过此阈值时，两条记录会被视为匹配（记录的状态被设置为“匹配”）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-152">The minimum matching score is the threshold at or above which two records are considered to be a match (and the status for the records is set to "Matched").</span></span> <span data-ttu-id="f8f9a-153">以“1”为增量输入整数值，或者单击向上键或向下键以“10”为增量增大或减小值。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-153">Enter an integer value in increments of "1" or click the up or down arrow to increase or decrease the value in increments of "10".</span></span> <span data-ttu-id="f8f9a-154">最小值为 80。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-154">The minimum value is 80.</span></span> <span data-ttu-id="f8f9a-155">如果匹配分数低于 80，则两条纪录被视为不匹配。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-155">If the matching score is below 80, the two records are not considered a match.</span></span> <span data-ttu-id="f8f9a-156">您不能在此页中更改最低匹配分数范围。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-156">You cannot change the range of the minimum matching score in this page.</span></span> <span data-ttu-id="f8f9a-157">匹配分数的最小值为 80。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-157">The lowest min. matching score is 80.</span></span> <span data-ttu-id="f8f9a-158">但是，如果您是 DQS 管理员，则可以在管理页内更改最低匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-158">You can, however, change the lowest minimum matching score within the Administration page (if you are a DQS administrator).</span></span>  
  
 <span data-ttu-id="f8f9a-159">创建匹配规则是一个迭代过程，因为你可能需要更改规则中域的相对权重、域的相似性或先决条件属性或规则的最小匹配分数才能实现你需要的结果。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-159">Creating a matching rule is an iterative process because you may need to change the relative weights of the domains in the rule, or the similarity or the prerequisite property for a domain, or the min. matching score for the rule, in order to achieve the results that you need.</span></span> <span data-ttu-id="f8f9a-160">您还可能发现您需要创建多个规则，将运行其中的每条规则来创建匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-160">You may also find that you need to create multiple rules, each of which will be run to create the matching score.</span></span> <span data-ttu-id="f8f9a-161">只用一条规则就要获得您所需的结果可能有点困难。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-161">It may be difficult to achieve the result you need with only one rule.</span></span> <span data-ttu-id="f8f9a-162">多个规则将提供所需匹配的不同视图。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-162">Multiple rules will provide different views of a required match.</span></span> <span data-ttu-id="f8f9a-163">如果有多条规则，则您可能能够在每条规则中包括更少的域，对每个域使用更高权重并获得更好的结果。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-163">With multiple rules, you may be able to include fewer domains in each rule, use higher weights for each domain, and achieve better results.</span></span> <span data-ttu-id="f8f9a-164">如果数据不太准确和不太完整，您可能需要更多的规则以找到所需的匹配项。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-164">If the data is less accurate and less complete, you may need more rules to find required matches.</span></span> <span data-ttu-id="f8f9a-165">如果数据比较准确和完整，您需要较少的规则。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-165">If the data is more accurate and complete, you need fewer rules.</span></span>  
  
 <span data-ttu-id="f8f9a-166">通过事件探查，您可以全面了解完整性和唯一性。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-166">Profiling gives insights on completeness and uniqueness.</span></span> <span data-ttu-id="f8f9a-167">同时考虑完整性和唯一性。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-167">Consider completeness and uniqueness in tandem.</span></span> <span data-ttu-id="f8f9a-168">使用完整性和唯一性数据来确定应给匹配过程中的字段什么权重。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-168">Use completeness and uniqueness data to determine what weight to give a field in the matching process.</span></span> <span data-ttu-id="f8f9a-169">如果字段具有很高的唯一性，则在匹配策略中使用此字段可能会减少匹配结果，这样，您可能需要将该字段的权重设置为相对小的值。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-169">If there is a high level of uniqueness in a field, using the field in a matching policy can decrease the matching results, so you may want to set the weight for that field to a relatively small value.</span></span> <span data-ttu-id="f8f9a-170">如果某列的唯一性较低，但完整性也低，则您可能不希望对该列加入某个域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-170">If you have a low level of uniqueness for a column, but low completeness, you may not want to include a domain for that column.</span></span> <span data-ttu-id="f8f9a-171">如果唯一性较低，但完整性较高，则您可能希望包括该域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-171">With a low level of uniqueness, but a high level of completeness, you may want to include the domain.</span></span> <span data-ttu-id="f8f9a-172">某些列（如性别）在本质上唯一性就低。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-172">Some columns, such as gender, may naturally have a low level of uniqueness.</span></span> <span data-ttu-id="f8f9a-173">有关详细信息，请参阅 [“事件探查器”和“结果”选项卡](#Tabs)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-173">For more information, see [Profiler and Results Tabs](#Tabs).</span></span>  
  
##  <a name="first-step-starting-a-matching-policy"></a><a name="Starting"></a><span data-ttu-id="f8f9a-174">第一步：启动匹配策略</span><span class="sxs-lookup"><span data-stu-id="f8f9a-174">First Step: Starting a Matching Policy</span></span>  
 <span data-ttu-id="f8f9a-175">您在 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] 应用程序的知识库管理区域中执行匹配策略活动。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-175">You perform the matching policy activity in the knowledge base management area of the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] application.</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="f8f9a-176">[运行 Data Quality Client 应用程序](../../2014/data-quality-services/run-the-data-quality-client-application.md)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-176">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="f8f9a-177">在 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] 主屏幕中，单击 **“新建知识库”** 以便在新知识库中创建匹配策略。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-177">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, click **New knowledge base** to create a matching policy in a new knowledge base.</span></span> <span data-ttu-id="f8f9a-178">为知识库输入名称，输入描述，并根据需要设置 **“创建知识库自”** 。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-178">Enter a name for the knowledge base, enter a description, and set **Create knowledge base from** as desired.</span></span> <span data-ttu-id="f8f9a-179">单击活动的 **“匹配策略”** 。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-179">Click **Matching Policy** for the activity.</span></span> <span data-ttu-id="f8f9a-180">单击“下一步”继续。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-180">Click **Next** to proceed.</span></span>  
  
3.  <span data-ttu-id="f8f9a-181">单击 **“打开知识库”** 以便在现有知识库中创建或修改匹配策略。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-181">Click **Open knowledge base** to create or modify the matching policy in an existing knowledge base.</span></span> <span data-ttu-id="f8f9a-182">选择知识库，选择 **“匹配策略”**，然后单击 **“下一步”**。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-182">Select the knowledge base, select **Matching Policy**, and then click **Next**.</span></span> <span data-ttu-id="f8f9a-183">还可以单击 **“最近的知识库”** 下的某个知识库。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-183">You can also click a knowledge base under **Recent Knowledge Base**.</span></span> <span data-ttu-id="f8f9a-184">如果您打开当正在处理匹配策略时关闭的知识库，您将进入关闭匹配策略活动时所在的阶段（由知识库表中或 **“最近的知识库”** 下知识库名称中的 **“状态”** 列所指示）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-184">If you open a knowledge base that was closed while a matching policy was being worked on, you will proceed to the stage that the matching policy activity was closed in (as indicated by the **State** column for the knowledge base in the knowledge base table or in the knowledge base name under **Recent Knowledge Base**).</span></span> <span data-ttu-id="f8f9a-185">如果您打开包括匹配策略且已完成的知识库，则将进入 **“匹配策略”** 页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-185">If you open a knowledge base that includes a matching policy and was finished, you will go to the **Matching Policy** page.</span></span> <span data-ttu-id="f8f9a-186">如果您打开不包括匹配策略但已完成的知识库，则将进入 **“映射”** 页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-186">If you open a knowledge base that does not include a matching policy and was finished, you will go to the **Mapping** Page.</span></span>  
  
##  <a name="mapping-stage"></a><a name="MatchingStage"></a> <span data-ttu-id="f8f9a-187">映射阶段</span><span class="sxs-lookup"><span data-stu-id="f8f9a-187">Mapping Stage</span></span>  
 <span data-ttu-id="f8f9a-188">在映射阶段中，您确定要为其创建匹配策略的数据源，并将源列映射到域以使域可用于匹配策略活动。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-188">In the mapping stage you identify the source of the data that you will create the matching policy for, and you map source columns to domains to make the domains available for the matching policy activity.</span></span>  
  
1.  <span data-ttu-id="f8f9a-189">在 **“映射”** 页上，要为数据库创建策略，请将 **“数据源”** 保留为 **SQL Server**，在 **“数据库”** 中选择您要为其创建策略的数据库，然后在 **“表/视图”** 中选择表或视图。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-189">On the **Map** page, to create a policy for a database, leave **Data Source** as **SQL Server**, select the database that you want to create the policy for in **Database**, and then select the table or view in **Table/View**.</span></span> <span data-ttu-id="f8f9a-190">源数据库必须与 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)]位于同一 SQL Server 实例中。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-190">The source database must be present in the same SQL Server instance as [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)].</span></span> <span data-ttu-id="f8f9a-191">否则，该数据库不会显示在下拉列表中。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-191">Otherwise, it will not appear in the drop-down list.</span></span>  
  
2.  <span data-ttu-id="f8f9a-192">若要在 Excel 电子表格中为数据创建策略，请为 **“数据源”** 选择 **“Excel 文件”**，单击 **“浏览”** 并选择 Excel 文件，然后根据需要使 **“将第一行用作标头”** 保留选中状态。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-192">To create a policy for the data in an Excel spreadsheet, select **Excel File** for **Data Source**, click **Browse** and select the Excel file, and leave **Use first row as header** selected if appropriate.</span></span> <span data-ttu-id="f8f9a-193">在 **“工作表”** 中，在 Excel 文件中选择要成为数据源的工作表。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-193">In **Worksheet**, select the worksheet in the Excel file that will be the source of the data.</span></span> <span data-ttu-id="f8f9a-194">要选择 Excel 文件，必须在数据质量客户端计算机上安装 Microsoft Excel。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-194">Microsoft Excel must be installed on the Data Quality Client computer to select an Excel file.</span></span> <span data-ttu-id="f8f9a-195">否则，“浏览”按钮将不可用，您将在此文本框之下获得通知，说明未安装 Microsoft Excel。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-195">Otherwise, the Browse button will not be available, and you will be notified beneath this text box that Microsoft Excel is not installed.</span></span>  
  
3.  <span data-ttu-id="f8f9a-196">在 **“映射”** 下，为 **“源列”** 选择一个字段，然后单击 **“创建域”** 图标。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-196">Under **Mappings**, select a field for **Source Column**, and then click the **Create Domain** icon.</span></span>  
  
4.  <span data-ttu-id="f8f9a-197">在 **“映射”** 下，为 **“源列”** 选择数据源中的一个字段，然后选择对应的域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-197">Under **Mappings**, select a field in the data source for **Source Column**, and then select the corresponding domain.</span></span> <span data-ttu-id="f8f9a-198">对匹配过程中使用的所有域重复此过程。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-198">Repeat for all domains that you use in the matching process.</span></span> <span data-ttu-id="f8f9a-199">根据需要，通过单击 **“创建域”** 或 **“创建复合域”** 来创建域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-199">Create domains as necessary by clicking **Create a Domain** or **Create a Composite Domain**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-200">仅当源数据类型在 DQS 中受支持且与 DQS 域数据类型匹配时，才能在创建匹配策略时将源数据映射到 DQS 域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-200">You can map your source data to a DQS domain while creating a matching policy only if the source data type is supported in DQS, and matches with the DQS domain data type.</span></span> <span data-ttu-id="f8f9a-201">有关 DQS 中支持的数据类型的信息，请参阅 [DQS 域支持的 SQL Server 和 SSIS 数据类型](../../2014/data-quality-services/supported-sql-server-and-ssis-data-types-for-dqs-domains.md)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-201">For information about supported data types in DQS, see [Supported SQL Server and SSIS Data Types for DQS Domains](../../2014/data-quality-services/supported-sql-server-and-ssis-data-types-for-dqs-domains.md).</span></span>  
  
5.  <span data-ttu-id="f8f9a-202">单击“加号 (+)”控件可向映射表中添加行，单击“减号 (-)”控件可删除行\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-202">Click the **plus (+)** control to add a row to the Mappings table or the **minus (-)** control to remove a row.</span></span>  
  
6.  <span data-ttu-id="f8f9a-203">单击 **“预览数据源”** 可查看您选择的 SQL Server 表或视图中的数据，或查看您所选 Excel 工作表中的数据。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-203">Click **Preview data source** to see the data in the SQL Server table or view that you selected, or the Excel worksheet that you selected.</span></span>  
  
7.  <span data-ttu-id="f8f9a-204">单击 **“查看/选择复合域”** 以查看知识库中可用复合域的列表，并根据需要选择用于映射的复合域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-204">Click **View/Select Composite Domains** to view a list of the composite domains available in the knowledge base and select as appropriate for mapping.</span></span>  
  
8.  <span data-ttu-id="f8f9a-205">单击 **“下一步”** 以进入匹配策略阶段。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-205">Click **Next** to proceed to the matching policy stage.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-206">单击 **“关闭”** 可保存匹配项目的这一阶段，并返回到 DQS 主页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-206">Click **Close** to save the stage of the matching project, and return to the DQS home page.</span></span> <span data-ttu-id="f8f9a-207">下次打开此项目时，它将从同一阶段启动。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-207">The next time you open this project, it will start from the same stage.</span></span> <span data-ttu-id="f8f9a-208">单击 **“取消”** 可结束匹配活动，不保存所做的工作，并返回到 DQS 主页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-208">Click **Cancel** to end the matching activity, losing your work, and return to the DQS home page.</span></span>  
  
##  <a name="matching-policy-stage"></a><a name="MatchingPolicyStage"></a><span data-ttu-id="f8f9a-209">匹配策略阶段</span><span class="sxs-lookup"><span data-stu-id="f8f9a-209">Matching Policy Stage</span></span>  
 <span data-ttu-id="f8f9a-210">创建匹配规则，并在“匹配策略”页中分别对它们进行测试。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-210">You create matching rules and test them individually in the Matching Policy page.</span></span> <span data-ttu-id="f8f9a-211">当您在 **“匹配策略”** 页上测试匹配规则时，您将看到一个匹配结果表，其中显示 DQS 已为所选规则确定的结果集。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-211">When you test a matching rule on the **Matching Policy** page, you will see a matching results table that shows the clusters that DQS has identified for the selected rule.</span></span> <span data-ttu-id="f8f9a-212">此表显示群集中的每条记录以及映射域值和匹配分数，以及群集的初始透视记录。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-212">The table shows each record in the cluster with the mapping domain values and matching score, and the initial pivot record for the cluster.</span></span> <span data-ttu-id="f8f9a-213">您还可以总体显示匹配过程的事件探查数据，每个匹配规则中的条件，以及分别显示针对每个匹配规则的结果的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-213">You can also display profiling data for the matching process as a whole, the conditions in each matching rule, and statistics on the results for each matching rule separately.</span></span> <span data-ttu-id="f8f9a-214">您可以对您想要的主规则数据进行筛选。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-214">You can filter on the master rule data that you want.</span></span>  
  
 <span data-ttu-id="f8f9a-215">有关匹配规则的工作原理的详细信息，请参阅 [如何设置匹配规则参数](#MatchingRules)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-215">For more information on how matching rules work, see [How to Set Matching Rule Parameters](#MatchingRules).</span></span>  
  
1.  <span data-ttu-id="f8f9a-216">在 **“匹配策略”** 页上，单击 **“创建匹配规则”** 图标。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-216">On the **Matching Policy** page, click the **Create a matching rule** icon.</span></span>  
  
2.  <span data-ttu-id="f8f9a-217">输入规则名称和说明。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-217">Enter a name and description for the rule.</span></span>  
  
3.  <span data-ttu-id="f8f9a-218">如果您想使匹配要求更严格，则提高 **“最低匹配分数”** 的值。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-218">Increase the value of the **Min. matching score** if you want to make the matching requirements more stringent.</span></span> <span data-ttu-id="f8f9a-219">有关最低匹配分数的详细信息，请参阅 [如何设置匹配规则参数](#MatchingRules)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-219">For more information about the minimum matching score, see [How to Set Matching Rule Parameters](#MatchingRules).</span></span>  
  
4.  <span data-ttu-id="f8f9a-220">单击 **“添加新的域元素”** 图标。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-220">Click the **Add a new domain element** icon.</span></span>  
  
5.  <span data-ttu-id="f8f9a-221">选择要为其输入规则值的域或复合域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-221">Select a domain or composite domain to enter rule values for.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-222">仅当复合域中的每个单一域都被映射到源列时，才可以选择复合域。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-222">You can select a composite domain only if each single domain in the composite domain has been mapped to a source column.</span></span>  
  
6.  <span data-ttu-id="f8f9a-223">对于 **“相似性”**，如果两条不同记录的相同字段中的两个值即使不完全相同，也能被视为匹配，则选择 **“类似”** 。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-223">For **Similarity**, select **Similar** if two values in the same field of two different records can be considered a match even if not identical.</span></span> <span data-ttu-id="f8f9a-224">相似性为“精确”：如果两条不同记录的相同字段中的值必须完全相同，其值才能被视为匹配，则选择 **“精确”** 。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-224">Select **Exact** if two values in the same field of two different records must be identical to be considered to be a match.</span></span> <span data-ttu-id="f8f9a-225">（有关详细信息，请参阅 [如何设置匹配规则参数](#MatchingRules)。）</span><span class="sxs-lookup"><span data-stu-id="f8f9a-225">(For more information, see [How to Set Matching Rule Parameters](#MatchingRules).)</span></span>  
  
7.  <span data-ttu-id="f8f9a-226">对于“权重”，输入一个值，该值确定域的匹配分数对两条记录的总匹配分数的贡献\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-226">For **Weight**, enter a value that determines the contribution of a domain's matching score to the overall matching score for two records.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-227">当您为复合域定义权重时，您可以为复合域中的每一单一域输入不同的权重（在这种情况下，并未向复合域提供单独的权重），或者，您可以为复合域输入一个权重，其中并未向复合域中的单一域提供单独权重。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-227">When you define a weight for a composite domain, you can enter a different weight for each single domain in the composite domain, in which case the composite domain is not given a separate weight, or you can enter a single weight for the composite domain, in which the single domains in the composite domain are not given separate weights.</span></span>  
  
8.  <span data-ttu-id="f8f9a-228">选择 **“先决条件”** 可指定两条记录的对应字段中的值必须返回 100% 匹配，否则，这些记录将不会被视为匹配且忽略规则中的其他子句。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-228">Select **Prerequisite** to specify that the values for the field in the two records must return a 100% match, else the records are not considered a match and the other clauses in the rule are disregarded.</span></span> <span data-ttu-id="f8f9a-229">如果 **“相似性”** 为 **“类似”**，则它将更改为 **“精确”**，并且将删除此权重，因为匹配必须为 100%。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-229">If the **Similarity** is **Similar**, it will change to **Exact**, and the weight will be removed because the match must be 100%.</span></span>  
  
9. <span data-ttu-id="f8f9a-230">对将成为匹配规则一部分的所有其他域重复步骤 4 到步骤 8。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-230">Repeat steps 4 through 8 for all other domains that will be part of the matching rule.</span></span> <span data-ttu-id="f8f9a-231">确保规则中所有域的权重之和等于 100。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-231">Ensure that the sum of the weights for all domains in the rule equals 100.</span></span>  
  
10. <span data-ttu-id="f8f9a-232">从下拉列表中选择 **“重叠的群集”** ，以便在执行匹配后显示透视记录以及所有群集的后续记录，即使各组群集具有共用记录也不例外。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-232">Select **Overlapping clusters** from the drop-down list to display the pivot records and following records for all clusters when matching is executed, even if groups of clusters have records in common.</span></span> <span data-ttu-id="f8f9a-233">选择 **“不重叠的群集”** ，以便在执行匹配后显示具有共用记录作为单个群集的群集。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-233">Select **Non overlapping clusters** to display clusters that have records in common as a single cluster when matching is executed.</span></span>  
  
11. <span data-ttu-id="f8f9a-234">单击 **“自源重新加载数据”** ，以便在运行匹配策略后，将数据源中的数据复制到临时表并对其重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-234">Click **Reload data from source** to copy data from the data source into the staging table and re-index it when you run the matching policy.</span></span> <span data-ttu-id="f8f9a-235">单击 **“针对以往数据执行”** 以运行匹配策略，而不将数据复制到临时表和对数据重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-235">Click **Execute on previous data** to run a matching policy without copying the data into the staging table and re-indexing the data.</span></span> <span data-ttu-id="f8f9a-236">对于第一次运行匹配策略，或如果您在 **“映射”** 页中更改映射，然后在出现的弹出菜单中按 **“是”** ，则 **“针对以往数据执行”** 为禁用状态。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-236">**Execute on previous data** is disabled for the first run of the matching policy, or if you change mapping in the **Map** page, and then press **Yes** in the following popup.</span></span> <span data-ttu-id="f8f9a-237">在这两种情况下，您都必须重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-237">In both of those cases, you must re-index.</span></span> <span data-ttu-id="f8f9a-238">如果匹配策略未发生变化，则不需要重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-238">It is not necessary to re-index if the matching policy has not changed.</span></span> <span data-ttu-id="f8f9a-239">“针对以往数据执行”有助于改善性能。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-239">Executing on previous data can help performance.</span></span>  
  
12. <span data-ttu-id="f8f9a-240">单击 **“开始”** 可为所选规则运行匹配过程。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-240">Click **Start** to run the matching process for the selected rule.</span></span> <span data-ttu-id="f8f9a-241">完成此过程后，此表将针对群集中的每条记录显示记录 ID、群集编号以及数据列（包括匹配规则中所没有的数据列）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-241">When the process is complete, the table displays the Record ID, Cluster number, and data columns (including those not in the matching rule) for each record in a cluster.</span></span> <span data-ttu-id="f8f9a-242">群集中的透视行被认为是重复数据消除过程中存活的最佳候选行。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-242">The pivot row in the cluster is considered to be the prime candidate for surviving the de-duplication process.</span></span> <span data-ttu-id="f8f9a-243">群集中的每个附加行都被认为是重复的行；结果表中会提供其匹配分数（与透视记录比较）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-243">Each additional row in a cluster is considered a duplicate; its matching score (compared to the pivot record) is provided in the results table.</span></span> <span data-ttu-id="f8f9a-244">群集编号与此群集中的透视记录的记录 ID 相同。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-244">The cluster number is that same as the record ID for the pivot record in the cluster.</span></span>  
  
13. <span data-ttu-id="f8f9a-245">您可以处理 **“匹配结果”** 表中的数据，如下所示：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-245">You can work with the data in the **Matching Results** table as follows:</span></span>  
  
    -   <span data-ttu-id="f8f9a-246">在 **“筛选器”** 中，选择 **“匹配”** 可显示所有匹配行及其分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-246">In **Filter**, select **Matched** to show all matched rows and their score.</span></span> <span data-ttu-id="f8f9a-247">匹配结果表中不显示不视为匹配的行（其匹配分数低于最低匹配分数）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-247">Rows that are not considered matches (that have a matching score less than the minimum matching score) are not shown in the matching results table.</span></span> <span data-ttu-id="f8f9a-248">选择 **“不匹配”** 将显示所有不匹配的行，而不显示匹配行。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-248">Select **Unmatched** to show all unmatched rows, not matched rows.</span></span>  
  
    -   <span data-ttu-id="f8f9a-249">在“百分比”下拉列表框中，从下拉列表中以“5”为增量选择一个百分比\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-249">In the **Percent Drop Down Box**, select a percentage from the drop-down list, in increments of "5".</span></span> <span data-ttu-id="f8f9a-250">匹配结果表中将显示其匹配分数大于或等于该百分比的所有行。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-250">All rows with a matching score that is greater than or equal to that percentage will be displayed in the matching results table.</span></span>  
  
    -   <span data-ttu-id="f8f9a-251">如果您在匹配结果表中双击某个记录，DQS 将显示 **“匹配分数详细信息”** 弹出菜单，其中显示透视记录和源记录（及其所有字段中的值）、它们之间的分数以及记录匹配的深化信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-251">If you double-click a record in the matching results table, DQS displays a **Matching Score Details** popup that displays the pivot record and source record (and the values in all their fields), the score between them, and a drill-down of the record matching.</span></span> <span data-ttu-id="f8f9a-252">深化信息显示透视记录和源记录的每个字段中的值，以便您可以比较它们，并显示每个字段对这两个字段的总体匹配分数所贡献的匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-252">The drill-down displays the values in each field of the pivot record and source record so you can compare them, and shows the matching score that each field contributes to the overall matching score for the two records.</span></span>  
  
14. <span data-ttu-id="f8f9a-253">在 **“事件探查器”** 和 **“匹配结果”** 选项卡上查看统计信息，以确保您获得所需的结果。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-253">View the statistics in the **Profiler** and **Matching Results** tabs to ensure that you are achieving the results that you need.</span></span> <span data-ttu-id="f8f9a-254">有关详细信息，请参阅 [“事件探查器”和“结果”选项卡](#Tabs)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-254">For more information, see [Profiler and Results Tabs](#Tabs).</span></span>  
  
15. <span data-ttu-id="f8f9a-255">如果需要更改规则，则在规则编辑器中进行更改，然后单击 **“重新启动”**。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-255">If the rule needs to be changed, change it in the Rule Editor, and click **Restart**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-256">首次分析完成后， **“启动”** 按钮将变为 **“重新启动”** 按钮。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-256">After the first analysis has completed, the **Start** button turns into a **Restart** button.</span></span> <span data-ttu-id="f8f9a-257">如果前一分析的结果尚未保存，则单击 **“重新启动”** 将导致先前的数据丢失。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-257">If the results from the previous analysis have not been saved as yet, clicking **Restart** will cause that previous data to be lost.</span></span> <span data-ttu-id="f8f9a-258">当分析正在运行时，不要离开页面，否则分析进程将被终止。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-258">As the analysis is running, do not leave the page or the analysis process will be terminated.</span></span>  
  
16. <span data-ttu-id="f8f9a-259">**“匹配结果”** 选项卡显示最后两次运行规则的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-259">The **Matching Results** tab displays statistics for the last two runs of the rule.</span></span> <span data-ttu-id="f8f9a-260">如果您使用不同的设置多次运行了匹配规则，则比较当前规则和先前规则的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-260">If you have run the matching rule more than once with different settings, compare the statistics for the current rule and the previous rule.</span></span> <span data-ttu-id="f8f9a-261">如果您发现先前规则的结果更好，则单击 **“还原上一个规则”** 以还原上一个规则的条件，同时将规则返回其先前编辑之前的状态。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-261">If you find that the results from the previous rule were better, click **Restore Previous rule** to restore the conditions of the previous rule, returning the rule to its previous state before editing.</span></span> <span data-ttu-id="f8f9a-262">当前规则条件将会丢失。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-262">The current rule conditions will be lost.</span></span> <span data-ttu-id="f8f9a-263">这样，您就可以根据最后两次匹配运行来优化策略，同时减少优化匹配策略所需的时间。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-263">This enables you to tune the policy based on the last two matching runs, decreasing the time that you spend tuning the matching policy.</span></span>  
  
17. <span data-ttu-id="f8f9a-264">如果您要向匹配策略添加另一条规则，请从步骤 1 开始重复此操作。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-264">If you want another rule to be added to the matching policy, repeat from step 1.</span></span>  
  
18. <span data-ttu-id="f8f9a-265">单击 **“下一步”** 以进入匹配结果阶段。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-265">Click **Next** to proceed to the matching results stage.</span></span>  
  
##  <a name="matching-results-stage"></a><a name="MatchingResultsStage"></a><span data-ttu-id="f8f9a-266">匹配结果阶段</span><span class="sxs-lookup"><span data-stu-id="f8f9a-266">Matching Results Stage</span></span>  
 <span data-ttu-id="f8f9a-267">您可以在 **“匹配结果”** 页上一次测试所有匹配规则。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-267">You test all your matching rules at once in the **Matching Results** page.</span></span> <span data-ttu-id="f8f9a-268">在此之前，您可以指定规则测试运行可确定重叠或非重叠群集。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-268">Before you do so, you can specify that the rule test run identify overlapping or non-overlapping clusters.</span></span> <span data-ttu-id="f8f9a-269">如果您多次运行规则，则可以针对从源中重新加载的数据或针对先前数据执行此规则。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-269">If you are running the rules multiple times, you can execute the rule on data reloaded from the source or on previous data.</span></span>  
  
 <span data-ttu-id="f8f9a-270">当您在 **“匹配结果”** 页上测试匹配规则时，您将看到一个匹配结果表，其中显示 DQS 已为所有规则确定的群集。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-270">When you test the matching rules on the **Matching Results** page, you will see a matching results table that shows the clusters that DQS has identified for all rules.</span></span> <span data-ttu-id="f8f9a-271">此表显示群集中的每条记录以及映射域值和匹配分数，以及群集的初始透视记录。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-271">The table shows each record in the cluster with the mapping domain values and matching score, and the initial pivot record for the cluster.</span></span> <span data-ttu-id="f8f9a-272">您还可以总体显示匹配规则的事件探查数据，每个匹配规则中的条件，以及显示针对所有匹配规则的结果的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-272">You can also display profiling data for the matching rules as a whole, the conditions in each matching rule, and statistics on the results for all matching rules.</span></span>  
  
1.  <span data-ttu-id="f8f9a-273">在 **“匹配结果”** 页上，从下拉列表中选择 **“重叠的群集”** ，以便在执行匹配后显示透视记录以及所有群集的后续记录，即使各组群集具有共用记录也不例外。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-273">On the **Matching Results** page, select **Overlapping clusters** from the drop-down list to display the pivot records and following records for all clusters when matching is executed, even if groups of clusters have records in common.</span></span> <span data-ttu-id="f8f9a-274">选择 **“不重叠的群集”** ，以便在执行匹配后显示具有共用记录作为单个群集的群集。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-274">Select **Non overlapping clusters** to display clusters that have records in common as a single cluster when matching is executed.</span></span>  
  
2.  <span data-ttu-id="f8f9a-275">单击 **“自源重新加载数据”** ，以便在运行匹配策略后，将数据源中的数据复制到临时表并对其重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-275">Click **Reload data from source** to copy data from the data source into the staging table and re-index it when you run the matching policy.</span></span> <span data-ttu-id="f8f9a-276">单击 **“针对以往数据执行”** 以运行匹配策略，而不将数据复制到临时表和对数据重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-276">Click **Execute on previous data** to run a matching policy without copying the data into the staging table and re-indexing the data.</span></span> <span data-ttu-id="f8f9a-277">对于第一次运行匹配策略，或如果您在 **“映射”** 页中更改映射，然后在出现的弹出菜单中按 **“是”** ，则 **“针对以往数据执行”** 为禁用状态。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-277">**Execute on previous data** is disabled for the first run of the matching policy, or if you change mapping in the **Map** page, and then press **Yes** in the following popup.</span></span> <span data-ttu-id="f8f9a-278">在这两种情况下，您都必须重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-278">In both of those cases, you must re-index.</span></span> <span data-ttu-id="f8f9a-279">如果匹配策略未发生变化，则不需要重新编制索引。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-279">It is not necessary to re-index if the matching policy has not changed.</span></span> <span data-ttu-id="f8f9a-280">“针对以往数据执行”有助于改善性能。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-280">Executing on previous data can help performance.</span></span>  
  
3.  <span data-ttu-id="f8f9a-281">单击 **“启动”** 以针对已定义的所有规则运行匹配过程。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-281">Click **Start** to run the matching process for all rules that you have defined.</span></span> <span data-ttu-id="f8f9a-282">**“匹配结果”** 表将针对群集中的每条记录显示记录 ID、群集编号以及数据列（包括匹配规则中所没有的数据列）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-282">The **Matching Results** table displays the record ID, cluster number, and data columns (including those not in the matching rule) for each record in a cluster.</span></span> <span data-ttu-id="f8f9a-283">群集中的前导记录是随机选定的。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-283">The leading record in the cluster is selected randomly.</span></span> <span data-ttu-id="f8f9a-284"> (在运行匹配项目时，通过在 "**导出**" 页上选择存活规则来确定存活的记录。 ) 群集中的每个附加行都被认为是重复的;与 "结果" 表中提供) 的透视记录相比，其匹配分数 (。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-284">(You determine the surviving record by selected the survivorship rule on the **Export** page when you run the matching project.) Each additional row in a cluster is considered a duplicate; its matching score (compared to the pivot record) is provided in the results table.</span></span>  
  
4.  <span data-ttu-id="f8f9a-285">您可以处理 **“匹配结果”** 表中的数据，如下所示：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-285">You can work with the data in the **Matching Results** table as follows:</span></span>  
  
    -   <span data-ttu-id="f8f9a-286">在 **“筛选器”** 中，选择 **“匹配”** 可显示所有匹配行及其分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-286">In **Filter**, select **Matched** to show all matched rows and their score.</span></span> <span data-ttu-id="f8f9a-287">匹配结果表中不显示不视为匹配的行（其匹配分数低于最低匹配分数）。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-287">Rows that are not considered matches (that have a matching score less than the minimum matching score) are not shown in the matching results table.</span></span> <span data-ttu-id="f8f9a-288">选择 **“不匹配”** 将显示所有不匹配的行，而不显示匹配行。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-288">Select **Unmatched** to show all unmatched rows, not matched rows.</span></span>  
  
    -   <span data-ttu-id="f8f9a-289">在“百分比”下拉列表框中，从下拉列表中以“5”为增量选择一个百分比\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-289">In the **Percent Drop Down Box**, select a percentage from the drop-down list, in increments of "5".</span></span> <span data-ttu-id="f8f9a-290">匹配结果表中将显示其匹配分数大于或等于该百分比的所有行。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-290">All rows with a matching score that is greater than or equal to that percentage will be displayed in the matching results table.</span></span>  
  
    -   <span data-ttu-id="f8f9a-291">如果您在匹配结果表中双击某个记录，DQS 将显示 **“匹配分数详细信息”** 弹出菜单，其中显示透视记录和源记录（及其所有字段中的值）、它们之间的分数以及记录匹配的深化信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-291">If you double-click a record in the matching results table, DQS displays a **Matching Score Details** popup that displays the pivot record and source record (and the values in all their fields), the score between them, and a drill-down of the record matching.</span></span> <span data-ttu-id="f8f9a-292">深化信息显示透视记录和源记录的每个字段中的值，以便您可以比较它们，并显示每个字段对这两个字段的总体匹配分数所贡献的匹配分数。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-292">The drill-down displays the values in each field of the pivot record and source record so you can compare them, and shows the matching score that each field contributes to the overall matching score for the two records.</span></span>  
  
5.  <span data-ttu-id="f8f9a-293">在 **“事件探查器”** 和 **“匹配结果”** 选项卡上查看统计信息，以确保您获得所需的结果。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-293">View the statistics in the **Profiler** and **Matching Results** tabs to ensure that you are achieving the results that you need.</span></span> <span data-ttu-id="f8f9a-294">单击 **“匹配规则”** 选项卡以查看每个规则的域设置是什么。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-294">Click the **Matching Rules** tab to see what the domain settings for each rule are.</span></span> <span data-ttu-id="f8f9a-295">有关详细信息，请参阅 [“事件探查器”和“结果”选项卡](#Tabs)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-295">For more information, see [Profiler and Results Tabs](#Tabs).</span></span>  
  
6.  <span data-ttu-id="f8f9a-296">如果您并非对所有规则的结果感到满意，则单击 **“返回”** 以返回到 **“匹配策略”** 页，根据需要修改一个或多个规则，返回 **“匹配结果”** 页，然后单击 **“重新启动”**。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-296">If you are not satisfied with the results of all rules, then click **Back** to return to the **Matching Policy** page, modify one or more rules as necessary, return to the **Matching Results** page, and then click **Restart**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-297">分析完成后， **“启动”** 按钮将变为 **“重新启动”** 按钮。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-297">After the analysis has completed, the **Start** button turns into a **Restart** button.</span></span> <span data-ttu-id="f8f9a-298">如果前一分析的结果尚未保存，则单击 **“重新启动”** 将导致先前的数据丢失。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-298">If the results from the previous analysis have not been saved as yet, clicking **Restart** will cause that previous data to be lost.</span></span>  
  
7.  <span data-ttu-id="f8f9a-299">如果您对所有规则的结果感到满意，则单击 **“完成”** 以完成匹配策略过程，然后单击以下选项之一：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-299">If you are satisfied with the results of all rules, click **Finish** to complete the matching policy process, and then click one of the following:</span></span>  
  
    -   <span data-ttu-id="f8f9a-300">**是 - 发布知识库并退出**：将发布该知识库，以供当前用户或他人使用。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-300">**Yes - Publish the knowledge base and exit**: The knowledge base will be published for the current user or others to use.</span></span> <span data-ttu-id="f8f9a-301">将不锁定该知识库，该知识库（在知识库表中）的状态将设置为空，且域管理和知识发现活动都将可用。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-301">The knowledge base will not be locked, the state of the knowledge base (in the knowledge base table) will be set to empty, and both the Domain Management and Knowledge Discovery activities will be available.</span></span> <span data-ttu-id="f8f9a-302">您将返回到“打开知识库”屏幕。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-302">You will be returned to the Open Knowledge Base screen.</span></span>  
  
    -   <span data-ttu-id="f8f9a-303">**否 - 保存对知识库所做的工作并退出**：将保存工作，该知识库将保持锁定状态，且知识库的状态将设置为“在工作”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-303">**No - Save the work on the knowledge base and exit**: Your work will be saved, the knowledge base will remained locked, and the state of the knowledge base will be set to **In work**.</span></span> <span data-ttu-id="f8f9a-304">域管理和知识发现活动都将可用。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-304">Both the Domain Management and Knowledge Discovery activities will be available.</span></span> <span data-ttu-id="f8f9a-305">您将返回到主页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-305">You will be returned to the home page.</span></span>  
  
    -   <span data-ttu-id="f8f9a-306">**取消-停留在当前屏幕上**：弹出窗口将关闭，你将返回到域管理屏幕。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-306">**Cancel - Stay on the current screen**: The popup will be closed and you will be returned to the Domain Management screen.</span></span>  
  
8.  <span data-ttu-id="f8f9a-307">单击 **“关闭”** 可保存所做的工作，并返回到 DQS 主页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-307">Click **Close** to save your work, and return to the DQS home page.</span></span> <span data-ttu-id="f8f9a-308">知识库的状态将显示字符串“匹配策略 - ”和当前状态。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-308">The state of the knowledge base will show the string "Matching Policy - ", and the current state.</span></span> <span data-ttu-id="f8f9a-309">如果当您在 **“匹配结果”** 屏幕中时单击了 **“关闭”** ，则状态将显示“匹配策略 - 结果”。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-309">If you clicked **Close** while you are in the **Matching Result** screen, the state will show: "Matching Policy - Results".</span></span> <span data-ttu-id="f8f9a-310">如果在“匹配策略”屏幕中时单击了“关闭”，则状态将显示“匹配策略 - 匹配策略”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-310">If you clicked close while you are in the **Matching Policy** screen, the state will show: "Matching Policy - Matching Policy".</span></span> <span data-ttu-id="f8f9a-311">单击 **“关闭”** 后，若要执行 **“知识发现”** 活动，您必须返回 **“匹配策略”** 活动，单击 **“完成”**，然后单击 **“是”** 发布该知识库，或单击 **“否”** 保存对该知识库所做的工作并退出。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-311">After clicking **Close**, to perform the **Knowledge Discovery** activity, you would have to return to the **Matching policy** activity, click **Finish**, and then click either **Yes** to publish the knowledge base or **No** to save the work on the knowledge base and exit.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8f9a-312">如果您当匹配过程正在运行时单击 **“关闭”** ，则当您单击 **“关闭”** 时匹配过程将不会终止。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-312">If you click **Close** while a matching process is running, the matching process will not terminate when you click **Close**.</span></span> <span data-ttu-id="f8f9a-313">您可以重新打开知识库，并查看过程是否仍在运行，如果已完成，则显示结果。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-313">You can reopen the knowledge base and see either that the process is still running, or if completed, that the results are displayed.</span></span> <span data-ttu-id="f8f9a-314">如果未完成此过程，屏幕将显示进度。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-314">If the process has not completed, the screen will display the progress.</span></span>  
  
9. <span data-ttu-id="f8f9a-315">单击 **“取消”** 可终止“匹配策略”活动，不保存所做的工作，并返回到 DQS 主页。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-315">Click **Cancel** to terminate the Matching Policy activity, losing your work, and return to the DQS home page.</span></span>  
  
##  <a name="follow-up-after-creating-a-matching-policy"></a><a name="FollowUp"></a><span data-ttu-id="f8f9a-316">跟进：在创建匹配策略之后</span><span class="sxs-lookup"><span data-stu-id="f8f9a-316">Follow Up: After Creating a Matching Policy</span></span>  
 <span data-ttu-id="f8f9a-317">在创建匹配策略后，可以基于包含匹配策略的知识库运行匹配项目。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-317">After you create a matching policy, you can run a matching project based upon the knowledge base that contains the matching policy.</span></span> <span data-ttu-id="f8f9a-318">有关详细信息，请参阅 [运行匹配项目](../../2014/data-quality-services/run-a-matching-project.md)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-318">For more information, see [Run a Matching Project](../../2014/data-quality-services/run-a-matching-project.md).</span></span>  
  
##  <a name="profiler-and-results-tabs"></a><a name="Tabs"></a><span data-ttu-id="f8f9a-319">探查器和 "结果" 选项卡</span><span class="sxs-lookup"><span data-stu-id="f8f9a-319">Profiler and Results Tabs</span></span>  
 <span data-ttu-id="f8f9a-320">“事件探查器”和“结果”选项卡包含针对“匹配策略”页和“匹配结果”页的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-320">The Profiler and Results tab contain statistics for both the Matching Policy and the Matching Results pages.</span></span>  
  
###  <a name="profiler-tab"></a><a name="Profiler"></a><span data-ttu-id="f8f9a-321">事件探查器选项卡</span><span class="sxs-lookup"><span data-stu-id="f8f9a-321">Profiler Tab</span></span>  
 <span data-ttu-id="f8f9a-322">单击 **“事件探查器”** 选项卡以显示源数据库以及策略规则中包含的每个字段的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-322">Click the **Profiler** tab to display statistics for the source database and for each field included in the policy rule.</span></span> <span data-ttu-id="f8f9a-323">当运行策略规则时，将更新统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-323">The statistics will be updated as the policy rule is run.</span></span>  
  
 <span data-ttu-id="f8f9a-324">有关如何解释以下统计信息的详细信息，请参阅 [如何设置匹配规则参数](#MatchingRules)。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-324">For more information on how to interpret the following statistics, see [How to Set Matching Rule Parameters](#MatchingRules).</span></span>  
  
 <span data-ttu-id="f8f9a-325">源数据库统计信息包括：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-325">The source database statistics include the following:</span></span>  
  
-   <span data-ttu-id="f8f9a-326">**记录**：源数据库中的记录总数</span><span class="sxs-lookup"><span data-stu-id="f8f9a-326">**Records**: The total number of records in the source database</span></span>  
  
-   <span data-ttu-id="f8f9a-327">**值总计**：数据源的各字段中的值的总数</span><span class="sxs-lookup"><span data-stu-id="f8f9a-327">**Total Values**: The total number of values in the fields of the data source</span></span>  
  
-   <span data-ttu-id="f8f9a-328">**新值**：自上次运行后的新值总数及其占总体的百分比</span><span class="sxs-lookup"><span data-stu-id="f8f9a-328">**New Values**: The total number of values that are new since the previous run, and their percentage of the whole</span></span>  
  
-   <span data-ttu-id="f8f9a-329">**唯一值**：字段中唯一值的总数及其占总体的百分比</span><span class="sxs-lookup"><span data-stu-id="f8f9a-329">**Unique Values**: The total number of unique values in the fields, and their percentage of the whole</span></span>  
  
-   <span data-ttu-id="f8f9a-330">**新的唯一值**：字段中新唯一值的总数及其占总体的百分比</span><span class="sxs-lookup"><span data-stu-id="f8f9a-330">**New Unique Values**: The total number of unique values that are new in the fields, and their percentage of the whole</span></span>  
  
 <span data-ttu-id="f8f9a-331">字段统计信息包括：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-331">The field statistics include the following:</span></span>  
  
-   <span data-ttu-id="f8f9a-332">**字段名称**</span><span class="sxs-lookup"><span data-stu-id="f8f9a-332">**Field name**</span></span>  
  
-   <span data-ttu-id="f8f9a-333">**域名**</span><span class="sxs-lookup"><span data-stu-id="f8f9a-333">**Domain name**</span></span>  
  
-   <span data-ttu-id="f8f9a-334">**新**：域中的新值数以及新值与现有域相比的百分比</span><span class="sxs-lookup"><span data-stu-id="f8f9a-334">**New**: The number of new values and the percent of new values compared to existing values in the domain</span></span>  
  
-   <span data-ttu-id="f8f9a-335">**唯一**：字段中唯一记录的数目及其占总数的百分比</span><span class="sxs-lookup"><span data-stu-id="f8f9a-335">**Unique**: The number of unique records in the field and their percentage of the total</span></span>  
  
-   <span data-ttu-id="f8f9a-336">**完整性**：针对每个匹配操作映射的每个源字段的完整性</span><span class="sxs-lookup"><span data-stu-id="f8f9a-336">**Completeness**: The completeness of each source field that is mapped for the matching exercise</span></span>  
  
###  <a name="matching-policy-notifications"></a><a name="Notifications"></a><span data-ttu-id="f8f9a-337">匹配策略通知</span><span class="sxs-lookup"><span data-stu-id="f8f9a-337">Matching Policy Notifications</span></span>  
 <span data-ttu-id="f8f9a-338">对于匹配策略活动，以下条件会导致发送通知：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-338">For the matching policy activity, the following conditions result in notifications:</span></span>  
  
-   <span data-ttu-id="f8f9a-339">在所有记录中该字段为空；建议您从映射消除它。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-339">The field is empty in all records; it is recommended that you eliminate it from mapping.</span></span>  
  
-   <span data-ttu-id="f8f9a-340">字段完整性分数很低；您最好从映射中消除它。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-340">The field completeness score is very low; you may want to eliminate it from mapping.</span></span>  
  
-   <span data-ttu-id="f8f9a-341">字段中的所有值都无效；您应该验证映射以及域规则与字段内容的相关性。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-341">All values in a field are invalid; you should verify the mapping and the relevancy of domain rules to the field contents.</span></span>  
  
-   <span data-ttu-id="f8f9a-342">字段中的有效值为低级别；您应该验证映射以及域规则与字段内容的相关性。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-342">There is a low level of valid values in the field; you should verify the mapping and the relevancy of domain rules to the field contents.</span></span>  
  
-   <span data-ttu-id="f8f9a-343">此字段中存在高级别的唯一性。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-343">There is a high level of uniqueness in this field.</span></span> <span data-ttu-id="f8f9a-344">在匹配策略中使用此字段可以减少匹配结果。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-344">Using this field in matching policy can decrease the matching results.</span></span>  
  
###  <a name="matching-results-tab"></a><a name="ResultsTab"></a><span data-ttu-id="f8f9a-345">匹配结果选项卡</span><span class="sxs-lookup"><span data-stu-id="f8f9a-345">Matching Results Tab</span></span>  
 <span data-ttu-id="f8f9a-346">单击 **“匹配结果”** 选项卡以显示匹配策略规则运行和前一次规则运行的统计信息。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-346">Click the **Matching Results** tab to display statistics for the matching policy rule run, and the previous rule run.</span></span> <span data-ttu-id="f8f9a-347">如果您使用不同参数多次运行同一个规则，则匹配结果表将显示这两次运行的统计信息，使您能够对其进行比较。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-347">If you have run the same rule more than once with different parameters, the matching results table will display statistics for both runs, enabling you to compare them.</span></span> <span data-ttu-id="f8f9a-348">如果您需要，您还可以还原前一个规则。</span><span class="sxs-lookup"><span data-stu-id="f8f9a-348">You can also restore the previous rule if you would like.</span></span>  
  
 <span data-ttu-id="f8f9a-349">统计信息包括：</span><span class="sxs-lookup"><span data-stu-id="f8f9a-349">The statistics include the following:</span></span>  
  
-   <span data-ttu-id="f8f9a-350">数据库中的记录总数</span><span class="sxs-lookup"><span data-stu-id="f8f9a-350">The total number of records in the database</span></span>  
  
-   <span data-ttu-id="f8f9a-351">数据库中的匹配记录总数</span><span class="sxs-lookup"><span data-stu-id="f8f9a-351">The total number of matching records in the database</span></span>  
  
-   <span data-ttu-id="f8f9a-352">数据库中不被视为重复的记录数</span><span class="sxs-lookup"><span data-stu-id="f8f9a-352">The number of records in the database that are not considered to be duplicates</span></span>  
  
-   <span data-ttu-id="f8f9a-353">发现的群集数目</span><span class="sxs-lookup"><span data-stu-id="f8f9a-353">The number of clusters discovered</span></span>  
  
-   <span data-ttu-id="f8f9a-354">平均群集大小（重复记录数除以群集数目）</span><span class="sxs-lookup"><span data-stu-id="f8f9a-354">The average cluster size (number of duplicate records divided by number of clusters)</span></span>  
  
-   <span data-ttu-id="f8f9a-355">群集中重复项的最小数量</span><span class="sxs-lookup"><span data-stu-id="f8f9a-355">The fewest number of duplicates in a cluster</span></span>  
  
-   <span data-ttu-id="f8f9a-356">群集中重复项的最大数量</span><span class="sxs-lookup"><span data-stu-id="f8f9a-356">The greatest number of duplicates in a cluster</span></span>  
  
  
