---
title: 使用 DQS（内部）知识清理数据 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dqproject.map.f1
- sql12.dqs.dqproject.export.f1
- sql12.dqs.dqproject.correction.f1
- sql12.dqs.dqproject.interactivecleansing.f1
ms.assetid: c96b13ad-02a6-4646-bcc7-b4a8d490f5cc
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: f590a5940c5a4496495be44e9d2a2fb9ca6d1f2c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87683082"
---
# <a name="cleanse-data-using-dqs-internal-knowledge"></a><span data-ttu-id="b2beb-102">使用 DQS（内部）知识清理数据</span><span class="sxs-lookup"><span data-stu-id="b2beb-102">Cleanse Data Using DQS (Internal) Knowledge</span></span>
  <span data-ttu-id="b2beb-103">本主题介绍如何在 [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS) 中使用数据质量项目清理您的数据。</span><span class="sxs-lookup"><span data-stu-id="b2beb-103">This topic describes how to cleanse your data by using a data quality project in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="b2beb-104">可以使用已在 DQS 中针对高质量数据集生成的知识库对您的源数据执行数据清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-104">Data cleansing is performed on your source data using a knowledge base that has been built in DQS against a high-quality data set.</span></span> <span data-ttu-id="b2beb-105">有关详细信息，请参阅 [生成知识库](../../2014/data-quality-services/building-a-knowledge-base.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-105">For more information, see [Building a Knowledge Base](../../2014/data-quality-services/building-a-knowledge-base.md).</span></span>  
  
 <span data-ttu-id="b2beb-106">执行数据清理分为四个阶段： \*\* “映射”阶段：您确定要清理的数据源，并将其映射到知识库中的所需域； \*\* “计算机辅助清理”阶段：DQS 将知识库应用于要清理的数据，然后对源数据建议/进行更改； \*\* “交互式清理”阶段：数据专员可以分析数据更改，然后接受/拒绝数据更改；最后是 \*\* “导出”阶段：您可以导出清理的数据。</span><span class="sxs-lookup"><span data-stu-id="b2beb-106">Data cleansing is performed in four stages: a *mapping* stage in which you identify the data source to be cleansed, and map it to required domains in a knowledge base, a *computer-assisted cleansing* stage where DQS applies the knowledge base to the data to be cleansed, and proposes/makes changes to the source data, an *interactive cleansing* stage where data stewards can analyze the data changes, and accept/reject the data changes, and finally the *export* stage that lets you export the cleansed data.</span></span> <span data-ttu-id="b2beb-107">将在清理活动向导的单独页面上执行上述每个过程，这使您可以在不同页面之间来回移动，重新运行过程，并结束特定的清理过程和返回到过程的相同阶段。</span><span class="sxs-lookup"><span data-stu-id="b2beb-107">Each of these processes is performed on a separate page of the cleansing activity wizard, enabling you to move back and forth to different pages, to re-run the process, and to close out of a specific cleansing process and then return to the same stage of the process.</span></span> <span data-ttu-id="b2beb-108">DQS 向您提供有关源数据和清理结果的统计信息，使您能够针对数据清理制定明智的决策。</span><span class="sxs-lookup"><span data-stu-id="b2beb-108">DQS provides you with statistics about the source data and the cleansing results that enable you to make informed decisions about data cleansing.</span></span>  
  
## <a name="before-you-begin"></a><span data-ttu-id="b2beb-109">开始之前</span><span class="sxs-lookup"><span data-stu-id="b2beb-109">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a><span data-ttu-id="b2beb-110">先决条件</span><span class="sxs-lookup"><span data-stu-id="b2beb-110">Prerequisites</span></span>  
  
-   <span data-ttu-id="b2beb-111">您必须已为清理活动指定了适当的阈值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-111">You must have specified appropriate threshold values for the cleansing activity.</span></span> <span data-ttu-id="b2beb-112">有关此操作的信息，请参阅 [有关此操作的信息，请参阅](../../2014/data-quality-services/configure-threshold-values-for-cleansing-and-matching.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-112">For information about doing so, see [Configure Threshold Values for Cleansing and Matching](../../2014/data-quality-services/configure-threshold-values-for-cleansing-and-matching.md).</span></span>  
  
-   <span data-ttu-id="b2beb-113">在 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] 中必须有您要针对其比较和清理源数据的 DQS 知识库。</span><span class="sxs-lookup"><span data-stu-id="b2beb-113">A DQS knowledge base must be available on [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] against which you want to compare, and cleanse your source data.</span></span> <span data-ttu-id="b2beb-114">此外，知识库必须包含有关您要清理的数据类型的知识。</span><span class="sxs-lookup"><span data-stu-id="b2beb-114">Additionally, the knowledge base must contain knowledge about the type of data that you want to cleanse.</span></span> <span data-ttu-id="b2beb-115">例如，如果要清理包含美国地址的数据源，则必须具有一个针对美国地址的“高质量”示例数据创建的知识库。</span><span class="sxs-lookup"><span data-stu-id="b2beb-115">For example, if you want to cleanse your source data that contains US addresses, you must have a knowledge base that was created against a "high-quality" sample data for US addresses.</span></span>  
  
-   <span data-ttu-id="b2beb-116">如果要清理的源数据在 Excel 文件中，则必须在 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] 计算机上安装 Microsoft Excel。</span><span class="sxs-lookup"><span data-stu-id="b2beb-116">Microsoft Excel must be installed on the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] computer if the source data to be cleansed is in an Excel file.</span></span> <span data-ttu-id="b2beb-117">否则，您在映射阶段中将无法选择 Excel 文件。</span><span class="sxs-lookup"><span data-stu-id="b2beb-117">Otherwise, you will not be able to select the Excel file in the mapping stage.</span></span> <span data-ttu-id="b2beb-118">由 Microsoft Excel 创建的文件可以具有 .xlsx、.xls 或 .csv 扩展名。</span><span class="sxs-lookup"><span data-stu-id="b2beb-118">The files created by Microsoft Excel can have an extension of .xlsx, .xls, or .csv.</span></span> <span data-ttu-id="b2beb-119">如果使用 64 位版本的 Excel，则仅支持 Excel 2003 文件 (.xls)；而不支持 Excel 2007 或 2010 文件 (.xlsx)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-119">If the 64-bit version of Excel is used, only Excel 2003 files (.xls) are supported; Excel 2007 or 2010 files (.xlsx) are not supported.</span></span> <span data-ttu-id="b2beb-120">如果您使用的是 64 位版本的 Excel 2007 或 2010，则将文件另存为 .xls 文件或 .csv 文件，或者改而安装 32 位版本的 Excel。</span><span class="sxs-lookup"><span data-stu-id="b2beb-120">If you are using 64-bit version of Excel 2007 or 2010, save the file as an .xls file or a .csv file, or install a 32-bit version of Excel instead.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="b2beb-121">Security</span><span class="sxs-lookup"><span data-stu-id="b2beb-121">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="b2beb-122">权限</span><span class="sxs-lookup"><span data-stu-id="b2beb-122">Permissions</span></span>  
 <span data-ttu-id="b2beb-123">您必须对 DQS_MAIN 数据库具有 dqs_kb_editor 或 dqs_kb_operator 角色，才能执行数据清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-123">You must have the dqs_kb_editor or dqs_kb_operator role on the DQS_MAIN database to perform data cleansing.</span></span>  
  
##  <a name="create-a-cleansing-data-quality-project"></a><a name="Create"></a> <span data-ttu-id="b2beb-124">创建清理数据质量项目</span><span class="sxs-lookup"><span data-stu-id="b2beb-124">Create a Cleansing Data Quality Project</span></span>  
 <span data-ttu-id="b2beb-125">您必须使用数据质量项目来执行数据清理操作。</span><span class="sxs-lookup"><span data-stu-id="b2beb-125">You must use a data quality project to perform data cleansing operation.</span></span> <span data-ttu-id="b2beb-126">创建清理数据质量项目：</span><span class="sxs-lookup"><span data-stu-id="b2beb-126">To create a cleansing data quality project:</span></span>  
  
1.  <span data-ttu-id="b2beb-127">按照主题 [创建数据质量项目](../../2014/data-quality-services/create-a-data-quality-project.md)中的步骤 1-3 执行操作。</span><span class="sxs-lookup"><span data-stu-id="b2beb-127">Follow steps 1-3 in the topic [Create a Data Quality Project](../../2014/data-quality-services/create-a-data-quality-project.md).</span></span>  
  
2.  <span data-ttu-id="b2beb-128">在步骤 3.d 中，选择 **“清理”** 活动。</span><span class="sxs-lookup"><span data-stu-id="b2beb-128">In step 3.d, select the **Cleansing** activity.</span></span>  
  
3.  <span data-ttu-id="b2beb-129">单击 **“创建”** 以创建清理数据质量项目。</span><span class="sxs-lookup"><span data-stu-id="b2beb-129">Click **Create** to create a cleansing data quality project.</span></span>  
  
 <span data-ttu-id="b2beb-130">这将创建一个清理数据质量项目，并打开清理数据质量向导的 **“映射”** 页。</span><span class="sxs-lookup"><span data-stu-id="b2beb-130">This creates a cleansing data quality project, and opens up the **Map** page of the cleansing data quality wizard.</span></span>  
  
##  <a name="mapping-stage"></a><a name="Mapping"></a> <span data-ttu-id="b2beb-131">映射阶段</span><span class="sxs-lookup"><span data-stu-id="b2beb-131">Mapping Stage</span></span>  
 <span data-ttu-id="b2beb-132">在映射阶段中，您可以指定到要清理的源数据的连接，并将源数据中的列映射到选定知识库中的相应域。</span><span class="sxs-lookup"><span data-stu-id="b2beb-132">In the mapping stage, you specify the connection to the source data to be cleansed, and map the columns in the source data with the appropriate domains in the selected knowledge base.</span></span>  
  
1.  <span data-ttu-id="b2beb-133">在清理数据质量向导的 **“映射”** 页上，选择要清理的源数据： **SQL Server** 或 **“Excel 文件”**：</span><span class="sxs-lookup"><span data-stu-id="b2beb-133">On the **Map** page of the cleansing data quality wizard, select your source data to be cleansed: **SQL Server** or **Excel File**:</span></span>  
  
    1.  <span data-ttu-id="b2beb-134">**SQL Server**：如果您已将源数据复制到 **DQS_STAGING_DATA** 数据库，则选择此数据库作为源数据库，然后选择包含您的源数据的适当表/视图。</span><span class="sxs-lookup"><span data-stu-id="b2beb-134">**SQL Server**: Select **DQS_STAGING_DATA** as the source database if you have copied your source data to this database, and then select appropriate table/view that contains your source data.</span></span> <span data-ttu-id="b2beb-135">否则，请选择您的源数据库和相应的表/视图。</span><span class="sxs-lookup"><span data-stu-id="b2beb-135">Otherwise, select your source database and appropriate table/view.</span></span> <span data-ttu-id="b2beb-136">您的源数据库必须与 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] “数据库” **下拉列表中提供的** 位于同一 SQL Server 实例中。</span><span class="sxs-lookup"><span data-stu-id="b2beb-136">Your source database must be present in the same SQL Server instance as [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] to be available in the **Database** drop-down list.</span></span>  
  
    2.  <span data-ttu-id="b2beb-137">**Excel 文件**：单击 **“浏览”**，然后选择包含要清理的数据的 Excel 文件。</span><span class="sxs-lookup"><span data-stu-id="b2beb-137">**Excel File**: Click **Browse**, and select the Excel file that contains the data to be cleansed.</span></span> <span data-ttu-id="b2beb-138">要选择 Excel 文件，必须在 [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] 计算机上安装 Microsoft Excel。</span><span class="sxs-lookup"><span data-stu-id="b2beb-138">Microsoft Excel must be installed on the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] computer to select an Excel file.</span></span> <span data-ttu-id="b2beb-139">否则， **“浏览”** 按钮将不可用，您将在此文本框之下获得通知，说明未安装 Microsoft Excel。</span><span class="sxs-lookup"><span data-stu-id="b2beb-139">Otherwise, the **Browse** button will not be available, and you will be notified beneath this text box that Microsoft Excel is not installed.</span></span> <span data-ttu-id="b2beb-140">此外，如果 Excel 文件的第一行包含标头数据，则让 **“将第一行用作标头”** 复选框保留为选中状态。</span><span class="sxs-lookup"><span data-stu-id="b2beb-140">Also, leave the **Use first row as header** check box selected if the first row of the Excel file contains header data.</span></span>  
  
2.  <span data-ttu-id="b2beb-141">在 **“映射”** 下，将源数据中的数据列映射到知识库中的适当域，操作步骤为：从 **“源列”** 列中的下拉列表选择某一源列，然后从同一行的 **“域”** 列中的下拉列表选择一个域。</span><span class="sxs-lookup"><span data-stu-id="b2beb-141">Under **Mappings**, map the data columns in your source data with appropriate domains in the knowledge base by selecting a source column from the drop-down list in the **Source Column** column, and then selecting a domain from the drop-down list in the **Domain** column in the same row.</span></span> <span data-ttu-id="b2beb-142">重复此步骤，将源数据中的所有列映射到知识库中的相应域。</span><span class="sxs-lookup"><span data-stu-id="b2beb-142">Repeat this step to map all the columns in your source data with appropriate domains in the knowledge base.</span></span> <span data-ttu-id="b2beb-143">如果需要，您可以单击 **“添加列映射”** 图标以将行添加到映射表。</span><span class="sxs-lookup"><span data-stu-id="b2beb-143">If required, you can click the **Add a column mapping** icon to add rows to the mapping table.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b2beb-144">仅当源数据类型在 DQS 中受支持且与 DQS 域数据类型匹配时，才能将源数据映射到 DQS 域来执行数据清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-144">You can map your source data to a DQS domain for performing data cleansing only if the source data type is supported in DQS, and matches with the DQS domain data type.</span></span> <span data-ttu-id="b2beb-145">有关支持的源数据类型的信息，请参阅 [DQS 域支持的 SQL Server 和 SSIS 数据类型](../../2014/data-quality-services/supported-sql-server-and-ssis-data-types-for-dqs-domains.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-145">For information about supported source data types, see [Supported SQL Server and SSIS Data Types for DQS Domains](../../2014/data-quality-services/supported-sql-server-and-ssis-data-types-for-dqs-domains.md).</span></span>  
  
3.  <span data-ttu-id="b2beb-146">单击 **“预览数据源”** 图标可查看您选择的 SQL Server 表或视图中的数据，或查看您所选 Excel 工作表中的数据。</span><span class="sxs-lookup"><span data-stu-id="b2beb-146">Click the **Preview data source** icon to see the data in the SQL Server table or view that you selected, or the Excel worksheet that you selected.</span></span>  
  
4.  <span data-ttu-id="b2beb-147">单击 **“查看/选择复合域”** 以查看映射到某个源列的复合域列表。</span><span class="sxs-lookup"><span data-stu-id="b2beb-147">Click **View/Select Composite Domains** to view a list of the composite domains that are mapped to a source column.</span></span> <span data-ttu-id="b2beb-148">此按钮仅当至少有一个复合域映射到源列时才可用。</span><span class="sxs-lookup"><span data-stu-id="b2beb-148">This button is available only if you have at least one composite domain mapped to a source column.</span></span>  
  
5.  <span data-ttu-id="b2beb-149">单击 **“下一步”** 以进入计算机辅助清理阶段（**“清理”** 页）。</span><span class="sxs-lookup"><span data-stu-id="b2beb-149">Click **Next** to proceed to the computer-assisted cleansing stage (**Cleanse** page).</span></span>  
  
##  <a name="computer-assisted-cleansing-stage"></a><a name="ComputerAssisted"></a> <span data-ttu-id="b2beb-150">计算机辅助清理阶段</span><span class="sxs-lookup"><span data-stu-id="b2beb-150">Computer-Assisted Cleansing Stage</span></span>  
 <span data-ttu-id="b2beb-151">在计算机辅助清理阶段中，您可以运行自动化的数据清理过程，该过程根据知识库中的映射域分析源数据并建议/进行数据更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-151">In the computer-assisted cleansing stage, you run an automated data cleansing process that analyzes source data against the mapped domains in the knowledge base, and makes/proposes data changes.</span></span>  
  
1.  <span data-ttu-id="b2beb-152">在数据质量向导的 **“清理”** 页中，单击 **“启动”** 以运行计算机辅助清理过程。</span><span class="sxs-lookup"><span data-stu-id="b2beb-152">On the **Cleanse** page of the data quality wizard, click **Start** to run the computer-assisted cleansing process.</span></span> <span data-ttu-id="b2beb-153">DQS 基于指定的域值级别，使用高级算法和置信度来针对所选知识库分析您的数据，然后清理数据。</span><span class="sxs-lookup"><span data-stu-id="b2beb-153">DQS uses advanced algorithms and confidence levels based on the threshold levels specified to analyze your data against the selected knowledge base, and then cleanse it.</span></span> <span data-ttu-id="b2beb-154">有关如何在 DQS 中执行计算机辅助清理的详细信息，请参阅[数据清理](../../2014/data-quality-services/data-cleansing.md)中的[计算机辅助清理](../../2014/data-quality-services/data-cleansing.md#ComputerAssisted)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-154">For detailed information about how computer-assisted cleansing happens in DQS, see [Computer-assisted Cleansing](../../2014/data-quality-services/data-cleansing.md#ComputerAssisted) in [Data Cleansing](../../2014/data-quality-services/data-cleansing.md).</span></span>  
  
    > [!IMPORTANT]  
    >  -   <span data-ttu-id="b2beb-155">数据分析完成后， **“启动”** 按钮将变为 **“重新启动”** 按钮。</span><span class="sxs-lookup"><span data-stu-id="b2beb-155">After the data analysis has completed, the **Start** button turns into a **Restart** button.</span></span> <span data-ttu-id="b2beb-156">如果前一分析的结果尚未保存，则单击 **“重新启动”** 将导致先前的数据丢失。</span><span class="sxs-lookup"><span data-stu-id="b2beb-156">If the results from the previous analysis have not been saved as yet, clicking **Restart** will cause that previous data to be lost.</span></span> <span data-ttu-id="b2beb-157">当分析正在运行时，不要离开页面，否则分析进程将被终止。</span><span class="sxs-lookup"><span data-stu-id="b2beb-157">As the analysis is running, do not leave the page or the analysis process will be terminated.</span></span>  
    > -   <span data-ttu-id="b2beb-158">如果在创建清理项目之后更新和发布了用于清理项目的知识库，则单击 **“启动”** 将提示您是否使用最新的知识库来进行清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-158">If the knowledge base used for the cleansing project was updated and published after the time that the cleansing project was created, clicking **Start** prompts you whether to use the latest knowledge base for cleansing.</span></span> <span data-ttu-id="b2beb-159">这通常在以下情况下发生：您使用一个知识库创建了数据质量项目，中途通过单击 **“关闭”** 关闭了清理项目，然后后来重新打开了此数据质量项目来执行清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-159">This can typically happen if you created a data quality project using a knowledge base, closed the cleansing project mid-way by clicking **Close**, and then reopened the data quality project at a later point to perform cleansing.</span></span> <span data-ttu-id="b2beb-160">在此期间，已更新和发布在清理项目中使用的知识库。</span><span class="sxs-lookup"><span data-stu-id="b2beb-160">In the meantime, the knowledge base used in the cleansing project was updated and published.</span></span>  
    >   
    >      <span data-ttu-id="b2beb-161">同样，如果在最后一次运行计算机辅助清理之后更新和发布了用于清理项目的知识库，则单击 **“重新启动”** 将提示您是否使用最新的知识库来进行清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-161">Similarly, if the knowledge base used for the cleansing project was updated and published after the last time you ran the computer-assisted cleansing, clicking **Restart** prompts you whether to use the latest knowledge base for cleansing.</span></span>  
    >   
    >      <span data-ttu-id="b2beb-162">在这两种情况下，单击 **“是”** 将使用最新的知识库来进行计算机辅助清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-162">In both the cases, click **Yes** to use the updated knowledge base for the computer-assisted cleansing.</span></span> <span data-ttu-id="b2beb-163">此外，如果当前映射与更新的知识库之间存在任何冲突（如域被删除或更改了域数据类型），则此消息也提示您修复当前映射以使用更新的知识库。</span><span class="sxs-lookup"><span data-stu-id="b2beb-163">Additionally, if there are any conflicts between current mappings and the updated knowledge base (such as domains were deleted or domain data type was changed), the message also prompts you to fix the current mappings to use the updated knowledge base.</span></span> <span data-ttu-id="b2beb-164">单击 **“是”** 将进入 **“映射”** 页，您可以在其中修复映射，然后继续执行计算机辅助清理。</span><span class="sxs-lookup"><span data-stu-id="b2beb-164">Clicking **Yes** takes you to the **Map** page where you can fix the mappings before continuing with the computer-assisted cleansing.</span></span>  
  
2.  <span data-ttu-id="b2beb-165">在计算机辅助清理阶段，您可以通过单击 **“事件探查器”** 选项卡切换事件探查器，以查看实时数据事件探查和通知。</span><span class="sxs-lookup"><span data-stu-id="b2beb-165">During the computer-assisted cleansing stage, you can switch on the profiler by clicking the **Profiler** tab to view real-time data profiling and notifications.</span></span> <span data-ttu-id="b2beb-166">有关详细信息，请参阅 [事件探查器统计信息](#Profiler)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-166">For more information, see [Profiler Statistics](#Profiler).</span></span>  
  
3.  <span data-ttu-id="b2beb-167">如果您对结果感到不满意，则单击 **“返回”** 以返回到 **“映射”** 页，根据需要修改一个或多个映射，返回 **“清理”** 页，然后单击 **“重新启动”**。</span><span class="sxs-lookup"><span data-stu-id="b2beb-167">If you are not satisfied with the results, then click **Back** to return to the **Map** page, modify one or more mappings as necessary, return to the **Cleanse** page, and then click **Restart**.</span></span>  
  
4.  <span data-ttu-id="b2beb-168">在完成计算机辅助清理过程之后，单击 **“下一步”** 以进入交互式清理阶段（**“管理和查看结果”** 页）。</span><span class="sxs-lookup"><span data-stu-id="b2beb-168">After the computer-assisted cleansing process is complete, click **Next** to proceed to the interactive cleansing stage (**Manage and View Results** page).</span></span>  
  
##  <a name="interactive-cleansing-stage"></a><a name="Interactive"></a> <span data-ttu-id="b2beb-169">交互式清理阶段</span><span class="sxs-lookup"><span data-stu-id="b2beb-169">Interactive Cleansing Stage</span></span>  
 <span data-ttu-id="b2beb-170">在交互式清理阶段中，您可以看到 DQS 所建议的更改，并可以通过批准或拒绝更改来确定是否实现更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-170">In the interactive cleansing stage, you can see the changes that DQS has proposed and decide whether to implement them or not by approving or rejecting the changes.</span></span> <span data-ttu-id="b2beb-171">在 **“管理和查看结果”** 页的左侧窗格中，DQS 显示您在映射阶段的早期映射的所有域的列表，以及源数据中在计算机辅助清理阶段针对每个域分析的值数目。</span><span class="sxs-lookup"><span data-stu-id="b2beb-171">On the left pane of the **Manage and view results** page, DQS displays a list of all the domains that you mapped earlier in the mapping stage along with the number of values in the source data analyzed against each domain during the computer-assisted cleansing stage.</span></span> <span data-ttu-id="b2beb-172">在 **“管理和查看结果”** 页的右侧窗格中，根据是否遵守域规则、语法错误规则和高级算法，DQS 使用 \*\*“置信度”对五个选项卡下的数据进行分类。</span><span class="sxs-lookup"><span data-stu-id="b2beb-172">On the right pane of the **Manage and view results** page, based on adherence to the domain rules, syntax error rules, and advanced algorithms, DQS categorizes the data under five tabs using the *confidence level*.</span></span> <span data-ttu-id="b2beb-173">置信度指示 DQS 对更正或建议的确信程度，它基于以下域值：</span><span class="sxs-lookup"><span data-stu-id="b2beb-173">The confidence level indicates the extent of certainty of DQS for the correction or suggestion, and is based on the following threshold values:</span></span>  
  
-   <span data-ttu-id="b2beb-174">**自动更正阈值**：置信度在此阈值之上的所有值都由 DQS 自动更正。</span><span class="sxs-lookup"><span data-stu-id="b2beb-174">**Auto Correction threshold**: Any value that has a confidence level above this threshold is automatically corrected by DQS.</span></span> <span data-ttu-id="b2beb-175">但是，数据专员可以在交互式清理过程中覆盖该更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-175">However, the data steward can override the change during interactive cleansing.</span></span> <span data-ttu-id="b2beb-176">可以在 **“配置”** 屏幕的 **“常规设置”** 选项卡中指定自动更正阈值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-176">You can specify the auto correction threshold value in the **General Settings** tab in the **Configuration** screen.</span></span> <span data-ttu-id="b2beb-177">有关详细信息，请参阅 [配置清理和匹配活动的阈值](../../2014/data-quality-services/configure-threshold-values-for-cleansing-and-matching.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-177">For more information, see [Configure Threshold Values for Cleansing and Matching](../../2014/data-quality-services/configure-threshold-values-for-cleansing-and-matching.md).</span></span>  
  
-   <span data-ttu-id="b2beb-178">**自动建议阈值**：置信度在此阈值之上但在自动更正阈值之下的所有值都建议为替换值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-178">**Auto Suggestion threshold**:  Any value that has a confidence level above this threshold, but below the auto correction threshold, is suggested as a replacement value.</span></span> <span data-ttu-id="b2beb-179">DQS 仅在数据专员批准之后才进行更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-179">DQS will make the change only if the data steward approves it.</span></span> <span data-ttu-id="b2beb-180">可以在 **“配置”** 屏幕的 **“常规设置”** 选项卡中指定自动建议阈值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-180">You can specify the auto suggestion threshold value in the **General Settings** tab in the **Configuration** screen.</span></span> <span data-ttu-id="b2beb-181">有关详细信息，请参阅 [配置清理和匹配活动的阈值](../../2014/data-quality-services/configure-threshold-values-for-cleansing-and-matching.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-181">For more information, see [Configure Threshold Values for Cleansing and Matching](../../2014/data-quality-services/configure-threshold-values-for-cleansing-and-matching.md).</span></span>  
  
-   <span data-ttu-id="b2beb-182">**其他**：对于自动建议域值之下的所有值，DQS 都不进行任何更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-182">**Other**:  Any value below the auto suggestion threshold value is left unchanged by DQS.</span></span>  
  
 <span data-ttu-id="b2beb-183">根据置信度，值将显示在以下五个选项卡上：</span><span class="sxs-lookup"><span data-stu-id="b2beb-183">Based on the confidence level, the values are displayed under the following five tabs:</span></span>  
  
|<span data-ttu-id="b2beb-184">选项卡</span><span class="sxs-lookup"><span data-stu-id="b2beb-184">Tab</span></span>|<span data-ttu-id="b2beb-185">说明</span><span class="sxs-lookup"><span data-stu-id="b2beb-185">Description</span></span>|  
|---------|-----------------|  
|<span data-ttu-id="b2beb-186">**办法**</span><span class="sxs-lookup"><span data-stu-id="b2beb-186">**Suggested**</span></span>|<span data-ttu-id="b2beb-187">显示 DQS 找到其建议值的域值，这些值的置信度高于 \*\* “自动建议阈值”，但是低于 \*\* “自动更正阈值”。</span><span class="sxs-lookup"><span data-stu-id="b2beb-187">Displays the domain values for which DQS found the suggested values that have a confidence level higher than the *auto-suggestion threshold* value but lower than the *auto-correction threshold* value.</span></span><br /><br /> <span data-ttu-id="b2beb-188">建议值显示在 **“更正为”** 列中（与原始值相对照）。</span><span class="sxs-lookup"><span data-stu-id="b2beb-188">The suggested values are displayed in the **Correct To** column against the original value.</span></span> <span data-ttu-id="b2beb-189">您可以针对上部网格中的某个值单击 **“批准”** 或 **“拒绝”** 列中的单选按钮，以接受或拒绝对于该值所有实例的建议。</span><span class="sxs-lookup"><span data-stu-id="b2beb-189">You can click the radio button in the **Approve** or **Reject** column against a value in the upper grid to accept or reject the suggestion for all the instances of the value.</span></span> <span data-ttu-id="b2beb-190">在此情况下，接受的值移到 **“已更正”** 选项卡，被拒绝的值移到 **“无效”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="b2beb-190">In this case, the accepted value moves to the **Corrected** tab and the rejected value moves to the **Invalid** tab.</span></span>|  
|<span data-ttu-id="b2beb-191">**新建**</span><span class="sxs-lookup"><span data-stu-id="b2beb-191">**New**</span></span>|<span data-ttu-id="b2beb-192">显示 DQS 没有足够信息，因此不能映射到任何其他选项卡的有效域。此外，此选项卡还包含置信度小于*自动建议阈值*的值，但足以标记为有效。</span><span class="sxs-lookup"><span data-stu-id="b2beb-192">Displays the valid domain for which DQS does not have enough information, and therefore cannot be mapped to any other tab. Further, this tab also contains values that have confidence level less than the *auto-suggestion threshold* value, but high enough to be marked as valid.</span></span><br /><br /> <span data-ttu-id="b2beb-193">如果您认为值是正确的，请单击 **“批准”** 列中的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="b2beb-193">If you think the value is correct, click the radio button in the **Approve** column.</span></span> <span data-ttu-id="b2beb-194">否则，请单击 **“拒绝”** 列中的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="b2beb-194">Else, click the radio button in the **Reject** column.</span></span> <span data-ttu-id="b2beb-195">接受的值移到 "**正确**" 选项卡，被拒绝的值移到 "**无效**" 选项卡。您还可以手动键入正确的值，以替换 "**更正为**" 列中的原始值和值，然后单击 "**批准**" 列中的单选按钮以接受更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-195">The accepted value moves to the **Correct** tab and the rejected value moves to the **Invalid** tab. You can also manually type the correct value as a replacement for the original value in the **Correct To** column against the value, and then click the radio button in the **Approve** column to accept the change.</span></span> <span data-ttu-id="b2beb-196">在此情况下，值将移到 **“已更正”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="b2beb-196">In this case, the value moves to the **Corrected** tab.</span></span>|  
|<span data-ttu-id="b2beb-197">**无效**</span><span class="sxs-lookup"><span data-stu-id="b2beb-197">**Invalid**</span></span>|<span data-ttu-id="b2beb-198">显示在知识库的域中被标记为无效的域值或不符合域规则要求的值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-198">Displays the domain values that were marked as invalid in the domain in the knowledge base or values that failed a domain rule.</span></span> <span data-ttu-id="b2beb-199">此选项卡还包含任何其他四个选项卡中被用户拒绝的值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-199">This tab also contains values that were rejected by the user in any of the other four tabs.</span></span><br /><br /> <span data-ttu-id="b2beb-200">但是，如果您认为值是正确的，请单击 **“批准”** 列中的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="b2beb-200">However, if you think the value is correct, click the radio button in the **Approve** column.</span></span> <span data-ttu-id="b2beb-201">接受的值移到 "**正确**" 选项卡。您还可以手动键入正确的值，以替换 "**更正为**" 列中的原始值和值，然后单击 "**批准**" 列中的单选按钮以接受更改。</span><span class="sxs-lookup"><span data-stu-id="b2beb-201">The accepted value moves to the **Correct** tab. You can also manually type the correct value as a replacement for the original value in the **Correct To** column against the value, and then click the radio button in the **Approve** column to accept the change.</span></span> <span data-ttu-id="b2beb-202">在此情况下，值将移到 **“已更正”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="b2beb-202">In this case, the value moves to the **Corrected** tab.</span></span>|  
|<span data-ttu-id="b2beb-203">**“已更正”**</span><span class="sxs-lookup"><span data-stu-id="b2beb-203">**Corrected**</span></span>|<span data-ttu-id="b2beb-204">显示 DQS 在自动化清理过程中更正的域值，因为 DQS 发现了置信度高于自动更正阈值的针对该值的更正。</span><span class="sxs-lookup"><span data-stu-id="b2beb-204">Displays the domain values that are corrected by DQS during the automated cleansing process as DQS found a correction for the value with confidence level above the auto-correction threshold value.</span></span><br /><br /> <span data-ttu-id="b2beb-205">更正的值显示在 **“更正为”** 列中（与原始值相对照）。</span><span class="sxs-lookup"><span data-stu-id="b2beb-205">The corrected values are displayed in the **Correct To** column against the original value.</span></span> <span data-ttu-id="b2beb-206">默认情况下，对于该值选中 **“批准”** 列中的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="b2beb-206">By default, the radio button in the **Approve** column against the value is selected.</span></span> <span data-ttu-id="b2beb-207">如果需要，您可以拒绝建议的更正，操作步骤为：单击 **“拒绝”** 列中的单选按钮将其移到 **“无效”** 选项卡；或者在 **“更正为”** 列中手动键入正确的值，然后单击 **“批准”** 列中的单选按钮以接受更改，并将其移到 **“已更正”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="b2beb-207">If required, you can reject the proposed correction by clicking the radio button in the **Reject** column to move it to the **Invalid** tab, or manually type correct value in the **Correct To** column, and then click the radio button in the **Approve** column to accept the change, and move it to the **Corrected** tab.</span></span>|  
|<span data-ttu-id="b2beb-208">**恰当**</span><span class="sxs-lookup"><span data-stu-id="b2beb-208">**Correct**</span></span>|<span data-ttu-id="b2beb-209">显示已发现为正确的域值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-209">Displays the domain values that were found correct.</span></span> <span data-ttu-id="b2beb-210">例如，与域值匹配的值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-210">For example, the value matched a domain value.</span></span> <span data-ttu-id="b2beb-211">此选项卡还包含这样的值：用户通过单击 **“新建”** 和 **“无效”** 选项卡中 **“批准”** 列中的单选按钮批准的值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-211">This tab also contains values that were approved by the user by clicking the radio button in the **Approve** column in the **New** and **Invalid** tabs.</span></span><br /><br /> <span data-ttu-id="b2beb-212">默认情况下，对于每个值选中了 **“批准”** 列中的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="b2beb-212">By default, the radio button in the **Approve** column is selected against each value.</span></span> <span data-ttu-id="b2beb-213">但是，如果您认为此选项卡中的值不正确，可以针对该值单击 **“拒绝”** 列中的单选按钮将其移到 **“无效”** 选项卡，或者在 **“更正为”** 列中手动键入正确的值作为该值的替代值，然后单击 **“批准”** 列中的单选按钮以接受更改，并将其移到 **“已更正”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="b2beb-213">However, if you think that a value in this tab is incorrect, you can either click the radio button in the **Reject** column against the value to move it to the **Invalid** tab, or manually type the correct value as a replacement for the value in the **Correct To** column against the value, and then click the radio button in the **Approve** column to accept the change, and move it to the **Corrected** tab.</span></span>|  
  
 <span data-ttu-id="b2beb-214">以交互方式清理数据：</span><span class="sxs-lookup"><span data-stu-id="b2beb-214">To interactively cleanse the data:</span></span>  
  
1.  <span data-ttu-id="b2beb-215">在清理数据质量向导的 **“管理和查看结果”** 页上，单击左侧窗格中的某个域名。</span><span class="sxs-lookup"><span data-stu-id="b2beb-215">On the **Manage and view results** page of the cleansing data quality wizard, click on a domain name in the left pane.</span></span>  
  
2.  <span data-ttu-id="b2beb-216">查看五个选项卡下的域值，如前面所述采取适当的操作。</span><span class="sxs-lookup"><span data-stu-id="b2beb-216">Review the domain values under the five tabs, and take appropriate action as explained earlier.</span></span>  
  
    -   <span data-ttu-id="b2beb-217">右上窗格显示所选域中每个值的以下信息：原始值、实例（记录）数目、用于指定其他（正确）值的框、置信度（对于 **“正确”** 选项卡下的值不显示此项）、DQS 对值采取措施的原因以及批准和拒绝该值的更正和建议的选项。</span><span class="sxs-lookup"><span data-stu-id="b2beb-217">The right-upper pane displays the following information for each value in the selected domain: original value, number of instances (records), a box to specify another (correct) value, the confidence level (not available for the values under the **Correct** tab), the reason for the DQS action on the value, and the option to approve and reject the corrections and suggestions for the value.</span></span>  
  
        > [!TIP]  
        >  <span data-ttu-id="b2beb-218">您可以通过分别单击 **“批准所有字词”** 或 **“拒绝所有字词”** 图标，在右上窗格中批准或拒绝所选域中的所有值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-218">You can approve or reject all the values in the selected domain in the upper-right pane by clicking **Approve all terms** or **Reject all terms** icon respectively.</span></span> <span data-ttu-id="b2beb-219">此外，您还可以在所选域中右键单击某个值，然后在快捷菜单中单击 **“全部接受”** 或 **“全部拒绝”** 。</span><span class="sxs-lookup"><span data-stu-id="b2beb-219">Alternately, you can right-click a value in the selected domain, and click **Accept all** or **Reject all** in the shortcut menu.</span></span>  
  
    -   <span data-ttu-id="b2beb-220">下部窗格显示右上窗格中选择的域值在单独出现时的情形。</span><span class="sxs-lookup"><span data-stu-id="b2beb-220">The lower pane displays individual occurrences of the domain value selected in the right-upper pane.</span></span> <span data-ttu-id="b2beb-221">显示以下信息：用于指定其他（正确）值的框、置信度（对于 **“正确”** 选项卡下的值不显示此项）、DQS 对值采取措施的原因、批准和拒绝该值的更正和建议的选项以及原始值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-221">The following information is displayed: a box to specify another (correct) value, the confidence level (not available for the values under the **Correct** tab), the reason for the DQS action on the value, option to approve and reject the corrections and suggestions for the value, and the original value.</span></span>  
  
3.  <span data-ttu-id="b2beb-222">如果您创建某个域时为该域启用了 **“拼写检查器”** 功能，则会针对标识为潜在错误的此类域值显示红色波浪下划线。</span><span class="sxs-lookup"><span data-stu-id="b2beb-222">If you enabled the **Speller** feature for a domain while creating it, wavy red underscores are displayed against such domain values that are identified as potential error.</span></span> <span data-ttu-id="b2beb-223">将为整个值显示下划线。</span><span class="sxs-lookup"><span data-stu-id="b2beb-223">The underscore is displayed for the entire value.</span></span> <span data-ttu-id="b2beb-224">例如，如果“New York”错误地拼写为“Neu York”，则拼写检查器将在“Neu York”之下（而不仅仅是“Neu”）显示红色下划线。</span><span class="sxs-lookup"><span data-stu-id="b2beb-224">For example, if "New York" is incorrectly spelled as "Neu York", the speller will display red underscore under "Neu York", and not just "Neu".</span></span> <span data-ttu-id="b2beb-225">如果您右键单击该值，您将看到建议的更正。</span><span class="sxs-lookup"><span data-stu-id="b2beb-225">If you right-click the value, you will see suggested corrections.</span></span> <span data-ttu-id="b2beb-226">如果建议数目超过 5 个，则可以在上下文菜单中单击 **“更多建议”** ，以查看剩余建议。</span><span class="sxs-lookup"><span data-stu-id="b2beb-226">If there are more than 5 suggestions, you can click **More suggestions** in the context menu to view the rest of them.</span></span> <span data-ttu-id="b2beb-227">当显示错误时，建议值是针对整个值的替换值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-227">As with the error display, the suggestions are replacements for the whole value.</span></span> <span data-ttu-id="b2beb-228">例如，在上一个示例中，“New York”将显示为一个建议，而不仅仅显示“New”。</span><span class="sxs-lookup"><span data-stu-id="b2beb-228">For example, "New York" will be displayed as a suggestion in the previous example, and not just "New".</span></span> <span data-ttu-id="b2beb-229">您可以选择其中一项建议，或将值添加到要针对该值显示的字典中。</span><span class="sxs-lookup"><span data-stu-id="b2beb-229">You can pick one of the suggestions or add a value to the dictionary to be displayed for that value.</span></span> <span data-ttu-id="b2beb-230">值以用户帐户级别存储在字典中。</span><span class="sxs-lookup"><span data-stu-id="b2beb-230">Values are stored in dictionary at a user account level.</span></span> <span data-ttu-id="b2beb-231">当您从拼写检查器上下文菜单中选择一项建议时，所选建议将添加到 **“更正为”** 列中。</span><span class="sxs-lookup"><span data-stu-id="b2beb-231">When you select a suggestion from the speller context menu, the selected suggestion will be added to the **Correct To** column.</span></span> <span data-ttu-id="b2beb-232">但是，如果您在 **“更正为”** 列中选择一项建议，则列中的值将替换为所选建议。</span><span class="sxs-lookup"><span data-stu-id="b2beb-232">However, if you select a suggestion in the **Correct To** column, the value in the column is replaced by the selected suggestion.</span></span>  
  
     <span data-ttu-id="b2beb-233">默认情况下，交互式清理阶段中启用了拼写检查器功能。</span><span class="sxs-lookup"><span data-stu-id="b2beb-233">The speller feature is enabled by default in the interactive cleansing stage.</span></span> <span data-ttu-id="b2beb-234">您可以在交互式清理阶段中禁用拼写检查器，步骤为：单击 **“启用/禁用拼写检查器”** 图标，或者右键单击域值区域，然后在快捷菜单中单击 **“拼写检查器”** 。</span><span class="sxs-lookup"><span data-stu-id="b2beb-234">You can disable speller in the interactive cleansing stage by clicking the **Enable/Disable Speller** icon, or right-clicking in the domain values area, and then clicking **Speller** in the shortcut menu.</span></span> <span data-ttu-id="b2beb-235">若要再次启用它，请按相同方式操作。</span><span class="sxs-lookup"><span data-stu-id="b2beb-235">To enable it back again, do the same.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="b2beb-236">拼写检查器功能仅可用于上部窗格中（域值）。</span><span class="sxs-lookup"><span data-stu-id="b2beb-236">The speller feature is only available in the upper pane (domain values).</span></span> <span data-ttu-id="b2beb-237">此外，您不能对复合域启用或禁用拼写检查器。</span><span class="sxs-lookup"><span data-stu-id="b2beb-237">Moreover, you cannot enable or disable speller for composite domains.</span></span> <span data-ttu-id="b2beb-238">默认情况下，如果复合域中的子域属于字符串类型并且为其启用了拼写检查器功能，则在交互式清理阶段将启用拼写检查器功能。</span><span class="sxs-lookup"><span data-stu-id="b2beb-238">The child domains in a composite domain that are of string type, and are enabled for the speller feature, will have the speller functionality enabled in the interactive cleansing stage, by default.</span></span>  
  
4.  <span data-ttu-id="b2beb-239">在交互式清理阶段，您可以通过单击 **“事件探查器”** 选项卡切换事件探查器，以查看实时数据探查和通知。</span><span class="sxs-lookup"><span data-stu-id="b2beb-239">During the interactive cleansing stage, you can switch on the profiler by clicking the **Profiler** tab to view real-time data profiling and notifications.</span></span> <span data-ttu-id="b2beb-240">有关详细信息，请参阅 [事件探查器统计信息](#Profiler)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-240">For more information, see [Profiler Statistics](#Profiler).</span></span>  
  
5.  <span data-ttu-id="b2beb-241">您检查所有域值后，单击 **“下一步”** 进入导出阶段。</span><span class="sxs-lookup"><span data-stu-id="b2beb-241">After you have reviewed all the domain values, click **Next** to proceed to the export stage.</span></span>  
  
##  <a name="export-stage"></a><a name="Export"></a> <span data-ttu-id="b2beb-242">导出阶段</span><span class="sxs-lookup"><span data-stu-id="b2beb-242">Export Stage</span></span>  
 <span data-ttu-id="b2beb-243">在导出阶段中，您指定用于导出清理数据的参数：导出的内容和位置。</span><span class="sxs-lookup"><span data-stu-id="b2beb-243">In the export stage, you specify the parameters for exporting your cleansed data: what and where to export.</span></span>  
  
1.  <span data-ttu-id="b2beb-244">在清理数据质量向导的 **“导出”** 页上，选择用于导出已清理数据的目标类型： **SQL Server**、 **“CSV 文件”** 或 **“Excel 文件”**。</span><span class="sxs-lookup"><span data-stu-id="b2beb-244">On the **Export** page of the cleansing data quality wizard, select the destination type for exporting your cleansed data: **SQL Server**, **CSV File**, or **Excel File**.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="b2beb-245">如果您使用的是 64 位版本的 Excel，则无法将已清理的数据导出到 Excel 文件；只能导出到 SQL Server 数据库或 .csv 文件。</span><span class="sxs-lookup"><span data-stu-id="b2beb-245">If you are using 64-bit version of Excel, you cannot export your cleansed data to an Excel file; you can export only to a SQL Server database or to a .csv file.</span></span>  
  
    1.  <span data-ttu-id="b2beb-246">**SQL Server**：如果您希望在 **DQS_STAGING_DATA** 中导出数据，则选择它作为目标数据库，然后指定将创建来存储导出数据的表名。</span><span class="sxs-lookup"><span data-stu-id="b2beb-246">**SQL Server**: Select **DQS_STAGING_DATA** as the destination database if you want to export your data here, and then specify a table name that will be created to store your exported data.</span></span> <span data-ttu-id="b2beb-247">否则，如果您希望将数据导出到其他数据库，则选择另一个数据库，然后指定将创建来存储导出数据的表名。</span><span class="sxs-lookup"><span data-stu-id="b2beb-247">Otherwise, select another database if you want to export data to a different database, and then specify a table name that will be created to store your exported data.</span></span> <span data-ttu-id="b2beb-248">您的目标数据库必须与 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] “数据库” **下拉列表中提供的** 位于同一 SQL Server 实例中。</span><span class="sxs-lookup"><span data-stu-id="b2beb-248">Your destination database must be present in the same SQL Server instance as [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] to be available in the **Database** drop-down list.</span></span>  
  
    2.  <span data-ttu-id="b2beb-249">**CSV 文件**：单击 **“浏览”**，然后指定您要将清理数据导出到其中的 .csv 文件的名称和位置。</span><span class="sxs-lookup"><span data-stu-id="b2beb-249">**CSV File**: Click **Browse**, and specify the name and location of the .csv file where you want to export the cleansed data.</span></span> <span data-ttu-id="b2beb-250">您还可以键入 .csv 文件的文件名以及要导出清理数据的完整路径。</span><span class="sxs-lookup"><span data-stu-id="b2beb-250">You can also type the file name for the .csv file along with the full path where you want to export the cleansed data.</span></span> <span data-ttu-id="b2beb-251">例如“c:\ExportedData.csv”。</span><span class="sxs-lookup"><span data-stu-id="b2beb-251">For example, "c:\ExportedData.csv".</span></span> <span data-ttu-id="b2beb-252">该文件保存在安装了 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] 的计算机上。</span><span class="sxs-lookup"><span data-stu-id="b2beb-252">The file is saved on the computer where [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] is installed.</span></span>  
  
    3.  <span data-ttu-id="b2beb-253">**Excel 文件**：单击 **“浏览”**，然后指定您要将清理数据导出到其中的 Excel 文件的名称和位置。</span><span class="sxs-lookup"><span data-stu-id="b2beb-253">**Excel File**: Click **Browse**, and specify the name and location of the Excel file where you want to export the cleansed data.</span></span> <span data-ttu-id="b2beb-254">您还可以键入 Excel 文件的文件名以及要导出清理数据的完整路径。</span><span class="sxs-lookup"><span data-stu-id="b2beb-254">You can also type the file name for the Excel file along with the full path where you want to export the cleansed data.</span></span> <span data-ttu-id="b2beb-255">例如“c:\ExportedData.xlsx”。</span><span class="sxs-lookup"><span data-stu-id="b2beb-255">For example, "c:\ExportedData.xlsx".</span></span> <span data-ttu-id="b2beb-256">该文件保存在安装了 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] 的计算机上。</span><span class="sxs-lookup"><span data-stu-id="b2beb-256">The file is saved on the computer where [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] is installed.</span></span>  
  
2.  <span data-ttu-id="b2beb-257">选中 **“标准化输出”** 复选框，以便基于为域选择的输出格式对输出进行标准化。</span><span class="sxs-lookup"><span data-stu-id="b2beb-257">Select the **Standardize Output** check box to standardize the output based on the output format selected for the domain.</span></span> <span data-ttu-id="b2beb-258">例如，将字符串值更改为大写，或使单词的首字母变为大写。</span><span class="sxs-lookup"><span data-stu-id="b2beb-258">For example, change the string value to upper case or capitalize the first letter of the word.</span></span> <span data-ttu-id="b2beb-259">有关指定域的输出格式的信息，请参阅 **设置域属性** 中的 [“将输出格式设置为”](../../2014/data-quality-services/set-domain-properties.md)列表。</span><span class="sxs-lookup"><span data-stu-id="b2beb-259">For information about specifying the output format of a domain, see the **Format Output to** list in [Set Domain Properties](../../2014/data-quality-services/set-domain-properties.md).</span></span>  
  
3.  <span data-ttu-id="b2beb-260">接下来，选择数据输出：只是导出清理的数据，还是导出清理的数据以及清理信息。</span><span class="sxs-lookup"><span data-stu-id="b2beb-260">Next, select the data output: export just the cleansed data or export cleansed data along with the cleansing information.</span></span>  
  
    -   <span data-ttu-id="b2beb-261">**仅数据**：单击此单选按钮以便只导出清理的数据。</span><span class="sxs-lookup"><span data-stu-id="b2beb-261">**Data Only**: Click the radio button to export just the cleansed data.</span></span>  
  
    -   <span data-ttu-id="b2beb-262">**数据和清理信息**：单击此单选按钮以导出每个域的以下数据：</span><span class="sxs-lookup"><span data-stu-id="b2beb-262">**Data and Cleansing Info**: Click the radio button to export the following data for each domain:</span></span>  
  
        -   <span data-ttu-id="b2beb-263">\*\* \<Domain> _Source\*\*：域中的原始值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-263">**\<Domain>_Source**: The original value in the domain.</span></span>  
  
        -   <span data-ttu-id="b2beb-264">\*\* \<Domain> _Output\*\*：域中的清理值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-264">**\<Domain>_Output**: The cleansed values in the domain.</span></span>  
  
        -   <span data-ttu-id="b2beb-265">\*\* \<Domain> _Reason\*\*：为值的更正指定的原因。</span><span class="sxs-lookup"><span data-stu-id="b2beb-265">**\<Domain>_Reason**: The reason specified for the correction of the value.</span></span>  
  
        -   <span data-ttu-id="b2beb-266">\*\* \<Domain> _Confidence\*\*：已更正的所有字词的置信度。</span><span class="sxs-lookup"><span data-stu-id="b2beb-266">**\<Domain>_Confidence**: The confidence level for all the terms that were corrected.</span></span> <span data-ttu-id="b2beb-267">置信度显示为与相应的百分比值相等的十进制值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-267">It is displayed as the decimal value equivalent to the corresponding percentage value.</span></span> <span data-ttu-id="b2beb-268">例如，95% 的置信度将显示为 .9500000。</span><span class="sxs-lookup"><span data-stu-id="b2beb-268">For example, a confidence level of 95% will be displayed as .9500000.</span></span>  
  
        -   <span data-ttu-id="b2beb-269">\*\* \<Domain> _Status\*\*：数据清理后域值的状态。</span><span class="sxs-lookup"><span data-stu-id="b2beb-269">**\<Domain>_Status**: The status of the domain value after data cleansing.</span></span> <span data-ttu-id="b2beb-270">例如， **“建议”**、 **“新建”**、 **“无效”**、 **“已更正”** 或 **“正确”**。</span><span class="sxs-lookup"><span data-stu-id="b2beb-270">For example, **Suggested**, **New**, **Invalid**, **Corrected**, or **Correct**.</span></span>  
  
        -   <span data-ttu-id="b2beb-271">**记录状态**：除了让每个映射域的状态字段\*\* (\<DomainName> _Status**) ，"**记录状态\*\*" 字段也会显示记录的状态。</span><span class="sxs-lookup"><span data-stu-id="b2beb-271">**Record Status**: Apart from having a status field for each mapped domain **(\<DomainName>_Status**), the **Record Status** field displays the status for a record.</span></span> <span data-ttu-id="b2beb-272">如果记录中的任何域状态为 "*新建*" 或 "*正确*"，则 "**记录状态**" 设置为 "*正确*"。</span><span class="sxs-lookup"><span data-stu-id="b2beb-272">If any of the domain's status in the record is *New* or *Correct*, the **Record Status** is set to *Correct*.</span></span> <span data-ttu-id="b2beb-273">如果记录中的任何域状态为 "已*建议*"、"*无效*" 或 "已*更正*"，则 "**记录状态**" 将设置为相应的值。</span><span class="sxs-lookup"><span data-stu-id="b2beb-273">If any of the domain's status in the record is *Suggested*, *Invalid*, or *Corrected*, the **Record Status** is set to the respective value.</span></span> <span data-ttu-id="b2beb-274">例如，如果记录中的任何域*状态为 "建议"*，则 "**记录状态**" 设置为 "*建议*"。</span><span class="sxs-lookup"><span data-stu-id="b2beb-274">For example, if any of the domain's status in the record is *Suggested*, the **Record Status** is set to *Suggested*.</span></span>  
  
            > [!NOTE]  
            >  <span data-ttu-id="b2beb-275">如果您使用引用数据服务来进行清理操作，则还可以导出有关域值的其他数据。</span><span class="sxs-lookup"><span data-stu-id="b2beb-275">If you use reference data service for the cleansing operation, some additional data about the domain value is also available for exporting.</span></span> <span data-ttu-id="b2beb-276">有关详细信息，请参阅[使用引用数据（外部）知识清理数据](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-276">For more information, see [Cleanse Data Using Reference Data &#40;External&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md).</span></span>  
  
4.  <span data-ttu-id="b2beb-277">单击 **“导出”** 可将数据导出到选定的数据目标。</span><span class="sxs-lookup"><span data-stu-id="b2beb-277">Click **Export** to export data to the selected data destination.</span></span> <span data-ttu-id="b2beb-278">如果选定：</span><span class="sxs-lookup"><span data-stu-id="b2beb-278">If you selected:</span></span>  
  
    -   <span data-ttu-id="b2beb-279">**SQL Server** 作为数据目标，将在选定数据库中创建具有指定名称的新表。</span><span class="sxs-lookup"><span data-stu-id="b2beb-279">**SQL Server** as the data destination, a new table with the specified name will be created in the selected database.</span></span>  
  
    -   <span data-ttu-id="b2beb-280">**“CSV 文件”** 作为数据目标，将在 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] 计算机上创建具有您之前在 **“CSV 文件名”** 框中指定的文件名的 .csv 文件。</span><span class="sxs-lookup"><span data-stu-id="b2beb-280">**CSV File** as the data destination, a .csv file will be created at the location on the [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] computer with the file name that you specified earlier in the **CSV File** name box.</span></span>  
  
    -   <span data-ttu-id="b2beb-281">**“Excel 文件”** 作为数据目标，将在 [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] 计算机上创建具有您之前在 **“Excel 文件名”** 框中指定的文件名的 Excel 文件。</span><span class="sxs-lookup"><span data-stu-id="b2beb-281">**Excel File** as the data destination, an Excel file will be created at the location on the [!INCLUDE[ssDQSServer](../includes/ssdqsserver-md.md)] computer with the file name that you specified earlier in the **Excel file name** box.</span></span>  
  
5.  <span data-ttu-id="b2beb-282">单击 **“完成”** 以关闭数据质量项目。</span><span class="sxs-lookup"><span data-stu-id="b2beb-282">Click **Finish** to close the data quality project.</span></span>  
  
##  <a name="profiler-statistics"></a><a name="Profiler"></a> <span data-ttu-id="b2beb-283">Profiler Statistics</span><span class="sxs-lookup"><span data-stu-id="b2beb-283">Profiler Statistics</span></span>  
 <span data-ttu-id="b2beb-284">**“事件探查器”** 选项卡提供的统计信息指示源数据的质量。</span><span class="sxs-lookup"><span data-stu-id="b2beb-284">The **Profiler** tab provides statistics that indicate the quality of the source data.</span></span> <span data-ttu-id="b2beb-285">事件探查可帮助您评估数据清理活动的效用，并且您可能能够确定数据清理可在多大程度上提高数据的质量。</span><span class="sxs-lookup"><span data-stu-id="b2beb-285">Profiling helps you assess the effectiveness of the data cleansing activity, and you can potentially determine the extent to which data cleansing was able to improve the quality of the data.</span></span>  
  
 <span data-ttu-id="b2beb-286">**“事件探查器”** 选项卡按字段和域提供以下有关源数据的统计信息：</span><span class="sxs-lookup"><span data-stu-id="b2beb-286">The **Profiler** tab provides the following statistics for the source data, by field and domain:</span></span>  
  
-   <span data-ttu-id="b2beb-287">**记录**：对于数据清理活动分析了数据示例中的多少条记录</span><span class="sxs-lookup"><span data-stu-id="b2beb-287">**Records**: How many records in the data sample were analyzed for the data cleansing activity</span></span>  
  
-   <span data-ttu-id="b2beb-288">**正确的记录**：多少条记录被认为是正确的</span><span class="sxs-lookup"><span data-stu-id="b2beb-288">**Correct Records**: How many records were found to be correct</span></span>  
  
-   <span data-ttu-id="b2beb-289">**更正的记录**：更正了多少条记录</span><span class="sxs-lookup"><span data-stu-id="b2beb-289">**Corrected Records**: How many records were corrected</span></span>  
  
-   <span data-ttu-id="b2beb-290">**建议的记录**：建议了多少条记录</span><span class="sxs-lookup"><span data-stu-id="b2beb-290">**Suggested Records**: How many records were suggested</span></span>  
  
-   <span data-ttu-id="b2beb-291">**无效记录**：多少条记录无效</span><span class="sxs-lookup"><span data-stu-id="b2beb-291">**Invalid Records**: How many records were invalid</span></span>  
  
 <span data-ttu-id="b2beb-292">字段统计信息包括：</span><span class="sxs-lookup"><span data-stu-id="b2beb-292">The field statistics include the following:</span></span>  
  
-   <span data-ttu-id="b2beb-293">**字段**：源数据中字段的名称</span><span class="sxs-lookup"><span data-stu-id="b2beb-293">**Field**: Name of the field in the source data</span></span>  
  
-   <span data-ttu-id="b2beb-294">**域**：映射到字段的域的名称</span><span class="sxs-lookup"><span data-stu-id="b2beb-294">**Domain**: Name of the domain that maps to the field</span></span>  
  
-   <span data-ttu-id="b2beb-295">**更正的值**：已更正的域值的数目</span><span class="sxs-lookup"><span data-stu-id="b2beb-295">**Corrected Values**: The number of domain values that were corrected</span></span>  
  
-   <span data-ttu-id="b2beb-296">**建议值**：建议的域值数目</span><span class="sxs-lookup"><span data-stu-id="b2beb-296">**Suggested Values**: The number of domain values that were suggested</span></span>  
  
-   <span data-ttu-id="b2beb-297">**完整性**：针对每个清理活动映射的每个源字段的完整性</span><span class="sxs-lookup"><span data-stu-id="b2beb-297">**Completeness**: The completeness of each source field that is mapped for the cleansing activity</span></span>  
  
-   <span data-ttu-id="b2beb-298">**准确性**：针对每个清理活动映射的每个源字段的准确性</span><span class="sxs-lookup"><span data-stu-id="b2beb-298">**Accuracy**: The accuracy of each source field that is mapped for the cleansing activity</span></span>  
  
 <span data-ttu-id="b2beb-299">DQS 事件探查提供两种数据质量维度： \*\* “完整性”（提供数据的范围）和 \*\* “准确性”（数据可用于目标用途的程度）。</span><span class="sxs-lookup"><span data-stu-id="b2beb-299">DQS profiling provides two data quality dimensions: *completeness* (the extent to which data is present) and *accuracy* (the extent to which data can be used for its intended use).</span></span> <span data-ttu-id="b2beb-300">如果事件探查告知您字段的完整性相对较差，则您最好从数据质量项目的知识库中删除该字段。</span><span class="sxs-lookup"><span data-stu-id="b2beb-300">If profiling is telling you that a field is relatively incomplete, you might want to remove it from the knowledge base of a data quality project.</span></span> <span data-ttu-id="b2beb-301">事件探查不会提供有关复合域的可靠完整性统计信息。</span><span class="sxs-lookup"><span data-stu-id="b2beb-301">Profiling may not provide reliable completeness statistics for composite domains.</span></span> <span data-ttu-id="b2beb-302">如果您需要完整性统计信息，请使用单一域而非复合域。</span><span class="sxs-lookup"><span data-stu-id="b2beb-302">If you need completeness statistics, use single domains instead of composite domains.</span></span> <span data-ttu-id="b2beb-303">如果您要使用复合域，则最好使用用于进行事件探查的单一域创建一个知识库以确定完整性，并使用复合域创建另一个域来执行清理过程。</span><span class="sxs-lookup"><span data-stu-id="b2beb-303">If you want to use composite domains, you may want to create one knowledge base with single domains for profiling, to determine completeness, and create another domain with a composite domain for the cleansing process.</span></span> <span data-ttu-id="b2beb-304">例如，使用复合域时，事件探查可能对于地址记录显示 95% 的完整性，但对于其中一列（例如，邮政编码列）可能显示高得多的不完整性。</span><span class="sxs-lookup"><span data-stu-id="b2beb-304">For example, profiling could show 95% completeness for address records using a composite domain, but there could be a much higher level of incompleteness for one of the columns, for example, a postal (zip) code column.</span></span> <span data-ttu-id="b2beb-305">在此示例中，您可能要衡量单一域的邮政编码列的完整性。</span><span class="sxs-lookup"><span data-stu-id="b2beb-305">In this example, you might want to measure the completeness of the zip code column with a single domain.</span></span> <span data-ttu-id="b2beb-306">事件探查可能为复合域提供可靠的准确性统计信息，因为您可以同时为多个列衡量准确性。</span><span class="sxs-lookup"><span data-stu-id="b2beb-306">Profiling will likely provide reliable accuracy statistics for composite domains because you can measure accuracy for multiple columns together.</span></span> <span data-ttu-id="b2beb-307">此数据的值位于复合聚合中，因此，您最好使用复合域来衡量准确性。</span><span class="sxs-lookup"><span data-stu-id="b2beb-307">The value of this data is in the composite aggregation, so you may want to measure the accuracy with a composite domain.</span></span>  
  
 <span data-ttu-id="b2beb-308">如果您未使用引用数据服务，则准确性统计信息可能需要更多的解释。</span><span class="sxs-lookup"><span data-stu-id="b2beb-308">Accuracy statistics will likely require more interpretation if you are not using a reference data service.</span></span> <span data-ttu-id="b2beb-309">如果您使用引用数据服务来进行数据清理，则您在准确性统计信息方面将获得一定的信任级别。</span><span class="sxs-lookup"><span data-stu-id="b2beb-309">If you are using a reference data service for data cleansing, you will have a level of trust in accuracy statistics.</span></span> <span data-ttu-id="b2beb-310">有关使用引用数据服务清理数据的详细信息，请参阅[使用引用数据（外部）知识清理数据](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-310">For more information about data cleansing using reference data service, see [Cleanse Data Using Reference Data &#40;External&#41; Knowledge](../../2014/data-quality-services/cleanse-data-using-reference-data-external-knowledge.md).</span></span>  
  
### <a name="cleansing-notifications"></a><span data-ttu-id="b2beb-311">清理通知</span><span class="sxs-lookup"><span data-stu-id="b2beb-311">Cleansing Notifications</span></span>  
 <span data-ttu-id="b2beb-312">下列条件将导致通知：</span><span class="sxs-lookup"><span data-stu-id="b2beb-312">The following conditions result in notifications:</span></span>  
  
-   <span data-ttu-id="b2beb-313">字段没有更正或建议。</span><span class="sxs-lookup"><span data-stu-id="b2beb-313">There are no corrections or suggestions for a field.</span></span> <span data-ttu-id="b2beb-314">您可能希望从映射中将其删除，首先运行知识发现，或使用另一个知识库。</span><span class="sxs-lookup"><span data-stu-id="b2beb-314">You might want to remove it from mapping, run knowledge discovery first, or use another knowledge base.</span></span>  
  
-   <span data-ttu-id="b2beb-315">字段只有很少的更正或建议。</span><span class="sxs-lookup"><span data-stu-id="b2beb-315">There are relatively few corrections or suggestions for a field.</span></span> <span data-ttu-id="b2beb-316">您可能希望从映射中将其删除，首先运行知识发现，或使用另一个知识库。</span><span class="sxs-lookup"><span data-stu-id="b2beb-316">You might want to remove it from mapping, run knowledge discovery first, or use another knowledge base.</span></span>  
  
-   <span data-ttu-id="b2beb-317">字段的准确性级别很低。</span><span class="sxs-lookup"><span data-stu-id="b2beb-317">The accuracy level of the field is very low.</span></span> <span data-ttu-id="b2beb-318">您可能需要验证映射，或考虑先运行知识发现。</span><span class="sxs-lookup"><span data-stu-id="b2beb-318">You might want to verify the mapping, or consider running knowledge discovery first.</span></span>  
  
 <span data-ttu-id="b2beb-319">有关事件探查的详细信息，请参阅 [DQS 中的数据事件探查和通知](../../2014/data-quality-services/data-profiling-and-notifications-in-dqs.md)。</span><span class="sxs-lookup"><span data-stu-id="b2beb-319">For more information about profiling, see [Data Profiling and Notifications in DQS](../../2014/data-quality-services/data-profiling-and-notifications-in-dqs.md).</span></span>  
  
  
