---
title: 从命令提示符安装 Distributed Replay |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: ea1171da-f50e-4f16-bedc-5e468a46477f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: be7c950b886356c08050e37825d5215b62aeb8cd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87586019"
---
# <a name="install-distributed-replay-from-the-command-prompt"></a><span data-ttu-id="0b101-102">从命令提示符安装 Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="0b101-102">Install Distributed Replay from the Command Prompt</span></span>
  <span data-ttu-id="0b101-103">通过从命令提示符安装 Distributed Replay 的新实例，您可以指定要安装的功能以及如何配置这些功能。</span><span class="sxs-lookup"><span data-stu-id="0b101-103">Installing a new instance of Distributed Replay at the command prompt enables you to specify the features to install and how they should be configured.</span></span> <span data-ttu-id="0b101-104">在命令提示符下安装支持对 Distributed Replay 组件进行安装、修复、升级和卸载。</span><span class="sxs-lookup"><span data-stu-id="0b101-104">The command prompt installation supports installing, repairing, upgrading, and uninstalling of the Distributed Replay components.</span></span> <span data-ttu-id="0b101-105">通过命令提示符安装时， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 支持完全静默模式（通过使用 /Q 参数）。</span><span class="sxs-lookup"><span data-stu-id="0b101-105">When installing through the command prompt, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] supports full quiet mode by using the /Q parameter.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0b101-106">对于本地安装，必须以管理员身份运行安装程序。</span><span class="sxs-lookup"><span data-stu-id="0b101-106">For local installations, you must run Setup as an administrator.</span></span> <span data-ttu-id="0b101-107">如果从远程共享安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，则必须使用对远程共享具有读取和执行权限的域帐户。</span><span class="sxs-lookup"><span data-stu-id="0b101-107">If you install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from a remote share, you must use a domain account that has read and execute permissions on the remote share.</span></span>  
  
## <a name="installation-parameters"></a><span data-ttu-id="0b101-108">安装参数</span><span class="sxs-lookup"><span data-stu-id="0b101-108">Installation Parameters</span></span>  
 <span data-ttu-id="0b101-109">顶级功能列表包括 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]、 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]、 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]和工具。</span><span class="sxs-lookup"><span data-stu-id="0b101-109">The list of top-level features include [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], and Tools.</span></span> <span data-ttu-id="0b101-110">工具功能将安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 管理工具、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 联机丛书、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]和其他共享组件。</span><span class="sxs-lookup"><span data-stu-id="0b101-110">The Tools feature will install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Tools, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], and other shared components.</span></span> <span data-ttu-id="0b101-111">若要安装 Distributed Replay 组件，请指定以下参数：</span><span class="sxs-lookup"><span data-stu-id="0b101-111">To install the Distributed Replay components, specify the following parameters:</span></span>  
  
|<span data-ttu-id="0b101-112">组件</span><span class="sxs-lookup"><span data-stu-id="0b101-112">Component</span></span>|<span data-ttu-id="0b101-113">参数</span><span class="sxs-lookup"><span data-stu-id="0b101-113">Parameter</span></span>|  
|---------------|---------------|  
|<span data-ttu-id="0b101-114">“Distributed Replay 控制器”</span><span class="sxs-lookup"><span data-stu-id="0b101-114">Distributed Replay controller</span></span>|<span data-ttu-id="0b101-115">**DREPLAY_CTLR**</span><span class="sxs-lookup"><span data-stu-id="0b101-115">**DREPLAY_CTLR**</span></span>|  
|<span data-ttu-id="0b101-116">Distributed Replay 客户端</span><span class="sxs-lookup"><span data-stu-id="0b101-116">Distributed Replay client</span></span>|<span data-ttu-id="0b101-117">**DREPLAY_CLT**</span><span class="sxs-lookup"><span data-stu-id="0b101-117">**DREPLAY_CLT**</span></span>|  
|<span data-ttu-id="0b101-118">管理工具</span><span class="sxs-lookup"><span data-stu-id="0b101-118">Administration Tool</span></span>|<span data-ttu-id="0b101-119">**工具**</span><span class="sxs-lookup"><span data-stu-id="0b101-119">**Tools**</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0b101-120">安装 Distributed Replay 之后，您必须在控制器和客户端计算机上创建防火墙规则，并授予每台客户端计算机对目标服务器的权限。</span><span class="sxs-lookup"><span data-stu-id="0b101-120">After you install Distributed Replay you must create firewall rules on the controller and client computers, and grant each client computer permissions on the target server.</span></span> <span data-ttu-id="0b101-121">有关详细信息，请参阅 [完成安装后步骤](complete-the-post-installation-steps.md)。</span><span class="sxs-lookup"><span data-stu-id="0b101-121">For more information, see [Complete the Post-Installation Steps](complete-the-post-installation-steps.md).</span></span>  
  
 <span data-ttu-id="0b101-122">使用下表中的参数可开发用于安装的命令行脚本。</span><span class="sxs-lookup"><span data-stu-id="0b101-122">Use the parameters in the following table to develop command line scripts for installation.</span></span>  
  
|<span data-ttu-id="0b101-123">参数</span><span class="sxs-lookup"><span data-stu-id="0b101-123">Parameter</span></span>|<span data-ttu-id="0b101-124">说明</span><span class="sxs-lookup"><span data-stu-id="0b101-124">Description</span></span>|<span data-ttu-id="0b101-125">支持的值</span><span class="sxs-lookup"><span data-stu-id="0b101-125">Supported Values</span></span>|  
|---------------|-----------------|----------------------|  
|<span data-ttu-id="0b101-126">/CTLRSVCACCOUNT</span><span class="sxs-lookup"><span data-stu-id="0b101-126">/CTLRSVCACCOUNT</span></span><br /><br /> <span data-ttu-id="0b101-127">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-127">**Optional**</span></span>|<span data-ttu-id="0b101-128">Distributed Replay 控制器服务的服务帐户。</span><span class="sxs-lookup"><span data-stu-id="0b101-128">Service account for the Distributed Replay controller service.</span></span>|<span data-ttu-id="0b101-129">检查帐户和密码</span><span class="sxs-lookup"><span data-stu-id="0b101-129">Checks account and password</span></span>|  
|<span data-ttu-id="0b101-130">/CTLRSVCPASSWORD</span><span class="sxs-lookup"><span data-stu-id="0b101-130">/CTLRSVCPASSWORD</span></span><br /><br /> <span data-ttu-id="0b101-131">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-131">**Optional**</span></span>|<span data-ttu-id="0b101-132">Distributed Replay 控制器服务帐户的密码。</span><span class="sxs-lookup"><span data-stu-id="0b101-132">Password for the Distributed Replay controller service account.</span></span>|<span data-ttu-id="0b101-133">检查帐户和密码</span><span class="sxs-lookup"><span data-stu-id="0b101-133">Checks account and password</span></span>|  
|<span data-ttu-id="0b101-134">/CTLRSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="0b101-134">/CTLRSTARTUPTYPE</span></span><br /><br /> <span data-ttu-id="0b101-135">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-135">**Optional**</span></span>|<span data-ttu-id="0b101-136">Distributed Replay 控制器服务的启动类型。</span><span class="sxs-lookup"><span data-stu-id="0b101-136">Startup type for the Distributed Replay controller service.</span></span>|<span data-ttu-id="0b101-137">自动</span><span class="sxs-lookup"><span data-stu-id="0b101-137">Automatic</span></span><br /><br /> <span data-ttu-id="0b101-138">已禁用</span><span class="sxs-lookup"><span data-stu-id="0b101-138">Disabled</span></span><br /><br /> <span data-ttu-id="0b101-139">手动</span><span class="sxs-lookup"><span data-stu-id="0b101-139">Manual</span></span>|  
|<span data-ttu-id="0b101-140">/CTLRUSERS</span><span class="sxs-lookup"><span data-stu-id="0b101-140">/CTLRUSERS</span></span><br /><br /> <span data-ttu-id="0b101-141">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-141">**Optional**</span></span>|<span data-ttu-id="0b101-142">指定哪些用户对 Distributed Replay 控制器服务具有权限。</span><span class="sxs-lookup"><span data-stu-id="0b101-142">Specify which users have permissions for the Distributed Replay controller service.</span></span>|<span data-ttu-id="0b101-143">一组使用“ ”（空格）作为分隔符的用户帐户字符串</span><span class="sxs-lookup"><span data-stu-id="0b101-143">Set of user account strings using " " (space) for delimiter</span></span><br /><br /> <span data-ttu-id="0b101-144">**重要说明**：在配置 Distributed Replay 控制器服务时，可以指定一个或多个用于运行 Distributed Replay 客户端服务的用户帐户。</span><span class="sxs-lookup"><span data-stu-id="0b101-144">**Important**: When you configure the Distributed Replay controller service, you can specify one or more user accounts that will be used to run the Distributed Replay client services.</span></span> <span data-ttu-id="0b101-145">下面是支持的帐户的列表：</span><span class="sxs-lookup"><span data-stu-id="0b101-145">The following is the list of supported accounts:</span></span><br /><br /> <span data-ttu-id="0b101-146">域用户帐户</span><span class="sxs-lookup"><span data-stu-id="0b101-146">Domain user account</span></span><br /><br /> <span data-ttu-id="0b101-147">用户创建的本地用户帐户</span><span class="sxs-lookup"><span data-stu-id="0b101-147">User created local user account</span></span><br /><br /> <span data-ttu-id="0b101-148">管理员</span><span class="sxs-lookup"><span data-stu-id="0b101-148">Administrator</span></span><br /><br /> <span data-ttu-id="0b101-149">虚拟帐户和 MSA（托管服务帐户）</span><span class="sxs-lookup"><span data-stu-id="0b101-149">Virtual account and MSA (Managed Service Account)</span></span><br /><br /> <span data-ttu-id="0b101-150">Network Services、Local Services 和 System</span><span class="sxs-lookup"><span data-stu-id="0b101-150">Network Services, Local Services, and System</span></span><br /><br /> <br /><br /> <span data-ttu-id="0b101-151">不接受组帐户（本地或域）和其他内置帐户（如 Everyone）。</span><span class="sxs-lookup"><span data-stu-id="0b101-151">Group accounts (local or domain) and other built-in accounts (like Everyone) are not accepted.</span></span>|  
|<span data-ttu-id="0b101-152">/CLTSVCACCOUNT</span><span class="sxs-lookup"><span data-stu-id="0b101-152">/CLTSVCACCOUNT</span></span><br /><br /> <span data-ttu-id="0b101-153">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-153">**Optional**</span></span>|<span data-ttu-id="0b101-154">Distributed Replay 客户端服务的服务帐户。</span><span class="sxs-lookup"><span data-stu-id="0b101-154">Service account for the Distributed Replay client service.</span></span>|<span data-ttu-id="0b101-155">检查帐户和密码</span><span class="sxs-lookup"><span data-stu-id="0b101-155">Checks account and password</span></span>|  
|<span data-ttu-id="0b101-156">/CLTSVCPASSWORD</span><span class="sxs-lookup"><span data-stu-id="0b101-156">/CLTSVCPASSWORD</span></span><br /><br /> <span data-ttu-id="0b101-157">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-157">**Optional**</span></span>|<span data-ttu-id="0b101-158">Distributed Replay 客户端服务帐户的密码。</span><span class="sxs-lookup"><span data-stu-id="0b101-158">Password for the Distributed Replay client service account.</span></span>|<span data-ttu-id="0b101-159">检查帐户和密码</span><span class="sxs-lookup"><span data-stu-id="0b101-159">Checks account and password</span></span>|  
|<span data-ttu-id="0b101-160">/CLTSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="0b101-160">/CLTSTARTUPTYPE</span></span><br /><br /> <span data-ttu-id="0b101-161">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-161">**Optional**</span></span>|<span data-ttu-id="0b101-162">Distributed Replay 客户端服务的启动类型。</span><span class="sxs-lookup"><span data-stu-id="0b101-162">Startup type for the Distributed Replay client service.</span></span>|<span data-ttu-id="0b101-163">自动</span><span class="sxs-lookup"><span data-stu-id="0b101-163">Automatic</span></span><br /><br /> <span data-ttu-id="0b101-164">已禁用</span><span class="sxs-lookup"><span data-stu-id="0b101-164">Disabled</span></span><br /><br /> <span data-ttu-id="0b101-165">手动</span><span class="sxs-lookup"><span data-stu-id="0b101-165">Manual</span></span>|  
|<span data-ttu-id="0b101-166">/CLTCTLRNAME</span><span class="sxs-lookup"><span data-stu-id="0b101-166">/CLTCTLRNAME</span></span><br /><br /> <span data-ttu-id="0b101-167">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-167">**Optional**</span></span>|<span data-ttu-id="0b101-168">客户端就 Distributed Replay 控制器服务与之通信的计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="0b101-168">The computer name that the client communicates with for the Distributed Replay Controller service.</span></span>||  
|<span data-ttu-id="0b101-169">/CLTWORKINGDIR</span><span class="sxs-lookup"><span data-stu-id="0b101-169">/CLTWORKINGDIR</span></span><br /><br /> <span data-ttu-id="0b101-170">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-170">**Optional**</span></span>|<span data-ttu-id="0b101-171">Distributed Replay 客户端服务的工作目录。</span><span class="sxs-lookup"><span data-stu-id="0b101-171">The working directory for the Distributed Replay Client service.</span></span>|<span data-ttu-id="0b101-172">有效的路径</span><span class="sxs-lookup"><span data-stu-id="0b101-172">Valid path</span></span>|  
|<span data-ttu-id="0b101-173">/CLTRESULTDIR</span><span class="sxs-lookup"><span data-stu-id="0b101-173">/CLTRESULTDIR</span></span><br /><br /> <span data-ttu-id="0b101-174">**可选**</span><span class="sxs-lookup"><span data-stu-id="0b101-174">**Optional**</span></span>|<span data-ttu-id="0b101-175">Distributed Replay 客户端服务的结果目录。</span><span class="sxs-lookup"><span data-stu-id="0b101-175">The result directory for the Distributed Replay Client service.</span></span>|<span data-ttu-id="0b101-176">有效的路径</span><span class="sxs-lookup"><span data-stu-id="0b101-176">Valid path</span></span>|  
  
### <a name="sample-syntax"></a><span data-ttu-id="0b101-177">示例语法：</span><span class="sxs-lookup"><span data-stu-id="0b101-177">Sample Syntax:</span></span>  
 <span data-ttu-id="0b101-178">**安装 Distributed Replay 控制器组件**</span><span class="sxs-lookup"><span data-stu-id="0b101-178">**To install the Distributed Replay controller component**</span></span>  
  
```  
setup /q /ACTION=Install /FEATURES=DREPLAY_CTLR /IAcceptSQLServerLicenseTerms /CTLRUSERS="domain\user1" "domain\user2" /CTLRSVCACCOUNT="domain\svcuser" /CTLRSVCPASSWORD="password" /CTLRSTARTUPTYPE=Automatic  
```  
  
 <span data-ttu-id="0b101-179">**安装 Distributed Replay 客户端组件**</span><span class="sxs-lookup"><span data-stu-id="0b101-179">**To install the Distributed Replay client component**</span></span>  
  
```  
setup /q /ACTION=Install /FEATURES=DREPLAY_CLT /IAcceptSQLServerLicenseTerms /CLTSVCACCOUNT="domain\svcuser" /CLTSVCPASSWORD="password" /CLTSTARTUPTYPE=Automatic /CLTCTLRNAME=ControllerMachineName /CLTWORKINGDIR="C:\WorkingDir" /CLTRESULTDIR="C:\ResultDir  
```  
  
  
