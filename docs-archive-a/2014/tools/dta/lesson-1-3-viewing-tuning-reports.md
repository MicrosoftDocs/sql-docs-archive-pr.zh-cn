---
title: 查看优化报表 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- tuning reports [SQL Server]
ms.assetid: daee6143-269f-428b-8458-9a3e726d586c
author: stevestein
ms.author: sstein
ms.openlocfilehash: b873175068daaba5a269af63a8c8ce1f4e1347a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690964"
---
# <a name="viewing-tuning-reports"></a><span data-ttu-id="7fd92-102">查看优化报表</span><span class="sxs-lookup"><span data-stu-id="7fd92-102">Viewing Tuning Reports</span></span>
  <span data-ttu-id="7fd92-103">在本课程的上一个练习中，您已经查看了在数据库引擎优化顾问建议中创建或删除数据库对象的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 脚本，这些建议是 MySession 优化会话生成的结果。</span><span class="sxs-lookup"><span data-stu-id="7fd92-103">In the previous practice of this lesson, you viewed the [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts that create or drop database objects in the Database Engine Tuning Advisor recommendations that were generated as a result of the MySession tuning session.</span></span> <span data-ttu-id="7fd92-104">MySession 优化会话是在 [优化工作负荷](lesson-1-1-tuning-a-workload.md)中创建的。</span><span class="sxs-lookup"><span data-stu-id="7fd92-104">The MySession tuning session was created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
 <span data-ttu-id="7fd92-105">尽管查看可用于实现优化结果的脚本时非常有效，但数据库引擎优化顾问仍提供了许多可供查看的有用报告。</span><span class="sxs-lookup"><span data-stu-id="7fd92-105">Although it is very useful to view the scripts that can be used to implement the tuning results, Database Engine Tuning Advisor also provides many useful reports that you can view.</span></span> <span data-ttu-id="7fd92-106">这些报告提供了有关正在优化的数据库中现有物理设计结构的信息，以及有关建议的结构的信息。</span><span class="sxs-lookup"><span data-stu-id="7fd92-106">These reports provide information about the existing physical design structures in the database you are tuning, and about the recommended structures.</span></span> <span data-ttu-id="7fd92-107">通过单击“报告”\*\*\*\* 选项卡可以查看优化报告，如以下练习中所述。</span><span class="sxs-lookup"><span data-stu-id="7fd92-107">The tuning reports can be viewed by clicking the **Reports** tab as described in the following practice.</span></span> <span data-ttu-id="7fd92-108">本练习将使用你在 [优化工作负荷](lesson-1-1-tuning-a-workload.md) 和 [查看优化建议](lesson-1-2-viewing-tuning-recommendations.md)中创建的 MySession 和 EvaluateMySession 优化会话。</span><span class="sxs-lookup"><span data-stu-id="7fd92-108">This practice uses the MySession and the EvaluateMySession tuning sessions that you created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md) and in [Viewing Tuning Recommendations](lesson-1-2-viewing-tuning-recommendations.md).</span></span>  
  
### <a name="view-tuning-reports"></a><span data-ttu-id="7fd92-109">查看优化报告</span><span class="sxs-lookup"><span data-stu-id="7fd92-109">View tuning reports</span></span>  
  
1.  <span data-ttu-id="7fd92-110">启动数据库引擎优化顾问。</span><span class="sxs-lookup"><span data-stu-id="7fd92-110">Start Database Engine Tuning Advisor.</span></span> <span data-ttu-id="7fd92-111">请参阅 [启动数据库引擎优化顾问](../../relational-databases/performance/database-engine-tuning-advisor.md)。</span><span class="sxs-lookup"><span data-stu-id="7fd92-111">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span> <span data-ttu-id="7fd92-112">请确保连接到本课程上一个练习中使用的同一个 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="7fd92-112">Make sure that you connect to the same [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that you used in previous practices of this lesson.</span></span>  
  
     <span data-ttu-id="7fd92-113">在“会话监视器”\*\*\*\* 窗格中双击“MySession”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="7fd92-113">Double-click **MySession** in the **Session Monitor** pane.</span></span> <span data-ttu-id="7fd92-114">数据库引擎优化顾问将加载此会话的会话信息。</span><span class="sxs-lookup"><span data-stu-id="7fd92-114">Database Engine Tuning Advisor loads the session information from this session.</span></span>  
  
2.  <span data-ttu-id="7fd92-115">单击“报告”\*\*\*\* 选项卡。</span><span class="sxs-lookup"><span data-stu-id="7fd92-115">Click the **Reports** tab.</span></span>  
  
3.  <span data-ttu-id="7fd92-116">在“优化摘要”\*\*\*\* 窗格中，可以查看有关此优化会话的信息。</span><span class="sxs-lookup"><span data-stu-id="7fd92-116">In the **Tuning Summary** pane, you can view information about this tuning session.</span></span> <span data-ttu-id="7fd92-117">使用滚动条可以查看所有窗格内容。</span><span class="sxs-lookup"><span data-stu-id="7fd92-117">Use the scroll bar to view all of the pane contents.</span></span> <span data-ttu-id="7fd92-118">请注意查看“预期的提高百分比”\*\*\*\* 和“建议使用的空间”\*\*\*\* 信息。</span><span class="sxs-lookup"><span data-stu-id="7fd92-118">Note the **Expected percentage improvement** and the **Space used by recommendation**.</span></span> <span data-ttu-id="7fd92-119">设置优化选项时，可以限制建议使用的空间。</span><span class="sxs-lookup"><span data-stu-id="7fd92-119">It is possible to limit the space used by the recommendation when you set the tuning options.</span></span> <span data-ttu-id="7fd92-120">在“优化选项”\*\*\*\* 选项卡上，选择“高级选项”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="7fd92-120">On the **Tuning Options** tab, select **Advanced Options**.</span></span> <span data-ttu-id="7fd92-121">选中“定义建议所用的最大空间”\*\*\*\*，并以 MB 为单位指定建议配置可以使用的最大空间。</span><span class="sxs-lookup"><span data-stu-id="7fd92-121">Check **Define max. space for recommendtaions** and specify in megabytes the maximum space a recommendation configuration can use.</span></span> <span data-ttu-id="7fd92-122">使用帮助浏览器中的“后退”\*\*\*\* 按钮可返回到本教程。</span><span class="sxs-lookup"><span data-stu-id="7fd92-122">Use the **Back** button in your help browser to return to this tutorial.</span></span>  
  
4.  <span data-ttu-id="7fd92-123">在“优化报告”\*\*\*\* 窗格中，单击“选择报告”\*\*\*\* 列表中的“语句开销报告”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="7fd92-123">In the **Tuning Reports** pane, click **Statement cost report** in the **Select report** list.</span></span> <span data-ttu-id="7fd92-124">如果需要更多空间以查看报表，则将“会话监视器”\*\*\*\* 窗格边框拖动到左侧。</span><span class="sxs-lookup"><span data-stu-id="7fd92-124">If you need more space to view the report, drag the **Session Monitor** pane border to the left.</span></span> <span data-ttu-id="7fd92-125">对数据库中的表执行的每个 [!INCLUDE[tsql](../../includes/tsql-md.md)] 语句都会有相关的性能开销。</span><span class="sxs-lookup"><span data-stu-id="7fd92-125">Each [!INCLUDE[tsql](../../includes/tsql-md.md)] statement that executes against a table in your database has a performance cost associated with it.</span></span> <span data-ttu-id="7fd92-126">通过对表中经常访问的列创建有效的索引，可以降低此性能开销。</span><span class="sxs-lookup"><span data-stu-id="7fd92-126">This performance cost can be reduced by creating effective indexes on frequently accessed columns in a table.</span></span> <span data-ttu-id="7fd92-127">此报告显示了在工作负荷中执行语句的原有开销与实现优化建议后的开销相比，估计的提高百分比。</span><span class="sxs-lookup"><span data-stu-id="7fd92-127">This report shows the estimated percentage improvement between the original cost of executing a statement in the workload and the cost if the tuning recommendation is implemented.</span></span> <span data-ttu-id="7fd92-128">请注意，报告中包含的信息量取决于工作负荷的长度和复杂性。</span><span class="sxs-lookup"><span data-stu-id="7fd92-128">Note that the amount of information contained in the report is based on the length and complexity of the workload.</span></span>  
  
5.  <span data-ttu-id="7fd92-129">右键单击网格区域中的“语句开销报告”\*\*\*\* 窗格，再单击“导出到文件”\*\*\*\* 按钮。</span><span class="sxs-lookup"><span data-stu-id="7fd92-129">Right-click the **Statement cost report** pane in the grid area, and click **Export to File**.</span></span> <span data-ttu-id="7fd92-130">将报表另存为 `MyReport` 。</span><span class="sxs-lookup"><span data-stu-id="7fd92-130">Save the report as `MyReport`.</span></span> <span data-ttu-id="7fd92-131">文件名后会自动附加 .xml 扩展名。</span><span class="sxs-lookup"><span data-stu-id="7fd92-131">An .xml extension is automatically appended to the file name.</span></span> <span data-ttu-id="7fd92-132">可以在常用的 XML 编辑器或 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 中打开 MyReport.xml 以查看报告内容。</span><span class="sxs-lookup"><span data-stu-id="7fd92-132">You can open MyReport.xml in your favorite XML editor or in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to view the report contents.</span></span>  
  
6.  <span data-ttu-id="7fd92-133">返回数据库引擎优化顾问的“报告”\*\*\*\* 选项卡，并再次右键单击“语句开销报告”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="7fd92-133">Return to the **Reports** tab of Database Engine Tuning Advisor, and right-click the **Statement cost report** again.</span></span> <span data-ttu-id="7fd92-134">查看其他可用选项。</span><span class="sxs-lookup"><span data-stu-id="7fd92-134">Review the other options that are available.</span></span> <span data-ttu-id="7fd92-135">请注意，您可以更改当前查看的报告的字体。</span><span class="sxs-lookup"><span data-stu-id="7fd92-135">Note that you can change the font for the report you are viewing.</span></span> <span data-ttu-id="7fd92-136">更改此处的字体也会更改其他选项卡式页面上的字体。</span><span class="sxs-lookup"><span data-stu-id="7fd92-136">Changing the font here also changes it on the other tabbed pages.</span></span>  
  
7.  <span data-ttu-id="7fd92-137">单击“选择报告”\*\*\*\* 列表中的其他报告，了解相关内容。</span><span class="sxs-lookup"><span data-stu-id="7fd92-137">Click other reports in the **Select report** list to familiarize yourself with them.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="7fd92-138">摘要</span><span class="sxs-lookup"><span data-stu-id="7fd92-138">Summary</span></span>  
 <span data-ttu-id="7fd92-139">现在，你已经浏览了 MySession 优化会话的数据库引擎优化顾问 GUI 的“报告”\*\*\*\* 选项卡。</span><span class="sxs-lookup"><span data-stu-id="7fd92-139">You have now explored the **Reports** tab of the Database Engine Tuning Advisor GUI for the MySession tuning session.</span></span> <span data-ttu-id="7fd92-140">可以执行相同的步骤来浏览为 EvaluateMySession 优化会话生成的报告。</span><span class="sxs-lookup"><span data-stu-id="7fd92-140">You can use these same steps to explore the reports that were generated for the EvaluateMySession tuning session.</span></span> <span data-ttu-id="7fd92-141">双击“会话监视器”\*\*\*\* 窗格中的 **EvaluateMySession** 开始该会话。</span><span class="sxs-lookup"><span data-stu-id="7fd92-141">Double-click **EvaluateMySession** in the **Session Monitor** pane to begin.</span></span>  
  
## <a name="next-lesson"></a><span data-ttu-id="7fd92-142">下一课</span><span class="sxs-lookup"><span data-stu-id="7fd92-142">Next Lesson</span></span>  
 [<span data-ttu-id="7fd92-143">第 3 课：使用 dta 命令提示实用工具</span><span class="sxs-lookup"><span data-stu-id="7fd92-143">Lesson 3: Using the dta Command Prompt Utility</span></span>](lesson-3-using-the-dta-command-prompt-utility.md)  
  
  
