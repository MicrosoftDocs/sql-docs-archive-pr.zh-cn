---
title: 启动数据库引擎优化顾问 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- tuning databases [SQL Server]
- Database Engine Tuning Advisor [SQL Server], starting
ms.assetid: 4abc0e10-96fd-4e46-93d6-d7ee03eec844
author: stevestein
ms.author: sstein
ms.openlocfilehash: ad8a594873e581d116acd50a336652f27002112d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690968"
---
# <a name="launching-database-engine-tuning-advisor"></a><span data-ttu-id="b1ac2-102">启动数据库引擎优化顾问</span><span class="sxs-lookup"><span data-stu-id="b1ac2-102">Launching Database Engine Tuning Advisor</span></span>
  <span data-ttu-id="b1ac2-103">开始前，请先打开数据库引擎优化顾问图形用户界面 (GUI)。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-103">To begin, open the Database Engine Tuning Advisor graphical user interface (GUI).</span></span> <span data-ttu-id="b1ac2-104">第一次使用时，必须由 **sysadmin** 固定服务器角色的成员来启动数据库引擎优化顾问，以初始化应用程序。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-104">On first use, a member of the **sysadmin** fixed server role must launch Database Engine Tuning Advisor to initialize the application.</span></span> <span data-ttu-id="b1ac2-105">初始化后， **db_owner** 固定数据库角色的成员便可使用数据库引擎优化顾问来优化他们拥有的数据库。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-105">After initialization, members of the **db_owner** fixed database role can use Database Engine Tuning Advisor to tune databases that they own.</span></span> <span data-ttu-id="b1ac2-106">有关初始化数据库引擎优化顾问的详细信息，请参阅 [启动并使用数据库引擎优化顾问](../../relational-databases/performance/database-engine-tuning-advisor.md)。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-106">For more information about initializing Database Engine Tuning Advisor, see [Start and Use the Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
### <a name="open-the-database-engine-tuning-advisor-gui"></a><span data-ttu-id="b1ac2-107">打开数据库引擎优化顾问 GUI</span><span class="sxs-lookup"><span data-stu-id="b1ac2-107">Open the Database Engine Tuning Advisor GUI</span></span>  
  
1.  <span data-ttu-id="b1ac2-108">在 Windows“开始”菜单中，依次指向“所有程序”、[!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)] 和“性能工具”，然后单击“数据库引擎优化顾问”。\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-108">On the Windows **Start** menu, point to **All Programs**, point to [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)], point to **Performance Tools**, and then click **Database Engine Tuning Advisor**.</span></span>  
  
2.  <span data-ttu-id="b1ac2-109">在“连接到服务器”对话框中，确认默认设置，再单击“连接”。\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-109">In the **Connect to Server** dialog box, verify the default settings, and then click **Connect**.</span></span>  
  
 <span data-ttu-id="b1ac2-110">默认情况下，数据库引擎优化顾问将打开下图所示的配置：</span><span class="sxs-lookup"><span data-stu-id="b1ac2-110">By default, Database Engine Tuning Advisor opens to the configuration in the following illustration:</span></span>  
  
 <span data-ttu-id="b1ac2-111">![数据库引擎优化顾问默认窗口](media/defaultdtagui.gif "数据库引擎优化顾问默认窗口")</span><span class="sxs-lookup"><span data-stu-id="b1ac2-111">![Database Engine Tuning Advisor default window](media/defaultdtagui.gif "Database Engine Tuning Advisor default window")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b1ac2-112">"选项卡和**会话名称**" 框显示您的计算机以及您连接到的实例的名称。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-112">The tab and **Session Name** box display the name of your computer and the instance you are connected to.</span></span> <span data-ttu-id="b1ac2-113">选项卡和框将显示当前日期和时间。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-113">The tab and box also display the current date and time.</span></span>  
  
 <span data-ttu-id="b1ac2-114">第一次打开时，数据库引擎优化顾问 GUI 中将显示两个主窗格。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-114">Two main panes are displayed in the Database Engine Tuning Advisor GUI when it is first opened.</span></span>  
  
-   <span data-ttu-id="b1ac2-115">左窗格包含会话监视器，其中列出已对此实例执行的所有优化会话 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-115">The left pane contains the Session Monitor, which lists all tuning sessions that have been performed on this [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="b1ac2-116">打开数据库引擎优化顾问时，在窗格顶部将显示一个新会话。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-116">When you open Database Engine Tuning Advisor, it displays a new session at the top of the pane.</span></span> <span data-ttu-id="b1ac2-117">可在相邻窗格中对此会话命名。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-117">You can name this session in the adjacent pane.</span></span> <span data-ttu-id="b1ac2-118">最初，仅列出默认会话。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-118">Initially, only a default session is listed.</span></span> <span data-ttu-id="b1ac2-119">这是数据库引擎优化顾问为您自动创建的默认会话。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-119">This is the default session that Database Engine Tuning Advisor automatically creates for you.</span></span> <span data-ttu-id="b1ac2-120">对数据库进行优化后，您所连接的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的所有优化会话都将在新会话下面列出。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-120">After you have tuned databases, all tuning sessions for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to which you are connected are listed below the new session.</span></span> <span data-ttu-id="b1ac2-121">可右键单击优化会话以对其重命名、关闭、删除或克隆。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-121">You can right-click a tuning session to rename it, close it, delete it, or clone it.</span></span> <span data-ttu-id="b1ac2-122">如果在列表中单击右键，则可按照名称、状态或创建时间对会话排序，或创建新会话。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-122">If you right-click in the list you can sort the sessions by name, status, or creation time, or create a new session.</span></span> <span data-ttu-id="b1ac2-123">在此窗格的底部将显示选定优化会话的详细信息。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-123">In the bottom section of this pane, details of the selected tuning session are displayed.</span></span> <span data-ttu-id="b1ac2-124">可以选择使用“按类别显示”按钮，以显示按类别分组的详细信息；也可使用“按字母显示”按钮，在按字母排序的列表中显示详细信息。\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-124">You can choose to display the details organized into categories with the **Categorized** button, or you can display them in an alphabetized list by using the **Alphabetical** button.</span></span> <span data-ttu-id="b1ac2-125">也可以通过将右窗格边框拖动到窗口的左侧来隐藏会话监视器。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-125">You can also hide Session Monitor by dragging the right pane border to the left side of the window.</span></span> <span data-ttu-id="b1ac2-126">若要再次查看，请将窗格边框重新拖动回右侧。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-126">To view it again, drag the pane border back to the right.</span></span> <span data-ttu-id="b1ac2-127">利用会话监视器可以查看以前的优化会话，或使用这些会话来创建具有类似定义的新会话。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-127">Session Monitor enables you to view previous tuning sessions, or to use them to create new sessions with similar definitions.</span></span> <span data-ttu-id="b1ac2-128">还可以使用会话监视器来评估优化建议。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-128">You can also use Session Monitor to evaluate tuning recommendations.</span></span> <span data-ttu-id="b1ac2-129">有关详细信息，请参阅 [查看和使用数据库引擎优化顾问的输出](../../relational-databases/performance/view-and-work-with-the-output-from-the-database-engine-tuning-advisor.md)。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-129">For more information, see [View and Work with the Output from the Database Engine Tuning Advisor](../../relational-databases/performance/view-and-work-with-the-output-from-the-database-engine-tuning-advisor.md).</span></span> <span data-ttu-id="b1ac2-130">使用浏览器中的“后退”按钮可返回到本教程。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-130">Use the **Back** button on your browser to return to this tutorial.</span></span>  
  
-   <span data-ttu-id="b1ac2-131">右窗格包含“常规”和“优化选项”选项卡。\*\*\*\*\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-131">The right pane contains the **General** and the **Tuning Options** tabs.</span></span> <span data-ttu-id="b1ac2-132">在此可以定义数据库引擎优化会话。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-132">This is where you can define your Database Engine Tuning session.</span></span> <span data-ttu-id="b1ac2-133">在“常规”选项卡中，键入优化会话的名称，指定要使用的工作负荷文件或表，并选择要在该会话中优化的数据库和表。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-133">In the **General** tab, you type the name for your tuning session, specify the workload file or table to use, and select the databases and tables you want to tune in this session.</span></span> <span data-ttu-id="b1ac2-134">工作负荷是对要优化的一个或多个数据库执行的一组 [!INCLUDE[tsql](../../includes/tsql-md.md)] 语句。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-134">A workload is a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against a database or databases that you want to tune.</span></span> <span data-ttu-id="b1ac2-135">优化数据库时，数据库引擎优化顾问使用跟踪文件、跟踪表、 [!INCLUDE[tsql](../../includes/tsql-md.md)] 脚本或 XML 文件作为工作负荷输入。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-135">Database Engine Tuning Advisor uses trace files, trace tables, [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts, or XML files as workload input when tuning databases.</span></span> <span data-ttu-id="b1ac2-136">在“优化选项”选项卡上，可以选择希望数据库引擎优化顾问在分析过程中考虑的物理数据库设计结构（索引或索引视图）和分区策略。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="b1ac2-136">On the **Tuning Options** tab, you can select the physical database design structures (indexes or indexed views) and the partitioning strategy that you want Database Engine Tuning Advisor to consider during its analysis.</span></span> <span data-ttu-id="b1ac2-137">在此选项卡上，还可以指定数据库引擎优化顾问优化工作负荷使用的最大时间。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-137">On this tab you also can specify the maximum time that Database Engine Tuning Advisor takes to tune a workload.</span></span> <span data-ttu-id="b1ac2-138">默认情况下，数据库引擎优化顾问优化工作负荷的时间为一个小时。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-138">By default, Database Engine Tuning Advisor will tune a workload for one hour.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b1ac2-139">从 [!INCLUDE[tsql](../../includes/tsql-md.md)] 查询编辑器中导入 [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 脚本时，数据库引擎优化顾问可接受 XML 文件作为输入。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-139">Database Engine Tuning Advisor can take XML files as input when a [!INCLUDE[tsql](../../includes/tsql-md.md)] script is imported from [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Query Editor.</span></span> <span data-ttu-id="b1ac2-140">有关详细信息，请参阅 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 启动并使用数据库引擎优化顾问 [中的“从](../../relational-databases/performance/database-engine-tuning-advisor.md)查询编辑器中启动数据库引擎优化顾问”一节。</span><span class="sxs-lookup"><span data-stu-id="b1ac2-140">For more information, see the section on launching Database Engine Tuning Advisor from the [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Query Editor in [Start and Use the Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="b1ac2-141">课程中的下一个任务</span><span class="sxs-lookup"><span data-stu-id="b1ac2-141">Next Task in Lesson</span></span>  
 [<span data-ttu-id="b1ac2-142">设置工具选项和布局</span><span class="sxs-lookup"><span data-stu-id="b1ac2-142">Setting Tool Options and Layout</span></span>](lesson-1-2-setting-tool-options-and-layout.md)  
  
  
