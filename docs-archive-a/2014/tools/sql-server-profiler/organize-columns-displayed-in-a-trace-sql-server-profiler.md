---
title: 组织跟踪中显示的列 (SQL Server Profiler) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
helpviewer_keywords:
- organizing trace columns displayed [SQL Server]
- arranging trace columns displayed
- traces [SQL Server], data columns
ms.assetid: 6b923f94-0eb1-467e-82f6-ceed43f77017
author: stevestein
ms.author: sstein
ms.openlocfilehash: 0e129195418c655365659805679775d93b2293d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87682492"
---
# <a name="organize-columns-displayed-in-a-trace-sql-server-profiler"></a><span data-ttu-id="10de9-102">组织跟踪中显示的列 (SQL Server Profiler)</span><span class="sxs-lookup"><span data-stu-id="10de9-102">Organize Columns Displayed in a Trace (SQL Server Profiler)</span></span>
  <span data-ttu-id="10de9-103">通过在跟踪表或 **“跟踪文件属性”** 对话框中选择 **“组织列”** ，或者在定义跟踪时，都可以将跟踪中的数据列分组。</span><span class="sxs-lookup"><span data-stu-id="10de9-103">You can group data columns in a trace by selecting **Organize Columns** in the trace table or **Trace File Properties** dialog box, or when you define a trace.</span></span> <span data-ttu-id="10de9-104">将数据列分组可以更好地分析 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] 跟踪输出。</span><span class="sxs-lookup"><span data-stu-id="10de9-104">Grouping the data columns enables you to better analyze [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace output.</span></span> <span data-ttu-id="10de9-105">有关详细信息，请参阅 [使用 SQL Server Profiler 查看和分析跟踪](view-and-analyze-traces-with-sql-server-profiler.md)。</span><span class="sxs-lookup"><span data-stu-id="10de9-105">For more information, see [View and Analyze Traces with SQL Server Profiler](view-and-analyze-traces-with-sql-server-profiler.md).</span></span>  
  
 <span data-ttu-id="10de9-106">**“组织列”** 可用于将跟踪事件分组，或者按所选的数据列将跟踪事件分组和聚合。</span><span class="sxs-lookup"><span data-stu-id="10de9-106">**Organize Columns** enables you to either group the trace events, or to group and aggregate them by the data columns you select.</span></span>  
  
-   <span data-ttu-id="10de9-107">为分组选择多个数据列，可仅对跟踪事件进行分组。</span><span class="sxs-lookup"><span data-stu-id="10de9-107">Choose multiple data columns for grouping to only group trace events.</span></span> <span data-ttu-id="10de9-108">当为分组选择多个数据列时，跟踪窗口中所显示的事件将按您为分组选择的数据列中的值进行分组。</span><span class="sxs-lookup"><span data-stu-id="10de9-108">When you choose multiple data columns for grouping, the trace window displays events grouped by the values in the data columns you selected for grouping.</span></span> <span data-ttu-id="10de9-109">以下示例显示如果为分组选择 **Duration** 和 **StartTime** 数据列，将如何显示跟踪窗口网格。</span><span class="sxs-lookup"><span data-stu-id="10de9-109">The following example shows how the trace window grid would appear if you chose the **Duration** and **StartTime** data columns for grouping.</span></span> <span data-ttu-id="10de9-110">请注意，跟踪窗口网格将先按升序显示 **Duration** 列值，然后再显示 **StartTime** 值。</span><span class="sxs-lookup"><span data-stu-id="10de9-110">Note that the **Duration** column values are displayed in ascending order, then the **StartTime** values.</span></span>  
  
|<span data-ttu-id="10de9-111">Duration</span><span class="sxs-lookup"><span data-stu-id="10de9-111">Duration</span></span>|<span data-ttu-id="10de9-112">StartTime</span><span class="sxs-lookup"><span data-stu-id="10de9-112">StartTime</span></span>|<span data-ttu-id="10de9-113">EventClass</span><span class="sxs-lookup"><span data-stu-id="10de9-113">EventClass</span></span>|<span data-ttu-id="10de9-114">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="10de9-114">ClientProcessID</span></span>|  
|--------------|---------------|----------------|---------------------|  
||<span data-ttu-id="10de9-115">12/12/2006 3:16:43 PM</span><span class="sxs-lookup"><span data-stu-id="10de9-115">12/12/2006 3:16:43 PM</span></span>|<span data-ttu-id="10de9-116">SQL:StmtStarting</span><span class="sxs-lookup"><span data-stu-id="10de9-116">SQL:StmtStarting</span></span>|<span data-ttu-id="10de9-117">2124</span><span class="sxs-lookup"><span data-stu-id="10de9-117">2124</span></span>|  
|<span data-ttu-id="10de9-118">0</span><span class="sxs-lookup"><span data-stu-id="10de9-118">0</span></span>|<span data-ttu-id="10de9-119">12/12/2006 5:39:23 PM</span><span class="sxs-lookup"><span data-stu-id="10de9-119">12/12/2006 5:39:23 PM</span></span>|<span data-ttu-id="10de9-120">审核登录</span><span class="sxs-lookup"><span data-stu-id="10de9-120">Audit Login</span></span>|<span data-ttu-id="10de9-121">648</span><span class="sxs-lookup"><span data-stu-id="10de9-121">648</span></span>|  
|<span data-ttu-id="10de9-122">1</span><span class="sxs-lookup"><span data-stu-id="10de9-122">1</span></span>|<span data-ttu-id="10de9-123">12/12/2006 5:24:44 PM</span><span class="sxs-lookup"><span data-stu-id="10de9-123">12/12/2006 5:24:44 PM</span></span>|<span data-ttu-id="10de9-124">SQL:StmtStarting</span><span class="sxs-lookup"><span data-stu-id="10de9-124">SQL:StmtStarting</span></span>|<span data-ttu-id="10de9-125">2124</span><span class="sxs-lookup"><span data-stu-id="10de9-125">2124</span></span>|  
|<span data-ttu-id="10de9-126">25</span><span class="sxs-lookup"><span data-stu-id="10de9-126">25</span></span>|<span data-ttu-id="10de9-127">12/12/2006 5:24:44 PM</span><span class="sxs-lookup"><span data-stu-id="10de9-127">12/12/2006 5:24:44 PM</span></span>|<span data-ttu-id="10de9-128">SQL:StmtCompleted</span><span class="sxs-lookup"><span data-stu-id="10de9-128">SQL:StmtCompleted</span></span>|<span data-ttu-id="10de9-129">648</span><span class="sxs-lookup"><span data-stu-id="10de9-129">648</span></span>|  
  
-   <span data-ttu-id="10de9-130">仅为分组选择一列，可对跟踪事件进行分组和聚合。</span><span class="sxs-lookup"><span data-stu-id="10de9-130">Choose only one column for grouping to group and aggregate trace events.</span></span> <span data-ttu-id="10de9-131">当仅为分组选择一个数据列时，跟踪窗口中所显示的事件将按数据列中的值分组并折叠在该数据列下。</span><span class="sxs-lookup"><span data-stu-id="10de9-131">When you choose only one data column for grouping, the trace window displays events grouped by the values in that data column and collapses all events under it.</span></span> <span data-ttu-id="10de9-132">在为分组选择的数据列中的事件左侧会显示加号 ( **+** )，且事件右侧的括号中会显示折叠在数据列下的事件数。</span><span class="sxs-lookup"><span data-stu-id="10de9-132">A plus sign (**+**) appears to the left of the event in the data column you chose for grouping, and the number of events collapsed under it appears in parentheses to the right of the event.</span></span> <span data-ttu-id="10de9-133">以下示例显示如果仅为分组选择 **EventClass** 数据列，将如何显示跟踪窗口网格。</span><span class="sxs-lookup"><span data-stu-id="10de9-133">The following example shows how the trace window grid would appear if you chose only the **EventClass** data column for grouping.</span></span> <span data-ttu-id="10de9-134">请注意，所有事件都组织在 **EventClass** 数据列下。</span><span class="sxs-lookup"><span data-stu-id="10de9-134">Note that all events are organized under the **EventClass** data column.</span></span> <span data-ttu-id="10de9-135">若要查看所有事件，请单击加号来展开和显示该类型的所有事件类。</span><span class="sxs-lookup"><span data-stu-id="10de9-135">To view all events, click the plus sign to expand and display all event classes of that type.</span></span>  
  
|<span data-ttu-id="10de9-136">EventClass</span><span class="sxs-lookup"><span data-stu-id="10de9-136">EventClass</span></span>|<span data-ttu-id="10de9-137">StartTime</span><span class="sxs-lookup"><span data-stu-id="10de9-137">StartTime</span></span>|<span data-ttu-id="10de9-138">Duration</span><span class="sxs-lookup"><span data-stu-id="10de9-138">Duration</span></span>|<span data-ttu-id="10de9-139">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="10de9-139">ClientProcessID</span></span>|  
|----------------|---------------|--------------|---------------------|  
|<span data-ttu-id="10de9-140">+ ExistingConnection (6)</span><span class="sxs-lookup"><span data-stu-id="10de9-140">+ ExistingConnection (6)</span></span>||||  
|<span data-ttu-id="10de9-141">+ SQL:BatchStarting (25)</span><span class="sxs-lookup"><span data-stu-id="10de9-141">+ SQL:BatchStarting (25)</span></span>||||  
|<span data-ttu-id="10de9-142">+ SQL:StmtCompleted (11)</span><span class="sxs-lookup"><span data-stu-id="10de9-142">+ SQL:StmtCompleted (11)</span></span>||||  
|<span data-ttu-id="10de9-143">+ SQL:SmtStarting (21)</span><span class="sxs-lookup"><span data-stu-id="10de9-143">+ SQL:SmtStarting (21)</span></span>||||  
  
### <a name="to-group-data-columns-displayed-in-a-trace"></a><span data-ttu-id="10de9-144">将跟踪中显示的数据列分组</span><span class="sxs-lookup"><span data-stu-id="10de9-144">To group data columns displayed in a trace</span></span>  
  
1.  <span data-ttu-id="10de9-145">打开现有的跟踪文件或表。</span><span class="sxs-lookup"><span data-stu-id="10de9-145">Open an existing trace file or table.</span></span>  
  
2.  <span data-ttu-id="10de9-146">在 **“文件”** 菜单上，单击 **“属性”** 。</span><span class="sxs-lookup"><span data-stu-id="10de9-146">On the **File** menu, click **Properties**.</span></span>  
  
3.  <span data-ttu-id="10de9-147">在 **“跟踪文件属性”** 或 **“跟踪表属性”** 对话框中，单击 **“事件选择”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="10de9-147">In the **Trace File Properties** or **Trace Table Properties** dialog box, click the **Events Selection** tab.</span></span>  
  
4.  <span data-ttu-id="10de9-148">在 **“事件选择”** 选项卡上，单击 **“组织列”** 。</span><span class="sxs-lookup"><span data-stu-id="10de9-148">On the **Events Selection** tab, click **Organize Columns**.</span></span>  
  
5.  <span data-ttu-id="10de9-149">在 **“组织列”** 对话框中，选择要显示在组中的列，并单击 **“向上”** 将这些列移到 **“组”** 下。</span><span class="sxs-lookup"><span data-stu-id="10de9-149">In the **Organize Columns** dialog box, select the columns you want to display in a group, and click **Up** to move them under **Groups**.</span></span> <span data-ttu-id="10de9-150">在将所有要移动的列移到 **“组”** 下之后，就可以使用 **“向上”** 和 **“向下”** 按钮重新排列这些列的顺序。</span><span class="sxs-lookup"><span data-stu-id="10de9-150">After you have moved all the columns you want to move under **Groups**, you can use the **Up** and **Down** buttons to rearrange their order.</span></span>  
  
     <span data-ttu-id="10de9-151">将数据列的名称移到“组”  列表中，意味着首先按显示在“组”  列表顶部的数据列的值来组织跟踪，然后按“组”  列表中第二个数据列的值来组织跟踪，依此类推。</span><span class="sxs-lookup"><span data-stu-id="10de9-151">Moving the data column names into the **Groups** list means that the displayed trace is first organized by the values in the top-most data column appearing in the **Groups** list, then by the second data column in the **Groups** list, and so on.</span></span>  
  
6.  <span data-ttu-id="10de9-152">单击 **“组织列”** 对话框中的 **“确定”** ，再单击 **“跟踪表属性”** 或 **“跟踪文件属性”** 对话框中的 **“确定”** 。</span><span class="sxs-lookup"><span data-stu-id="10de9-152">Click **OK** in the **Organize Columns** dialog box, and then click **OK** in the **Trace Table Properties** or **Trace File Properties** dialog box.</span></span>  
  
     <span data-ttu-id="10de9-153">在单击 **“跟踪表属性”** 或 **“跟踪文件属性”** 对话框中的 **“确定”** 后，将在显示的跟踪中重新组织数据列。</span><span class="sxs-lookup"><span data-stu-id="10de9-153">After clicking **OK** in the **Trace Table Properties** or the **Trace File Properties** dialog box, the data columns are reorganized in the displayed trace.</span></span> <span data-ttu-id="10de9-154">在从左到右查看网格时，移到“组”  列表顶部的数据列将显示在跟踪中的第一个数据列的位置。</span><span class="sxs-lookup"><span data-stu-id="10de9-154">The data column that you moved to the top-most position in the **Groups** list is located first in the trace display when you are reading the grid from left to right.</span></span> <span data-ttu-id="10de9-155">跟踪中的行按 **“组”** 列表中数据列所包含的值的升序进行组织。</span><span class="sxs-lookup"><span data-stu-id="10de9-155">The rows in the trace are organized in ascending order by the values contained in the data columns that you included in the **Groups** list.</span></span> <span data-ttu-id="10de9-156">为分组选择的列在显示中保持固定，但可以左右滚动以查看其他列。</span><span class="sxs-lookup"><span data-stu-id="10de9-156">The columns chosen for grouping remain fixed in the display, but you can scroll right or left to view the other columns.</span></span>  
  
7.  <span data-ttu-id="10de9-157">若要对所显示的跟踪数据取消分组，请单击 **“视图”** 菜单上的 **“分组视图”** 来取消选择。</span><span class="sxs-lookup"><span data-stu-id="10de9-157">To ungroup the displayed trace data, click **Grouped View** on the **View** menu to cancel the selection.</span></span> <span data-ttu-id="10de9-158">若要恢复为分组视图，请再次单击 **“视图”** 菜单上的 **“分组视图”** 来重新选择。</span><span class="sxs-lookup"><span data-stu-id="10de9-158">If you want to revert to the grouped view, click **Grouped View** on the **View** menu again to reselect it.</span></span>  
  
### <a name="to-group-and-aggregate-data-columns-in-a-trace"></a><span data-ttu-id="10de9-159">分组和聚合跟踪中的数据列</span><span class="sxs-lookup"><span data-stu-id="10de9-159">To group and aggregate data columns in a trace</span></span>  
  
1.  <span data-ttu-id="10de9-160">打开现有的跟踪文件或表。</span><span class="sxs-lookup"><span data-stu-id="10de9-160">Open an existing trace file or table.</span></span>  
  
2.  <span data-ttu-id="10de9-161">在 **“文件”** 菜单上，单击 **“属性”** 。</span><span class="sxs-lookup"><span data-stu-id="10de9-161">On the **File** menu, click **Properties**.</span></span>  
  
3.  <span data-ttu-id="10de9-162">在 **“跟踪文件属性”** 或 **“跟踪表属性”** 对话框中，单击 **“事件选择”** 选项卡。</span><span class="sxs-lookup"><span data-stu-id="10de9-162">In the **Trace File Properties** or **Trace Table Properties** dialog box, click the **Events Selection** tab.</span></span>  
  
4.  <span data-ttu-id="10de9-163">在 **“事件选择”** 选项卡上，单击 **“组织列”** 。</span><span class="sxs-lookup"><span data-stu-id="10de9-163">On the **Events Selection** tab, click **Organize Columns**.</span></span>  
  
5.  <span data-ttu-id="10de9-164">在 **“组织列”** 对话框中，选择要用于对所显示的跟踪事件进行分组和聚合的一个列。</span><span class="sxs-lookup"><span data-stu-id="10de9-164">In the **Organize Columns** dialog box, select one column by which you want to group and aggregate the displayed trace events.</span></span> <span data-ttu-id="10de9-165">单击 **“向上”** 将该列的名称移到 **“组”** 下。</span><span class="sxs-lookup"><span data-stu-id="10de9-165">Click **Up** to move the column name under **Groups**.</span></span> <span data-ttu-id="10de9-166">如果需要，可以使用 **“向上”** 和 **“向下”** 按钮重新排列 **“列”** 下的其余列。</span><span class="sxs-lookup"><span data-stu-id="10de9-166">You can use the **Up** and **Down** buttons to rearrange the remaining columns under **Columns** if needed.</span></span>  
  
6.  <span data-ttu-id="10de9-167">单击 **“组织列”** 对话框中的 **“确定”** ，再单击 **“跟踪表属性”** 或 **“跟踪文件属性”** 对话框中的 **“确定”** 。</span><span class="sxs-lookup"><span data-stu-id="10de9-167">Click **OK** in the **Organize Columns** dialog box, and then click **OK** in the **Trace Table Properties** or **Trace File Properties** dialog box.</span></span>  
  
     <span data-ttu-id="10de9-168">在单击 **“跟踪表属性”** 或 **“跟踪文件属性”** 对话框中的 **“确定”** 后，将在显示的跟踪中重新组织数据列。</span><span class="sxs-lookup"><span data-stu-id="10de9-168">After clicking **OK** in the **Trace Table Properties** or the **Trace File Properties** dialog box, the data columns are reorganized in the displayed trace.</span></span> <span data-ttu-id="10de9-169">所有其他数据列事件都被聚合到已移到 **“组”** 列表中的数据列下。</span><span class="sxs-lookup"><span data-stu-id="10de9-169">All other data column events are aggregated under the data column that you moved into the **Groups** list.</span></span> <span data-ttu-id="10de9-170">单击为聚合选择的数据列中事件左侧的加号 ( **+** ) 将其展开，可以查看此类型的所有事件。</span><span class="sxs-lookup"><span data-stu-id="10de9-170">Click the plus sign (**+**) to the left of the event in the data column you chose for aggregation to expand it and view all events of that type.</span></span> <span data-ttu-id="10de9-171">为聚合选择的列在显示时保持固定，但可以左右滚动以查看其他列。</span><span class="sxs-lookup"><span data-stu-id="10de9-171">The column chosen for aggregation remains fixed in the display, but you can scroll right or left to view the other columns.</span></span>  
  
7.  <span data-ttu-id="10de9-172">若要使跟踪数据恢复为正常视图，请单击 **“视图”** 菜单上的 **“聚合视图”** 来取消选择。</span><span class="sxs-lookup"><span data-stu-id="10de9-172">To revert to a normal view of the trace data, click **Aggregated View** on the **View** menu, which cancels the selection.</span></span> <span data-ttu-id="10de9-173">如果要恢复为聚合视图，请再次单击 **“视图”** 菜单上的 **“聚合视图”** 来重新选择。</span><span class="sxs-lookup"><span data-stu-id="10de9-173">If you want to revert to the aggregated view, click **Aggregated View** on the **View** menu again to reselect it.</span></span> <span data-ttu-id="10de9-174">请注意，也可以单击 **“视图”** 菜单上的 **“分组视图”** 来显示分组的跟踪事件，而不折叠这些跟踪事件。</span><span class="sxs-lookup"><span data-stu-id="10de9-174">Note that you can also click **Grouped View** on the **View** menu to display the grouped trace events without collapsing them.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="10de9-175">另请参阅</span><span class="sxs-lookup"><span data-stu-id="10de9-175">See Also</span></span>  
 <span data-ttu-id="10de9-176">[创建跟踪 (SQL Server Profiler)](create-a-trace-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="10de9-176">[Create a Trace &#40;SQL Server Profiler&#41;](create-a-trace-sql-server-profiler.md) </span></span>  
 <span data-ttu-id="10de9-177">[打开跟踪表 (SQL Server Profiler)](open-a-trace-table-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="10de9-177">[Open a Trace Table &#40;SQL Server Profiler&#41;](open-a-trace-table-sql-server-profiler.md) </span></span>  
 [<span data-ttu-id="10de9-178">打开跟踪文件 (SQL Server Profiler)</span><span class="sxs-lookup"><span data-stu-id="10de9-178">Open a Trace File &#40;SQL Server Profiler&#41;</span></span>](open-a-trace-file-sql-server-profiler.md)  
  
  
