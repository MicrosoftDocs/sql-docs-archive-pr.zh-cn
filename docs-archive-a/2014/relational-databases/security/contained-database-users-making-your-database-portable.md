---
title: 包含的数据库用户 - 使数据库可移植 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- contained database, users
- user [SQL Server], about contained database users
ms.assetid: e57519bb-e7f4-459b-ba2f-fd42865ca91d
author: VanMSFT
ms.author: vanto
ms.openlocfilehash: 6aef800c41b0c1b44e285f959d1b9e12c58ea937
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87693704"
---
# <a name="contained-database-users---making-your-database-portable"></a><span data-ttu-id="d22ea-102">包含的数据库用户 - 使数据库可移植</span><span class="sxs-lookup"><span data-stu-id="d22ea-102">Contained Database Users - Making Your Database Portable</span></span>
  <span data-ttu-id="d22ea-103">使用包含的数据库用户在数据库级别对 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 和 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 连接进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="d22ea-103">Use contained database users to authenticate [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[ssSDS](../../includes/sssds-md.md)] connections at the database level.</span></span> <span data-ttu-id="d22ea-104">“包含的数据库”是独立于其他数据库以及承载数据库的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]/[!INCLUDE[ssSDS](../../includes/sssds-md.md)] 实例（和 master 数据库）的一种数据库。</span><span class="sxs-lookup"><span data-stu-id="d22ea-104">A contained database is a database that is isolated from other databases and from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]/[!INCLUDE[ssSDS](../../includes/sssds-md.md)] (and the master database) that hosts the database.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d22ea-105">支持包含的数据库用户进行 Windows 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 身份验证。</span><span class="sxs-lookup"><span data-stu-id="d22ea-105">supports contained database users for both Windows and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication.</span></span> <span data-ttu-id="d22ea-106">使用 [!INCLUDE[ssSDS](../../includes/sssds-md.md)]时，将包含的数据库用户与数据库级别防火墙规则相结合。</span><span class="sxs-lookup"><span data-stu-id="d22ea-106">When using [!INCLUDE[ssSDS](../../includes/sssds-md.md)], combine contained database users with database level firewall rules.</span></span> <span data-ttu-id="d22ea-107">本主题介绍与传统的登录名/用户模型和 Windows 或服务器级别防火墙规则相比，使用包含的数据库模型的差异和好处。</span><span class="sxs-lookup"><span data-stu-id="d22ea-107">This topic reviews the differences and benefits of using the contained database model compared to traditional login/user model and Windows or server-level firewall rules.</span></span> <span data-ttu-id="d22ea-108">在特定情况下，可管理性或应用程序业务逻辑可能仍然需要使用传统登录名/用户模型和服务器级别防火墙规则。</span><span class="sxs-lookup"><span data-stu-id="d22ea-108">Specific scenarios, manageability or application business logic may still require use of traditional login/user model and server-level firewall rules.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="d22ea-109">随着 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 发展 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 服务并转向更有保证的 SLA，你可能需要切换到包含的数据库用户模型和数据库范围防火墙规则，以针对给定数据库获得更高可用性的 SLA 和更高的最大登录率。</span><span class="sxs-lookup"><span data-stu-id="d22ea-109">As [!INCLUDE[msCoName](../../includes/msconame-md.md)] evolves the [!INCLUDE[ssSDS](../../includes/sssds-md.md)] service and moves towards higher guaranteed SLAs you may be required to switch to the contained database user model and database-scoped firewall rules to attain the higher availability SLA and higher max login rates for a given database.</span></span> [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="d22ea-110">建议立即考虑进行这类更改。</span><span class="sxs-lookup"><span data-stu-id="d22ea-110">encourage you to consider such changes today.</span></span>  
  
## <a name="traditional-login-and-user-model"></a><span data-ttu-id="d22ea-111">传统的登录名和用户模型</span><span class="sxs-lookup"><span data-stu-id="d22ea-111">Traditional Login and User Model</span></span>  
 <span data-ttu-id="d22ea-112">在传统的连接模型中，通过提供由 Windows 进行身份验证的用户或组凭据，Windows 用户或 Windows 组成员可连接到 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="d22ea-112">In the traditional connection model, Windows users or members of Windows groups connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] by providing user or group credentials authenticated by Windows.</span></span> <span data-ttu-id="d22ea-113">或者该连接会提供名称和密码并且使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 身份验证进行连接（这在连接到 [!INCLUDE[ssSDS](../../includes/sssds-md.md)]时是唯一选项）。</span><span class="sxs-lookup"><span data-stu-id="d22ea-113">Or the connection provides both a name and password and connects by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication (which is the only option when connecting to [!INCLUDE[ssSDS](../../includes/sssds-md.md)]).</span></span> <span data-ttu-id="d22ea-114">在这两种情况下，master 数据库必须拥有匹配连接凭据的登录名。</span><span class="sxs-lookup"><span data-stu-id="d22ea-114">In both cases, the master database must have a login that matches the connecting credentials.</span></span> <span data-ttu-id="d22ea-115">在 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 确认了 Windows 身份验证凭据或验证了 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 身份验证凭据之后，该连接通常会尝试连接到用户数据库。</span><span class="sxs-lookup"><span data-stu-id="d22ea-115">After the [!INCLUDE[ssDE](../../includes/ssde-md.md)] confirms the Windows authentication credentials or authenticates the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication credentials, the connection typically attempts to connect to a user database.</span></span> <span data-ttu-id="d22ea-116">若要连接到某个用户数据库，登录名必须能够映射到（即关联）用户数据库中的某个数据库用户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-116">To connect to a user database, the login must be able to be mapped to (that is, associated with) a database user in the user database.</span></span> <span data-ttu-id="d22ea-117">连接字符串还可以指定连接到特定数据库，该数据库在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中为可选但在 [!INCLUDE[ssSDS](../../includes/sssds-md.md)]中为必需。</span><span class="sxs-lookup"><span data-stu-id="d22ea-117">The connection string may also specify connecting to a specific database which is optional in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] but required in [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>  
  
 <span data-ttu-id="d22ea-118">重要原则是登录名（在 master 数据库中）和用户（在用户数据库中）必须存在，并且彼此相关。</span><span class="sxs-lookup"><span data-stu-id="d22ea-118">The important principal is that both the login (in the master database) and the user (in the user database) must exist and be related to each other.</span></span> <span data-ttu-id="d22ea-119">这意味着到用户数据库的连接依赖于 master 数据库中的登录名，并且这限制了将数据库移动到其他托管 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 或 [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)] 服务器的功能。</span><span class="sxs-lookup"><span data-stu-id="d22ea-119">This means that the connection to the user database has a dependency upon the login in the master database, and this limits the ability of the database to be moved to a different hosting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)] server.</span></span> <span data-ttu-id="d22ea-120">而且，如果由于任何原因，到 master 数据库的连接不可用 (例如，故障转移正在进行中) ，整个连接时间将会增加，或者连接可能超时。因此，这可能会降低连接可伸缩性。</span><span class="sxs-lookup"><span data-stu-id="d22ea-120">And if, for any reason, a connection to the master database is not available (for example, a failover is in progress), the overall connection time will be increased or connection might time out. Consequently this may reduce connection scalability.</span></span>  
  
## <a name="contained-database-user-model"></a><span data-ttu-id="d22ea-121">包含的数据库用户模型</span><span class="sxs-lookup"><span data-stu-id="d22ea-121">Contained Database User Model</span></span>  
 <span data-ttu-id="d22ea-122">在包含的数据库用户模型中，master 数据库中不存在登录名。</span><span class="sxs-lookup"><span data-stu-id="d22ea-122">In the contained database user model, the login in the master database is not present.</span></span> <span data-ttu-id="d22ea-123">相反，身份验证过程发生在用户数据库中，并且用户数据库中的数据库用户在 master 数据库中没有关联的登录名。</span><span class="sxs-lookup"><span data-stu-id="d22ea-123">Instead, the authentication process occurs at the user database, and the database user in the user database does not have an associated login in the master database.</span></span> <span data-ttu-id="d22ea-124">包含的数据库用户模型支持 Windows 身份验证（在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中）和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 身份验证（在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 和 [!INCLUDE[ssSDS](../../includes/sssds-md.md)]中）。</span><span class="sxs-lookup"><span data-stu-id="d22ea-124">The contained database user model supports both Windows authentication (in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]) and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication (in both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[ssSDS](../../includes/sssds-md.md)]).</span></span> <span data-ttu-id="d22ea-125">若要作为包含的数据库用户进行连接，连接字符串必须始终包含用户数据库的参数，以便 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 知道哪个数据库负责管理身份验证过程。</span><span class="sxs-lookup"><span data-stu-id="d22ea-125">To connect as a contained database user, the connection string must always contain a parameter for the user database so that the [!INCLUDE[ssDE](../../includes/ssde-md.md)] knows which database is responsible for managing the authentication process.</span></span> <span data-ttu-id="d22ea-126">包含的数据库用户的活动仅限于验证数据库，因此当作为包含的数据库用户进行连接时，必须在用户将需要的每个数据库中独立创建数据库用户帐户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-126">The activity of the contained database user is limited to the authenticating database, so when connecting as a contained database user, the database user account must be independently created in each database that the user will need.</span></span> <span data-ttu-id="d22ea-127">若要更改数据库， [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 用户必须创建一个新的连接。</span><span class="sxs-lookup"><span data-stu-id="d22ea-127">To change databases, [!INCLUDE[ssSDS](../../includes/sssds-md.md)] users must create a new connection.</span></span> <span data-ttu-id="d22ea-128">如果另一个数据库中存在相同的用户， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中的包含的数据库用户可以更改数据库。</span><span class="sxs-lookup"><span data-stu-id="d22ea-128">Contained database users in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can change databases if an identical user is present in another database.</span></span>  
  
 <span data-ttu-id="d22ea-129">对于 [!INCLUDE[ssSDS](../../includes/sssds-md.md)]，在从传统模型切换到包含的数据库用户模型时，无需更改连接字符串。</span><span class="sxs-lookup"><span data-stu-id="d22ea-129">For [!INCLUDE[ssSDS](../../includes/sssds-md.md)], no changes are required to the connection string when switching from the traditional model to the contained database user model.</span></span> <span data-ttu-id="d22ea-130">对于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 连接，如果数据库名称尚不存在，它将必须添加到连接字符串。</span><span class="sxs-lookup"><span data-stu-id="d22ea-130">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] connections, the name of the database must be added to the connection string, if it is not already present.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d22ea-131">在使用传统模型时，服务器级别角色和服务器级别权限可以限制对所有数据库的访问。</span><span class="sxs-lookup"><span data-stu-id="d22ea-131">When using the traditional model, the server level roles and server level permissions can limit access to all databases.</span></span> <span data-ttu-id="d22ea-132">在使用包含的数据库模型时，数据库所有者和具有 ALTER ANY USER 权限的数据库用户可以授予对数据库的访问权限。</span><span class="sxs-lookup"><span data-stu-id="d22ea-132">When using the contained database model, database owners and database users with the ALTER ANY USER permission can grant access to the database.</span></span> <span data-ttu-id="d22ea-133">这将减少高特权服务器登录名的访问控制，并且使访问控制扩大至将高特权数据库用户包含在内。</span><span class="sxs-lookup"><span data-stu-id="d22ea-133">This reduces the access control of high privileged server logins and expands the access control to include high privileged database users.</span></span>  
  
## <a name="firewalls"></a><span data-ttu-id="d22ea-134">防火墙</span><span class="sxs-lookup"><span data-stu-id="d22ea-134">Firewalls</span></span>  
  
### [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
 <span data-ttu-id="d22ea-135">Windows 防火墙规则适用于所有连接，并且对登录名（传统模型连接）和包含的数据库用户具有相同影响。</span><span class="sxs-lookup"><span data-stu-id="d22ea-135">Windows firewall rules apply to all connections and have the same effects on logins (traditional model connections) and contained database users.</span></span> <span data-ttu-id="d22ea-136">有关 Windows 防火墙的详细信息，请参阅 [为数据库引擎访问配置 Windows 防火墙](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md)。</span><span class="sxs-lookup"><span data-stu-id="d22ea-136">For more information about the Windows firewall, see [Configure a Windows Firewall for Database Engine Access](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md).</span></span>  
  
### <a name="sssds-firewalls"></a>[!INCLUDE[ssSDS](../../includes/sssds-md.md)] <span data-ttu-id="d22ea-137">防火墙</span><span class="sxs-lookup"><span data-stu-id="d22ea-137">Firewalls</span></span>  
 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] <span data-ttu-id="d22ea-138">允许适用于服务器级别连接（登录名）和适用于数据库级别连接（包含的数据库用户）的单独防火墙规则。</span><span class="sxs-lookup"><span data-stu-id="d22ea-138">allows separate firewall rules for server level connections (logins) and for database level connections (contained database users).</span></span> <span data-ttu-id="d22ea-139">连接到用户数据库时，会首先检查数据库防火墙规则。</span><span class="sxs-lookup"><span data-stu-id="d22ea-139">When connecting to a user database, first database firewall rules are checked.</span></span> <span data-ttu-id="d22ea-140">如果没有允许访问数据库的规则，则检查服务器级别防火墙规则，这将需要对逻辑服务器 master 数据库的访问权限。</span><span class="sxs-lookup"><span data-stu-id="d22ea-140">If there is no rule that allows access to the database, the server level firewall rules are checked, which requires access to the logical server master database.</span></span> <span data-ttu-id="d22ea-141">与包含的数据库用户相结合的数据库级别防火墙规则可以无需在连接过程中访问服务器的 master 数据库，从而提供改进的连接可伸缩性。</span><span class="sxs-lookup"><span data-stu-id="d22ea-141">Database level firewall rules combined with contained database users can eliminate necessity to access master database of the server during connection providing improved connection scalability.</span></span>  
  
 <span data-ttu-id="d22ea-142">有关 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 防火墙规则的详细信息，请参阅以下主题：</span><span class="sxs-lookup"><span data-stu-id="d22ea-142">For more information about [!INCLUDE[ssSDS](../../includes/sssds-md.md)] firewall rules, see the following topics:</span></span>  
  
-   [<span data-ttu-id="d22ea-143">Azure SQL Database 防火墙</span><span class="sxs-lookup"><span data-stu-id="d22ea-143">Azure SQL Database Firewall</span></span>](https://msdn.microsoft.com/library/azure/ee621782.aspx)  
  
-   [<span data-ttu-id="d22ea-144">如何：配置防火墙设置（Azure SQL 数据库）</span><span class="sxs-lookup"><span data-stu-id="d22ea-144">How to: Configure Firewall Settings (Azure SQL Database)</span></span>](https://msdn.microsoft.com/library/azure/jj553530.aspx)  
  
-   [<span data-ttu-id="d22ea-145">sp_set_firewall_rule（Azure SQL 数据库）</span><span class="sxs-lookup"><span data-stu-id="d22ea-145">sp_set_firewall_rule &#40;Azure SQL Database&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-set-firewall-rule-azure-sql-database)  
  
-   [<span data-ttu-id="d22ea-146">sp_set_database_firewall_rule（Azure SQL 数据库）</span><span class="sxs-lookup"><span data-stu-id="d22ea-146">sp_set_database_firewall_rule &#40;Azure SQL Database&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-set-database-firewall-rule-azure-sql-database)  
  
## <a name="syntax-differences"></a><span data-ttu-id="d22ea-147">语法差异</span><span class="sxs-lookup"><span data-stu-id="d22ea-147">Syntax Differences</span></span>  
  
|<span data-ttu-id="d22ea-148">传统模型</span><span class="sxs-lookup"><span data-stu-id="d22ea-148">Traditional model</span></span>|<span data-ttu-id="d22ea-149">包含的数据库用户模型</span><span class="sxs-lookup"><span data-stu-id="d22ea-149">Contained database user model</span></span>|  
|-----------------------|-----------------------------------|  
|<span data-ttu-id="d22ea-150">连接到 master 数据库时：</span><span class="sxs-lookup"><span data-stu-id="d22ea-150">When connected to the master database:</span></span><br /><br /> `CREATE LOGIN login_name  WITH PASSWORD = 'strong_password';`<br /><br /> <span data-ttu-id="d22ea-151">随后连接到用户数据库时：</span><span class="sxs-lookup"><span data-stu-id="d22ea-151">Then when connected to a user database:</span></span><br /><br /> `CREATE USER 'user_name' FOR LOGIN 'login_name';`|<span data-ttu-id="d22ea-152">连接到用户数据库时：</span><span class="sxs-lookup"><span data-stu-id="d22ea-152">When connected to a user database:</span></span><br /><br /> `CREATE USER user_name  WITH PASSWORD = 'strong_password';`|  
  
|<span data-ttu-id="d22ea-153">传统模型</span><span class="sxs-lookup"><span data-stu-id="d22ea-153">Traditional model</span></span>|<span data-ttu-id="d22ea-154">包含的数据库用户模型</span><span class="sxs-lookup"><span data-stu-id="d22ea-154">Contained database user model</span></span>|  
|-----------------------|-----------------------------------|  
|<span data-ttu-id="d22ea-155">要更改密码，在 master 数据库的上下文中：</span><span class="sxs-lookup"><span data-stu-id="d22ea-155">To change password, in context of master DB:</span></span><br /><br /> `ALTER LOGIN login_name  WITH PASSWORD = 'strong_password';`|<span data-ttu-id="d22ea-156">要更改密码，在用户数据库的上下文中：</span><span class="sxs-lookup"><span data-stu-id="d22ea-156">To change password, in context of user DB:</span></span><br /><br /> `ALTER USER user_name  WITH PASSWORD = 'strong_password';`|  
  
## <a name="remarks"></a><span data-ttu-id="d22ea-157">备注</span><span class="sxs-lookup"><span data-stu-id="d22ea-157">Remarks</span></span>  
  
-   <span data-ttu-id="d22ea-158">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中，必须为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的实例启用包含的数据库用户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-158">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], contained database users must be enabled for the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d22ea-159">有关详细信息，请参阅 [contained database authentication Server Configuration Option](../../database-engine/configure-windows/contained-database-authentication-server-configuration-option.md)。</span><span class="sxs-lookup"><span data-stu-id="d22ea-159">For more information, see [contained database authentication Server Configuration Option](../../database-engine/configure-windows/contained-database-authentication-server-configuration-option.md).</span></span>  
  
-   <span data-ttu-id="d22ea-160">具有非重叠名称的包含的数据库用户和登录名可以在应用程序中共存。</span><span class="sxs-lookup"><span data-stu-id="d22ea-160">Contained database users and logins with non-overlapping names can co-exist in your applications.</span></span>  
  
-   <span data-ttu-id="d22ea-161">如果 master 数据库中有一个名为 **name1** 的登录名，并且你创建一个名为 **name1**的包含的数据库用户，当在连接字符串中提供数据库名称时，将在连接到数据库的情况下提取登录上下文上的数据库用户上下文。</span><span class="sxs-lookup"><span data-stu-id="d22ea-161">If there is a login in master database with the name **name1** and you create a contained database user named **name1**, when a database name is provided in the connection string, the context of the database user will be picked over login context when connecting to the database.</span></span> <span data-ttu-id="d22ea-162">即，包含的数据库用户将优先使用具有相同名称的登录名。</span><span class="sxs-lookup"><span data-stu-id="d22ea-162">That is, contained database user will take precedence over logins with the same name.</span></span>  
  
-   <span data-ttu-id="d22ea-163">在 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 中，包含的数据库用户的名称不能与服务器管理员帐户的名称相同。</span><span class="sxs-lookup"><span data-stu-id="d22ea-163">In [!INCLUDE[ssSDS](../../includes/sssds-md.md)] the name of contained database user cannot be the same as the name of the server admin account.</span></span>  
  
-   <span data-ttu-id="d22ea-164">[!INCLUDE[ssSDS](../../includes/sssds-md.md)] 服务器管理员帐户绝不能是包含的数据库用户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-164">The [!INCLUDE[ssSDS](../../includes/sssds-md.md)] server admin account can never be a contained database user.</span></span> <span data-ttu-id="d22ea-165">服务器管理员具有足够的权限来创建和管理包含的数据库用户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-165">The server admin has sufficient permissions to create and manage contained database users.</span></span> <span data-ttu-id="d22ea-166">服务器管理员可以向包含的数据库用户授予针对用户数据库的权限。</span><span class="sxs-lookup"><span data-stu-id="d22ea-166">The server admin can grant permissions to contained database users on user databases.</span></span>  
  
-   <span data-ttu-id="d22ea-167">由于包含的数据库用户是数据库级别主体，因此需要在会使用它们的每个数据库中创建包含的数据库用户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-167">Since contained database users are database level principals, you need to create contained database users in every database that you would use them.</span></span> <span data-ttu-id="d22ea-168">标识仅限于数据库，在所有方面都独立于同一台服务器上其他数据库中具有相同名称和相同密码的用户。</span><span class="sxs-lookup"><span data-stu-id="d22ea-168">The identity is confined to the database and is independent in all aspects from a user with same name and same password in another database in the same server.</span></span>  
  
-   <span data-ttu-id="d22ea-169">使用你通常用于登录名的相同强度密码。</span><span class="sxs-lookup"><span data-stu-id="d22ea-169">Use the same strength passwords that you would normally use for logins.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d22ea-170">另请参阅</span><span class="sxs-lookup"><span data-stu-id="d22ea-170">See Also</span></span>  
 <span data-ttu-id="d22ea-171">[包含的数据库](../databases/contained-databases.md) </span><span class="sxs-lookup"><span data-stu-id="d22ea-171">[Contained Databases](../databases/contained-databases.md) </span></span>  
 <span data-ttu-id="d22ea-172">[针对包含数据库的安全性最佳方法](../databases/security-best-practices-with-contained-databases.md) </span><span class="sxs-lookup"><span data-stu-id="d22ea-172">[Security Best Practices with Contained Databases](../databases/security-best-practices-with-contained-databases.md) </span></span>  
 [<span data-ttu-id="d22ea-173">CREATE USER (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="d22ea-173">CREATE USER &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-user-transact-sql)  
  
  
