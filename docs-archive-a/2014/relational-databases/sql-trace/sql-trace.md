---
title: SQL 跟踪 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
ms.assetid: 83c6d1d9-19ce-43fe-be9a-45aaa31f20cb
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b68b8e159fbc1ca1bca0d30f79943110bcf3876e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690441"
---
# <a name="sql-trace"></a><span data-ttu-id="0d92b-102">SQL 跟踪</span><span class="sxs-lookup"><span data-stu-id="0d92b-102">SQL Trace</span></span>
  <span data-ttu-id="0d92b-103">在 SQL 跟踪中，如果事件是在跟踪定义中列出的事件类的实例，则收集这些事件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-103">In SQL Trace, events are gathered if they are instances of event classes listed in the trace definition.</span></span> <span data-ttu-id="0d92b-104">可以将这些事件从跟踪中筛选出来或为其目标进行排队。</span><span class="sxs-lookup"><span data-stu-id="0d92b-104">These events can be filtered out of the trace or queued for their destination.</span></span> <span data-ttu-id="0d92b-105">目标可以是文件或 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 管理对象 (SMO)，它可以使用管理 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]的应用程序中的跟踪信息。</span><span class="sxs-lookup"><span data-stu-id="0d92b-105">The destination can be a file or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Management Objects (SMO), which can use the trace information in applications that manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)] <span data-ttu-id="0d92b-106">请改用扩展事件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-106">Use Extended Events instead.</span></span>  
  
## <a name="benefits-of-sql-trace"></a><span data-ttu-id="0d92b-107">SQL 跟踪的优点</span><span class="sxs-lookup"><span data-stu-id="0d92b-107">Benefits of SQL Trace</span></span>  
 <span data-ttu-id="0d92b-108">Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 提供 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 系统存储过程来创建对 [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)]实例的跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-108">Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] provides [!INCLUDE[tsql](../../../includes/tsql-md.md)] system stored procedures to create traces on an instance of the [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="0d92b-109">可以不使用 [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)]，而使用这些系统存储过程从您自己的应用程序中手动创建跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-109">These system stored procedures can be used from within your own applications to create traces manually, instead of using [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="0d92b-110">这样，您就可以针对企业的特定需求编写自定义应用程序。</span><span class="sxs-lookup"><span data-stu-id="0d92b-110">This allows you to write custom applications specific to the needs of your enterprise.</span></span>  
  
## <a name="sql-trace-architecture"></a><span data-ttu-id="0d92b-111">SQL 跟踪结构</span><span class="sxs-lookup"><span data-stu-id="0d92b-111">SQL Trace Architecture</span></span>  
 <span data-ttu-id="0d92b-112">事件源可以是生成跟踪事件（例如 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 批处理）或 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 事件（例如死锁）的任何源。</span><span class="sxs-lookup"><span data-stu-id="0d92b-112">Event Sources can be any source that produces the trace event, such as [!INCLUDE[tsql](../../../includes/tsql-md.md)] batches or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] events, such as deadlocks.</span></span> <span data-ttu-id="0d92b-113">有关事件的详细信息，请参阅 [SQL Server Event Class Reference](../event-classes/sql-server-event-class-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="0d92b-113">For more information about events, see [SQL Server Event Class Reference](../event-classes/sql-server-event-class-reference.md).</span></span> <span data-ttu-id="0d92b-114">事件发生后，如果该事件类已经包含在跟踪定义中，则跟踪将收集该事件信息。</span><span class="sxs-lookup"><span data-stu-id="0d92b-114">After an event occurs, if the event class has been included in a trace definition, the event information is gathered by the trace.</span></span> <span data-ttu-id="0d92b-115">如果已经在跟踪定义中为该事件类定义筛选器，则将应用这些筛选器并将跟踪事件信息传递到队列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-115">If filters have been defined for the event class in the trace definition, the filters are applied and the trace event information is passed to a queue.</span></span> <span data-ttu-id="0d92b-116">从队列中，跟踪信息或者被写入文件，或者由应用程序（例如 [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)]）中的 SMO 使用。</span><span class="sxs-lookup"><span data-stu-id="0d92b-116">From the queue, the trace information is either written to a file or can be used by SMO in applications, such as [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="0d92b-117">以下关系图显示了在跟踪期间 SQL 跟踪如何收集事件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-117">The following diagram shows how SQL Trace gathers events during a tracing.</span></span>  
  
 <span data-ttu-id="0d92b-118">![数据库引擎事件跟踪进程](../../database-engine/media/tracarch.gif "数据库引擎事件跟踪进程")</span><span class="sxs-lookup"><span data-stu-id="0d92b-118">![Database Engine event tracing process](../../database-engine/media/tracarch.gif "Database Engine event tracing process")</span></span>  
  
## <a name="sql-trace-terminology"></a><span data-ttu-id="0d92b-119">SQL 跟踪的术语</span><span class="sxs-lookup"><span data-stu-id="0d92b-119">SQL Trace Terminology</span></span>  
 <span data-ttu-id="0d92b-120">下列词汇介绍了 SQL 跟踪的重要概念。</span><span class="sxs-lookup"><span data-stu-id="0d92b-120">The following terms describe the key concepts of SQL Trace.</span></span>  
  
 <span data-ttu-id="0d92b-121">**事件**</span><span class="sxs-lookup"><span data-stu-id="0d92b-121">**Event**</span></span>  
 <span data-ttu-id="0d92b-122">某个操作在的实例中的匹配项 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="0d92b-122">The occurrence of an action within an instance of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span>  
  
 <span data-ttu-id="0d92b-123">**数据列**</span><span class="sxs-lookup"><span data-stu-id="0d92b-123">**Data column**</span></span>  
 <span data-ttu-id="0d92b-124">事件的属性。</span><span class="sxs-lookup"><span data-stu-id="0d92b-124">An attribute of an event.</span></span>  
  
 <span data-ttu-id="0d92b-125">**事件类**</span><span class="sxs-lookup"><span data-stu-id="0d92b-125">**Event class**</span></span>  
 <span data-ttu-id="0d92b-126">可以被跟踪的事件类型。</span><span class="sxs-lookup"><span data-stu-id="0d92b-126">A type of event that can be traced.</span></span> <span data-ttu-id="0d92b-127">该事件类包含可以由事件报告的所有数据列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-127">The event class contains all of the data columns that can be reported by an event.</span></span>  
  
 <span data-ttu-id="0d92b-128">**事件类别**</span><span class="sxs-lookup"><span data-stu-id="0d92b-128">**Event category**</span></span>  
 <span data-ttu-id="0d92b-129">一组相关的事件类。</span><span class="sxs-lookup"><span data-stu-id="0d92b-129">A group of related event classes.</span></span>  
  
 <span data-ttu-id="0d92b-130">**跟踪** （名词）</span><span class="sxs-lookup"><span data-stu-id="0d92b-130">**Trace** (noun)</span></span>  
 <span data-ttu-id="0d92b-131">[!INCLUDE[ssDE](../../includes/ssde-md.md)]返回的事件和数据的集合。</span><span class="sxs-lookup"><span data-stu-id="0d92b-131">A collection of events and data returned by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="0d92b-132">**跟踪** （动词）</span><span class="sxs-lookup"><span data-stu-id="0d92b-132">**Trace** (verb)</span></span>  
 <span data-ttu-id="0d92b-133">收集并监视 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]实例中的事件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-133">To collect and monitor events in an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="0d92b-134">**跟踪定义**</span><span class="sxs-lookup"><span data-stu-id="0d92b-134">**Tracedefinition**</span></span>  
 <span data-ttu-id="0d92b-135">事件类、数据列和筛选器的集合，用于标识跟踪过程中收集的事件的类型。</span><span class="sxs-lookup"><span data-stu-id="0d92b-135">A collection of event classes, data columns and filters that identify the types of events to be collected during a trace.</span></span>  
  
 <span data-ttu-id="0d92b-136">**Filter**</span><span class="sxs-lookup"><span data-stu-id="0d92b-136">**Filter**</span></span>  
 <span data-ttu-id="0d92b-137">限制跟踪中收集的事件的条件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-137">Criteria that limit the events that are collected in a trace.</span></span>  
  
 <span data-ttu-id="0d92b-138">**跟踪文件**</span><span class="sxs-lookup"><span data-stu-id="0d92b-138">**Trace file**</span></span>  
 <span data-ttu-id="0d92b-139">保存跟踪时创建的文件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-139">A file created when a trace is saved.</span></span>  
  
 <span data-ttu-id="0d92b-140">**模板**</span><span class="sxs-lookup"><span data-stu-id="0d92b-140">**Template**</span></span>  
 <span data-ttu-id="0d92b-141">在 [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)]中，用来定义要在跟踪中收集的事件类和数据列的文件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-141">In [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)], a file that defines the event classes and data columns to be collected in a trace.</span></span>  
  
 <span data-ttu-id="0d92b-142">**跟踪表**</span><span class="sxs-lookup"><span data-stu-id="0d92b-142">**Trace table**</span></span>  
 <span data-ttu-id="0d92b-143">在 [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)]中，将跟踪保存到表时创建的表。</span><span class="sxs-lookup"><span data-stu-id="0d92b-143">In [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)], a table that is created when a trace is saved to a table.</span></span>  
  
## <a name="use-data-columns-to-describe-returned-events"></a><span data-ttu-id="0d92b-144">使用数据列描述返回的事件</span><span class="sxs-lookup"><span data-stu-id="0d92b-144">Use Data Columns to Describe Returned Events</span></span>  
 <span data-ttu-id="0d92b-145">跟踪运行时，SQL 跟踪使用跟踪输出中的数据列来描述返回的事件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-145">SQL Trace uses data columns in the trace output to describe events that are returned when the trace runs.</span></span> <span data-ttu-id="0d92b-146">下表说明了 [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] 数据列（这些数据列与 SQL 跟踪使用的数据列相同），并指示默认情况下选择的列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-146">The following table describes the [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] data columns, which are the same data columns as those used by SQL Trace, and indicates the columns that are selected by default.</span></span>  
  
|<span data-ttu-id="0d92b-147">数据列</span><span class="sxs-lookup"><span data-stu-id="0d92b-147">Data column</span></span>|<span data-ttu-id="0d92b-148">列号</span><span class="sxs-lookup"><span data-stu-id="0d92b-148">Column number</span></span>|<span data-ttu-id="0d92b-149">说明</span><span class="sxs-lookup"><span data-stu-id="0d92b-149">Description</span></span>|  
|-----------------|-------------------|-----------------|  
|<span data-ttu-id="0d92b-150">**ApplicationName** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-150">**ApplicationName** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-151">10</span><span class="sxs-lookup"><span data-stu-id="0d92b-151">10</span></span>|<span data-ttu-id="0d92b-152">客户端应用程序的名称，该客户端应用程序创建了指向 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]实例的连接。</span><span class="sxs-lookup"><span data-stu-id="0d92b-152">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="0d92b-153">此列由该应用程序传递的值填充，而不是由程序名填充的。</span><span class="sxs-lookup"><span data-stu-id="0d92b-153">This column is populated with the values passed by the application and not the name of the program.</span></span>|  
|<span data-ttu-id="0d92b-154">**BigintData1**</span><span class="sxs-lookup"><span data-stu-id="0d92b-154">**BigintData1**</span></span>|<span data-ttu-id="0d92b-155">52</span><span class="sxs-lookup"><span data-stu-id="0d92b-155">52</span></span>|<span data-ttu-id="0d92b-156">值 (`bigint` 数据类型)，取决于跟踪中指定的事件类。</span><span class="sxs-lookup"><span data-stu-id="0d92b-156">Value (`bigint` data type), which depends on the event class specified in the trace.</span></span>|  
|<span data-ttu-id="0d92b-157">**BigintData2**</span><span class="sxs-lookup"><span data-stu-id="0d92b-157">**BigintData2**</span></span>|<span data-ttu-id="0d92b-158">53</span><span class="sxs-lookup"><span data-stu-id="0d92b-158">53</span></span>|<span data-ttu-id="0d92b-159">值 (`bigint` 数据类型)，取决于跟踪中指定的事件类。</span><span class="sxs-lookup"><span data-stu-id="0d92b-159">Value (`bigint` data type), which depends on the event class specified in the trace.</span></span>|  
|<span data-ttu-id="0d92b-160">**Binary Data**</span><span class="sxs-lookup"><span data-stu-id="0d92b-160">**Binary Data**</span></span>|<span data-ttu-id="0d92b-161">2</span><span class="sxs-lookup"><span data-stu-id="0d92b-161">2</span></span>|<span data-ttu-id="0d92b-162">依赖于跟踪中捕获的事件类的二进制值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-162">The binary value dependent on the event class that is captured in the trace.</span></span>|  
|<span data-ttu-id="0d92b-163">**ClientProcessID** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-163">**ClientProcessID** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-164">9</span><span class="sxs-lookup"><span data-stu-id="0d92b-164">9</span></span>|<span data-ttu-id="0d92b-165">由主机分配给正在运行客户端应用程序的进程的 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-165">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="0d92b-166">如果客户端提供了客户端进程 ID，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-166">This data column is populated if the client process ID is provided by the client.</span></span>|  
|<span data-ttu-id="0d92b-167">**ColumnPermissions**</span><span class="sxs-lookup"><span data-stu-id="0d92b-167">**ColumnPermissions**</span></span>|<span data-ttu-id="0d92b-168">44</span><span class="sxs-lookup"><span data-stu-id="0d92b-168">44</span></span>|<span data-ttu-id="0d92b-169">表示是否已设置了列权限。</span><span class="sxs-lookup"><span data-stu-id="0d92b-169">Indicates whether a column permission was set.</span></span> <span data-ttu-id="0d92b-170">可以分析语句文本来确定各列所应用权限的情况。</span><span class="sxs-lookup"><span data-stu-id="0d92b-170">You can parse the statement text to determine which permissions were applied to which columns.</span></span>|  
|<span data-ttu-id="0d92b-171">CPU</span><span class="sxs-lookup"><span data-stu-id="0d92b-171">**CPU**</span></span>|<span data-ttu-id="0d92b-172">18</span><span class="sxs-lookup"><span data-stu-id="0d92b-172">18</span></span>|<span data-ttu-id="0d92b-173">事件使用的 CPU 时间（毫秒）。</span><span class="sxs-lookup"><span data-stu-id="0d92b-173">The amount of CPU time (in milliseconds) that is used by the event.</span></span>|  
|<span data-ttu-id="0d92b-174">**数据库 ID** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-174">**Database ID** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-175">3</span><span class="sxs-lookup"><span data-stu-id="0d92b-175">3</span></span>|<span data-ttu-id="0d92b-176">由 USE *database_name* 语句指定的数据库的 ID；如果未对给定实例发出 USE *database_name*语句，则为默认数据库的 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-176">The ID of the database specified by the USE *database_name* statement, or the ID of the default database if no USE *database_name*statement has been issued for a given instance.</span></span> [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] <span data-ttu-id="0d92b-177">数据列而且服务器可用，则 **ServerName** 将显示数据库名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-177">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="0d92b-178">可使用 DB_ID 函数来确定数据库的值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-178">Determine the value for a database by using the DB_ID function.</span></span>|  
|<span data-ttu-id="0d92b-179">**DatabaseName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-179">**DatabaseName**</span></span>|<span data-ttu-id="0d92b-180">35</span><span class="sxs-lookup"><span data-stu-id="0d92b-180">35</span></span>|<span data-ttu-id="0d92b-181">正在运行用户语句的数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-181">The name of the database in which the user statement is running.</span></span>|  
|<span data-ttu-id="0d92b-182">**DBUserName** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-182">**DBUserName** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-183">40</span><span class="sxs-lookup"><span data-stu-id="0d92b-183">40</span></span>|<span data-ttu-id="0d92b-184">客户端的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 用户名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-184">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] user name of the client.</span></span>|  
|<span data-ttu-id="0d92b-185">**持续时间**</span><span class="sxs-lookup"><span data-stu-id="0d92b-185">**Duration**</span></span>|<span data-ttu-id="0d92b-186">13</span><span class="sxs-lookup"><span data-stu-id="0d92b-186">13</span></span>|<span data-ttu-id="0d92b-187">事件的持续时间（微秒）。</span><span class="sxs-lookup"><span data-stu-id="0d92b-187">The duration (in microseconds) of the event.</span></span><br /><br /> <span data-ttu-id="0d92b-188">服务器以微秒（百万分之一秒或 10<sup>-6</sup> 秒）为单位报告事件的持续时间，以毫秒（千分之一秒或 10<sup>-3</sup> 秒）为单位报告事件使用的 CPU 时间。</span><span class="sxs-lookup"><span data-stu-id="0d92b-188">The server reports the duration of an event in microseconds (one millionth, or 10<sup>-6</sup>, of a second) and the amount of CPU time used by the event in milliseconds (one thousandth, or 10<sup>-3</sup>, of a second).</span></span> <span data-ttu-id="0d92b-189">[!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] 图形用户界面默认以毫秒为单位显示 **“持续时间”** 列，但是当跟踪保存到文件或数据库表中时，将以微秒为单位写入“持续时间” \*\*\*\* 列值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-189">The [!INCLUDE[ssSqlProfiler](../../../includes/sssqlprofiler-md.md)] graphical user interface displays the **Duration** column in milliseconds by default, but when a trace is saved to either a file or a database table, the **Duration** column value is written in microseconds.</span></span>|  
|<span data-ttu-id="0d92b-190">**EndTime**</span><span class="sxs-lookup"><span data-stu-id="0d92b-190">**EndTime**</span></span>|<span data-ttu-id="0d92b-191">15</span><span class="sxs-lookup"><span data-stu-id="0d92b-191">15</span></span>|<span data-ttu-id="0d92b-192">事件的结束时间。</span><span class="sxs-lookup"><span data-stu-id="0d92b-192">The time at which the event ended.</span></span> <span data-ttu-id="0d92b-193">对指示事件开始的事件类（例如 **SQL:BatchStarting** 或 **SP:Starting**）将不填充此列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-193">This column is not populated for event classes that refer to an event that is starting, such as **SQL:BatchStarting** or **SP:Starting**.</span></span>|  
|<span data-ttu-id="0d92b-194">**错误**</span><span class="sxs-lookup"><span data-stu-id="0d92b-194">**Error**</span></span>|<span data-ttu-id="0d92b-195">31</span><span class="sxs-lookup"><span data-stu-id="0d92b-195">31</span></span>|<span data-ttu-id="0d92b-196">给定事件的错误号。</span><span class="sxs-lookup"><span data-stu-id="0d92b-196">The error number of a given event.</span></span> <span data-ttu-id="0d92b-197">通常是 **sysmessages**中存储的错误号。</span><span class="sxs-lookup"><span data-stu-id="0d92b-197">Often this is the error number stored in **sysmessages**.</span></span>|  
|<span data-ttu-id="0d92b-198">**EventClass** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-198">**EventClass** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-199">27</span><span class="sxs-lookup"><span data-stu-id="0d92b-199">27</span></span>|<span data-ttu-id="0d92b-200">捕获的事件类的类型。</span><span class="sxs-lookup"><span data-stu-id="0d92b-200">The type of event class that is captured.</span></span>|  
|<span data-ttu-id="0d92b-201">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="0d92b-201">**EventSequence**</span></span>|<span data-ttu-id="0d92b-202">51</span><span class="sxs-lookup"><span data-stu-id="0d92b-202">51</span></span>|<span data-ttu-id="0d92b-203">此事件的序列号。</span><span class="sxs-lookup"><span data-stu-id="0d92b-203">Sequence number for this event.</span></span>|  
|<span data-ttu-id="0d92b-204">**EventSubClass** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-204">**EventSubClass** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-205">21</span><span class="sxs-lookup"><span data-stu-id="0d92b-205">21</span></span>|<span data-ttu-id="0d92b-206">事件子类的类型，提供有关每个事件类的详细信息。</span><span class="sxs-lookup"><span data-stu-id="0d92b-206">The type of event subclass, which provides further information about each event class.</span></span> <span data-ttu-id="0d92b-207">例如， **Execution Warning** 事件类的事件子类值代表执行警告的类型：</span><span class="sxs-lookup"><span data-stu-id="0d92b-207">For example, event subclass values for the **Execution Warning** event class represent the type of execution warning:</span></span><br /><br /> <span data-ttu-id="0d92b-208">**1** = 查询等候。</span><span class="sxs-lookup"><span data-stu-id="0d92b-208">**1** = Query wait.</span></span> <span data-ttu-id="0d92b-209">查询执行之前必须等待资源；例如，内存。</span><span class="sxs-lookup"><span data-stu-id="0d92b-209">The query must wait for resources before it can execute; for example, memory.</span></span><br /><br /> <span data-ttu-id="0d92b-210">**2** = 查询超时。查询在等待执行所需资源时超时。</span><span class="sxs-lookup"><span data-stu-id="0d92b-210">**2** = Query time-out. The query timed out while waiting for required resources to execute.</span></span> <span data-ttu-id="0d92b-211">所有事件类都不填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-211">This data column is not populated for all event classes.</span></span>|  
|<span data-ttu-id="0d92b-212">**GUID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-212">**GUID**</span></span>|<span data-ttu-id="0d92b-213">54</span><span class="sxs-lookup"><span data-stu-id="0d92b-213">54</span></span>|<span data-ttu-id="0d92b-214">依赖于跟踪中指定的事件类的 GUID 值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-214">GUID value which depends on the event class specified in the trace.</span></span>|  
|<span data-ttu-id="0d92b-215">**FileName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-215">**FileName**</span></span>|<span data-ttu-id="0d92b-216">36</span><span class="sxs-lookup"><span data-stu-id="0d92b-216">36</span></span>|<span data-ttu-id="0d92b-217">所修改的文件的逻辑名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-217">The logical name of the file that is modified.</span></span>|  
|<span data-ttu-id="0d92b-218">**柄**</span><span class="sxs-lookup"><span data-stu-id="0d92b-218">**Handle**</span></span>|<span data-ttu-id="0d92b-219">33</span><span class="sxs-lookup"><span data-stu-id="0d92b-219">33</span></span>|<span data-ttu-id="0d92b-220">一个整数，ODBC、OLE DB 或 DB-Library 使用它来协调服务器的执行情况。</span><span class="sxs-lookup"><span data-stu-id="0d92b-220">The integer used by ODBC, OLE DB, or DB-Library to coordinate server execution.</span></span>|  
|<span data-ttu-id="0d92b-221">**主机名** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-221">**HostName** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-222">8</span><span class="sxs-lookup"><span data-stu-id="0d92b-222">8</span></span>|<span data-ttu-id="0d92b-223">正在运行客户端程序的计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-223">The name of the computer on which the client is running.</span></span> <span data-ttu-id="0d92b-224">如果客户端提供了主机名，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-224">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="0d92b-225">若要确定主机名，请使用 HOST_NAME 函数。</span><span class="sxs-lookup"><span data-stu-id="0d92b-225">To determine the host name, use the HOST_NAME function.</span></span>|  
|<span data-ttu-id="0d92b-226">**IndexID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-226">**IndexID**</span></span>|<span data-ttu-id="0d92b-227">24</span><span class="sxs-lookup"><span data-stu-id="0d92b-227">24</span></span>|<span data-ttu-id="0d92b-228">受事件影响的对象的索引 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-228">The ID for the index on the object affected by the event.</span></span> <span data-ttu-id="0d92b-229">若要确定对象的索引的 ID，请使用 **sysindexes** 系统表的 **indid** 列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-229">To determine the index ID for an object, use the **indid** column of the **sysindexes** system table.</span></span>|  
|<span data-ttu-id="0d92b-230">**IntegerData**</span><span class="sxs-lookup"><span data-stu-id="0d92b-230">**IntegerData**</span></span>|<span data-ttu-id="0d92b-231">25</span><span class="sxs-lookup"><span data-stu-id="0d92b-231">25</span></span>|<span data-ttu-id="0d92b-232">跟踪中捕获的与事件类对应的整数值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-232">The integer value dependent on the event class captured in the trace.</span></span>|  
|<span data-ttu-id="0d92b-233">**IntegerData2**</span><span class="sxs-lookup"><span data-stu-id="0d92b-233">**IntegerData2**</span></span>|<span data-ttu-id="0d92b-234">55</span><span class="sxs-lookup"><span data-stu-id="0d92b-234">55</span></span>|<span data-ttu-id="0d92b-235">跟踪中捕获的与事件类对应的整数值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-235">The integer value dependent on the event class captured in the trace.</span></span>|  
|<span data-ttu-id="0d92b-236">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="0d92b-236">**IsSystem**</span></span>|<span data-ttu-id="0d92b-237">60</span><span class="sxs-lookup"><span data-stu-id="0d92b-237">60</span></span>|<span data-ttu-id="0d92b-238">指示该事件发生在系统进程还是用户进程上：</span><span class="sxs-lookup"><span data-stu-id="0d92b-238">Indicates whether the event occurred on a system process or a user process:</span></span><br /><br /> <span data-ttu-id="0d92b-239">**1** = 系统</span><span class="sxs-lookup"><span data-stu-id="0d92b-239">**1** = system</span></span><br /><br /> <span data-ttu-id="0d92b-240">**0** = 用户</span><span class="sxs-lookup"><span data-stu-id="0d92b-240">**0** = user</span></span>|  
|<span data-ttu-id="0d92b-241">**LineNumber**</span><span class="sxs-lookup"><span data-stu-id="0d92b-241">**LineNumber**</span></span>|<span data-ttu-id="0d92b-242">5</span><span class="sxs-lookup"><span data-stu-id="0d92b-242">5</span></span>|<span data-ttu-id="0d92b-243">包含存在错误的行的行号。</span><span class="sxs-lookup"><span data-stu-id="0d92b-243">Contains the number of the line that contains the error.</span></span> <span data-ttu-id="0d92b-244">对于涉及 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 语句的事件（如 **SP:StmtStarting**）， **LineNumber** 包含存储过程或批查询中语句的行号。</span><span class="sxs-lookup"><span data-stu-id="0d92b-244">For events that involve [!INCLUDE[tsql](../../../includes/tsql-md.md)] statements, like **SP:StmtStarting**, the **LineNumber** contains the line number of the statement in the stored procedure or batch.</span></span>|  
|<span data-ttu-id="0d92b-245">**LinkedServerName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-245">**LinkedServerName**</span></span>|<span data-ttu-id="0d92b-246">45</span><span class="sxs-lookup"><span data-stu-id="0d92b-246">45</span></span>|<span data-ttu-id="0d92b-247">链接服务器的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-247">Name of the linked server.</span></span>|  
|<span data-ttu-id="0d92b-248">**LoginName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-248">**LoginName**</span></span>|<span data-ttu-id="0d92b-249">11</span><span class="sxs-lookup"><span data-stu-id="0d92b-249">11</span></span>|<span data-ttu-id="0d92b-250">用户的登录名（SQL Server 安全登录名或 Windows 登录凭据，格式为“域/用户名”）。</span><span class="sxs-lookup"><span data-stu-id="0d92b-250">The name of the login of the user (either SQL Server security login or the Windows login credentials in the form of DOMAIN\Username).</span></span>|  
|<span data-ttu-id="0d92b-251">**LoginSid** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-251">**LoginSid** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-252">41</span><span class="sxs-lookup"><span data-stu-id="0d92b-252">41</span></span>|<span data-ttu-id="0d92b-253">已登录的用户的安全标识符 (SID)。</span><span class="sxs-lookup"><span data-stu-id="0d92b-253">The security identifier (SID) of the logged-in user.</span></span> <span data-ttu-id="0d92b-254">可以在 **master** 数据库的 **sys.server_principals** 视图中找到此信息。</span><span class="sxs-lookup"><span data-stu-id="0d92b-254">You can find this information in the **sys.server_principals** view of the **master** database.</span></span> <span data-ttu-id="0d92b-255">服务器中的每个登录名都具有唯一的 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-255">Each login to the server has a unique ID.</span></span>|  
|<span data-ttu-id="0d92b-256">**名称**</span><span class="sxs-lookup"><span data-stu-id="0d92b-256">**MethodName**</span></span>|<span data-ttu-id="0d92b-257">47</span><span class="sxs-lookup"><span data-stu-id="0d92b-257">47</span></span>|<span data-ttu-id="0d92b-258">OLEDB 方法的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-258">Name of the OLEDB method.</span></span>|  
|<span data-ttu-id="0d92b-259">**模式**</span><span class="sxs-lookup"><span data-stu-id="0d92b-259">**Mode**</span></span>|<span data-ttu-id="0d92b-260">32</span><span class="sxs-lookup"><span data-stu-id="0d92b-260">32</span></span>|<span data-ttu-id="0d92b-261">一个整数，各种事件都使用它来描述事件要请求或已接收的状态。</span><span class="sxs-lookup"><span data-stu-id="0d92b-261">The integer used by various events to describe a state the event is requesting or has received.</span></span>|  
|<span data-ttu-id="0d92b-262">**NestLevel**</span><span class="sxs-lookup"><span data-stu-id="0d92b-262">**NestLevel**</span></span>|<span data-ttu-id="0d92b-263">29</span><span class="sxs-lookup"><span data-stu-id="0d92b-263">29</span></span>|<span data-ttu-id="0d92b-264">一个整数，表示 @@NESTLEVEL 返回的数据。</span><span class="sxs-lookup"><span data-stu-id="0d92b-264">The integer that represents the data returned by @@NESTLEVEL.</span></span>|  
|<span data-ttu-id="0d92b-265">**NTDomainName** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-265">**NTDomainName** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-266">7</span><span class="sxs-lookup"><span data-stu-id="0d92b-266">7</span></span>|<span data-ttu-id="0d92b-267">用户所属的 Microsoft Windows 域。</span><span class="sxs-lookup"><span data-stu-id="0d92b-267">The Microsoft Windows domain to which the user belongs.</span></span>|  
|<span data-ttu-id="0d92b-268">**NTUserName** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-268">**NTUserName** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-269">6</span><span class="sxs-lookup"><span data-stu-id="0d92b-269">6</span></span>|<span data-ttu-id="0d92b-270">Windows 用户名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-270">The Windows user name.</span></span>|  
|<span data-ttu-id="0d92b-271">**Exchange Spill**</span><span class="sxs-lookup"><span data-stu-id="0d92b-271">**ObjectID**</span></span>|<span data-ttu-id="0d92b-272">22</span><span class="sxs-lookup"><span data-stu-id="0d92b-272">22</span></span>|<span data-ttu-id="0d92b-273">系统分配的对象 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-273">The system-assigned ID of the object.</span></span>|  
|<span data-ttu-id="0d92b-274">**ObjectID2**</span><span class="sxs-lookup"><span data-stu-id="0d92b-274">**ObjectID2**</span></span>|<span data-ttu-id="0d92b-275">56</span><span class="sxs-lookup"><span data-stu-id="0d92b-275">56</span></span>|<span data-ttu-id="0d92b-276">相关对象或实体（如果存在）的 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-276">The ID of the related object or entity, if available.</span></span>|  
|<span data-ttu-id="0d92b-277">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-277">**ObjectName**</span></span>|<span data-ttu-id="0d92b-278">34</span><span class="sxs-lookup"><span data-stu-id="0d92b-278">34</span></span>|<span data-ttu-id="0d92b-279">被引用对象的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-279">The name of the object that is referenced.</span></span>|  
|<span data-ttu-id="0d92b-280">**ObjectType** <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-280">**ObjectType** <sup>2</sup></span></span>|<span data-ttu-id="0d92b-281">28</span><span class="sxs-lookup"><span data-stu-id="0d92b-281">28</span></span>|<span data-ttu-id="0d92b-282">表示事件中涉及的对象类型的值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-282">The value representing the type of the object involved in the event.</span></span> <span data-ttu-id="0d92b-283">此值对应于**sysobjects**中的**类型**列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-283">This value corresponds to the **type** column in **sysobjects**.</span></span>|  
|<span data-ttu-id="0d92b-284">**抵销**</span><span class="sxs-lookup"><span data-stu-id="0d92b-284">**Offset**</span></span>|<span data-ttu-id="0d92b-285">61</span><span class="sxs-lookup"><span data-stu-id="0d92b-285">61</span></span>|<span data-ttu-id="0d92b-286">语句在存储过程或批处理中的起始偏移量。</span><span class="sxs-lookup"><span data-stu-id="0d92b-286">The starting offset of the statement within the stored procedure or batch.</span></span>|  
|<span data-ttu-id="0d92b-287">**OwnerID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-287">**OwnerID**</span></span>|<span data-ttu-id="0d92b-288">58</span><span class="sxs-lookup"><span data-stu-id="0d92b-288">58</span></span>|<span data-ttu-id="0d92b-289">仅限于锁事件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-289">For lock events only.</span></span> <span data-ttu-id="0d92b-290">拥有锁的对象的类型。</span><span class="sxs-lookup"><span data-stu-id="0d92b-290">The type of the object that owns a lock.</span></span>|  
|<span data-ttu-id="0d92b-291">**OwnerName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-291">**OwnerName**</span></span>|<span data-ttu-id="0d92b-292">37</span><span class="sxs-lookup"><span data-stu-id="0d92b-292">37</span></span>|<span data-ttu-id="0d92b-293">对象所有者的数据库用户名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-293">The database user name of the object owner.</span></span>|  
|<span data-ttu-id="0d92b-294">**ParentName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-294">**ParentName**</span></span>|<span data-ttu-id="0d92b-295">59</span><span class="sxs-lookup"><span data-stu-id="0d92b-295">59</span></span>|<span data-ttu-id="0d92b-296">该对象所在的架构的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-296">The name of the schema in which the object resides.</span></span>|  
|<span data-ttu-id="0d92b-297">**权限**</span><span class="sxs-lookup"><span data-stu-id="0d92b-297">**Permissions**</span></span>|<span data-ttu-id="0d92b-298">19</span><span class="sxs-lookup"><span data-stu-id="0d92b-298">19</span></span>|<span data-ttu-id="0d92b-299">表示所检查的权限类型的整型值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-299">The integer value that represents the type of permissions checked.</span></span> <span data-ttu-id="0d92b-300">值为：</span><span class="sxs-lookup"><span data-stu-id="0d92b-300">Values are:</span></span><br /><br /> <span data-ttu-id="0d92b-301">**1** = 全选</span><span class="sxs-lookup"><span data-stu-id="0d92b-301">**1** = SELECT ALL</span></span><br /><br /> <span data-ttu-id="0d92b-302">**2** = 全部更新</span><span class="sxs-lookup"><span data-stu-id="0d92b-302">**2** = UPDATE ALL</span></span><br /><br /> <span data-ttu-id="0d92b-303">**4** = 引用全部</span><span class="sxs-lookup"><span data-stu-id="0d92b-303">**4** = REFERENCES ALL</span></span><br /><br /> <span data-ttu-id="0d92b-304">**8** = 插入</span><span class="sxs-lookup"><span data-stu-id="0d92b-304">**8** = INSERT</span></span><br /><br /> <span data-ttu-id="0d92b-305">**16** = 删除</span><span class="sxs-lookup"><span data-stu-id="0d92b-305">**16** = DELETE</span></span><br /><br /> <span data-ttu-id="0d92b-306">**32** = 仅执行 (过程) </span><span class="sxs-lookup"><span data-stu-id="0d92b-306">**32** = EXECUTE (procedures only)</span></span><br /><br /> <span data-ttu-id="0d92b-307">**4096** = 至少选择一列 () </span><span class="sxs-lookup"><span data-stu-id="0d92b-307">**4096** = SELECT ANY (at least one column)</span></span><br /><br /> <span data-ttu-id="0d92b-308">**8192** = 更新任何</span><span class="sxs-lookup"><span data-stu-id="0d92b-308">**8192** = UPDATE ANY</span></span><br /><br /> <span data-ttu-id="0d92b-309">**16384** = REFERENCES ANY</span><span class="sxs-lookup"><span data-stu-id="0d92b-309">**16384** = REFERENCES ANY</span></span>|  
|<span data-ttu-id="0d92b-310">**ProviderName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-310">**ProviderName**</span></span>|<span data-ttu-id="0d92b-311">46</span><span class="sxs-lookup"><span data-stu-id="0d92b-311">46</span></span>|<span data-ttu-id="0d92b-312">OLEDB 访问接口的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-312">Name of the OLEDB provider.</span></span>|  
|<span data-ttu-id="0d92b-313">**Reads**</span><span class="sxs-lookup"><span data-stu-id="0d92b-313">**Reads**</span></span>|<span data-ttu-id="0d92b-314">16</span><span class="sxs-lookup"><span data-stu-id="0d92b-314">16</span></span>|<span data-ttu-id="0d92b-315">由服务器代表事件读取逻辑磁盘的次数。</span><span class="sxs-lookup"><span data-stu-id="0d92b-315">The number of read operations on the logical disk that are performed by the server on behalf of the event.</span></span> <span data-ttu-id="0d92b-316">这些读取操作数包含在语句执行期间读取表和缓冲区的次数。</span><span class="sxs-lookup"><span data-stu-id="0d92b-316">These read operations include all reads from tables and buffers during the statement's execution.</span></span>|  
|<span data-ttu-id="0d92b-317">**RequestID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-317">**RequestID**</span></span>|<span data-ttu-id="0d92b-318">49</span><span class="sxs-lookup"><span data-stu-id="0d92b-318">49</span></span>|<span data-ttu-id="0d92b-319">包含该语句的请求的 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-319">ID of the request that contains the statement.</span></span>|  
|<span data-ttu-id="0d92b-320">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-320">**RoleName**</span></span>|<span data-ttu-id="0d92b-321">38</span><span class="sxs-lookup"><span data-stu-id="0d92b-321">38</span></span>|<span data-ttu-id="0d92b-322">正在启用的应用程序角色名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-322">The name of the application role that is being enabled.</span></span>|  
|<span data-ttu-id="0d92b-323">**RowCounts**</span><span class="sxs-lookup"><span data-stu-id="0d92b-323">**RowCounts**</span></span>|<span data-ttu-id="0d92b-324">48</span><span class="sxs-lookup"><span data-stu-id="0d92b-324">48</span></span>|<span data-ttu-id="0d92b-325">批处理中的行数。</span><span class="sxs-lookup"><span data-stu-id="0d92b-325">The number of rows in the batch.</span></span>|  
|<span data-ttu-id="0d92b-326">**ServerName** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-326">**ServerName** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-327">26</span><span class="sxs-lookup"><span data-stu-id="0d92b-327">26</span></span>|<span data-ttu-id="0d92b-328">正在跟踪的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-328">The name of the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that is being traced.</span></span>|  
|<span data-ttu-id="0d92b-329">**SessionLoginName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-329">**SessionLoginName**</span></span>|<span data-ttu-id="0d92b-330">64</span><span class="sxs-lookup"><span data-stu-id="0d92b-330">64</span></span>|<span data-ttu-id="0d92b-331">发起会话的用户的登录名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-331">The login name of the user who originated the session.</span></span> <span data-ttu-id="0d92b-332">例如，如果您使用 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Login1 **连接到** 并以 **Login2**身份执行语句，则 **SessionLoginName** 将显示 **Login1**，而 **LoginName** 将显示 **Login2**。</span><span class="sxs-lookup"><span data-stu-id="0d92b-332">For example, if you connect to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] using **Login1** and execute a statement as **Login2**, **SessionLoginName** displays **Login1**, while **LoginName** displays **Login2**.</span></span> <span data-ttu-id="0d92b-333">此数据列将同时显示 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 登录名和 Windows 登录名。</span><span class="sxs-lookup"><span data-stu-id="0d92b-333">This data column displays both [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and Windows logins.</span></span>|  
|<span data-ttu-id="0d92b-334">**严重性**</span><span class="sxs-lookup"><span data-stu-id="0d92b-334">**Severity**</span></span>|<span data-ttu-id="0d92b-335">20</span><span class="sxs-lookup"><span data-stu-id="0d92b-335">20</span></span>|<span data-ttu-id="0d92b-336">异常错误事件的严重级别。</span><span class="sxs-lookup"><span data-stu-id="0d92b-336">The severity level of the exception event.</span></span>|  
|<span data-ttu-id="0d92b-337">**SourceDatabaseID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-337">**SourceDatabaseID**</span></span>|<span data-ttu-id="0d92b-338">62</span><span class="sxs-lookup"><span data-stu-id="0d92b-338">62</span></span>|<span data-ttu-id="0d92b-339">存在该对象的源的数据库 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-339">The ID of the database in which the source of the object exists.</span></span>|  
|<span data-ttu-id="0d92b-340">**SPID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-340">**SPID**</span></span>|<span data-ttu-id="0d92b-341">12</span><span class="sxs-lookup"><span data-stu-id="0d92b-341">12</span></span>|<span data-ttu-id="0d92b-342">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 为客户端的相关进程分配的服务器进程 ID (SPID)。</span><span class="sxs-lookup"><span data-stu-id="0d92b-342">The server process ID (SPID) that is assigned by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to the process that is associated with the client.</span></span>|  
|<span data-ttu-id="0d92b-343">**： Sqlhandle**</span><span class="sxs-lookup"><span data-stu-id="0d92b-343">**SqlHandle**</span></span>|<span data-ttu-id="0d92b-344">63</span><span class="sxs-lookup"><span data-stu-id="0d92b-344">63</span></span>|<span data-ttu-id="0d92b-345">基于即席查询文本或 SQL 对象的数据库和对象 ID 的 64 位哈希运算。</span><span class="sxs-lookup"><span data-stu-id="0d92b-345">64-bit hash based on the text of an ad hoc query or the database and object ID of an SQL object.</span></span> <span data-ttu-id="0d92b-346">此值可传递给**sys. dm_exec_sql_text ( # B1**来检索关联的 sql 文本。</span><span class="sxs-lookup"><span data-stu-id="0d92b-346">This value can be passed to **sys.dm_exec_sql_text()** to retrieve the associated SQL text.</span></span>|  
|<span data-ttu-id="0d92b-347">**StartTime** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="0d92b-347">**StartTime** <sup>1</sup></span></span>|<span data-ttu-id="0d92b-348">14</span><span class="sxs-lookup"><span data-stu-id="0d92b-348">14</span></span>|<span data-ttu-id="0d92b-349">事件（如果有）的开始时间。</span><span class="sxs-lookup"><span data-stu-id="0d92b-349">The time at which the event started, when available.</span></span>|  
|<span data-ttu-id="0d92b-350">**State**</span><span class="sxs-lookup"><span data-stu-id="0d92b-350">**State**</span></span>|<span data-ttu-id="0d92b-351">30</span><span class="sxs-lookup"><span data-stu-id="0d92b-351">30</span></span>|<span data-ttu-id="0d92b-352">错误状态代码。</span><span class="sxs-lookup"><span data-stu-id="0d92b-352">Error state code.</span></span>|  
|<span data-ttu-id="0d92b-353">**Success**</span><span class="sxs-lookup"><span data-stu-id="0d92b-353">**Success**</span></span>|<span data-ttu-id="0d92b-354">23</span><span class="sxs-lookup"><span data-stu-id="0d92b-354">23</span></span>|<span data-ttu-id="0d92b-355">表示事件是否成功。</span><span class="sxs-lookup"><span data-stu-id="0d92b-355">Represents whether the event was successful.</span></span> <span data-ttu-id="0d92b-356">值包括：</span><span class="sxs-lookup"><span data-stu-id="0d92b-356">Values include:</span></span><br /><br /> <span data-ttu-id="0d92b-357">**1** = 成功。</span><span class="sxs-lookup"><span data-stu-id="0d92b-357">**1** = Success.</span></span><br /><br /> <span data-ttu-id="0d92b-358">**0** = 失败</span><span class="sxs-lookup"><span data-stu-id="0d92b-358">**0** = Failure</span></span><br /><br /> <span data-ttu-id="0d92b-359">例如， **1** 表示权限检查成功，而 **0** 表示权限检查失败。</span><span class="sxs-lookup"><span data-stu-id="0d92b-359">For example, a **1** means a successful permissions check, and a **0** means a failed check.</span></span>|  
|<span data-ttu-id="0d92b-360">**TargetLoginName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-360">**TargetLoginName**</span></span>|<span data-ttu-id="0d92b-361">42</span><span class="sxs-lookup"><span data-stu-id="0d92b-361">42</span></span>|<span data-ttu-id="0d92b-362">如果是针对登录的操作（例如，添加新的登录），这是所针对登录的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-362">For actions that target a login, the name of the targeted login; for example, to add a new login.</span></span>|  
|<span data-ttu-id="0d92b-363">**TargetLoginSid**</span><span class="sxs-lookup"><span data-stu-id="0d92b-363">**TargetLoginSid**</span></span>|<span data-ttu-id="0d92b-364">43</span><span class="sxs-lookup"><span data-stu-id="0d92b-364">43</span></span>|<span data-ttu-id="0d92b-365">如果是针对登录的操作（例如，添加新的登录），这是所针对登录的 SID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-365">For actions that target a login, the SID of the targeted login; for example, to add a new login.</span></span>|  
|<span data-ttu-id="0d92b-366">**TargetUserName**</span><span class="sxs-lookup"><span data-stu-id="0d92b-366">**TargetUserName**</span></span>|<span data-ttu-id="0d92b-367">39</span><span class="sxs-lookup"><span data-stu-id="0d92b-367">39</span></span>|<span data-ttu-id="0d92b-368">如果是针对某个数据库用户的操作（例如，授予用户权限），这是该用户的名称。</span><span class="sxs-lookup"><span data-stu-id="0d92b-368">For actions that target a database user, the name of that user; for example, to grant permission to a user.</span></span>|  
|<span data-ttu-id="0d92b-369">**TextData**</span><span class="sxs-lookup"><span data-stu-id="0d92b-369">**TextData**</span></span>|<span data-ttu-id="0d92b-370">1</span><span class="sxs-lookup"><span data-stu-id="0d92b-370">1</span></span>|<span data-ttu-id="0d92b-371">依赖于跟踪中捕获的事件类的文本值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-371">The text value dependent on the event class that is captured in the trace.</span></span> <span data-ttu-id="0d92b-372">但是，如果跟踪参数化查询，则不以 **TextData** 列中的数据值显示变量。</span><span class="sxs-lookup"><span data-stu-id="0d92b-372">However, if you trace a parameterized query, the variables are not displayed with data values in the **TextData** column.</span></span>|  
|<span data-ttu-id="0d92b-373">**Transaction ID**</span><span class="sxs-lookup"><span data-stu-id="0d92b-373">**Transaction ID**</span></span>|<span data-ttu-id="0d92b-374">4</span><span class="sxs-lookup"><span data-stu-id="0d92b-374">4</span></span>|<span data-ttu-id="0d92b-375">系统为事务分配的 ID。</span><span class="sxs-lookup"><span data-stu-id="0d92b-375">The system-assigned ID of the transaction.</span></span>|  
|<span data-ttu-id="0d92b-376">**Type**</span><span class="sxs-lookup"><span data-stu-id="0d92b-376">**Type**</span></span>|<span data-ttu-id="0d92b-377">57</span><span class="sxs-lookup"><span data-stu-id="0d92b-377">57</span></span>|<span data-ttu-id="0d92b-378">跟踪中捕获的与事件类对应的整数值。</span><span class="sxs-lookup"><span data-stu-id="0d92b-378">The integer value dependent on the event class captured in the trace.</span></span>|  
|<span data-ttu-id="0d92b-379">**Writes**</span><span class="sxs-lookup"><span data-stu-id="0d92b-379">**Writes**</span></span>|<span data-ttu-id="0d92b-380">17</span><span class="sxs-lookup"><span data-stu-id="0d92b-380">17</span></span>|<span data-ttu-id="0d92b-381">由服务器代表事件写入物理磁盘的次数。</span><span class="sxs-lookup"><span data-stu-id="0d92b-381">The number of physical disk write operations that are performed by the server on behalf of the event.</span></span>|  
|<span data-ttu-id="0d92b-382">**XactSequence**</span><span class="sxs-lookup"><span data-stu-id="0d92b-382">**XactSequence**</span></span>|<span data-ttu-id="0d92b-383">50</span><span class="sxs-lookup"><span data-stu-id="0d92b-383">50</span></span>|<span data-ttu-id="0d92b-384">用于说明当前事务的标记。</span><span class="sxs-lookup"><span data-stu-id="0d92b-384">A token to describe the current transaction.</span></span>|  
  
 <span data-ttu-id="0d92b-385"><sup>1</sup>默认情况下，为所有事件填充这些数据列。</span><span class="sxs-lookup"><span data-stu-id="0d92b-385"><sup>1</sup> These data columns are populated by default for all events.</span></span>  
  
 <span data-ttu-id="0d92b-386"><sup>2</sup>有关**objecttype**数据列的详细信息，请参阅[objecttype 跟踪事件列](../event-classes/objecttype-trace-event-column.md)。</span><span class="sxs-lookup"><span data-stu-id="0d92b-386"><sup>2</sup> For more information about the **ObjectType** data column, see [ObjectType Trace Event Column](../event-classes/objecttype-trace-event-column.md).</span></span>  
  
## <a name="sql-trace-tasks"></a><span data-ttu-id="0d92b-387">SQL 跟踪任务</span><span class="sxs-lookup"><span data-stu-id="0d92b-387">SQL Trace Tasks</span></span>  
  
|<span data-ttu-id="0d92b-388">任务说明</span><span class="sxs-lookup"><span data-stu-id="0d92b-388">Task Description</span></span>|<span data-ttu-id="0d92b-389">主题</span><span class="sxs-lookup"><span data-stu-id="0d92b-389">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="0d92b-390">介绍如何使用 TRANSACT-SQL 存储过程创建和运行跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-390">Describes how to create and run traces using Transact-SQL stored procedures.</span></span>|[<span data-ttu-id="0d92b-391">使用 Transact-SQL 存储过程创建和运行跟踪</span><span class="sxs-lookup"><span data-stu-id="0d92b-391">Create and Run Traces Using Transact-SQL Stored Procedures</span></span>](../sql-trace/create-and-run-traces-using-transact-sql-stored-procedures.md)|  
|<span data-ttu-id="0d92b-392">介绍如何在 [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)]实例上使用存储过程创建手动跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-392">Describes how to create manual traces using stored procedures on an instance of the [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span>|[<span data-ttu-id="0d92b-393">使用存储过程创建手动跟踪</span><span class="sxs-lookup"><span data-stu-id="0d92b-393">Create Manual Traces using Stored Procedures</span></span>](../sql-trace/create-manual-traces-using-stored-procedures.md)|  
|<span data-ttu-id="0d92b-394">介绍如何将跟踪结果保存到跟踪结果所写入的文件。</span><span class="sxs-lookup"><span data-stu-id="0d92b-394">Describes how to save trace results to the file where the trace results are written.</span></span>|[<span data-ttu-id="0d92b-395">将跟踪结果保存到文件</span><span class="sxs-lookup"><span data-stu-id="0d92b-395">Save Trace Results to a File</span></span>](../sql-trace/save-trace-results-to-a-file.md)|  
|<span data-ttu-id="0d92b-396">介绍如何使用 **temp** 目录中的空间来提高访问跟踪数据的性能。</span><span class="sxs-lookup"><span data-stu-id="0d92b-396">Describes how to improve access to trace data by using space in the **temp** directory.</span></span>|[<span data-ttu-id="0d92b-397">改进对跟踪数据的访问</span><span class="sxs-lookup"><span data-stu-id="0d92b-397">Improve Access to Trace Data</span></span>](../sql-trace/improve-access-to-trace-data.md)|  
|<span data-ttu-id="0d92b-398">介绍如何使用存储过程创建跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-398">Describes how to use stored procedures to create a trace.</span></span>|[<span data-ttu-id="0d92b-399">创建跟踪 (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d92b-399">Create a Trace &#40;Transact-SQL&#41;</span></span>](../sql-trace/create-a-trace-transact-sql.md)|  
|<span data-ttu-id="0d92b-400">介绍如何使用存储过程创建只检索有关所需跟踪事件信息的筛选器。</span><span class="sxs-lookup"><span data-stu-id="0d92b-400">Describes how to use stored procedures to create a filter that retrieves only the information you need on an event being traced.</span></span>|[<span data-ttu-id="0d92b-401">设置跟踪筛选器 (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d92b-401">Set a Trace Filter &#40;Transact-SQL&#41;</span></span>](../../ssms/agent/set-sql-server-alias-for-sql-server-agent-service-ssms.md)|  
|<span data-ttu-id="0d92b-402">介绍如何使用存储过程修改现有跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-402">Describes how to use stored procedures to modify an existing trace.</span></span>|[<span data-ttu-id="0d92b-403">修改现有跟踪 (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d92b-403">Modify an Existing Trace &#40;Transact-SQL&#41;</span></span>](../sql-trace/modify-an-existing-trace-transact-sql.md)|  
|<span data-ttu-id="0d92b-404">介绍如何使用内置函数查看保存的跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-404">Describes how to use built-in functions to view a saved trace.</span></span>|[<span data-ttu-id="0d92b-405">查看保存的跟踪 (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d92b-405">View a Saved Trace &#40;Transact-SQL&#41;</span></span>](../sql-trace/view-a-saved-trace-transact-sql.md)|  
|<span data-ttu-id="0d92b-406">介绍如何使用内置函数查看跟踪筛选器信息。</span><span class="sxs-lookup"><span data-stu-id="0d92b-406">Describes how to use built-in functions to view trace filter information.</span></span>|[<span data-ttu-id="0d92b-407">查看筛选器信息 (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d92b-407">View Filter Information &#40;Transact-SQL&#41;</span></span>](../sql-trace/view-filter-information-transact-sql.md)|  
|<span data-ttu-id="0d92b-408">介绍如何使用存储过程删除跟踪。</span><span class="sxs-lookup"><span data-stu-id="0d92b-408">Describes how to use stored procedures to delete a trace.</span></span>|[<span data-ttu-id="0d92b-409">删除跟踪 (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="0d92b-409">Delete a Trace &#40;Transact-SQL&#41;</span></span>](../sql-trace/delete-a-trace-transact-sql.md)|  
|<span data-ttu-id="0d92b-410">介绍如何将跟踪引起的性能损失降到最低。</span><span class="sxs-lookup"><span data-stu-id="0d92b-410">Describes how to minimize the performance cost incurred by a trace.</span></span>|[<span data-ttu-id="0d92b-411">优化 SQL 跟踪</span><span class="sxs-lookup"><span data-stu-id="0d92b-411">Optimize SQL Trace</span></span>](../sql-trace/sql-trace.md)|  
|<span data-ttu-id="0d92b-412">介绍如何筛选跟踪以将跟踪过程中的开销降到最低。</span><span class="sxs-lookup"><span data-stu-id="0d92b-412">Describes how to filter a trace to minimize the overhead that is incurred during a trace.</span></span>|[<span data-ttu-id="0d92b-413">筛选跟踪</span><span class="sxs-lookup"><span data-stu-id="0d92b-413">Filter a Trace</span></span>](../sql-trace/filter-a-trace.md)|  
|<span data-ttu-id="0d92b-414">介绍如何将跟踪收集的数据量降至最低。</span><span class="sxs-lookup"><span data-stu-id="0d92b-414">Describes how to minimize the amount of data that the trace collects.</span></span>|[<span data-ttu-id="0d92b-415">限制跟踪文件和表的大小</span><span class="sxs-lookup"><span data-stu-id="0d92b-415">Limit Trace File and Table Sizes</span></span>](../sql-trace/limit-trace-file-and-table-sizes.md)|  
|<span data-ttu-id="0d92b-416">介绍在 Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]中计划跟踪的两种方法。</span><span class="sxs-lookup"><span data-stu-id="0d92b-416">Describes the two ways to schedule tracing in Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>|[<span data-ttu-id="0d92b-417">安排跟踪</span><span class="sxs-lookup"><span data-stu-id="0d92b-417">Schedule Traces</span></span>](../sql-trace/schedule-traces.md)|  
  
## <a name="see-also"></a><span data-ttu-id="0d92b-418">另请参阅</span><span class="sxs-lookup"><span data-stu-id="0d92b-418">See Also</span></span>  
 <span data-ttu-id="0d92b-419">[SQL Server Profiler 模板和权限](../../tools/sql-server-profiler/sql-server-profiler-templates-and-permissions.md) </span><span class="sxs-lookup"><span data-stu-id="0d92b-419">[SQL Server Profiler Templates and Permissions](../../tools/sql-server-profiler/sql-server-profiler-templates-and-permissions.md) </span></span>  
 [<span data-ttu-id="0d92b-420">SQL Server 管理对象 (SMO) 编程指南</span><span class="sxs-lookup"><span data-stu-id="0d92b-420">SQL Server Management Objects &#40;SMO&#41; Programming Guide</span></span>](../server-management-objects-smo/sql-server-management-objects-smo-programming-guide.md)  
  
  
