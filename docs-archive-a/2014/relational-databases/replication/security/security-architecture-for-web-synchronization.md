---
title: Web 同步的安全体系结构 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Web synchronization, security architecture
ms.assetid: 74eee587-d5f5-4d1a-bbae-7f4e3f27e23b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 5feaaefb469e7ad1bdf25fe70c6cc6963e4418d6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691655"
---
# <a name="security-architecture-for-web-synchronization"></a><span data-ttu-id="0ab48-102">Web 同步的安全体系结构</span><span class="sxs-lookup"><span data-stu-id="0ab48-102">Security Architecture for Web Synchronization</span></span>
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="0ab48-103">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 可以对 Web 同步安全性的配置进行精细控制。</span><span class="sxs-lookup"><span data-stu-id="0ab48-103">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] enables fine-grained control over the configuration of Web synchronization security.</span></span> <span data-ttu-id="0ab48-104">本主题提供了 Web 同步配置中可包括的所有组件以及这些组件之间的连接信息的综合列表。</span><span class="sxs-lookup"><span data-stu-id="0ab48-104">This topic provides a comprehensive list of all the components that can be included in a Web synchronization configuration and information about the connections that are made between components.</span></span> [!INCLUDE[ssNoteWinAuthentication](../../../includes/ssnotewinauthentication-md.md)]  
  
 <span data-ttu-id="0ab48-105">下图显示了所有可用连接，但特定拓扑中可能不需要其中的某些连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-105">The following illustration shows all the possible connections, but some connections might not be required in a particular topology.</span></span> <span data-ttu-id="0ab48-106">例如，仅当使用 FTP 传递快照时才需要与 FTP 服务器建立连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-106">For example, a connection to an FTP server is required only if the snapshot is delivered by using FTP.</span></span>  
  
 <span data-ttu-id="0ab48-107">![Web 同步中的组件和连接](../media/websyncarchitecture.gif "Web 同步中的组件和连接")</span><span class="sxs-lookup"><span data-stu-id="0ab48-107">![Components and connections in Web synchronization](../media/websyncarchitecture.gif "Components and connections in Web synchronization")</span></span>  
  
 <span data-ttu-id="0ab48-108">下表对图中所示的组件和连接进行了说明。</span><span class="sxs-lookup"><span data-stu-id="0ab48-108">The following tables describe the components and connections that are shown in the illustration.</span></span>  
  
## <a name="a-windows-user-under-which-the-merge-agent-runs"></a><span data-ttu-id="0ab48-109">A.</span><span class="sxs-lookup"><span data-stu-id="0ab48-109">A.</span></span> <span data-ttu-id="0ab48-110">用于运行合并代理的 Windows 用户</span><span class="sxs-lookup"><span data-stu-id="0ab48-110">Windows User Under Which the Merge Agent Runs</span></span>  
 <span data-ttu-id="0ab48-111">在同步期间，合并代理 (A) 在订阅服务器上启动。</span><span class="sxs-lookup"><span data-stu-id="0ab48-111">During synchronization, the Merge Agent (A) is started at the Subscriber.</span></span> <span data-ttu-id="0ab48-112">合并代理可以从 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 代理作业的作业步或独立的自定义应用程序中启动。</span><span class="sxs-lookup"><span data-stu-id="0ab48-112">The Merge Agent can be started from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job step or from a stand-alone custom application.</span></span> <span data-ttu-id="0ab48-113">如果合并代理从 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 代理作业的作业步启动，则该合并代理将在您指定的 Windows 用户的上下文中运行。</span><span class="sxs-lookup"><span data-stu-id="0ab48-113">If the Merge Agent is started from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job step, the Merge Agent runs under the context of a Windows user that you specify.</span></span> <span data-ttu-id="0ab48-114">如果未指定 Windows 用户，则该合并代理将在 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 代理的 Windows 服务帐户的上下文中运行。</span><span class="sxs-lookup"><span data-stu-id="0ab48-114">If you do not specify a Windows user, the Merge Agent runs under the context of the Windows service account for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent.</span></span>  
  
|<span data-ttu-id="0ab48-115">帐户的类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-115">Type of account</span></span>|<span data-ttu-id="0ab48-116">指定帐户的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-116">Where the account is specified</span></span>|  
|---------------------|------------------------------------|  
|<span data-ttu-id="0ab48-117">Windows 用户</span><span class="sxs-lookup"><span data-stu-id="0ab48-117">Windows user</span></span>|[!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-118">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ job_login**和** \@ job_password\*\*参数。</span><span class="sxs-lookup"><span data-stu-id="0ab48-118">: the **\@job_login** and **\@job_password** parameters of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-119">RMO（复制管理对象）： <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> 的 <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> 和 <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>属性。</span><span class="sxs-lookup"><span data-stu-id="0ab48-119">RMO (Replication Management Objects): the <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Login%2A> and <xref:Microsoft.SqlServer.Replication.IProcessSecurityContext.Password%2A> properties for <xref:Microsoft.SqlServer.Replication.PullSubscription.SynchronizationAgentProcessSecurity%2A>.</span></span>|  
|<span data-ttu-id="0ab48-120">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 代理的 Windows 服务帐户</span><span class="sxs-lookup"><span data-stu-id="0ab48-120">Windows service account for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent</span></span>|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="0ab48-121">配置管理器</span><span class="sxs-lookup"><span data-stu-id="0ab48-121">Configuration Manager</span></span>|  
|<span data-ttu-id="0ab48-122">独立的应用程序</span><span class="sxs-lookup"><span data-stu-id="0ab48-122">Stand-alone application</span></span>|<span data-ttu-id="0ab48-123">合并代理在运行该应用程序的 Windows 用户的上下文中运行。</span><span class="sxs-lookup"><span data-stu-id="0ab48-123">The Merge Agent runs under the context of the Windows user that is running the application.</span></span>|  
  
## <a name="b-connection-to-the-subscriber"></a><span data-ttu-id="0ab48-124">B.</span><span class="sxs-lookup"><span data-stu-id="0ab48-124">B.</span></span> <span data-ttu-id="0ab48-125">连接到订阅服务器</span><span class="sxs-lookup"><span data-stu-id="0ab48-125">Connection to the Subscriber</span></span>  
 <span data-ttu-id="0ab48-126">合并代理使用 Windows 身份验证或 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证连接到订阅服务器。</span><span class="sxs-lookup"><span data-stu-id="0ab48-126">The Merge Agent connects to the Subscriber by using Windows Authentication or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication.</span></span> <span data-ttu-id="0ab48-127">Windows 用户或指定的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 登录名必须与下述数据库用户相关联：该数据库用户是订阅数据库中 **dbowner** 固定数据库角色的成员。</span><span class="sxs-lookup"><span data-stu-id="0ab48-127">The Windows user or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login that you specify must be associated with a database user that is a member of the **dbowner** fixed database role in the subscription database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0ab48-128">当从 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 代理作业启动合并代理时，将始终使用 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="0ab48-128">Windows Authentication is always used when the Merge Agent is started from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job.</span></span> <span data-ttu-id="0ab48-129">当在没有显式指定 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证的情况下通过编程方式启动合并代理时，也将使用 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="0ab48-129">Windows Authentication is also used when the Merge Agent is started programmatically unless [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication is explicitly specified.</span></span>  
  
|<span data-ttu-id="0ab48-130">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-130">Type of authentication</span></span>|<span data-ttu-id="0ab48-131">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-131">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-132">Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="0ab48-132">Windows Authentication.</span></span>|<span data-ttu-id="0ab48-133">合并代理 (A) 在为其指定的 Windows 用户的上下文中建立连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-133">The Merge Agent makes connections under the context of the Windows user that is specified for the Merge Agent (A).</span></span>|  
|<span data-ttu-id="0ab48-134">仅在指定下列值时，才使用[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-134">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication is used only if the following is specified:</span></span><br /><br /> <span data-ttu-id="0ab48-135">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.SubscriberSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-135">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.SubscriberSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-136">合并代理命令行： **SubscriberSecurityMode**的值为**0** 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-136">Merge Agent command line: a value of **0** for **SubscriberSecurityMode**.</span></span>|<span data-ttu-id="0ab48-137">RMO： <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.SubscriberLogin%2A> 和 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.SubscriberPassword%2A>。</span><span class="sxs-lookup"><span data-stu-id="0ab48-137">RMO: <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.SubscriberLogin%2A> and <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.SubscriberPassword%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-138">合并代理命令行： **-SubscriberLogin** 和 **-SubscriberLogin**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-138">Merge Agent command line: **-SubscriberLogin** and **-SubscriberLogin**.</span></span>|  
  
## <a name="c-connection-to-an-outgoing-proxy-server"></a><span data-ttu-id="0ab48-139">C.</span><span class="sxs-lookup"><span data-stu-id="0ab48-139">C.</span></span> <span data-ttu-id="0ab48-140">连接到传出代理服务器</span><span class="sxs-lookup"><span data-stu-id="0ab48-140">Connection to an Outgoing Proxy Server</span></span>  
 <span data-ttu-id="0ab48-141">仅当存在限制访问订阅服务器内部网络的传出代理服务器时，才为此连接指定 Windows 用户。</span><span class="sxs-lookup"><span data-stu-id="0ab48-141">Specify a Windows user for this connection only if there is an outgoing proxy server that restricts access to the internal network of the Subscriber.</span></span>  
  
|<span data-ttu-id="0ab48-142">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-142">Type of authentication</span></span>|<span data-ttu-id="0ab48-143">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-143">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-144">Windows 身份验证</span><span class="sxs-lookup"><span data-stu-id="0ab48-144">Windows Authentication</span></span>|<span data-ttu-id="0ab48-145">RMO：在 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetProxyLogin%2A> 上指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetProxyPassword%2A> 和 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetProxyServer%2A>。</span><span class="sxs-lookup"><span data-stu-id="0ab48-145">RMO: <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetProxyLogin%2A> and <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetProxyPassword%2A> with <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetProxyServer%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-146">合并代理命令行：在 **-InternetProxyServer** 上指定 **-InternetProxyLogin** 和 **-InternetProxyPassword**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-146">Merge Agent command line: **-InternetProxyLogin** and **-InternetProxyPassword** with **-InternetProxyServer**.</span></span>|  
  
## <a name="d-connection-to-iis"></a><span data-ttu-id="0ab48-147">D.</span><span class="sxs-lookup"><span data-stu-id="0ab48-147">D.</span></span> <span data-ttu-id="0ab48-148">连接到 IIS</span><span class="sxs-lookup"><span data-stu-id="0ab48-148">Connection to IIS</span></span>  
 <span data-ttu-id="0ab48-149">连接到订阅服务器并从订阅数据库中提取任何更改后，合并代理将向 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Internet Information Services (IIS) 发出 HTTPS 请求并将数据更改作为 XML 消息上载。</span><span class="sxs-lookup"><span data-stu-id="0ab48-149">After connecting to the Subscriber and extracting any changes from the subscription database, the Merge Agent makes an HTTPS request to [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Internet Information Services (IIS) and uploads data changes as an XML message.</span></span> <span data-ttu-id="0ab48-150">合并代理必须具有 IIS 的登录权限。</span><span class="sxs-lookup"><span data-stu-id="0ab48-150">The Merge Agent must have logon permissions to IIS.</span></span>  
  
|<span data-ttu-id="0ab48-151">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-151">Type of authentication</span></span>|<span data-ttu-id="0ab48-152">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-152">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-153">如果指定下列值之一，则将使用基本身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-153">Basic Authentication is used if one of the following is specified:</span></span><br /><br /> [!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-154">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ internet_security_mode**参数的值**0\*\* 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-154">: a value of **0** for the **\@internet_security_mode** parameter of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-155">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-155">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-156">合并代理命令行：值为**0** **microsoft.sqlserver.replication.mergesynchronizationagent.internetsecuritymode**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-156">Merge Agent command line: a value of **0** for **-InternetSecurityMode**.</span></span>|[!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-157">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ internet_login**和** \@ internet_password\*\*参数。</span><span class="sxs-lookup"><span data-stu-id="0ab48-157">: the **\@internet_login** and **\@internet_password** parameters of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-158">RMO： <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetLogin%2A> 和 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetPassword%2A>。</span><span class="sxs-lookup"><span data-stu-id="0ab48-158">RMO: <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetLogin%2A> and <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetPassword%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-159">合并代理命令行： **-InternetLogin** 和 **-InternetPassword**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-159">Merge Agent command line: **-InternetLogin** and **-InternetPassword**.</span></span>|  
|<span data-ttu-id="0ab48-160">\*如果指定下列其中一项，则使用集成身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-160">Integrated Authentication\* is used if one of the following is specified:</span></span><br /><br /> [!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-161">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ internet_security_mode**参数的值**1\*\* 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-161">: a value of **1** for the **\@internet_security_mode** parameter of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-162">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Integrated> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-162">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Integrated> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.InternetSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-163">合并代理命令行： **microsoft.sqlserver.replication.mergesynchronizationagent.internetsecuritymode**的值为**1** 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-163">Merge Agent command line: a value of **1** for **-InternetSecurityMode**.</span></span>|<span data-ttu-id="0ab48-164">合并代理 (A) 在为其指定的 Windows 用户的上下文中建立连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-164">The Merge Agent makes connections under the context of the Windows user that is specified for the Merge Agent (A).</span></span>|  
  
 <span data-ttu-id="0ab48-165">\* 仅当所有计算机都位于同一域中，或位于彼此具有信任关系的多个域中时，才可以使用集成身份验证。</span><span class="sxs-lookup"><span data-stu-id="0ab48-165">\*Integrated authentication can be used only if all computers are in the same domain or are in multiple domains that have trust relationships with each other.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0ab48-166">如果使用集成身份验证，则必须使用委托。</span><span class="sxs-lookup"><span data-stu-id="0ab48-166">Delegation is required if you use Integrated Authentication.</span></span> <span data-ttu-id="0ab48-167">对于从订阅服务器到 IIS 的连接，建议使用基本身份验证和 SSL。</span><span class="sxs-lookup"><span data-stu-id="0ab48-167">We recommend that you use Basic Authentication and SSL for connections from the Subscriber to IIS.</span></span>  
  
## <a name="e-connection-to-the-publisher"></a><span data-ttu-id="0ab48-168">E.</span><span class="sxs-lookup"><span data-stu-id="0ab48-168">E.</span></span> <span data-ttu-id="0ab48-169">连接到发布服务器</span><span class="sxs-lookup"><span data-stu-id="0ab48-169">Connection to the Publisher</span></span>  
 <span data-ttu-id="0ab48-170">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 复制侦听器和合并复制协调器组件承载于运行 IIS 的计算机上。</span><span class="sxs-lookup"><span data-stu-id="0ab48-170">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Listener and Merge Replication Reconciler components are hosted on the computer that is running IIS.</span></span> <span data-ttu-id="0ab48-171">这些组件可执行下列操作：</span><span class="sxs-lookup"><span data-stu-id="0ab48-171">These components perform the following actions:</span></span>  
  
-   <span data-ttu-id="0ab48-172">提取在“D. 连接到 IIS”部分中介绍的 HTTPS</span><span class="sxs-lookup"><span data-stu-id="0ab48-172">Pick up the HTTPS request that is described in the section "D.</span></span> <span data-ttu-id="0ab48-173">请求。</span><span class="sxs-lookup"><span data-stu-id="0ab48-173">Connection to IIS".</span></span>  
  
-   <span data-ttu-id="0ab48-174">与发布数据库建立 SQL 连接并将已上载的更改应用于发布数据库。</span><span class="sxs-lookup"><span data-stu-id="0ab48-174">Make an SQL connection to the publication database and apply the uploaded changes to the publication database.</span></span>  
  
-   <span data-ttu-id="0ab48-175">提取已下载的更改并将 HTTPS 响应发送回合并代理。</span><span class="sxs-lookup"><span data-stu-id="0ab48-175">Extract the downloaded changes and send an HTTPS response back to the Merge Agent.</span></span>  
  
 <span data-ttu-id="0ab48-176">合并复制协调器使用 Windows 身份验证或 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证连接到发布服务器。</span><span class="sxs-lookup"><span data-stu-id="0ab48-176">The Merge Replication Reconciler connects to the Publisher by using either Windows Authentication or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication.</span></span> <span data-ttu-id="0ab48-177">Windows 用户或指定的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 登录名必须符合以下条件：</span><span class="sxs-lookup"><span data-stu-id="0ab48-177">The Windows user or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login that you specify must comply with the following:</span></span>  
  
-   <span data-ttu-id="0ab48-178">位于发布访问列表 (PAL) 中。</span><span class="sxs-lookup"><span data-stu-id="0ab48-178">Be in the publication access list (PAL).</span></span> <span data-ttu-id="0ab48-179">有关详细信息，请参阅[保护发布服务器](secure-the-publisher.md)。</span><span class="sxs-lookup"><span data-stu-id="0ab48-179">For more information, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
-   <span data-ttu-id="0ab48-180">与发布数据库中的某个用户相关联。</span><span class="sxs-lookup"><span data-stu-id="0ab48-180">Be associated with a user in the publication database.</span></span>  
  
|<span data-ttu-id="0ab48-181">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-181">Type of authentication</span></span>|<span data-ttu-id="0ab48-182">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-182">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-183">如果指定下列值之一，则将使用 Windows 身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-183">Windows Authentication is used if one of the following is specified:</span></span><br /><br /> [!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-184">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ publisher_security_mode**参数的值**1\*\* 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-184">: a value of **1** for the **\@publisher_security_mode** parameter of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-185">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Integrated> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-185">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Integrated> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-186">合并代理命令行： **publishersecuritymode 指定**的值为**1** 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-186">Merge Agent command line: a value of **1** for **-PublisherSecurityMode**.</span></span>|<span data-ttu-id="0ab48-187">合并代理在为连接到 IIS (D) 而指定的 Windows 用户的上下文中与发布服务器建立连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-187">The Merge Agent makes connections to the Publisher under the context of the Windows user that is specified for the connection to IIS (D).</span></span> <span data-ttu-id="0ab48-188">如果发布服务器和 IIS 位于不同的计算机中并且将集成身份验证用于连接 (D)，则必须在运行 IIS 的计算机上启用 Kerberos 委托。</span><span class="sxs-lookup"><span data-stu-id="0ab48-188">If the Publisher and IIS are on different computers and Integrated Authentication is used for the connection (D), you must enable Kerberos delegation on the computer that is running IIS.</span></span> <span data-ttu-id="0ab48-189">有关详细信息，请参阅 Windows 文档。</span><span class="sxs-lookup"><span data-stu-id="0ab48-189">For more information, see the Windows documentation.</span></span>|  
|<span data-ttu-id="0ab48-190">如果指定下列值之一，则将使用[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-190">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication is used if one of the following is specified:</span></span><br /><br /> [!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-191">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ publisher_security_mode**参数的值**0\*\* 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-191">: a value of **0** for the **\@publisher_security_mode** parameter of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-192">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-192">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-193">合并代理命令行：值为**0** **publishersecuritymode 指定**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-193">Merge Agent command line: a value of **0** for **-PublisherSecurityMode**.</span></span>|[!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-194">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ publisher_login**和** \@ publisher_password\*\*参数。</span><span class="sxs-lookup"><span data-stu-id="0ab48-194">: the **\@publisher_login** and **\@publisher_password** parameters of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-195">RMO： <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherLogin%2A> 和 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherPassword%2A>。</span><span class="sxs-lookup"><span data-stu-id="0ab48-195">RMO: <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherLogin%2A> and <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.PublisherPassword%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-196">合并代理命令行： **-PublisherLogin** 和 **-PublisherPassword**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-196">Merge Agent command line: **-PublisherLogin** and **-PublisherPassword**.</span></span>|  
  
## <a name="f-connection-to-the-distributor"></a><span data-ttu-id="0ab48-197">F.</span><span class="sxs-lookup"><span data-stu-id="0ab48-197">F.</span></span> <span data-ttu-id="0ab48-198">连接到分发服务器</span><span class="sxs-lookup"><span data-stu-id="0ab48-198">Connection to the Distributor</span></span>  
 <span data-ttu-id="0ab48-199">在运行 IIS 的计算机上承载的合并复制协调器还与分发服务器建立连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-199">The Merge Replication Reconciler that is hosted on the computer that is running IIS also makes connections to the Distributor.</span></span> <span data-ttu-id="0ab48-200">合并复制协调器使用 Windows 身份验证或 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证连接到分发服务器。</span><span class="sxs-lookup"><span data-stu-id="0ab48-200">The Merge Replication Reconciler connects to the Distributor by using either Windows Authentication or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication.</span></span> <span data-ttu-id="0ab48-201">Windows 用户或指定的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 登录名必须符合以下条件：</span><span class="sxs-lookup"><span data-stu-id="0ab48-201">The Windows user or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login that you specify must comply with the following:</span></span>  
  
-   <span data-ttu-id="0ab48-202">位于发布访问列表 (PAL) 中。</span><span class="sxs-lookup"><span data-stu-id="0ab48-202">Be in the publication access (PAL).</span></span> <span data-ttu-id="0ab48-203">有关详细信息，请参阅[保护发布服务器](secure-the-publisher.md)。</span><span class="sxs-lookup"><span data-stu-id="0ab48-203">For more information, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
-   <span data-ttu-id="0ab48-204">与分发数据库中的某个数据库用户相关联。</span><span class="sxs-lookup"><span data-stu-id="0ab48-204">Be associated with a database user in the distribution database.</span></span> <span data-ttu-id="0ab48-205">用户可以为 `Guest` 用户。</span><span class="sxs-lookup"><span data-stu-id="0ab48-205">The user can be the `Guest` user.</span></span>  
  
 <span data-ttu-id="0ab48-206">快照共享通常位于分发服务器上。</span><span class="sxs-lookup"><span data-stu-id="0ab48-206">The snapshot share is typically on the Distributor.</span></span> <span data-ttu-id="0ab48-207">有关快照共享的详细信息，请参阅本主题后面的“H.</span><span class="sxs-lookup"><span data-stu-id="0ab48-207">For more information about snapshot shares, see the section "H.</span></span> <span data-ttu-id="0ab48-208">访问快照共享”部分。</span><span class="sxs-lookup"><span data-stu-id="0ab48-208">Access to the snapshot share" later in this topic.</span></span>  
  
|<span data-ttu-id="0ab48-209">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-209">Type of authentication</span></span>|<span data-ttu-id="0ab48-210">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-210">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-211">如果指定下列值之一，则将使用 Windows 身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-211">Windows Authentication is used if one of the following is specified:</span></span><br /><br /> [!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-212">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ distributor_security_mode**参数的值**1\*\* 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-212">: a value of **1** for the **\@distributor_security_mode** parameter of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-213">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Integrated> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-213">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Integrated> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-214">合并代理命令行： **distributorsecuritymode 指定**的值为**1** 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-214">Merge Agent command line: a value of **1** for **-DistributorSecurityMode**.</span></span>|<span data-ttu-id="0ab48-215">合并代理在为连接到 IIS (D) 而指定的 Windows 用户的上下文中与分发服务器建立连接。</span><span class="sxs-lookup"><span data-stu-id="0ab48-215">The Merge Agent makes connections to the Distributor under the context of the Windows user that is specified for the connection to IIS (D).</span></span> <span data-ttu-id="0ab48-216">如果分发服务器和 IIS 位于不同的计算机中并且将集成身份验证用于连接 (D)，则必须在运行 IIS 的计算机上启用 Kerberos 委托。</span><span class="sxs-lookup"><span data-stu-id="0ab48-216">If the Distributor and IIS are on different computers and Integrated Authentication is used for the connection (D), you must enable Kerberos delegation on the computer that is running IIS.</span></span> <span data-ttu-id="0ab48-217">有关详细信息，请参阅 Windows 文档。</span><span class="sxs-lookup"><span data-stu-id="0ab48-217">For more information, see the Windows documentation.</span></span>|  
|<span data-ttu-id="0ab48-218">如果指定下列值之一，则将使用[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 身份验证：</span><span class="sxs-lookup"><span data-stu-id="0ab48-218">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication is used if one of the following is specified:</span></span><br /><br /> [!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-219">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ distributor_security_mode**参数的值**0\*\* 。</span><span class="sxs-lookup"><span data-stu-id="0ab48-219">: a value of **0** for the **\@distributor_security_mode** parameter of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-220">RMO：为 <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> 指定 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorSecurityMode%2A> 值。</span><span class="sxs-lookup"><span data-stu-id="0ab48-220">RMO: a value of <xref:Microsoft.SqlServer.Replication.SecurityMode.Standard> for <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorSecurityMode%2A>.</span></span><br /><br /> <span data-ttu-id="0ab48-221">合并代理命令行：值为**0** **distributorsecuritymode 指定**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-221">Merge Agent command line: a value of **0** for **-DistributorSecurityMode**.</span></span>|[!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-222">： [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)的\*\* \@ distributor_login**和** \@ distributor_password\*\*参数。</span><span class="sxs-lookup"><span data-stu-id="0ab48-222">: the **\@distributor_login** and **\@distributor_password** parameters of [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-223">RMO： <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorLogin%2A> 和 <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorPassword%2A></span><span class="sxs-lookup"><span data-stu-id="0ab48-223">RMO: <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorLogin%2A> and <xref:Microsoft.SqlServer.Replication.MergeSynchronizationAgent.DistributorPassword%2A></span></span><br /><br /> <span data-ttu-id="0ab48-224">合并代理命令行： **-DistributorLogin** 和 **-DistributorPassword**。</span><span class="sxs-lookup"><span data-stu-id="0ab48-224">Merge Agent command line: **-DistributorLogin** and **-DistributorPassword**.</span></span>|  
  
## <a name="g-connection-to-an-ftp-server"></a><span data-ttu-id="0ab48-225">G.</span><span class="sxs-lookup"><span data-stu-id="0ab48-225">G.</span></span> <span data-ttu-id="0ab48-226">连接到 FTP 服务器</span><span class="sxs-lookup"><span data-stu-id="0ab48-226">Connection to an FTP Server</span></span>  
 <span data-ttu-id="0ab48-227">仅当在将快照应用到订阅服务器之前，将快照文件从 FTP 服务器（而不是 UNC 位置）下载到运行 IIS 的计算机上时，才为该连接指定 Windows 用户。</span><span class="sxs-lookup"><span data-stu-id="0ab48-227">Specify a Windows user for this connection only if you will download snapshot files from an FTP server, instead of from a UNC location, to the computer that is running IIS before you apply the snapshot to the Subscriber.</span></span> <span data-ttu-id="0ab48-228">有关详细信息，请参阅[通过 FTP 传输快照](../transfer-snapshots-through-ftp.md)。</span><span class="sxs-lookup"><span data-stu-id="0ab48-228">For more information, see [Transfer Snapshots Through FTP](../transfer-snapshots-through-ftp.md).</span></span>  
  
|<span data-ttu-id="0ab48-229">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-229">Type of authentication</span></span>|<span data-ttu-id="0ab48-230">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-230">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-231">Windows 身份验证</span><span class="sxs-lookup"><span data-stu-id="0ab48-231">Windows Authentication</span></span>|[!INCLUDE[tsql](../../../includes/tsql-md.md)]<span data-ttu-id="0ab48-232">： [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql)的\*\* \@ ftp_login**和** \@ ftp_password\*\*参数。</span><span class="sxs-lookup"><span data-stu-id="0ab48-232">: the **\@ftp_login** and **\@ftp_password** parameters of [sp_addmergepublication](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql).</span></span><br /><br /> <span data-ttu-id="0ab48-233">RMO： <xref:Microsoft.SqlServer.Replication.Publication.FtpLogin%2A> 和 <xref:Microsoft.SqlServer.Replication.Publication.FtpPassword%2A>。</span><span class="sxs-lookup"><span data-stu-id="0ab48-233">RMO: <xref:Microsoft.SqlServer.Replication.Publication.FtpLogin%2A> and <xref:Microsoft.SqlServer.Replication.Publication.FtpPassword%2A>.</span></span>|  
  
## <a name="h-access-to-the-snapshot-share"></a><span data-ttu-id="0ab48-234">H.</span><span class="sxs-lookup"><span data-stu-id="0ab48-234">H.</span></span> <span data-ttu-id="0ab48-235">访问快照共享</span><span class="sxs-lookup"><span data-stu-id="0ab48-235">Access to the Snapshot Share</span></span>  
 <span data-ttu-id="0ab48-236">在运行 IIS 的计算机上承载的合并复制协调器将访问快照共享。</span><span class="sxs-lookup"><span data-stu-id="0ab48-236">The snapshot share is accessed by the Merge Replication Reconciler that is hosted on the computer that is running IIS.</span></span>  
  
|<span data-ttu-id="0ab48-237">身份验证类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-237">Type of authentication</span></span>|<span data-ttu-id="0ab48-238">指定身份验证的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-238">Where the authentication is specified</span></span>|  
|----------------------------|-------------------------------------------|  
|<span data-ttu-id="0ab48-239">Windows 身份验证</span><span class="sxs-lookup"><span data-stu-id="0ab48-239">Windows Authentication</span></span>|<span data-ttu-id="0ab48-240">合并代理在为连接到 IIS (D) 而指定的 Windows 用户的上下文中访问快照共享。</span><span class="sxs-lookup"><span data-stu-id="0ab48-240">The Merge Agent accesses the snapshot share under the context of the Windows user that is specified for the connection to IIS (D).</span></span> <span data-ttu-id="0ab48-241">如果快照共享和 IIS 位于不同的计算机中并且将集成身份验证用于连接 (D)，则必须在运行 IIS 的计算机上启用 Kerberos 委托。</span><span class="sxs-lookup"><span data-stu-id="0ab48-241">If the snapshot share and IIS are on different computers and Integrated Authentication is used for the connection (D), you must enable Kerberos delegation on the computer that is running IIS.</span></span> <span data-ttu-id="0ab48-242">有关详细信息，请参阅 Windows 文档。</span><span class="sxs-lookup"><span data-stu-id="0ab48-242">For more information, see the Windows documentation.</span></span>|  
  
## <a name="i-application-pool-account-for-iis"></a><span data-ttu-id="0ab48-243">I.</span><span class="sxs-lookup"><span data-stu-id="0ab48-243">I.</span></span> <span data-ttu-id="0ab48-244">IIS 的应用程序池帐户</span><span class="sxs-lookup"><span data-stu-id="0ab48-244">Application Pool Account for IIS</span></span>  
 <span data-ttu-id="0ab48-245">该帐户用来在运行 IIS 的计算机上为 [!INCLUDE[winxpsvr](../../../includes/winxpsvr-md.md)] 启动 W3wp.exe 进程，或在 [!INCLUDE[win2kfamily](../../../includes/win2kfamily-md.md)]上启动 Dllhost.exe 进程。</span><span class="sxs-lookup"><span data-stu-id="0ab48-245">This account is used to start the W3wp.exe process on the computer that is running IIS for [!INCLUDE[winxpsvr](../../../includes/winxpsvr-md.md)] or the Dllhost.exe process on [!INCLUDE[win2kfamily](../../../includes/win2kfamily-md.md)].</span></span> <span data-ttu-id="0ab48-246">这些进程可承载运行 IIS 的计算机上的应用程序，如 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 复制侦听器和合并复制协调器。</span><span class="sxs-lookup"><span data-stu-id="0ab48-246">These processes host applications on the computer that is running IIS, such as the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Listener and Merge Replication Reconciler.</span></span> <span data-ttu-id="0ab48-247">该帐户应该对运行 IIS 的计算机上的以下复制 DLL 具有读取和执行权限：</span><span class="sxs-lookup"><span data-stu-id="0ab48-247">This account should have read and execute permissions on the following replication DLLs on the computer that is running IIS:</span></span>  
  
-   <span data-ttu-id="0ab48-248">Replisapi</span><span class="sxs-lookup"><span data-stu-id="0ab48-248">Replisapi</span></span>  
  
-   <span data-ttu-id="0ab48-249">Replrec</span><span class="sxs-lookup"><span data-stu-id="0ab48-249">Replrec</span></span>  
  
-   <span data-ttu-id="0ab48-250">Replprov</span><span class="sxs-lookup"><span data-stu-id="0ab48-250">Replprov</span></span>  
  
-   <span data-ttu-id="0ab48-251">Msgprox</span><span class="sxs-lookup"><span data-stu-id="0ab48-251">Msgprox</span></span>  
  
-   <span data-ttu-id="0ab48-252">Xmlsub</span><span class="sxs-lookup"><span data-stu-id="0ab48-252">Xmlsub</span></span>  
  
 <span data-ttu-id="0ab48-253">该帐户还应属于 IIS_WPG 组。</span><span class="sxs-lookup"><span data-stu-id="0ab48-253">The account should also be part of IIS_WPG group.</span></span> <span data-ttu-id="0ab48-254">有关详细信息，请参阅[配置 IIS 以实现 Web 同步](../configure-iis-for-web-synchronization.md)中的“设置 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 复制侦听器的权限”一节。</span><span class="sxs-lookup"><span data-stu-id="0ab48-254">For more information, see the section "Setting Permissions for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Replication Listener" in [Configure IIS for Web Synchronization](../configure-iis-for-web-synchronization.md).</span></span>  
  
|<span data-ttu-id="0ab48-255">帐户的类型</span><span class="sxs-lookup"><span data-stu-id="0ab48-255">Type of account</span></span>|<span data-ttu-id="0ab48-256">指定帐户的位置</span><span class="sxs-lookup"><span data-stu-id="0ab48-256">Where the account is specified</span></span>|  
|---------------------|------------------------------------|  
|<span data-ttu-id="0ab48-257">具有所需权限的任何 Windows 用户。</span><span class="sxs-lookup"><span data-stu-id="0ab48-257">Any Windows user that has the required permissions.</span></span>|<span data-ttu-id="0ab48-258">Internet 信息服务 (IIS) 管理器。</span><span class="sxs-lookup"><span data-stu-id="0ab48-258">Internet Information Services (IIS) Manager.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="0ab48-259">另请参阅</span><span class="sxs-lookup"><span data-stu-id="0ab48-259">See Also</span></span>  
 <span data-ttu-id="0ab48-260">[Configure Web Synchronization](../configure-web-synchronization.md) </span><span class="sxs-lookup"><span data-stu-id="0ab48-260">[Configure Web Synchronization](../configure-web-synchronization.md) </span></span>  
 [<span data-ttu-id="0ab48-261">Replication Merge Agent</span><span class="sxs-lookup"><span data-stu-id="0ab48-261">Replication Merge Agent</span></span>](../agents/replication-merge-agent.md)  
  
  
