---
title: SQL Server 复制发布属性-|Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- sql12.rep.newpubwizard.pubproperties.agentsecurity.f1
- sql12.rep.newpubwizard.pubproperties.datapartitions.f1
- sql12.rep.newpubwizard.pubproperties.filterrows.f1
- sql12.rep.newpubwizard.pubproperties.internetsynchronization.f1
- sql12.rep.newpubwizard.pubproperties.general.f1
- sql12.rep.newpubwizard.pubproperties.publicationaccesslist.f1
- sql12.rep.newpubwizard.pubproperties.snapshotformat.f1
helpviewer_keywords:
- Publication Properties dialog box
ms.assetid: 66e845e9-1308-4288-9110-ad2f22f1fc58
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: b9d8f107996d54195ec243dca633152289cdcc73
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87591278"
---
# <a name="sql-server-replication-publication-properties"></a><span data-ttu-id="2d45f-102">SQL Server 复制发布属性</span><span class="sxs-lookup"><span data-stu-id="2d45f-102">SQL Server Replication Publication Properties</span></span> 
  <span data-ttu-id="2d45f-103">本部分提供有关 "**发布属性**" 对话框的所有页面的信息。</span><span class="sxs-lookup"><span data-stu-id="2d45f-103">This section provides information on all pages of the **Publication Properties** dialog box.</span></span> 

## <a name="general"></a><span data-ttu-id="2d45f-104">常规</span><span class="sxs-lookup"><span data-stu-id="2d45f-104">General</span></span>
  <span data-ttu-id="2d45f-105">**“发布属性”** 对话框的 **“常规”** 页包含发布的基本信息，包括名称、说明和订阅过期策略。</span><span class="sxs-lookup"><span data-stu-id="2d45f-105">The **General** page of the **Publication Properties** dialog box contains basic information on the publication, including name, description, and the subscription expiration policy.</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-106">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-106">Options</span></span>  
 <span data-ttu-id="2d45f-107">**名称**</span><span class="sxs-lookup"><span data-stu-id="2d45f-107">**Name**</span></span>  
 <span data-ttu-id="2d45f-108">发布的名称（只读）。</span><span class="sxs-lookup"><span data-stu-id="2d45f-108">The name of the publication (read-only).</span></span>  
  
 <span data-ttu-id="2d45f-109">**Database**</span><span class="sxs-lookup"><span data-stu-id="2d45f-109">**Database**</span></span>  
 <span data-ttu-id="2d45f-110">发布数据库的名称（只读）。</span><span class="sxs-lookup"><span data-stu-id="2d45f-110">The name of the publication database (read-only).</span></span>  
  
 <span data-ttu-id="2d45f-111">**说明**</span><span class="sxs-lookup"><span data-stu-id="2d45f-111">**Description**</span></span>  
 <span data-ttu-id="2d45f-112">发布的说明。</span><span class="sxs-lookup"><span data-stu-id="2d45f-112">The description of the publication.</span></span>  
  
 <span data-ttu-id="2d45f-113">类型</span><span class="sxs-lookup"><span data-stu-id="2d45f-113">**Type**</span></span>  
 <span data-ttu-id="2d45f-114">发布的类型（只读）。</span><span class="sxs-lookup"><span data-stu-id="2d45f-114">The type of publication (read-only).</span></span>  
  
 <span data-ttu-id="2d45f-115">**订阅过期**</span><span class="sxs-lookup"><span data-stu-id="2d45f-115">**Subscription expiration**</span></span>  
 <span data-ttu-id="2d45f-116">选择以下订阅过期选项之一：“订阅永不过期”或带有明确时间段（“间隔”）的“订阅过期”  。</span><span class="sxs-lookup"><span data-stu-id="2d45f-116">Select one of the options for subscription expiration: **Subscriptions never expire** or **Subscriptions expire**, with an explicit time period (**Interval**).</span></span>  
  
 <span data-ttu-id="2d45f-117">对于快照和事务发布， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 建议您接受默认选项 **“订阅永不过期”** 。</span><span class="sxs-lookup"><span data-stu-id="2d45f-117">For snapshot and transactional publications, [!INCLUDE[msCoName](../../includes/msconame-md.md)] recommends that you accept the default of **Subscriptions never expire**.</span></span>  
  
 <span data-ttu-id="2d45f-118">对于合并复制， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 建议您接受默认选项 **“订阅过期”** ，并设置尽可能低的 **“间隔”** 。</span><span class="sxs-lookup"><span data-stu-id="2d45f-118">For merge replication, [!INCLUDE[msCoName](../../includes/msconame-md.md)] recommends that you accept the default of **Subscriptions expire** and set as low a value as possible for **Interval**.</span></span> <span data-ttu-id="2d45f-119">元数据的存储量会随着订阅过期时间的增加而增加，这会影响性能。</span><span class="sxs-lookup"><span data-stu-id="2d45f-119">As the subscription expiration period increases, so does the amount of metadata stored, which can affect performance.</span></span> <span data-ttu-id="2d45f-120">这需要在要求订阅服务器在更长的时间内保持断开或不同步与存储和处理大量元数据所带来的性能问题之间取得平衡。</span><span class="sxs-lookup"><span data-stu-id="2d45f-120">Balance the need for Subscribers to be disconnected or simply not to synchronize for an extended period against the potential performance issues of storing and processing a large amount of metadata.</span></span>  
  
 <span data-ttu-id="2d45f-121">有关详细信息，请参阅 [Subscription Expiration and Deactivation](subscription-expiration-and-deactivation.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-121">For more information, see [Subscription Expiration and Deactivation](subscription-expiration-and-deactivation.md).</span></span>  
  
 <span data-ttu-id="2d45f-122">**兼容性级别**</span><span class="sxs-lookup"><span data-stu-id="2d45f-122">**Compatibility level**</span></span>  
 <span data-ttu-id="2d45f-123">仅限 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 和更高版本；仅限合并发布。</span><span class="sxs-lookup"><span data-stu-id="2d45f-123">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions only; merge publications only.</span></span> <span data-ttu-id="2d45f-124">选择与此发布同步的订阅服务器所需的最低 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本。</span><span class="sxs-lookup"><span data-stu-id="2d45f-124">Select the minimum [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] version required for Subscribers that synchronize with this publication.</span></span> <span data-ttu-id="2d45f-125">有多个与确定兼容级别有关的规则。</span><span class="sxs-lookup"><span data-stu-id="2d45f-125">There are a number of rules associated with determining the compatibility level.</span></span>  

## <a name="filter-rows"></a><span data-ttu-id="2d45f-126">筛选行</span><span class="sxs-lookup"><span data-stu-id="2d45f-126">Filter Rows</span></span>

  <span data-ttu-id="2d45f-127">可以使用 **“发布属性”** 对话框的 **“筛选行”** 页，执行添加、编辑或删除操作：</span><span class="sxs-lookup"><span data-stu-id="2d45f-127">The **Filter Rows** page of the **Publication Properties** dialog allows you to add, edit, or delete:</span></span>  
  
-   <span data-ttu-id="2d45f-128">将静态行筛选器应用于快照发布、事务发布和合并发布中的表项目。</span><span class="sxs-lookup"><span data-stu-id="2d45f-128">Apply static row filters to table articles in snapshot, transactional, and merge publications.</span></span>    
-   <span data-ttu-id="2d45f-129">将参数化行筛选器应用于合并发布中的表项目。</span><span class="sxs-lookup"><span data-stu-id="2d45f-129">Apply parameterized row filters to table articles in merge publications.</span></span>    
-   <span data-ttu-id="2d45f-130">使用联接筛选器将合并表项目的筛选器扩展到相关表项目。</span><span class="sxs-lookup"><span data-stu-id="2d45f-130">Use join filters to extend filters on merge table articles to related table articles.</span></span>  
  
 <span data-ttu-id="2d45f-131">有关筛选选项的详细信息，请参阅[筛选已发布数据](publish/filter-published-data.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-131">For more information about filtering options, see [Filter Published Data](publish/filter-published-data.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2d45f-132">添加、编辑或删除筛选器需要新的发布快照，并且需要重新初始化所有订阅。</span><span class="sxs-lookup"><span data-stu-id="2d45f-132">Adding, editing, or deleting a filter requires a new snapshot for the publication and requires that all subscriptions be reinitialized.</span></span>  
  
 <span data-ttu-id="2d45f-133">为了获得最佳的应用程序性能并减少所需的远程存储量，或者要限定某些数据仅供特定的订阅服务器使用，您应该只发布所需数据。</span><span class="sxs-lookup"><span data-stu-id="2d45f-133">To maximize application performance and reduce the amount of remote storage required, or to restrict the availability of certain data to specific Subscribers, you should publish only the data required.</span></span> <span data-ttu-id="2d45f-134">发布中既可以包含未筛选的表，也可以包含已筛选的表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-134">Your publication can include both unfiltered and filtered tables.</span></span> <span data-ttu-id="2d45f-135">例如，可以包含公司产品的完整（未筛选）表，然后使用行筛选器提供一个仅包含特定区域客户的筛选表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-135">For example, you could include the complete (unfiltered) table of company products and use row filters to provide a filtered table of customers for a specific region.</span></span> <span data-ttu-id="2d45f-136">通过筛选已发布数据，可以：</span><span class="sxs-lookup"><span data-stu-id="2d45f-136">By filtering published data, you can:</span></span>  
  
-   <span data-ttu-id="2d45f-137">最大程度地减少通过网络发送的数据量。</span><span class="sxs-lookup"><span data-stu-id="2d45f-137">Minimize the amount of data sent over the network.</span></span>    
-   <span data-ttu-id="2d45f-138">减少订阅服务器上需要的存储空间量。</span><span class="sxs-lookup"><span data-stu-id="2d45f-138">Reduce the amount of storage space required at the Subscriber.</span></span>    
-   <span data-ttu-id="2d45f-139">根据各个订阅服务器的要求，自定义发布和应用程序。</span><span class="sxs-lookup"><span data-stu-id="2d45f-139">Customize publications and applications based on individual Subscriber requirements.</span></span>    
-   <span data-ttu-id="2d45f-140">由于可以将不同的数据分区发送到不同的订阅服务器（没有两个订阅服务器会同时更新相同的数据值），因此可以避免或减少订阅服务器更新数据时的冲突。</span><span class="sxs-lookup"><span data-stu-id="2d45f-140">Avoid or reduce conflicts if Subscribers are updating data, because different data partitions can be sent to different Subscribers (no two Subscribers will be updating the same data values).</span></span>    
-   <span data-ttu-id="2d45f-141">避免传输敏感数据。</span><span class="sxs-lookup"><span data-stu-id="2d45f-141">Avoid transmitting sensitive data.</span></span> <span data-ttu-id="2d45f-142">行筛选器和列筛选器可以用于限制订阅服务器对数据的访问。</span><span class="sxs-lookup"><span data-stu-id="2d45f-142">Row filters and column filters can be used to restrict a Subscriber's access to data.</span></span> <span data-ttu-id="2d45f-143">对于合并复制，如果使用包括 HOST_NAME() 的参数化筛选器，则需要考虑安全问题。</span><span class="sxs-lookup"><span data-stu-id="2d45f-143">For merge replication, there are security considerations if you use a parameterized filter that includes HOST_NAME().</span></span> <span data-ttu-id="2d45f-144">有关详细信息，请参阅 [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md)中的“使用 HOST_NAME() 进行筛选”部分。</span><span class="sxs-lookup"><span data-stu-id="2d45f-144">For more information, see the section "Filtering with HOST_NAME()" in [Parameterized Row Filters](merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-145">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-145">Options</span></span>  
 <span data-ttu-id="2d45f-146">**筛选的表**</span><span class="sxs-lookup"><span data-stu-id="2d45f-146">**Filtered Tables**</span></span>  
 <span data-ttu-id="2d45f-147">此窗格使用您向发布中的表项目添加的筛选器进行填充。</span><span class="sxs-lookup"><span data-stu-id="2d45f-147">This pane is populated with filters as you add them to table articles in the publication.</span></span> <span data-ttu-id="2d45f-148">带行筛选器的表在窗格中显示为顶级节点。</span><span class="sxs-lookup"><span data-stu-id="2d45f-148">Tables with row filters are shown as top-level nodes in the pane.</span></span> <span data-ttu-id="2d45f-149">对于合并发布，筛选操作通过联接筛选器扩展到的表显示为子节点。</span><span class="sxs-lookup"><span data-stu-id="2d45f-149">For merge publications, tables to which filtering has been extended through a join filter are shown as child nodes.</span></span>  
  
 <span data-ttu-id="2d45f-150">**添加**</span><span class="sxs-lookup"><span data-stu-id="2d45f-150">**Add**</span></span>  
 <span data-ttu-id="2d45f-151">单击 **“添加”** 可以启动一个用于对表项目进行筛选的对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-151">Click **Add** to launch a dialog box that enables you to filter table articles.</span></span> <span data-ttu-id="2d45f-152">对于快照发布或事务发布，单击 **“添加”** 将立即启动对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-152">Clicking **Add** for a snapshot or transactional publication launches a dialog box immediately.</span></span> <span data-ttu-id="2d45f-153">对于合并发布，单击“添加”将会显示三个选项 ：“添加筛选器”、“添加联接以扩展所选筛选器”和“自动生成筛选器”  。</span><span class="sxs-lookup"><span data-stu-id="2d45f-153">Clicking **Add** for a merge publication displays three choices: **Add Filter**; **Add Join to Extend the Selected Filter**; **Automatically Generate Filters**.</span></span>  
  
-   <span data-ttu-id="2d45f-154">选择 **“添加筛选器”** 将启动 **“添加筛选器”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-154">Select **Add Filter** to launch the **Add Filter** dialog box.</span></span> <span data-ttu-id="2d45f-155">使用此对话框可以将行筛选器应用于表项目。</span><span class="sxs-lookup"><span data-stu-id="2d45f-155">This dialog box allows you to apply row filters to a table article.</span></span> <span data-ttu-id="2d45f-156">例如，在 **“添加筛选器”** 对话框中，可以指定在将包含客户数据的表复制到订阅服务器时，该表应只包含法国客户的相关数据。</span><span class="sxs-lookup"><span data-stu-id="2d45f-156">In the **Add Filter** dialog box, you could, for example, specify that a table with customer data should only contain data on French customers when it is replicated to Subscribers.</span></span>  
  
-   <span data-ttu-id="2d45f-157">选择 **“添加联接以扩展所选筛选器”** 将启动 **“添加联接”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-157">Select **Add Join to Extend the Selected Filter** to launch the **Add Join** dialog box.</span></span> <span data-ttu-id="2d45f-158">使用 **“添加联接”** 对话框，可以对行筛选器进行扩展，这样就可以筛选与行筛选器所在表相关的表中的数据。</span><span class="sxs-lookup"><span data-stu-id="2d45f-158">The **Add Join** dialog box allows you to extend a row filter so that it filters data in tables related to the table with the row filter.</span></span> <span data-ttu-id="2d45f-159">例如，如果筛选一个客户表以便它仅包含法国客户的相关数据，并且还有一个与客户订单相关的表，则可以在两个表之间定义一个联接，以便该订单表仅包括来自法国客户的订单。</span><span class="sxs-lookup"><span data-stu-id="2d45f-159">For example, if a customer table is filtered so that it only contains data on French customers and there is a related table for customer orders, you can define a join between the two tables so that the orders table only includes orders from French customers.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2d45f-160">只有在筛选器窗格中选择了联接的基表后，此选项才可用。</span><span class="sxs-lookup"><span data-stu-id="2d45f-160">This option is available only if you first select the base table of the join in the filter pane.</span></span>  
  
-   <span data-ttu-id="2d45f-161">选择 **“自动生成筛选器”** 将启动 **“生成筛选器”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-161">Select **Automatically Generate Filters** to launch the **Generate Filters** dialog box.</span></span> <span data-ttu-id="2d45f-162">使用此对话框可以为合并发布中的某个表定义行筛选器，复制会自动将该行筛选器扩展到通过外键关系相关联的其他表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-162">This dialog box allows you to define a row filter on one table in a merge publication that replication automatically extends to other tables that are related through foreign key relationships.</span></span> <span data-ttu-id="2d45f-163">例如，一个发布可以包括三个表：客户表、订单表（带有指向客户表的外键）和订单详细信息表（带有指向订单表的外键）。</span><span class="sxs-lookup"><span data-stu-id="2d45f-163">For example, a publication could include three tables: a customer table, an orders table (with a foreign key to the customer table), and an order details table (with a foreign key to the orders table).</span></span> <span data-ttu-id="2d45f-164">为客户表定义行筛选器后，复制会将该行筛选器扩展到其他表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-164">Define a row filter on the customer table, and replication will extend it to the other tables.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2d45f-165">当通过复制自动生成筛选器时，会删除发布中的所有现有筛选器。</span><span class="sxs-lookup"><span data-stu-id="2d45f-165">When filters are automatically generated by replication, any existing filters on the publication are deleted.</span></span> <span data-ttu-id="2d45f-166">若要同时包括自动生成的筛选器和手动指定的筛选器，请首先生成筛选器。</span><span class="sxs-lookup"><span data-stu-id="2d45f-166">To include both filters generated automatically and ones specified manually, generate filters first.</span></span> <span data-ttu-id="2d45f-167">对于每个发布，只能指定一组自动生成的筛选器。</span><span class="sxs-lookup"><span data-stu-id="2d45f-167">You can only specify one set of automatically generated filters for each publication.</span></span>  
  
 <span data-ttu-id="2d45f-168">**编辑**</span><span class="sxs-lookup"><span data-stu-id="2d45f-168">**Edit**</span></span>  
 <span data-ttu-id="2d45f-169">在筛选器窗格中选择一个行筛选器或联接筛选器，然后单击 **“编辑”** 以启动 **“编辑筛选器”** 或 **“编辑联接”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-169">Select a row filter or join filter in the filter pane and click **Edit** to launch the **Edit Filter** or **Edit Join** dialog box.</span></span>  
  
 <span data-ttu-id="2d45f-170">**删除**</span><span class="sxs-lookup"><span data-stu-id="2d45f-170">**Delete**</span></span>  
 <span data-ttu-id="2d45f-171">在筛选器窗格中选择一个行筛选器或联接筛选器，然后单击 **“删除”** 以删除该筛选器。</span><span class="sxs-lookup"><span data-stu-id="2d45f-171">Select a row filter or join filter in the filter pane and click **Delete** to delete the filter.</span></span>  
  
 <span data-ttu-id="2d45f-172">**查找表**</span><span class="sxs-lookup"><span data-stu-id="2d45f-172">**Find Table**</span></span>  
 <span data-ttu-id="2d45f-173">仅限合并发布。</span><span class="sxs-lookup"><span data-stu-id="2d45f-173">Merge publications only.</span></span> <span data-ttu-id="2d45f-174">单击 **“查找表”** 可以在复杂的筛选器树中查找表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-174">Click **Find Table** to find a table in a complex filter tree.</span></span> <span data-ttu-id="2d45f-175">在关系复杂的数据库中，一个表可以联接到多个表，因此可能出现在筛选器树中的多个位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-175">In a database with complex relationships, a table can be joined to multiple tables, and therefore can appear in more than one place in the filter tree.</span></span>  
  
 <span data-ttu-id="2d45f-176">实际的表只显示在树中的一个位置，该表在其他位置使用快捷方式来表示。</span><span class="sxs-lookup"><span data-stu-id="2d45f-176">The actual table appears in only one place in the tree, and in other places, the table is represented by a shortcut.</span></span> <span data-ttu-id="2d45f-177">表的快捷方式只是对该表的引用；它不显示该表的子节点。</span><span class="sxs-lookup"><span data-stu-id="2d45f-177">A shortcut to a table is only a reference to the table; it does not show the child nodes of the table.</span></span> <span data-ttu-id="2d45f-178">快捷方式节点标记有快捷方式箭头，展开该节点将会显示文本“单击‘查找表’可查看 \<tablename> 表”。</span><span class="sxs-lookup"><span data-stu-id="2d45f-178">A shortcut node is marked with a shortcut arrow, and expanding that node shows the text **Click Find Table to see table for \<tablename>**.</span></span>  
  
 <span data-ttu-id="2d45f-179">在窗格中选择快捷方式节点并单击 **“查找表”** 。窗格将展开并突出显示该表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-179">Select a shortcut node in the pane and click **Find Table** The pane is expanded and the table is highlighted.</span></span> <span data-ttu-id="2d45f-180">如果单击 **“查找表”** 而没有选定快捷方式节点，将会启动 **“查找表”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-180">If you click **Find Table** without a shortcut node selected, a **Find Table** dialog box is launched.</span></span>  
  
 <span data-ttu-id="2d45f-181">**筛选器**</span><span class="sxs-lookup"><span data-stu-id="2d45f-181">**Filter**</span></span>  
 <span data-ttu-id="2d45f-182">包含筛选器窗格中选定筛选器的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 定义。</span><span class="sxs-lookup"><span data-stu-id="2d45f-182">Contains the [!INCLUDE[tsql](../../includes/tsql-md.md)] definition for the filter selected in the filter pane.</span></span>  

## <a name="ftp-snapshot-and-internet"></a><span data-ttu-id="2d45f-183">FTP 快照和 Internet</span><span class="sxs-lookup"><span data-stu-id="2d45f-183">FTP Snapshot and Internet</span></span>
  
<span data-ttu-id="2d45f-184">使用此页，您可以：</span><span class="sxs-lookup"><span data-stu-id="2d45f-184">This page allows you to:</span></span>  
  
-   <span data-ttu-id="2d45f-185">设置通过文件传输协议 (FTP) 传递快照的属性。</span><span class="sxs-lookup"><span data-stu-id="2d45f-185">Set properties for delivering the snapshot through File Transfer Protocol (FTP).</span></span> <span data-ttu-id="2d45f-186">有关详细信息，请参阅[通过 FTP Windows 传输快照](transfer-snapshots-through-ftp.md)文档。</span><span class="sxs-lookup"><span data-stu-id="2d45f-186">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md) Windows documentation for more information.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2d45f-187">对任意 FTP 设置的更改都要求生成新的快照。</span><span class="sxs-lookup"><span data-stu-id="2d45f-187">Changes to any FTP settings require a new snapshot to be generated.</span></span>  
  
-   <span data-ttu-id="2d45f-188">设置 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 和更高版本上合并复制的 Web 同步的属性，Web 同步允许通过 HTTPS（安全超文本传输协议）来同步订阅。</span><span class="sxs-lookup"><span data-stu-id="2d45f-188">Set properties for Web synchronization for merge replication on [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions, which allows subscriptions to be synchronized over HTTPS (secure hypertext transfer protocol).</span></span> <span data-ttu-id="2d45f-189">若要使用 Web 同步，则必须配置 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet 信息服务 (IIS) 服务器。</span><span class="sxs-lookup"><span data-stu-id="2d45f-189">To use Web synchronization, you must configure an [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) server.</span></span> <span data-ttu-id="2d45f-190">有关详细信息，请参阅 [Web Synchronization for Merge Replication](web-synchronization-for-merge-replication.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-190">For more information, see [Web Synchronization for Merge Replication](web-synchronization-for-merge-replication.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-191">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-191">Options</span></span>  
 <span data-ttu-id="2d45f-192">**通过 FTP 访问快照文件**</span><span class="sxs-lookup"><span data-stu-id="2d45f-192">**Access snapshot files via FTP**</span></span>  
 <span data-ttu-id="2d45f-193">若要允许订阅服务器使用 FTP 传递快照，请选择 **“允许订阅服务器使用 FTP (文件传输协议)下载快照文件”** ，并指定 **“FTP 服务器名称”** 、 **“端口号”** 、 **“从 FTP 根文件夹开始的路径”** 、 **“登录名”** 和 **“密码”** 。</span><span class="sxs-lookup"><span data-stu-id="2d45f-193">Select **Allow Subscribers to download snapshot files using FTP (File Transfer Protocol)**, and specify **FTP server name**, **Port number**, **Path from the FTP root folder**, **Login**, and **Password**, to allow Subscribers to use FTP for snapshot delivery.</span></span>  
  
 <span data-ttu-id="2d45f-194">此选项允许订阅服务器使用 FTP 检索快照文件，但不要求订阅服务器进行此操作。</span><span class="sxs-lookup"><span data-stu-id="2d45f-194">This option allows Subscribers to use FTP to retrieve snapshot files, but does not require them to do so.</span></span> <span data-ttu-id="2d45f-195">如果选择此选项，新建订阅向导将默认为允许订阅服务器通过 FTP 检索快照文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-195">If you select this option, the New Subscription Wizard defaults to having the Subscriber retrieve snapshot files through FTP.</span></span> <span data-ttu-id="2d45f-196">若要更改该设置，请使用 **“订阅属性”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-196">To change the setting, use the **Subscription Properties** dialog box.</span></span> <span data-ttu-id="2d45f-197">如果允许订阅服务器通过 FTP 访问快照文件，请将 FTP 文件夹指定为 **“发布属性”** 对话框的 **“快照”** 页上快照文件的位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-197">If you allow Subscribers to access the snapshot files through FTP, specify the FTP folder as the location for snapshot files on the **Snapshot** page of the **Publication Properties** dialog box.</span></span> <span data-ttu-id="2d45f-198">这会导致在生成新快照时快照代理将自动更新 FTP 文件夹中的文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-198">Doing so will cause the Snapshot Agent to update the files in the FTP folder automatically when a new snapshot is generated.</span></span> <span data-ttu-id="2d45f-199">如果未将快照文件的位置设置为 FTP 文件夹，则在生成新快照时必须手动更新文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-199">If the location is not set to the FTP folder, you will have to update the files manually when new snapshots are generated.</span></span> <span data-ttu-id="2d45f-200">有关详细信息，请参阅[通过 FTP 传递快照](publish/deliver-a-snapshot-through-ftp.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-200">For more information, see [Deliver a Snapshot Through FTP](publish/deliver-a-snapshot-through-ftp.md).</span></span>  
  
 <span data-ttu-id="2d45f-201">**Web 同步**</span><span class="sxs-lookup"><span data-stu-id="2d45f-201">**Web Synchronization**</span></span>  
 <span data-ttu-id="2d45f-202">仅限合并复制。</span><span class="sxs-lookup"><span data-stu-id="2d45f-202">Merge replication only.</span></span> <span data-ttu-id="2d45f-203">若要允许合并订阅服务器使用 Web 同步，请选择 **“允许订阅服务器通过连接到 Web 服务器进行同步”** ，并指定 Web 服务器地址。</span><span class="sxs-lookup"><span data-stu-id="2d45f-203">Select **Allow Subscribers to synchronize by connecting to a Web server**, and specify a Web server address to allow merge Subscribers to use Web synchronization.</span></span> <span data-ttu-id="2d45f-204">Web 服务器必须使用安全套接字层 (SSL)，并且 Web 地址必须为完全限定地址，如 `https://server.domain.com/synchronize`。</span><span class="sxs-lookup"><span data-stu-id="2d45f-204">The Web server must use Secure Sockets Layer (SSL), and the Web address must be fully qualified, such as `https://server.domain.com/synchronize`.</span></span> <span data-ttu-id="2d45f-205">有关详细信息，请参阅 [Configure Web Synchronization](configure-web-synchronization.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-205">For more information, see [Configure Web Synchronization](configure-web-synchronization.md).</span></span>  

## <a name="publication-access-list"></a><span data-ttu-id="2d45f-206">发布访问列表</span><span class="sxs-lookup"><span data-stu-id="2d45f-206">Publication Access List</span></span>

  <span data-ttu-id="2d45f-207">可以使用 **“发布属性”** 对话框的 **“发布访问列表”** 页，在发布访问列表 (PAL) 中添加和删除登录名、帐户和组。</span><span class="sxs-lookup"><span data-stu-id="2d45f-207">The **Publication Access List** page of the **Publication Properties** dialog box allows you to add and remove logins, accounts, and groups from the publication access list (PAL).</span></span> <span data-ttu-id="2d45f-208">PAL 是用于保护发布服务器的主要机制。</span><span class="sxs-lookup"><span data-stu-id="2d45f-208">The PAL is the primary mechanism for securing the Publisher.</span></span> <span data-ttu-id="2d45f-209">创建发布时，复制将为该发布创建 PAL。</span><span class="sxs-lookup"><span data-stu-id="2d45f-209">When you create a publication, replication creates a PAL for the publication.</span></span> <span data-ttu-id="2d45f-210">PAL 的功能类似于 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows 访问控制列表，PAL 包含被授予该发布的访问权的登录名、帐户和组的列表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-210">The PAL, which functions similarly to a [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows access control list, contains a list of logins, accounts, and groups that are granted access to the publication.</span></span>  
  
 <span data-ttu-id="2d45f-211">当订阅服务器连接到发布服务器或分发服务器并请求访问发布时，订阅服务器的登录名将与 PAL 中的身份验证信息进行比较。</span><span class="sxs-lookup"><span data-stu-id="2d45f-211">When a Subscriber connects to the Publisher or Distributor and requests access to a publication, the login of the Subscriber is compared against the authentication information in the PAL.</span></span> <span data-ttu-id="2d45f-212">这样，通过防止客户端工具使用发布服务器和分发服务器登录名在发布服务器上直接进行修改，从而为发布服务器提供额外的安全性。</span><span class="sxs-lookup"><span data-stu-id="2d45f-212">This provides additional security for the Publisher by preventing the Publisher and Distributor login from being used by a client tool to perform modifications on the Publisher directly.</span></span> <span data-ttu-id="2d45f-213">有关详细信息，请参阅[保护发布服务器](security/secure-the-publisher.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-213">For more information, see [Secure the Publisher](security/secure-the-publisher.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-214">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-214">Options</span></span>  
 <span data-ttu-id="2d45f-215">**添加**</span><span class="sxs-lookup"><span data-stu-id="2d45f-215">**Add**</span></span>  
 <span data-ttu-id="2d45f-216">将新项添加到列表。</span><span class="sxs-lookup"><span data-stu-id="2d45f-216">Add a new entry to the list.</span></span> <span data-ttu-id="2d45f-217">只能添加那些在发布服务器和分发服务器上均已定义的登录名、帐户或组名称。</span><span class="sxs-lookup"><span data-stu-id="2d45f-217">You can add only those login, account, or group names that are already defined at both the Publisher and Distributor.</span></span> <span data-ttu-id="2d45f-218">如果使用域帐户或在两个服务器上都已创建本地帐户，则这些信息在两个服务器上均已定义。</span><span class="sxs-lookup"><span data-stu-id="2d45f-218">They are defined at both servers if domain accounts are used or local accounts have been created at both servers.</span></span>  
  
 <span data-ttu-id="2d45f-219">**删除**</span><span class="sxs-lookup"><span data-stu-id="2d45f-219">**Remove**</span></span>  
 <span data-ttu-id="2d45f-220">从列表中删除所选项。</span><span class="sxs-lookup"><span data-stu-id="2d45f-220">Remove the selected entry from the list.</span></span>  
  
 <span data-ttu-id="2d45f-221">**全部删除**</span><span class="sxs-lookup"><span data-stu-id="2d45f-221">**Remove All**</span></span>  
 <span data-ttu-id="2d45f-222">从列表中删除所有项。</span><span class="sxs-lookup"><span data-stu-id="2d45f-222">Remove all entries from the list.</span></span> 


  <span data-ttu-id="2d45f-223">使用此页，您可以：</span><span class="sxs-lookup"><span data-stu-id="2d45f-223">This page allows you to:</span></span>  
  
-   <span data-ttu-id="2d45f-224">设置通过文件传输协议 (FTP) 传递快照的属性。</span><span class="sxs-lookup"><span data-stu-id="2d45f-224">Set properties for delivering the snapshot through File Transfer Protocol (FTP).</span></span> <span data-ttu-id="2d45f-225">有关详细信息，请参阅[通过 FTP Windows 传输快照](transfer-snapshots-through-ftp.md)文档。</span><span class="sxs-lookup"><span data-stu-id="2d45f-225">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md) Windows documentation for more information.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="2d45f-226">对任意 FTP 设置的更改都要求生成新的快照。</span><span class="sxs-lookup"><span data-stu-id="2d45f-226">Changes to any FTP settings require a new snapshot to be generated.</span></span>  
  
-   <span data-ttu-id="2d45f-227">设置 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 和更高版本上合并复制的 Web 同步的属性，Web 同步允许通过 HTTPS（安全超文本传输协议）来同步订阅。</span><span class="sxs-lookup"><span data-stu-id="2d45f-227">Set properties for Web synchronization for merge replication on [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and later versions, which allows subscriptions to be synchronized over HTTPS (secure hypertext transfer protocol).</span></span> <span data-ttu-id="2d45f-228">若要使用 Web 同步，则必须配置 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet 信息服务 (IIS) 服务器。</span><span class="sxs-lookup"><span data-stu-id="2d45f-228">To use Web synchronization, you must configure an [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) server.</span></span> <span data-ttu-id="2d45f-229">有关详细信息，请参阅 [Web Synchronization for Merge Replication](web-synchronization-for-merge-replication.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-229">For more information, see [Web Synchronization for Merge Replication](web-synchronization-for-merge-replication.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-230">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-230">Options</span></span>  
 <span data-ttu-id="2d45f-231">**通过 FTP 访问快照文件**</span><span class="sxs-lookup"><span data-stu-id="2d45f-231">**Access snapshot files via FTP**</span></span>  
 <span data-ttu-id="2d45f-232">若要允许订阅服务器使用 FTP 传递快照，请选择 **“允许订阅服务器使用 FTP (文件传输协议)下载快照文件”** ，并指定 **“FTP 服务器名称”** 、 **“端口号”** 、 **“从 FTP 根文件夹开始的路径”** 、 **“登录名”** 和 **“密码”** 。</span><span class="sxs-lookup"><span data-stu-id="2d45f-232">Select **Allow Subscribers to download snapshot files using FTP (File Transfer Protocol)**, and specify **FTP server name**, **Port number**, **Path from the FTP root folder**, **Login**, and **Password**, to allow Subscribers to use FTP for snapshot delivery.</span></span>  
  
 <span data-ttu-id="2d45f-233">此选项允许订阅服务器使用 FTP 检索快照文件，但不要求订阅服务器进行此操作。</span><span class="sxs-lookup"><span data-stu-id="2d45f-233">This option allows Subscribers to use FTP to retrieve snapshot files, but does not require them to do so.</span></span> <span data-ttu-id="2d45f-234">如果选择此选项，新建订阅向导将默认为允许订阅服务器通过 FTP 检索快照文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-234">If you select this option, the New Subscription Wizard defaults to having the Subscriber retrieve snapshot files through FTP.</span></span> <span data-ttu-id="2d45f-235">若要更改该设置，请使用 **“订阅属性”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="2d45f-235">To change the setting, use the **Subscription Properties** dialog box.</span></span> <span data-ttu-id="2d45f-236">如果允许订阅服务器通过 FTP 访问快照文件，请将 FTP 文件夹指定为 **“发布属性”** 对话框的 **“快照”** 页上快照文件的位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-236">If you allow Subscribers to access the snapshot files through FTP, specify the FTP folder as the location for snapshot files on the **Snapshot** page of the **Publication Properties** dialog box.</span></span> <span data-ttu-id="2d45f-237">这会导致在生成新快照时快照代理将自动更新 FTP 文件夹中的文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-237">Doing so will cause the Snapshot Agent to update the files in the FTP folder automatically when a new snapshot is generated.</span></span> <span data-ttu-id="2d45f-238">如果未将快照文件的位置设置为 FTP 文件夹，则在生成新快照时必须手动更新文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-238">If the location is not set to the FTP folder, you will have to update the files manually when new snapshots are generated.</span></span> <span data-ttu-id="2d45f-239">有关详细信息，请参阅[通过 FTP 传递快照](publish/deliver-a-snapshot-through-ftp.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-239">For more information, see [Deliver a Snapshot Through FTP](publish/deliver-a-snapshot-through-ftp.md).</span></span>  
  
 <span data-ttu-id="2d45f-240">**Web 同步**</span><span class="sxs-lookup"><span data-stu-id="2d45f-240">**Web Synchronization**</span></span>  
 <span data-ttu-id="2d45f-241">仅限合并复制。</span><span class="sxs-lookup"><span data-stu-id="2d45f-241">Merge replication only.</span></span> <span data-ttu-id="2d45f-242">若要允许合并订阅服务器使用 Web 同步，请选择 **“允许订阅服务器通过连接到 Web 服务器进行同步”** ，并指定 Web 服务器地址。</span><span class="sxs-lookup"><span data-stu-id="2d45f-242">Select **Allow Subscribers to synchronize by connecting to a Web server**, and specify a Web server address to allow merge Subscribers to use Web synchronization.</span></span> <span data-ttu-id="2d45f-243">Web 服务器必须使用安全套接字层 (SSL)，并且 Web 地址必须为完全限定地址，如 `https://server.domain.com/synchronize`。</span><span class="sxs-lookup"><span data-stu-id="2d45f-243">The Web server must use Secure Sockets Layer (SSL), and the Web address must be fully qualified, such as `https://server.domain.com/synchronize`.</span></span> <span data-ttu-id="2d45f-244">有关详细信息，请参阅 [Configure Web Synchronization](configure-web-synchronization.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-244">For more information, see [Configure Web Synchronization](configure-web-synchronization.md).</span></span>  

## <a name="agent-security"></a><span data-ttu-id="2d45f-245">代理安全性</span><span class="sxs-lookup"><span data-stu-id="2d45f-245">Agent Security</span></span>
  <span data-ttu-id="2d45f-246">可以使用 **“发布属性”** 对话框的 **“代理安全性”** 页，访问运行以下代理的帐户的设置以及连接到复制拓扑中的计算机：</span><span class="sxs-lookup"><span data-stu-id="2d45f-246">The **Agent Security** page of the **Publication Properties** dialog box allows you to access the settings for the accounts under which the following agents run and make connections to the computers in a replication topology:</span></span>  
  
-   <span data-ttu-id="2d45f-247">所有发布的快照代理。</span><span class="sxs-lookup"><span data-stu-id="2d45f-247">The Snapshot Agent for all publications.</span></span>    
-   <span data-ttu-id="2d45f-248">所有事务发布的日志读取器代理。</span><span class="sxs-lookup"><span data-stu-id="2d45f-248">The Log Reader Agent for all transactional publications.</span></span> <span data-ttu-id="2d45f-249">对于使用事务复制发布的每个数据库，都有一个日志读取器代理。</span><span class="sxs-lookup"><span data-stu-id="2d45f-249">There is one Log Reader Agent for each database published for transactional replication.</span></span> <span data-ttu-id="2d45f-250">更改日志读取器代理的设置会影响数据库中的所有事务发布。</span><span class="sxs-lookup"><span data-stu-id="2d45f-250">Changing the Log Reader Agent settings affects all transactional publications in a database.</span></span>    
-   <span data-ttu-id="2d45f-251">允许排队更新订阅的事务发布的队列读取器代理。</span><span class="sxs-lookup"><span data-stu-id="2d45f-251">The Queue Reader Agent for transactional publications that allow queued updating subscriptions.</span></span> <span data-ttu-id="2d45f-252">每个分发数据库都有一个队列读取器代理。</span><span class="sxs-lookup"><span data-stu-id="2d45f-252">There is one Queue Reader Agent for each distribution database.</span></span> <span data-ttu-id="2d45f-253">更改队列读取器代理的设置会影响所有具有排队更新订阅（使用相同的分发数据库）的事务发布。</span><span class="sxs-lookup"><span data-stu-id="2d45f-253">Changing the Queue Reader Agent settings affects all transactional publications with queued updating subscriptions that use the same distribution database.</span></span> <span data-ttu-id="2d45f-254">有关队列读取器代理安全设置的详细信息，请参阅[查看和修改复制安全设置](security/view-and-modify-replication-security-settings.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-254">For more information about Queue Reader Agent security settings, see [View and Modify Replication Security Settings](security/view-and-modify-replication-security-settings.md).</span></span>  
  
 <span data-ttu-id="2d45f-255">有关每个代理所需安全设置和权限的详细信息，请参阅 [Replication Agent Security Model](security/replication-agent-security-model.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-255">For more information about security settings and the permissions required by each agent, see [Replication Agent Security Model](security/replication-agent-security-model.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-256">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-256">Options</span></span>  
 <span data-ttu-id="2d45f-257">**“安全设置”** 或 **“创建代理”**</span><span class="sxs-lookup"><span data-stu-id="2d45f-257">**Security settings** or **Create Agent**</span></span>  
 <span data-ttu-id="2d45f-258">如果已创建代理作业，那么请单击 **“安全设置”** 以访问一个对话框，在其中可以更改代理安全设置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-258">If an agent job has been created, click **Security settings** to access a dialog box that allows you to change the security settings for an agent.</span></span> <span data-ttu-id="2d45f-259">如果未创建代理作业，请单击 **“创建代理”** 来创建代理，并指定安全设置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-259">If an agent job has not been created, click **Create Agent** to create one and specify security settings.</span></span>  

## <a name="data-partitions"></a><span data-ttu-id="2d45f-260">数据分区</span><span class="sxs-lookup"><span data-stu-id="2d45f-260">Data Partitions</span></span>
  <span data-ttu-id="2d45f-261">可以使用 **“发布属性”** 对话框的 **“数据分区”** 页，定义使用参数化筛选的合并发布的数据分区。</span><span class="sxs-lookup"><span data-stu-id="2d45f-261">The **Data Partitions** page of the **Publication Properties** dialog box allows you to define data partitions for merge publications that use parameterized filtering.</span></span> <span data-ttu-id="2d45f-262">在定义分区后，您随后还可以生成这些分区的快照，为基于订阅服务器的连接属性（登录名和/或计算机名称）的不同订阅服务器提供不同的初始数据集。</span><span class="sxs-lookup"><span data-stu-id="2d45f-262">After defining partitions, you can then generate snapshots for these partitions, providing different initial data sets for different Subscribers based on the connection properties (login and/or computer name) of the Subscribers.</span></span> <span data-ttu-id="2d45f-263">如果订阅服务器在第一次同步时对其分区没有可用的快照，您还可以选择允许订阅服务器请求快照的传递和生成。</span><span class="sxs-lookup"><span data-stu-id="2d45f-263">You can also select to allow Subscribers to request snapshot delivery and generation if they do not have a snapshot available for their partition the first time they synchronize.</span></span> <span data-ttu-id="2d45f-264">有关详细信息，请参阅 [为包含参数化筛选器的合并发布创建快照](create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-264">For more information, see [Create a Snapshot for a Merge Publication with Parameterized Filters](create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-265">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-265">Options</span></span>  
 <span data-ttu-id="2d45f-266">**添加**</span><span class="sxs-lookup"><span data-stu-id="2d45f-266">**Add**</span></span>  
 <span data-ttu-id="2d45f-267">单击 **“添加”** 可以定义分区。</span><span class="sxs-lookup"><span data-stu-id="2d45f-267">Click **Add** to define a partition.</span></span> <span data-ttu-id="2d45f-268">在 **“添加数据分区”** 对话框中，为 **HOST_NAME()** 和/或 **SUSER_SNAME()** 指定值，再定义计划以刷新快照即可。</span><span class="sxs-lookup"><span data-stu-id="2d45f-268">In the **Add Data Partition** dialog box, specify values for **HOST_NAME()** and/or **SUSER_SNAME()**, and define a schedule to refresh snapshots.</span></span>  
  
 <span data-ttu-id="2d45f-269">**编辑**</span><span class="sxs-lookup"><span data-stu-id="2d45f-269">**Edit**</span></span>  
 <span data-ttu-id="2d45f-270">选择网格中的现有分区，再单击 **“编辑”** 可以编辑相应的分区。</span><span class="sxs-lookup"><span data-stu-id="2d45f-270">Select an existing partition in the grid, and click **Edit** to edit the partition.</span></span>  
  
 <span data-ttu-id="2d45f-271">**删除**</span><span class="sxs-lookup"><span data-stu-id="2d45f-271">**Delete**</span></span>  
 <span data-ttu-id="2d45f-272">选择网格中的现有分区，再单击 **“删除”** 可以删除相应的分区。</span><span class="sxs-lookup"><span data-stu-id="2d45f-272">Select an existing partition in the grid, and click **Delete** to delete the partition.</span></span>  
  
 <span data-ttu-id="2d45f-273">**立即生成所选快照**</span><span class="sxs-lookup"><span data-stu-id="2d45f-273">**Generate the selected snapshots now**</span></span>  
 <span data-ttu-id="2d45f-274">选择网格中的一个或多个分区，再单击 **“立即生成所选快照”** 可以生成这些分区的快照。</span><span class="sxs-lookup"><span data-stu-id="2d45f-274">Select one or more partitions in the grid, and click **Generate the selected snapshots now** to generate snapshots for these partitions.</span></span>  
  
 <span data-ttu-id="2d45f-275">**清除现有快照**</span><span class="sxs-lookup"><span data-stu-id="2d45f-275">**Clean up the existing snapshots**</span></span>  
 <span data-ttu-id="2d45f-276">选择网格中的一个或多个分区，再单击 **“清除现有快照”** 可以清除这些分区的快照。</span><span class="sxs-lookup"><span data-stu-id="2d45f-276">Select one or more partitions in the grid, and click **Clean up the existing snapshots** to clean up snapshots for these partitions.</span></span>  
  
 <span data-ttu-id="2d45f-277">**在新订阅服务器尝试同步时，根据需要自动定义分区并生成快照**</span><span class="sxs-lookup"><span data-stu-id="2d45f-277">**Automatically define a partition and generate a snapshot if needed when a new Subscriber tries to synchronize**</span></span>  
 <span data-ttu-id="2d45f-278">如果希望允许订阅服务器请求快照的生成和应用程序，请选择此选项。</span><span class="sxs-lookup"><span data-stu-id="2d45f-278">Select this option if you want to allow Subscribers to request snapshot generation and application.</span></span> <span data-ttu-id="2d45f-279">如果订阅服务器在第一次同步时对其分区没有可用的快照，则订阅服务器可能要求设置此选项。</span><span class="sxs-lookup"><span data-stu-id="2d45f-279">Subscribers might require this option if they do not have a snapshot available for their partition the first time they synchronize.</span></span>  

## <a name="snapshot"></a><span data-ttu-id="2d45f-280">快照</span><span class="sxs-lookup"><span data-stu-id="2d45f-280">Snapshot</span></span>

 <span data-ttu-id="2d45f-281">可以使用 **“发布属性”** 对话框的 **“快照”** 页设置快照格式、快照文件夹位置以及应用快照前后运行的脚本。</span><span class="sxs-lookup"><span data-stu-id="2d45f-281">The **Snapshot** page of the **Publication Properties** dialog box allows you to set the snapshot format, snapshot folder location, and scripts to run before and after the application of the snapshot.</span></span> <span data-ttu-id="2d45f-282">快照文件夹必须指定为共享文件夹，并且对于将文件读/写到快照文件夹的代理有足够的权限。</span><span class="sxs-lookup"><span data-stu-id="2d45f-282">The snapshot folder must be designated as a share and have sufficient permissions for the agents that read and write files to the folder.</span></span> <span data-ttu-id="2d45f-283">有关正确保护文件夹的详细信息，请参阅[保护快照文件夹](security/secure-the-snapshot-folder.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-283">For more information about securing the folder appropriately, see [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2d45f-284">若要进行更改，则需要发布的新快照。</span><span class="sxs-lookup"><span data-stu-id="2d45f-284">Changes require a new snapshot for the publication.</span></span> <span data-ttu-id="2d45f-285">有关详细信息，请参阅[更改发布和项目属性](publish/change-publication-and-article-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-285">For more information, see [Change Publication and Article Properties](publish/change-publication-and-article-properties.md).</span></span>  
  
### <a name="options"></a><span data-ttu-id="2d45f-286">选项</span><span class="sxs-lookup"><span data-stu-id="2d45f-286">Options</span></span>  
 <span data-ttu-id="2d45f-287">**快照格式**</span><span class="sxs-lookup"><span data-stu-id="2d45f-287">**Snapshot format**</span></span>  
 <span data-ttu-id="2d45f-288">选择快照格式的本机模式或字符模式。</span><span class="sxs-lookup"><span data-stu-id="2d45f-288">Select native mode or character mode for the snapshot format.</span></span>  
  
-   <span data-ttu-id="2d45f-289">如果所有订阅服务器都是 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的实例，而不是 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssEW](../../includes/ssew-md.md)] 的实例，请选择“本机 SQL Server - 所有订阅服务器都必须是运行 SQL Server 的服务器”。</span><span class="sxs-lookup"><span data-stu-id="2d45f-289">Select **Native SQL Server - all Subscribers must be servers running SQL Server** if all Subscribers are instances of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] other than [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssEW](../../includes/ssew-md.md)].</span></span> <span data-ttu-id="2d45f-290">本机快照格式可以提供最佳性能。</span><span class="sxs-lookup"><span data-stu-id="2d45f-290">The native snapshot format provides the best performance.</span></span>    
-   <span data-ttu-id="2d45f-291">如果有任何订阅服务器正在运行 **，或者为非** 订阅服务器，请选择 [!INCLUDE[ssEW](../../includes/ssew-md.md)] “字符 - 如果发布服务器或订阅服务器没有运行 SQL Server，则需要此项”[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="2d45f-291">Select **Character - required if a Publisher or Subscriber is not running SQL Server** if any Subscribers are running [!INCLUDE[ssEW](../../includes/ssew-md.md)] or are non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
 <span data-ttu-id="2d45f-292">**快照文件的位置**</span><span class="sxs-lookup"><span data-stu-id="2d45f-292">**Location of snapshot files**</span></span>  
 <span data-ttu-id="2d45f-293">选择要存储快照文件的位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-293">Select the location to store snapshot files.</span></span> <span data-ttu-id="2d45f-294">可以将快照文件存储在默认位置，也可以将其存储在默认位置之外的其他位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-294">They can be stored in the default location; they can also be stored in an alternate location instead of, or in addition to, the default location.</span></span> <span data-ttu-id="2d45f-295">可以压缩存储在其他位置的文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-295">Files stored in an alternate location can be compressed.</span></span>  
  
-   <span data-ttu-id="2d45f-296">选择 **“将文件放入默认文件夹”** 可以使用发布服务器的默认快照文件夹。</span><span class="sxs-lookup"><span data-stu-id="2d45f-296">Select **Put files in the default folder** to use the default snapshot folder for the Publisher.</span></span> <span data-ttu-id="2d45f-297">此对话框中的快照文件夹位置是只读的，因为对于发布服务器来说，只能在 **“分发服务器属性”** 对话框中更改该位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-297">The snapshot folder location is read-only in this dialog box, because it can only be changed for the Publisher in the **Distributor Properties** dialog box.</span></span> <span data-ttu-id="2d45f-298">有关详细信息，请参阅[指定默认快照位置](snapshot-options.md#snapshot-folder-locations)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-298">For more information, see [Specify the Default Snapshot Location](snapshot-options.md#snapshot-folder-locations).</span></span>   
-   <span data-ttu-id="2d45f-299">选择 **“将文件放入下列文件夹”** 可以指定默认位置之外的其他位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-299">Select **Put files in the following folder** to specify an alternate location instead of, or in addition to, the default location.</span></span> <span data-ttu-id="2d45f-300">在文本框中输入路径，或单击 **“浏览”** 定位到某个位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-300">Enter a path in the text box or click **Browse** and navigate to a location.</span></span> <span data-ttu-id="2d45f-301">选择 **“压缩此文件夹中的快照文件”** 可以压缩其他快照位置中的文件。</span><span class="sxs-lookup"><span data-stu-id="2d45f-301">Select **Compress snapshot files in this folder** to compress the files in the alternate snapshot location.</span></span> <span data-ttu-id="2d45f-302">其他位置可以为其他服务器、网络驱动器或诸如 CD-ROM、可移动磁盘等可移动介质上。</span><span class="sxs-lookup"><span data-stu-id="2d45f-302">The alternate location can be on another server, on a network drive, or on removable media such as a CD-ROM or removable disk.</span></span> <span data-ttu-id="2d45f-303">有关详细信息，请参阅 [Alternate Snapshot Folder Locations](alternate-snapshot-folder-locations.md) 和 [Compressed Snapshots](compressed-snapshots.md)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-303">For more information, see [Alternate Snapshot Folder Locations](alternate-snapshot-folder-locations.md) and [Compressed Snapshots](compressed-snapshots.md).</span></span>  
  
 <span data-ttu-id="2d45f-304">**运行其他脚本**</span><span class="sxs-lookup"><span data-stu-id="2d45f-304">**Run additional scripts**</span></span>  
 <span data-ttu-id="2d45f-305">指定在订阅服务器上应用快照之前和之后要执行的脚本。</span><span class="sxs-lookup"><span data-stu-id="2d45f-305">Specify scripts to be executed before and after the snapshot is applied at the Subscriber.</span></span> <span data-ttu-id="2d45f-306">如果 **“快照格式”** 为 **“字符”** ，则不能指定脚本。</span><span class="sxs-lookup"><span data-stu-id="2d45f-306">Scripts cannot be specified if **Snapshot format** is **Character**.</span></span>  
  
 <span data-ttu-id="2d45f-307">脚本是可选的，不过，脚本提供了一种便捷方法，可以在订阅服务器上执行命令和应用管理更改。</span><span class="sxs-lookup"><span data-stu-id="2d45f-307">Scripts are optional, but they provide a convenient way to execute commands and apply administrative changes at Subscribers.</span></span> <span data-ttu-id="2d45f-308">有关执行脚本的详细信息，请参阅[在应用快照之前和之后执行脚本](snapshot-options.md#execute-scripts-before-and-after-snapshot-is-applied)。</span><span class="sxs-lookup"><span data-stu-id="2d45f-308">For more information about executing scripts, see [Execute Scripts Before and After the Snapshot Is Applied](snapshot-options.md#execute-scripts-before-and-after-snapshot-is-applied).</span></span>  
  
-   <span data-ttu-id="2d45f-309">在 **“应用快照之前执行此脚本”** 文本框中输入路径，或单击 **“浏览”** 指定脚本的位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-309">Enter a path in the **Before applying the snapshot, execute this script** text box or click **Browse** to specify a location for the script.</span></span>   
-   <span data-ttu-id="2d45f-310">在 **“应用快照之后执行此脚本”** 文本框中输入路径，或单击 **“浏览”** 指定脚本的位置。</span><span class="sxs-lookup"><span data-stu-id="2d45f-310">Enter a path in the **After applying the snapshot, execute this script** text box or click **Browse** to specify a location for the script.</span></span>  



## <a name="see-also"></a><span data-ttu-id="2d45f-311">另请参阅</span><span class="sxs-lookup"><span data-stu-id="2d45f-311">See Also</span></span>  
 <span data-ttu-id="2d45f-312">[Create a Publication](publish/create-a-publication.md) </span><span class="sxs-lookup"><span data-stu-id="2d45f-312">[Create a Publication](publish/create-a-publication.md) </span></span>  
 <span data-ttu-id="2d45f-313">[查看和修改发布属性](publish/view-and-modify-publication-properties.md) </span><span class="sxs-lookup"><span data-stu-id="2d45f-313">[View and Modify Publication Properties](publish/view-and-modify-publication-properties.md) </span></span>  
 <span data-ttu-id="2d45f-314">[发布数据和数据库对象](publish/publish-data-and-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="2d45f-314">[Publish Data and Database Objects](publish/publish-data-and-database-objects.md) </span></span>  
 <span data-ttu-id="2d45f-315">[Replication Security Best Practices](security/replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="2d45f-315">[Replication Security Best Practices](security/replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="2d45f-316">SQL Server 复制安全性</span><span class="sxs-lookup"><span data-stu-id="2d45f-316">SQL Server Replication Security</span></span>](security/view-and-modify-replication-security-settings.md)  
 [<span data-ttu-id="2d45f-317">使用快照初始化订阅</span><span class="sxs-lookup"><span data-stu-id="2d45f-317">Initialize a Subscription with a Snapshot</span></span>](initialize-a-subscription-with-a-snapshot.md)   
  
  
