---
title: msdb 数据库 | Microsoft Docs
ms.custom: ''
ms.date: 11/10/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- SQL Server Agent, msdb database
- alerts [SQL Server], msdb database
- jobs [SQL Server], msdb database
- msdb database [SQL Server]
ms.assetid: 5032cb2d-65a0-40dd-b569-4dcecdd58ceb
author: stevestein
ms.author: sstein
ms.openlocfilehash: e1d552efa888b24e0a1c83464c7947343b132b1c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87682878"
---
# <a name="msdb-database"></a><span data-ttu-id="aa5f9-102">msdb 数据库</span><span class="sxs-lookup"><span data-stu-id="aa5f9-102">msdb Database</span></span>
  <span data-ttu-id="aa5f9-103">**代理使用** msdb [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库来计划警报和作业， [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]、 [!INCLUDE[ssSB](../../includes/sssb-md.md)] 和数据库邮件等其他功能也使用该数据库。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-103">The **msdb** database is used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent for scheduling alerts and jobs and by other features such as [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[ssSB](../../includes/sssb-md.md)] and Database Mail.</span></span>  
  
 <span data-ttu-id="aa5f9-104">例如， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 在 **msdb**中的表中自动保留一份完整的联机备份和还原历史记录。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-104">For example, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] automatically maintains a complete online backup-and-restore history within tables in **msdb**.</span></span> <span data-ttu-id="aa5f9-105">这些信息包括执行备份一方的名称、备份时间和用来存储备份的设备或文件。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-105">This information includes the name of the party that performed the backup, the time of the backup, and the devices or files where the backup is stored.</span></span> [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="aa5f9-106">使用这些信息来提出计划，还原数据库和应用任何事务日志备份。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-106">uses this information to propose a plan for restoring a database and applying any transaction log backups.</span></span> <span data-ttu-id="aa5f9-107">将会记录有关所有数据库的备份事件，即使它们是由自定义应用程序或第三方工具创建的。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-107">Backup events for all databases are recorded even if they were created with custom applications or third-party tools.</span></span> <span data-ttu-id="aa5f9-108">例如，如果使用调用 SQL Server 管理对象 (SMO) 对象的 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] 应用程序执行备份操作，则事件将记录在 msdb 系统表、**Windows 应用程序日志和** 错误日志中[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-108">For example, if you use a [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] application that calls SQL Server Management Objects (SMO) objects to perform backup operations, the event is logged in the **msdb** system tables, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows application log, and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error log.</span></span> <span data-ttu-id="aa5f9-109">为了帮助您保护存储在 **msdb**中的信息，我们建议您考虑将 **msdb** 事务日志放在容错存储区中。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-109">To help your protect the information that is stored in **msdb**, we recommend that you consider placing the **msdb** transaction log on fault tolerant storage.</span></span>  
  
 <span data-ttu-id="aa5f9-110">默认情况下， **msdb** 使用简单恢复模式。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-110">By default, **msdb** uses the simple recovery model.</span></span> <span data-ttu-id="aa5f9-111">如果使用 [备份和还原历史记录](../backup-restore/backup-history-and-header-information-sql-server.md) 表，我们建您对 **msdb**使用完整恢复模式。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-111">If you use the [backup and restore history](../backup-restore/backup-history-and-header-information-sql-server.md) tables, we recommend that you use the full recovery model for **msdb**.</span></span> <span data-ttu-id="aa5f9-112">有关详细信息，请参阅[恢复模式 (SQL Server)](../backup-restore/recovery-models-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-112">For more information, see [Recovery Models &#40;SQL Server&#41;](../backup-restore/recovery-models-sql-server.md).</span></span> <span data-ttu-id="aa5f9-113">请注意，当安装或升级 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 时，只要使用 Setup.exe 重新生成系统数据库， **msdb** 的恢复模式便会自动设置为简单。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-113">Notice that when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is installed or upgraded and whenever Setup.exe is used to rebuild the system databases, the recovery model of **msdb** is automatically set to simple.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="aa5f9-114">在进行任何更新 **msdb**的操作后，例如备份或还原任何数据库后，我们建议您备份 **msdb**。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-114">After any operation that updates **msdb**, such as backing up or restoring any database, we recommend that you back up **msdb**.</span></span> <span data-ttu-id="aa5f9-115">有关详细信息，请参阅[备份和还原系统数据库 (SQL Server)](../backup-restore/back-up-and-restore-of-system-databases-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-115">For more information, see [Back Up and Restore of System Databases &#40;SQL Server&#41;](../backup-restore/back-up-and-restore-of-system-databases-sql-server.md).</span></span>  
  
## <a name="physical-properties-of-msdb"></a><span data-ttu-id="aa5f9-116">msdb 的物理属性</span><span class="sxs-lookup"><span data-stu-id="aa5f9-116">Physical Properties of msdb</span></span>  
 <span data-ttu-id="aa5f9-117">下表列出了 **msdb** 数据和日志文件的初始配置值。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-117">The following table lists the initial configuration values of the **msdb** data and log files.</span></span> <span data-ttu-id="aa5f9-118">对于不同版本的 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]，这些文件的大小可能略有不同。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-118">The sizes of these files may vary slightly for different editions of [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span>  
  
|<span data-ttu-id="aa5f9-119">文件</span><span class="sxs-lookup"><span data-stu-id="aa5f9-119">File</span></span>|<span data-ttu-id="aa5f9-120">逻辑名称</span><span class="sxs-lookup"><span data-stu-id="aa5f9-120">Logical name</span></span>|<span data-ttu-id="aa5f9-121">物理名称</span><span class="sxs-lookup"><span data-stu-id="aa5f9-121">Physical name</span></span>|<span data-ttu-id="aa5f9-122">文件增长</span><span class="sxs-lookup"><span data-stu-id="aa5f9-122">File growth</span></span>|  
|----------|------------------|-------------------|-----------------|  
|<span data-ttu-id="aa5f9-123">主数据</span><span class="sxs-lookup"><span data-stu-id="aa5f9-123">Primary data</span></span>|<span data-ttu-id="aa5f9-124">MSDBData</span><span class="sxs-lookup"><span data-stu-id="aa5f9-124">MSDBData</span></span>|<span data-ttu-id="aa5f9-125">MSDBData.mdf</span><span class="sxs-lookup"><span data-stu-id="aa5f9-125">MSDBData.mdf</span></span>|<span data-ttu-id="aa5f9-126">以 10% 的速度自动增长到磁盘充满为止。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-126">Autogrow by 10 percent until the disk is full.</span></span>|  
|<span data-ttu-id="aa5f9-127">日志</span><span class="sxs-lookup"><span data-stu-id="aa5f9-127">Log</span></span>|<span data-ttu-id="aa5f9-128">MSDBLog</span><span class="sxs-lookup"><span data-stu-id="aa5f9-128">MSDBLog</span></span>|<span data-ttu-id="aa5f9-129">MSDBLog.ldf</span><span class="sxs-lookup"><span data-stu-id="aa5f9-129">MSDBLog.ldf</span></span>|<span data-ttu-id="aa5f9-130">以 10% 的速度自动增长到最大 2 TB。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-130">Autogrow by 10 percent to a maximum of 2 terabytes.</span></span>|  
  
 <span data-ttu-id="aa5f9-131">若要移动 **msdb** 数据库或日志文件，请参阅 [移动系统数据库](move-system-databases.md)。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-131">To move the **msdb** database or log files, see [Move System Databases](move-system-databases.md).</span></span>  
  
### <a name="database-options"></a><span data-ttu-id="aa5f9-132">数据库选项</span><span class="sxs-lookup"><span data-stu-id="aa5f9-132">Database Options</span></span>  
 <span data-ttu-id="aa5f9-133">下表列出了 **msdb** 数据库中每个数据库选项的默认值以及该选项是否可以修改。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-133">The following table lists the default value for each database option in the **msdb** database and whether the option can be modified.</span></span> <span data-ttu-id="aa5f9-134">若要查看这些选项的当前设置，请使用 [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) 目录视图。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-134">To view the current settings for these options, use the [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) catalog view.</span></span>  
  
|<span data-ttu-id="aa5f9-135">数据库选项</span><span class="sxs-lookup"><span data-stu-id="aa5f9-135">Database option</span></span>|<span data-ttu-id="aa5f9-136">默认值</span><span class="sxs-lookup"><span data-stu-id="aa5f9-136">Default value</span></span>|<span data-ttu-id="aa5f9-137">是否可修改</span><span class="sxs-lookup"><span data-stu-id="aa5f9-137">Can be modified</span></span>|  
|---------------------|-------------------|---------------------|  
|<span data-ttu-id="aa5f9-138">ALLOW_SNAPSHOT_ISOLATION</span><span class="sxs-lookup"><span data-stu-id="aa5f9-138">ALLOW_SNAPSHOT_ISOLATION</span></span>|<span data-ttu-id="aa5f9-139">ON</span><span class="sxs-lookup"><span data-stu-id="aa5f9-139">ON</span></span>|<span data-ttu-id="aa5f9-140">否</span><span class="sxs-lookup"><span data-stu-id="aa5f9-140">No</span></span>|  
|<span data-ttu-id="aa5f9-141">ANSI_NULL_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="aa5f9-141">ANSI_NULL_DEFAULT</span></span>|<span data-ttu-id="aa5f9-142">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-142">OFF</span></span>|<span data-ttu-id="aa5f9-143">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-143">Yes</span></span>|  
|<span data-ttu-id="aa5f9-144">ANSI_NULLS</span><span class="sxs-lookup"><span data-stu-id="aa5f9-144">ANSI_NULLS</span></span>|<span data-ttu-id="aa5f9-145">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-145">OFF</span></span>|<span data-ttu-id="aa5f9-146">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-146">Yes</span></span>|  
|<span data-ttu-id="aa5f9-147">ANSI_PADDING</span><span class="sxs-lookup"><span data-stu-id="aa5f9-147">ANSI_PADDING</span></span>|<span data-ttu-id="aa5f9-148">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-148">OFF</span></span>|<span data-ttu-id="aa5f9-149">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-149">Yes</span></span>|  
|<span data-ttu-id="aa5f9-150">ANSI_WARNINGS</span><span class="sxs-lookup"><span data-stu-id="aa5f9-150">ANSI_WARNINGS</span></span>|<span data-ttu-id="aa5f9-151">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-151">OFF</span></span>|<span data-ttu-id="aa5f9-152">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-152">Yes</span></span>|  
|<span data-ttu-id="aa5f9-153">ARITHABORT</span><span class="sxs-lookup"><span data-stu-id="aa5f9-153">ARITHABORT</span></span>|<span data-ttu-id="aa5f9-154">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-154">OFF</span></span>|<span data-ttu-id="aa5f9-155">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-155">Yes</span></span>|  
|<span data-ttu-id="aa5f9-156">AUTO_CLOSE</span><span class="sxs-lookup"><span data-stu-id="aa5f9-156">AUTO_CLOSE</span></span>|<span data-ttu-id="aa5f9-157">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-157">OFF</span></span>|<span data-ttu-id="aa5f9-158">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-158">Yes</span></span>|  
|<span data-ttu-id="aa5f9-159">AUTO_CREATE_STATISTICS</span><span class="sxs-lookup"><span data-stu-id="aa5f9-159">AUTO_CREATE_STATISTICS</span></span>|<span data-ttu-id="aa5f9-160">ON</span><span class="sxs-lookup"><span data-stu-id="aa5f9-160">ON</span></span>|<span data-ttu-id="aa5f9-161">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-161">Yes</span></span>|  
|<span data-ttu-id="aa5f9-162">AUTO_SHRINK</span><span class="sxs-lookup"><span data-stu-id="aa5f9-162">AUTO_SHRINK</span></span>|<span data-ttu-id="aa5f9-163">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-163">OFF</span></span>|<span data-ttu-id="aa5f9-164">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-164">Yes</span></span>|  
|<span data-ttu-id="aa5f9-165">AUTO_UPDATE_STATISTICS</span><span class="sxs-lookup"><span data-stu-id="aa5f9-165">AUTO_UPDATE_STATISTICS</span></span>|<span data-ttu-id="aa5f9-166">ON</span><span class="sxs-lookup"><span data-stu-id="aa5f9-166">ON</span></span>|<span data-ttu-id="aa5f9-167">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-167">Yes</span></span>|  
|<span data-ttu-id="aa5f9-168">AUTO_UPDATE_STATISTICS_ASYNC</span><span class="sxs-lookup"><span data-stu-id="aa5f9-168">AUTO_UPDATE_STATISTICS_ASYNC</span></span>|<span data-ttu-id="aa5f9-169">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-169">OFF</span></span>|<span data-ttu-id="aa5f9-170">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-170">Yes</span></span>|  
|<span data-ttu-id="aa5f9-171">CHANGE_TRACKING</span><span class="sxs-lookup"><span data-stu-id="aa5f9-171">CHANGE_TRACKING</span></span>|<span data-ttu-id="aa5f9-172">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-172">OFF</span></span>|<span data-ttu-id="aa5f9-173">否</span><span class="sxs-lookup"><span data-stu-id="aa5f9-173">No</span></span>|  
|<span data-ttu-id="aa5f9-174">CONCAT_NULL_YIELDS_NULL</span><span class="sxs-lookup"><span data-stu-id="aa5f9-174">CONCAT_NULL_YIELDS_NULL</span></span>|<span data-ttu-id="aa5f9-175">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-175">OFF</span></span>|<span data-ttu-id="aa5f9-176">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-176">Yes</span></span>|  
|<span data-ttu-id="aa5f9-177">CURSOR_CLOSE_ON_COMMIT</span><span class="sxs-lookup"><span data-stu-id="aa5f9-177">CURSOR_CLOSE_ON_COMMIT</span></span>|<span data-ttu-id="aa5f9-178">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-178">OFF</span></span>|<span data-ttu-id="aa5f9-179">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-179">Yes</span></span>|  
|<span data-ttu-id="aa5f9-180">CURSOR_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="aa5f9-180">CURSOR_DEFAULT</span></span>|<span data-ttu-id="aa5f9-181">GLOBAL</span><span class="sxs-lookup"><span data-stu-id="aa5f9-181">GLOBAL</span></span>|<span data-ttu-id="aa5f9-182">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-182">Yes</span></span>|  
|<span data-ttu-id="aa5f9-183">数据库可用性选项</span><span class="sxs-lookup"><span data-stu-id="aa5f9-183">Database Availability Options</span></span>|<span data-ttu-id="aa5f9-184">ONLINE</span><span class="sxs-lookup"><span data-stu-id="aa5f9-184">ONLINE</span></span><br /><br /> <span data-ttu-id="aa5f9-185">MULTI_USER</span><span class="sxs-lookup"><span data-stu-id="aa5f9-185">MULTI_USER</span></span><br /><br /> <span data-ttu-id="aa5f9-186">READ_WRITE</span><span class="sxs-lookup"><span data-stu-id="aa5f9-186">READ_WRITE</span></span>|<span data-ttu-id="aa5f9-187">否</span><span class="sxs-lookup"><span data-stu-id="aa5f9-187">No</span></span><br /><br /> <span data-ttu-id="aa5f9-188">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-188">Yes</span></span><br /><br /> <span data-ttu-id="aa5f9-189">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-189">Yes</span></span>|  
|<span data-ttu-id="aa5f9-190">DATE_CORRELATION_OPTIMIZATION</span><span class="sxs-lookup"><span data-stu-id="aa5f9-190">DATE_CORRELATION_OPTIMIZATION</span></span>|<span data-ttu-id="aa5f9-191">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-191">OFF</span></span>|<span data-ttu-id="aa5f9-192">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-192">Yes</span></span>|  
|<span data-ttu-id="aa5f9-193">DB_CHAINING</span><span class="sxs-lookup"><span data-stu-id="aa5f9-193">DB_CHAINING</span></span>|<span data-ttu-id="aa5f9-194">ON</span><span class="sxs-lookup"><span data-stu-id="aa5f9-194">ON</span></span>|<span data-ttu-id="aa5f9-195">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-195">Yes</span></span>|  
|<span data-ttu-id="aa5f9-196">ENCRYPTION</span><span class="sxs-lookup"><span data-stu-id="aa5f9-196">ENCRYPTION</span></span>|<span data-ttu-id="aa5f9-197">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-197">OFF</span></span>|<span data-ttu-id="aa5f9-198">否</span><span class="sxs-lookup"><span data-stu-id="aa5f9-198">No</span></span>|  
|<span data-ttu-id="aa5f9-199">NUMERIC_ROUNDABORT</span><span class="sxs-lookup"><span data-stu-id="aa5f9-199">NUMERIC_ROUNDABORT</span></span>|<span data-ttu-id="aa5f9-200">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-200">OFF</span></span>|<span data-ttu-id="aa5f9-201">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-201">Yes</span></span>|  
|<span data-ttu-id="aa5f9-202">PAGE_VERIFY</span><span class="sxs-lookup"><span data-stu-id="aa5f9-202">PAGE_VERIFY</span></span>|<span data-ttu-id="aa5f9-203">CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="aa5f9-203">CHECKSUM</span></span>|<span data-ttu-id="aa5f9-204">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-204">Yes</span></span>|  
|<span data-ttu-id="aa5f9-205">PARAMETERIZATION</span><span class="sxs-lookup"><span data-stu-id="aa5f9-205">PARAMETERIZATION</span></span>|<span data-ttu-id="aa5f9-206">SIMPLE</span><span class="sxs-lookup"><span data-stu-id="aa5f9-206">SIMPLE</span></span>|<span data-ttu-id="aa5f9-207">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-207">Yes</span></span>|  
|<span data-ttu-id="aa5f9-208">QUOTED_IDENTIFIER</span><span class="sxs-lookup"><span data-stu-id="aa5f9-208">QUOTED_IDENTIFIER</span></span>|<span data-ttu-id="aa5f9-209">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-209">OFF</span></span>|<span data-ttu-id="aa5f9-210">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-210">Yes</span></span>|  
|<span data-ttu-id="aa5f9-211">READ_COMMITTED_SNAPSHOT</span><span class="sxs-lookup"><span data-stu-id="aa5f9-211">READ_COMMITTED_SNAPSHOT</span></span>|<span data-ttu-id="aa5f9-212">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-212">OFF</span></span>|<span data-ttu-id="aa5f9-213">否</span><span class="sxs-lookup"><span data-stu-id="aa5f9-213">No</span></span>|  
|<span data-ttu-id="aa5f9-214">RECOVERY</span><span class="sxs-lookup"><span data-stu-id="aa5f9-214">RECOVERY</span></span>|<span data-ttu-id="aa5f9-215">SIMPLE</span><span class="sxs-lookup"><span data-stu-id="aa5f9-215">SIMPLE</span></span>|<span data-ttu-id="aa5f9-216">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-216">Yes</span></span>|  
|<span data-ttu-id="aa5f9-217">RECURSIVE_TRIGGERS</span><span class="sxs-lookup"><span data-stu-id="aa5f9-217">RECURSIVE_TRIGGERS</span></span>|<span data-ttu-id="aa5f9-218">OFF</span><span class="sxs-lookup"><span data-stu-id="aa5f9-218">OFF</span></span>|<span data-ttu-id="aa5f9-219">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-219">Yes</span></span>|  
|<span data-ttu-id="aa5f9-220">Service Broker 选项</span><span class="sxs-lookup"><span data-stu-id="aa5f9-220">Service Broker Options</span></span>|<span data-ttu-id="aa5f9-221">ENABLE_BROKER</span><span class="sxs-lookup"><span data-stu-id="aa5f9-221">ENABLE_BROKER</span></span>|<span data-ttu-id="aa5f9-222">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-222">Yes</span></span>|  
|<span data-ttu-id="aa5f9-223">TRUSTWORTHY</span><span class="sxs-lookup"><span data-stu-id="aa5f9-223">TRUSTWORTHY</span></span>|<span data-ttu-id="aa5f9-224">ON</span><span class="sxs-lookup"><span data-stu-id="aa5f9-224">ON</span></span>|<span data-ttu-id="aa5f9-225">是</span><span class="sxs-lookup"><span data-stu-id="aa5f9-225">Yes</span></span>|  
  
 <span data-ttu-id="aa5f9-226">有关这些数据库选项的说明，请参阅 [ALTER DATABASE (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-226">For a description of these database options, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
## <a name="restrictions"></a><span data-ttu-id="aa5f9-227">限制</span><span class="sxs-lookup"><span data-stu-id="aa5f9-227">Restrictions</span></span>  
 <span data-ttu-id="aa5f9-228">不能在 **msdb** 数据库中执行下列操作：</span><span class="sxs-lookup"><span data-stu-id="aa5f9-228">The following operations cannot be performed on the **msdb** database:</span></span>  
  
-   <span data-ttu-id="aa5f9-229">更改排序规则。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-229">Changing collation.</span></span> <span data-ttu-id="aa5f9-230">默认排序规则为服务器排序规则。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-230">The default collation is the server collation.</span></span>  
  
-   <span data-ttu-id="aa5f9-231">删除数据库。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-231">Dropping the database.</span></span>  
  
-   <span data-ttu-id="aa5f9-232">正在从数据库中删除**guest**用户。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-232">Dropping the **guest** user from the database.</span></span>  
  
-   <span data-ttu-id="aa5f9-233">启用变更数据捕获。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-233">Enabling change data capture.</span></span>  
  
-   <span data-ttu-id="aa5f9-234">参与数据库镜像。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-234">Participating in database mirroring.</span></span>  
  
-   <span data-ttu-id="aa5f9-235">删除主文件组、主数据文件或日志文件。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-235">Removing the primary filegroup, primary data file, or log file.</span></span>  
  
-   <span data-ttu-id="aa5f9-236">重命名数据库或主文件组。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-236">Renaming the database or primary filegroup.</span></span>  
  
-   <span data-ttu-id="aa5f9-237">将数据库设置为 OFFLINE。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-237">Setting the database to OFFLINE.</span></span>  
  
-   <span data-ttu-id="aa5f9-238">将主文件组设置为 READ_ONLY。</span><span class="sxs-lookup"><span data-stu-id="aa5f9-238">Setting the primary filegroup to READ_ONLY.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="aa5f9-239">相关内容</span><span class="sxs-lookup"><span data-stu-id="aa5f9-239">Related Content</span></span>  
 [<span data-ttu-id="aa5f9-240">系统数据库</span><span class="sxs-lookup"><span data-stu-id="aa5f9-240">System Databases</span></span>](system-databases.md)  
  
 [<span data-ttu-id="aa5f9-241">sys.databases (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="aa5f9-241">sys.databases &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql)  
  
 [<span data-ttu-id="aa5f9-242">sys.master_files (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="aa5f9-242">sys.master_files &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql)  
  
 [<span data-ttu-id="aa5f9-243">移动数据库文件</span><span class="sxs-lookup"><span data-stu-id="aa5f9-243">Move Database Files</span></span>](move-database-files.md)  
  
 [<span data-ttu-id="aa5f9-244">数据库邮件</span><span class="sxs-lookup"><span data-stu-id="aa5f9-244">Database Mail</span></span>](../database-mail/database-mail.md)  
  
 [<span data-ttu-id="aa5f9-245">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="aa5f9-245">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
