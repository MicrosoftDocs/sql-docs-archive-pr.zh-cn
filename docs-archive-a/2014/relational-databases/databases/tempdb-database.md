---
title: tempdb 数据库 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- temporary tables [SQL Server], tempdb database
- tempdb database [SQL Server], about tempdb
- temporary stored procedures [SQL Server]
- tempdb database [SQL Server]
ms.assetid: ce4053fb-e37a-4851-b711-8e504059a780
author: stevestein
ms.author: sstein
ms.openlocfilehash: 7150ca05e536214d43d4992ed1e7f79138ac2be9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87682863"
---
# <a name="tempdb-database"></a><span data-ttu-id="bf742-102">tempdb 数据库</span><span class="sxs-lookup"><span data-stu-id="bf742-102">tempdb Database</span></span>
  <span data-ttu-id="bf742-103">**tempdb** 系统数据库是一个全局资源，可供连接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的所有用户使用，并可用于保存下列各项：</span><span class="sxs-lookup"><span data-stu-id="bf742-103">The **tempdb** system database is a global resource that is available to all users connected to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and is used to hold the following:</span></span>  
  
-   <span data-ttu-id="bf742-104">显式创建的临时用户对象，例如全局或局部临时表、临时存储过程、表变量或游标。</span><span class="sxs-lookup"><span data-stu-id="bf742-104">Temporary user objects that are explicitly created, such as: global or local temporary tables, temporary stored procedures, table variables, or cursors.</span></span>  
  
-   <span data-ttu-id="bf742-105">[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]创建的内部对象，例如，用于存储假脱机或排序的中间结果的工作表。</span><span class="sxs-lookup"><span data-stu-id="bf742-105">Internal objects that are created by the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], for example, work tables to store intermediate results for spools or sorting.</span></span>  
  
-   <span data-ttu-id="bf742-106">由使用已提交读（使用行版本控制隔离或快照隔离事务）的数据库中数据修改事务生成的行版本。</span><span class="sxs-lookup"><span data-stu-id="bf742-106">Row versions that are generated by data modification transactions in a database that uses read-committed using row versioning isolation or snapshot isolation transactions.</span></span>  
  
-   <span data-ttu-id="bf742-107">由数据修改事务为实现联机索引操作、多个活动的结果集 (MARS) 以及 AFTER 触发器等功能而生成的行版本。</span><span class="sxs-lookup"><span data-stu-id="bf742-107">Row versions that are generated by data modification transactions for features, such as: online index operations, Multiple Active Result Sets (MARS), and AFTER triggers.</span></span>  
  
 <span data-ttu-id="bf742-108">**tempdb** 中的操作是最小日志记录操作。</span><span class="sxs-lookup"><span data-stu-id="bf742-108">Operations within **tempdb** are minimally logged.</span></span> <span data-ttu-id="bf742-109">这将使事务产生回滚。</span><span class="sxs-lookup"><span data-stu-id="bf742-109">This enables transactions to be rolled back.</span></span> <span data-ttu-id="bf742-110">每次启动时都会重新创建**tempdb** [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，以便系统始终以干净的数据库副本开头。</span><span class="sxs-lookup"><span data-stu-id="bf742-110">**tempdb** is re-created every time [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is started so that the system always starts with a clean copy of the database.</span></span> <span data-ttu-id="bf742-111">在断开联接时会自动删除临时表和存储过程，并且在系统关闭后没有活动连接。</span><span class="sxs-lookup"><span data-stu-id="bf742-111">Temporary tables and stored procedures are dropped automatically on disconnect, and no connections are active when the system is shut down.</span></span> <span data-ttu-id="bf742-112">因此， **tempdb**中永远不会有任何内容从一个会话保存 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 到另一个会话。</span><span class="sxs-lookup"><span data-stu-id="bf742-112">Therefore, there is never anything in **tempdb** to be saved from one session of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to another.</span></span> <span data-ttu-id="bf742-113">不允许对**tempdb**进行备份和还原操作。</span><span class="sxs-lookup"><span data-stu-id="bf742-113">Backup and restore operations are not allowed on **tempdb**.</span></span>  
  
## <a name="physical-properties-of-tempdb"></a><span data-ttu-id="bf742-114">tempdb 的物理属性</span><span class="sxs-lookup"><span data-stu-id="bf742-114">Physical Properties of tempdb</span></span>  
 <span data-ttu-id="bf742-115">下表列出了 **tempdb** 数据和日志文件的初始配置值。</span><span class="sxs-lookup"><span data-stu-id="bf742-115">The following table lists the initial configuration values of the **tempdb** data and log files.</span></span> <span data-ttu-id="bf742-116">对于不同版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，这些文件的大小可能略有不同。</span><span class="sxs-lookup"><span data-stu-id="bf742-116">The sizes of these files may vary slightly for different editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="bf742-117">文件</span><span class="sxs-lookup"><span data-stu-id="bf742-117">File</span></span>|<span data-ttu-id="bf742-118">逻辑名称</span><span class="sxs-lookup"><span data-stu-id="bf742-118">Logical name</span></span>|<span data-ttu-id="bf742-119">物理名称</span><span class="sxs-lookup"><span data-stu-id="bf742-119">Physical name</span></span>|<span data-ttu-id="bf742-120">文件增长</span><span class="sxs-lookup"><span data-stu-id="bf742-120">File growth</span></span>|  
|----------|------------------|-------------------|-----------------|  
|<span data-ttu-id="bf742-121">主数据</span><span class="sxs-lookup"><span data-stu-id="bf742-121">Primary data</span></span>|<span data-ttu-id="bf742-122">tempdev</span><span class="sxs-lookup"><span data-stu-id="bf742-122">tempdev</span></span>|<span data-ttu-id="bf742-123">tempdb.mdf</span><span class="sxs-lookup"><span data-stu-id="bf742-123">tempdb.mdf</span></span>|<span data-ttu-id="bf742-124">按 10% 自动增长，直到磁盘已满</span><span class="sxs-lookup"><span data-stu-id="bf742-124">Autogrow by 10 percent until the disk is full</span></span>|  
|<span data-ttu-id="bf742-125">日志</span><span class="sxs-lookup"><span data-stu-id="bf742-125">Log</span></span>|<span data-ttu-id="bf742-126">templog</span><span class="sxs-lookup"><span data-stu-id="bf742-126">templog</span></span>|<span data-ttu-id="bf742-127">templog.ldf</span><span class="sxs-lookup"><span data-stu-id="bf742-127">templog.ldf</span></span>|<span data-ttu-id="bf742-128">以 10% 的速度自动增长到最大 2 TB</span><span class="sxs-lookup"><span data-stu-id="bf742-128">Autogrow by 10 percent to a maximum of 2 terabytes</span></span>|  
  
 <span data-ttu-id="bf742-129">**Tempdb**的大小会影响系统的性能。</span><span class="sxs-lookup"><span data-stu-id="bf742-129">The size of **tempdb** can affect the performance of a system.</span></span> <span data-ttu-id="bf742-130">例如，如果**tempdb**的大小太小，则在每次启动时，系统处理自动增长数据库，以支持工作负荷需求 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="bf742-130">For example, if the **tempdb** size is too small, the system processing could be too occupied with autogrowing the database to support your workload requirement every time that you start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="bf742-131">可以通过增加**tempdb**的大小来避免此开销。</span><span class="sxs-lookup"><span data-stu-id="bf742-131">You can avoid this overhead by increasing the size of **tempdb**.</span></span>  
  
## <a name="performance-improvements-in-tempdb"></a><span data-ttu-id="bf742-132">tempdb 的性能提高</span><span class="sxs-lookup"><span data-stu-id="bf742-132">Performance Improvements in tempdb</span></span>  
 <span data-ttu-id="bf742-133">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中， **tempdb** 性能以下列方式进行提高：</span><span class="sxs-lookup"><span data-stu-id="bf742-133">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], **tempdb** performance is improved in the following ways:</span></span>  
  
-   <span data-ttu-id="bf742-134">可能缓存临时表和表变量。</span><span class="sxs-lookup"><span data-stu-id="bf742-134">Temporary tables and table variables may be cached.</span></span> <span data-ttu-id="bf742-135">缓存允许删除和创建临时对象的操作非常快速地执行，并减少页分配的争用问题。</span><span class="sxs-lookup"><span data-stu-id="bf742-135">Caching allows operations that drop and create the temporary objects to execute very quickly and reduces page allocation contention.</span></span>  
  
-   <span data-ttu-id="bf742-136">分配页闩锁协议得到改善。</span><span class="sxs-lookup"><span data-stu-id="bf742-136">Allocation page latching protocol is improved.</span></span> <span data-ttu-id="bf742-137">从而减少使用的 UP（更新）闩锁数。</span><span class="sxs-lookup"><span data-stu-id="bf742-137">This reduces the number of UP (update) latches that are used.</span></span>  
  
-   <span data-ttu-id="bf742-138">减少了 **tempdb** 的日志开销。</span><span class="sxs-lookup"><span data-stu-id="bf742-138">Logging overhead for **tempdb** is reduced.</span></span> <span data-ttu-id="bf742-139">从而减少了 **tempdb** 日志文件上的磁盘 I/O 带宽消耗。</span><span class="sxs-lookup"><span data-stu-id="bf742-139">This reduces disk I/O bandwidth consumption on the **tempdb** log file.</span></span>  
  
-   <span data-ttu-id="bf742-140">改进了在**tempdb**中分配混合页的算法。</span><span class="sxs-lookup"><span data-stu-id="bf742-140">The algorithm for allocating mixed pages in **tempdb** is improved.</span></span>  
  
### <a name="moving-the-tempdb-data-and-log-files"></a><span data-ttu-id="bf742-141">移动 tempdb 数据和日志文件</span><span class="sxs-lookup"><span data-stu-id="bf742-141">Moving the tempdb Data and Log Files</span></span>  
 <span data-ttu-id="bf742-142">若要移动**tempdb**数据和日志文件，请参阅[移动系统数据库](system-databases.md)。</span><span class="sxs-lookup"><span data-stu-id="bf742-142">To move the **tempdb** data and log files, see [Move System Databases](system-databases.md).</span></span>  
  
### <a name="database-options"></a><span data-ttu-id="bf742-143">数据库选项</span><span class="sxs-lookup"><span data-stu-id="bf742-143">Database Options</span></span>  
 <span data-ttu-id="bf742-144">下表列出了**tempdb**数据库中每个数据库选项的默认值以及该选项是否可以修改。</span><span class="sxs-lookup"><span data-stu-id="bf742-144">The following table lists the default value for each database option in the **tempdb** database and whether the option can be modified.</span></span> <span data-ttu-id="bf742-145">若要查看这些选项的当前设置，请使用 [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) 目录视图。</span><span class="sxs-lookup"><span data-stu-id="bf742-145">To view the current settings for these options, use the [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) catalog view.</span></span>  
  
|<span data-ttu-id="bf742-146">数据库选项</span><span class="sxs-lookup"><span data-stu-id="bf742-146">Database option</span></span>|<span data-ttu-id="bf742-147">默认值</span><span class="sxs-lookup"><span data-stu-id="bf742-147">Default value</span></span>|<span data-ttu-id="bf742-148">是否可修改</span><span class="sxs-lookup"><span data-stu-id="bf742-148">Can be modified</span></span>|  
|---------------------|-------------------|---------------------|  
|<span data-ttu-id="bf742-149">ALLOW_SNAPSHOT_ISOLATION</span><span class="sxs-lookup"><span data-stu-id="bf742-149">ALLOW_SNAPSHOT_ISOLATION</span></span>|<span data-ttu-id="bf742-150">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-150">OFF</span></span>|<span data-ttu-id="bf742-151">是</span><span class="sxs-lookup"><span data-stu-id="bf742-151">Yes</span></span>|  
|<span data-ttu-id="bf742-152">ANSI_NULL_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="bf742-152">ANSI_NULL_DEFAULT</span></span>|<span data-ttu-id="bf742-153">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-153">OFF</span></span>|<span data-ttu-id="bf742-154">是</span><span class="sxs-lookup"><span data-stu-id="bf742-154">Yes</span></span>|  
|<span data-ttu-id="bf742-155">ANSI_NULLS</span><span class="sxs-lookup"><span data-stu-id="bf742-155">ANSI_NULLS</span></span>|<span data-ttu-id="bf742-156">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-156">OFF</span></span>|<span data-ttu-id="bf742-157">是</span><span class="sxs-lookup"><span data-stu-id="bf742-157">Yes</span></span>|  
|<span data-ttu-id="bf742-158">ANSI_PADDING</span><span class="sxs-lookup"><span data-stu-id="bf742-158">ANSI_PADDING</span></span>|<span data-ttu-id="bf742-159">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-159">OFF</span></span>|<span data-ttu-id="bf742-160">是</span><span class="sxs-lookup"><span data-stu-id="bf742-160">Yes</span></span>|  
|<span data-ttu-id="bf742-161">ANSI_WARNINGS</span><span class="sxs-lookup"><span data-stu-id="bf742-161">ANSI_WARNINGS</span></span>|<span data-ttu-id="bf742-162">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-162">OFF</span></span>|<span data-ttu-id="bf742-163">是</span><span class="sxs-lookup"><span data-stu-id="bf742-163">Yes</span></span>|  
|<span data-ttu-id="bf742-164">ARITHABORT</span><span class="sxs-lookup"><span data-stu-id="bf742-164">ARITHABORT</span></span>|<span data-ttu-id="bf742-165">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-165">OFF</span></span>|<span data-ttu-id="bf742-166">是</span><span class="sxs-lookup"><span data-stu-id="bf742-166">Yes</span></span>|  
|<span data-ttu-id="bf742-167">AUTO_CLOSE</span><span class="sxs-lookup"><span data-stu-id="bf742-167">AUTO_CLOSE</span></span>|<span data-ttu-id="bf742-168">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-168">OFF</span></span>|<span data-ttu-id="bf742-169">否</span><span class="sxs-lookup"><span data-stu-id="bf742-169">No</span></span>|  
|<span data-ttu-id="bf742-170">AUTO_CREATE_STATISTICS</span><span class="sxs-lookup"><span data-stu-id="bf742-170">AUTO_CREATE_STATISTICS</span></span>|<span data-ttu-id="bf742-171">ON</span><span class="sxs-lookup"><span data-stu-id="bf742-171">ON</span></span>|<span data-ttu-id="bf742-172">是</span><span class="sxs-lookup"><span data-stu-id="bf742-172">Yes</span></span>|  
|<span data-ttu-id="bf742-173">AUTO_SHRINK</span><span class="sxs-lookup"><span data-stu-id="bf742-173">AUTO_SHRINK</span></span>|<span data-ttu-id="bf742-174">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-174">OFF</span></span>|<span data-ttu-id="bf742-175">否</span><span class="sxs-lookup"><span data-stu-id="bf742-175">No</span></span>|  
|<span data-ttu-id="bf742-176">AUTO_UPDATE_STATISTICS</span><span class="sxs-lookup"><span data-stu-id="bf742-176">AUTO_UPDATE_STATISTICS</span></span>|<span data-ttu-id="bf742-177">ON</span><span class="sxs-lookup"><span data-stu-id="bf742-177">ON</span></span>|<span data-ttu-id="bf742-178">是</span><span class="sxs-lookup"><span data-stu-id="bf742-178">Yes</span></span>|  
|<span data-ttu-id="bf742-179">AUTO_UPDATE_STATISTICS_ASYNC</span><span class="sxs-lookup"><span data-stu-id="bf742-179">AUTO_UPDATE_STATISTICS_ASYNC</span></span>|<span data-ttu-id="bf742-180">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-180">OFF</span></span>|<span data-ttu-id="bf742-181">是</span><span class="sxs-lookup"><span data-stu-id="bf742-181">Yes</span></span>|  
|<span data-ttu-id="bf742-182">CHANGE_TRACKING</span><span class="sxs-lookup"><span data-stu-id="bf742-182">CHANGE_TRACKING</span></span>|<span data-ttu-id="bf742-183">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-183">OFF</span></span>|<span data-ttu-id="bf742-184">否</span><span class="sxs-lookup"><span data-stu-id="bf742-184">No</span></span>|  
|<span data-ttu-id="bf742-185">CONCAT_NULL_YIELDS_NULL</span><span class="sxs-lookup"><span data-stu-id="bf742-185">CONCAT_NULL_YIELDS_NULL</span></span>|<span data-ttu-id="bf742-186">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-186">OFF</span></span>|<span data-ttu-id="bf742-187">是</span><span class="sxs-lookup"><span data-stu-id="bf742-187">Yes</span></span>|  
|<span data-ttu-id="bf742-188">CURSOR_CLOSE_ON_COMMIT</span><span class="sxs-lookup"><span data-stu-id="bf742-188">CURSOR_CLOSE_ON_COMMIT</span></span>|<span data-ttu-id="bf742-189">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-189">OFF</span></span>|<span data-ttu-id="bf742-190">是</span><span class="sxs-lookup"><span data-stu-id="bf742-190">Yes</span></span>|  
|<span data-ttu-id="bf742-191">CURSOR_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="bf742-191">CURSOR_DEFAULT</span></span>|<span data-ttu-id="bf742-192">GLOBAL</span><span class="sxs-lookup"><span data-stu-id="bf742-192">GLOBAL</span></span>|<span data-ttu-id="bf742-193">是</span><span class="sxs-lookup"><span data-stu-id="bf742-193">Yes</span></span>|  
|<span data-ttu-id="bf742-194">数据库可用性选项</span><span class="sxs-lookup"><span data-stu-id="bf742-194">Database Availability Options</span></span>|<span data-ttu-id="bf742-195">ONLINE</span><span class="sxs-lookup"><span data-stu-id="bf742-195">ONLINE</span></span><br /><br /> <span data-ttu-id="bf742-196">MULTI_USER</span><span class="sxs-lookup"><span data-stu-id="bf742-196">MULTI_USER</span></span><br /><br /> <span data-ttu-id="bf742-197">READ_WRITE</span><span class="sxs-lookup"><span data-stu-id="bf742-197">READ_WRITE</span></span>|<span data-ttu-id="bf742-198">否</span><span class="sxs-lookup"><span data-stu-id="bf742-198">No</span></span><br /><br /> <span data-ttu-id="bf742-199">否</span><span class="sxs-lookup"><span data-stu-id="bf742-199">No</span></span><br /><br /> <span data-ttu-id="bf742-200">否</span><span class="sxs-lookup"><span data-stu-id="bf742-200">No</span></span>|  
|<span data-ttu-id="bf742-201">DATE_CORRELATION_OPTIMIZATION</span><span class="sxs-lookup"><span data-stu-id="bf742-201">DATE_CORRELATION_OPTIMIZATION</span></span>|<span data-ttu-id="bf742-202">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-202">OFF</span></span>|<span data-ttu-id="bf742-203">是</span><span class="sxs-lookup"><span data-stu-id="bf742-203">Yes</span></span>|  
|<span data-ttu-id="bf742-204">DB_CHAINING</span><span class="sxs-lookup"><span data-stu-id="bf742-204">DB_CHAINING</span></span>|<span data-ttu-id="bf742-205">ON</span><span class="sxs-lookup"><span data-stu-id="bf742-205">ON</span></span>|<span data-ttu-id="bf742-206">否</span><span class="sxs-lookup"><span data-stu-id="bf742-206">No</span></span>|  
|<span data-ttu-id="bf742-207">ENCRYPTION</span><span class="sxs-lookup"><span data-stu-id="bf742-207">ENCRYPTION</span></span>|<span data-ttu-id="bf742-208">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-208">OFF</span></span>|<span data-ttu-id="bf742-209">否</span><span class="sxs-lookup"><span data-stu-id="bf742-209">No</span></span>|  
|<span data-ttu-id="bf742-210">NUMERIC_ROUNDABORT</span><span class="sxs-lookup"><span data-stu-id="bf742-210">NUMERIC_ROUNDABORT</span></span>|<span data-ttu-id="bf742-211">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-211">OFF</span></span>|<span data-ttu-id="bf742-212">是</span><span class="sxs-lookup"><span data-stu-id="bf742-212">Yes</span></span>|  
|<span data-ttu-id="bf742-213">PAGE_VERIFY</span><span class="sxs-lookup"><span data-stu-id="bf742-213">PAGE_VERIFY</span></span>|<span data-ttu-id="bf742-214">对于新安装的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，为 CHECKSUM。</span><span class="sxs-lookup"><span data-stu-id="bf742-214">CHECKSUM for new installations of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span><br /><br /> <span data-ttu-id="bf742-215">对于升级的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，为 NONE。</span><span class="sxs-lookup"><span data-stu-id="bf742-215">NONE for upgrades of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="bf742-216">是</span><span class="sxs-lookup"><span data-stu-id="bf742-216">Yes</span></span>|  
|<span data-ttu-id="bf742-217">PARAMETERIZATION</span><span class="sxs-lookup"><span data-stu-id="bf742-217">PARAMETERIZATION</span></span>|<span data-ttu-id="bf742-218">SIMPLE</span><span class="sxs-lookup"><span data-stu-id="bf742-218">SIMPLE</span></span>|<span data-ttu-id="bf742-219">是</span><span class="sxs-lookup"><span data-stu-id="bf742-219">Yes</span></span>|  
|<span data-ttu-id="bf742-220">QUOTED_IDENTIFIER</span><span class="sxs-lookup"><span data-stu-id="bf742-220">QUOTED_IDENTIFIER</span></span>|<span data-ttu-id="bf742-221">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-221">OFF</span></span>|<span data-ttu-id="bf742-222">是</span><span class="sxs-lookup"><span data-stu-id="bf742-222">Yes</span></span>|  
|<span data-ttu-id="bf742-223">READ_COMMITTED_SNAPSHOT</span><span class="sxs-lookup"><span data-stu-id="bf742-223">READ_COMMITTED_SNAPSHOT</span></span>|<span data-ttu-id="bf742-224">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-224">OFF</span></span>|<span data-ttu-id="bf742-225">否</span><span class="sxs-lookup"><span data-stu-id="bf742-225">No</span></span>|  
|<span data-ttu-id="bf742-226">RECOVERY</span><span class="sxs-lookup"><span data-stu-id="bf742-226">RECOVERY</span></span>|<span data-ttu-id="bf742-227">SIMPLE</span><span class="sxs-lookup"><span data-stu-id="bf742-227">SIMPLE</span></span>|<span data-ttu-id="bf742-228">否</span><span class="sxs-lookup"><span data-stu-id="bf742-228">No</span></span>|  
|<span data-ttu-id="bf742-229">RECURSIVE_TRIGGERS</span><span class="sxs-lookup"><span data-stu-id="bf742-229">RECURSIVE_TRIGGERS</span></span>|<span data-ttu-id="bf742-230">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-230">OFF</span></span>|<span data-ttu-id="bf742-231">是</span><span class="sxs-lookup"><span data-stu-id="bf742-231">Yes</span></span>|  
|<span data-ttu-id="bf742-232">Service Broker 选项</span><span class="sxs-lookup"><span data-stu-id="bf742-232">Service Broker Options</span></span>|<span data-ttu-id="bf742-233">ENABLE_BROKER</span><span class="sxs-lookup"><span data-stu-id="bf742-233">ENABLE_BROKER</span></span>|<span data-ttu-id="bf742-234">是</span><span class="sxs-lookup"><span data-stu-id="bf742-234">Yes</span></span>|  
|<span data-ttu-id="bf742-235">TRUSTWORTHY</span><span class="sxs-lookup"><span data-stu-id="bf742-235">TRUSTWORTHY</span></span>|<span data-ttu-id="bf742-236">OFF</span><span class="sxs-lookup"><span data-stu-id="bf742-236">OFF</span></span>|<span data-ttu-id="bf742-237">否</span><span class="sxs-lookup"><span data-stu-id="bf742-237">No</span></span>|  
  
 <span data-ttu-id="bf742-238">有关这些数据库选项的说明，请参阅 [ALTER DATABASE SET 选项 (Transact-SQL)](/sql/t-sql/statements/alter-database-transact-sql-set-options)。</span><span class="sxs-lookup"><span data-stu-id="bf742-238">For a description of these database options, see [ALTER DATABASE SET Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options).</span></span>  
  
## <a name="restrictions"></a><span data-ttu-id="bf742-239">限制</span><span class="sxs-lookup"><span data-stu-id="bf742-239">Restrictions</span></span>  
 <span data-ttu-id="bf742-240">不能对**tempdb**数据库执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="bf742-240">The following operations cannot be performed on the **tempdb** database:</span></span>  
  
-   <span data-ttu-id="bf742-241">添加文件组。</span><span class="sxs-lookup"><span data-stu-id="bf742-241">Adding filegroups.</span></span>  
  
-   <span data-ttu-id="bf742-242">备份或还原数据库。</span><span class="sxs-lookup"><span data-stu-id="bf742-242">Backing up or restoring the database.</span></span>  
  
-   <span data-ttu-id="bf742-243">更改排序规则。</span><span class="sxs-lookup"><span data-stu-id="bf742-243">Changing collation.</span></span> <span data-ttu-id="bf742-244">默认排序规则为服务器排序规则。</span><span class="sxs-lookup"><span data-stu-id="bf742-244">The default collation is the server collation.</span></span>  
  
-   <span data-ttu-id="bf742-245">更改数据库所有者。</span><span class="sxs-lookup"><span data-stu-id="bf742-245">Changing the database owner.</span></span> <span data-ttu-id="bf742-246">**tempdb**归**sa**所有。</span><span class="sxs-lookup"><span data-stu-id="bf742-246">**tempdb** is owned by **sa**.</span></span>  
  
-   <span data-ttu-id="bf742-247">创建数据库快照。</span><span class="sxs-lookup"><span data-stu-id="bf742-247">Creating a database snapshot.</span></span>  
  
-   <span data-ttu-id="bf742-248">删除数据库。</span><span class="sxs-lookup"><span data-stu-id="bf742-248">Dropping the database.</span></span>  
  
-   <span data-ttu-id="bf742-249">正在从数据库中删除**guest**用户。</span><span class="sxs-lookup"><span data-stu-id="bf742-249">Dropping the **guest** user from the database.</span></span>  
  
-   <span data-ttu-id="bf742-250">启用变更数据捕获。</span><span class="sxs-lookup"><span data-stu-id="bf742-250">Enabling change data capture.</span></span>  
  
-   <span data-ttu-id="bf742-251">参与数据库镜像。</span><span class="sxs-lookup"><span data-stu-id="bf742-251">Participating in database mirroring.</span></span>  
  
-   <span data-ttu-id="bf742-252">删除主文件组、主数据文件或日志文件。</span><span class="sxs-lookup"><span data-stu-id="bf742-252">Removing the primary filegroup, primary data file, or log file.</span></span>  
  
-   <span data-ttu-id="bf742-253">重命名数据库或主文件组。</span><span class="sxs-lookup"><span data-stu-id="bf742-253">Renaming the database or primary filegroup.</span></span>  
  
-   <span data-ttu-id="bf742-254">运行 DBCC CHECKALLOC。</span><span class="sxs-lookup"><span data-stu-id="bf742-254">Running DBCC CHECKALLOC.</span></span>  
  
-   <span data-ttu-id="bf742-255">运行 DBCC CHECKCATALOG。</span><span class="sxs-lookup"><span data-stu-id="bf742-255">Running DBCC CHECKCATALOG.</span></span>  
  
-   <span data-ttu-id="bf742-256">将数据库设置为 OFFLINE。</span><span class="sxs-lookup"><span data-stu-id="bf742-256">Setting the database to OFFLINE.</span></span>  
  
-   <span data-ttu-id="bf742-257">将数据库或主文件组设置为 READ_ONLY。</span><span class="sxs-lookup"><span data-stu-id="bf742-257">Setting the database or primary filegroup to READ_ONLY.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="bf742-258">权限</span><span class="sxs-lookup"><span data-stu-id="bf742-258">Permissions</span></span>  
 <span data-ttu-id="bf742-259">任何用户都可以在 tempdb 中创建临时对象。</span><span class="sxs-lookup"><span data-stu-id="bf742-259">Any user can create temporary objects in tempdb.</span></span> <span data-ttu-id="bf742-260">用户只能访问自己的对象，除非他们获得更多的权限。</span><span class="sxs-lookup"><span data-stu-id="bf742-260">Users can only access their own objects, unless they receive additional permissions.</span></span> <span data-ttu-id="bf742-261">可以撤消对 tempdb 的连接权限以阻止用户使用 tempdb，但是不建议这样做，因为一些例行操作需要使用 tempdb。</span><span class="sxs-lookup"><span data-stu-id="bf742-261">It is possible to revoke the connect permission to tempdb to prevent a user from using tempdb, but this is not recommended as some routine operations require the use of tempdb.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="bf742-262">相关内容</span><span class="sxs-lookup"><span data-stu-id="bf742-262">Related Content</span></span>  
 [<span data-ttu-id="bf742-263">用于索引的 SORT_IN_TEMPDB 选项</span><span class="sxs-lookup"><span data-stu-id="bf742-263">SORT_IN_TEMPDB Option For Indexes</span></span>](../indexes/indexes.md)  
  
 [<span data-ttu-id="bf742-264">系统数据库</span><span class="sxs-lookup"><span data-stu-id="bf742-264">System Databases</span></span>](system-databases.md)  
  
 [<span data-ttu-id="bf742-265">sys.databases (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bf742-265">sys.databases &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql)  
  
 [<span data-ttu-id="bf742-266">sys.master_files (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bf742-266">sys.master_files &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql)  
  
 [<span data-ttu-id="bf742-267">移动数据库文件</span><span class="sxs-lookup"><span data-stu-id="bf742-267">Move Database Files</span></span>](move-database-files.md)  
  
## <a name="see-also"></a><span data-ttu-id="bf742-268">另请参阅</span><span class="sxs-lookup"><span data-stu-id="bf742-268">See Also</span></span>  
 [<span data-ttu-id="bf742-269">在 SQL Server 2005 中使用 tempdb</span><span class="sxs-lookup"><span data-stu-id="bf742-269">Working with tempdb in SQL Server 2005</span></span>](https://chresandro.wordpress.com/2014/09/29/working-with-tempdb-in-sql-server-2005/)  
  
  
