---
title: FileTable 架构 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.technology: filestream
ms.reviewer: ''
ms.topic: conceptual
helpviewer_keywords:
- FileTables [SQL Server], table schema
ms.assetid: e1cb3880-cfda-40ac-91fc-d08998287f44
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: fa6a6d3d033633a136f51437c415a2998c075859
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87692963"
---
# <a name="filetable-schema"></a><span data-ttu-id="8680a-102">FileTable 架构</span><span class="sxs-lookup"><span data-stu-id="8680a-102">FileTable Schema</span></span>
  <span data-ttu-id="8680a-103">说明 FileTable 的预定义固定架构。</span><span class="sxs-lookup"><span data-stu-id="8680a-103">Describes the pre-defined and fixed schema of a FileTable.</span></span>  
  
|<span data-ttu-id="8680a-104">文件属性名称</span><span class="sxs-lookup"><span data-stu-id="8680a-104">File attribute name</span></span>|<span data-ttu-id="8680a-105">type</span><span class="sxs-lookup"><span data-stu-id="8680a-105">type</span></span>|<span data-ttu-id="8680a-106">大小</span><span class="sxs-lookup"><span data-stu-id="8680a-106">Size</span></span>|<span data-ttu-id="8680a-107">默认</span><span class="sxs-lookup"><span data-stu-id="8680a-107">Default</span></span>|<span data-ttu-id="8680a-108">说明</span><span class="sxs-lookup"><span data-stu-id="8680a-108">Description</span></span>|<span data-ttu-id="8680a-109">文件系统可访问性</span><span class="sxs-lookup"><span data-stu-id="8680a-109">File system accessibility</span></span>|  
|-------------------------|----------|----------|-------------|-----------------|-------------------------------|  
|<span data-ttu-id="8680a-110">**path_locator**</span><span class="sxs-lookup"><span data-stu-id="8680a-110">**path_locator**</span></span>|`hierarchyid`|<span data-ttu-id="8680a-111">变量</span><span class="sxs-lookup"><span data-stu-id="8680a-111">variable</span></span>|<span data-ttu-id="8680a-112">一个标识此项的位置的 `hierarchyid`。</span><span class="sxs-lookup"><span data-stu-id="8680a-112">A `hierarchyid` that identifies the position of this item.</span></span>|<span data-ttu-id="8680a-113">此节点在分层 FileNamespace 中的位置。</span><span class="sxs-lookup"><span data-stu-id="8680a-113">The position of this node in the hierarchical FileNamespace.</span></span><br /><br /> <span data-ttu-id="8680a-114">表的主键。</span><span class="sxs-lookup"><span data-stu-id="8680a-114">Primary key for the table.</span></span>|<span data-ttu-id="8680a-115">可通过设置 Windows 路径值来创建和修改。</span><span class="sxs-lookup"><span data-stu-id="8680a-115">Can be created and modified by setting the Windows path values.</span></span>|  
|<span data-ttu-id="8680a-116">**stream_id**</span><span class="sxs-lookup"><span data-stu-id="8680a-116">**stream_id**</span></span>|<span data-ttu-id="8680a-117">**[uniqueidentifier] rowguidcol**</span><span class="sxs-lookup"><span data-stu-id="8680a-117">**[uniqueidentifier] rowguidcol**</span></span>||<span data-ttu-id="8680a-118">`NEWID()` 函数返回的值。</span><span class="sxs-lookup"><span data-stu-id="8680a-118">A value returned by the `NEWID()` function.</span></span>|<span data-ttu-id="8680a-119">FILESTREAM 数据的唯一 ID。</span><span class="sxs-lookup"><span data-stu-id="8680a-119">A unique ID for the FILESTREAM data.</span></span>|<span data-ttu-id="8680a-120">不适用。</span><span class="sxs-lookup"><span data-stu-id="8680a-120">Not applicable.</span></span>|  
|<span data-ttu-id="8680a-121">**file_stream**</span><span class="sxs-lookup"><span data-stu-id="8680a-121">**file_stream**</span></span>|`varbinary(max)`<br /><br /> `filestream`|<span data-ttu-id="8680a-122">可变</span><span class="sxs-lookup"><span data-stu-id="8680a-122">variable</span></span>|<span data-ttu-id="8680a-123">Null</span><span class="sxs-lookup"><span data-stu-id="8680a-123">NULL</span></span>|<span data-ttu-id="8680a-124">包含 FILESTREAM 数据。</span><span class="sxs-lookup"><span data-stu-id="8680a-124">Contains the FILESTREAM data.</span></span>|<span data-ttu-id="8680a-125">不适用。</span><span class="sxs-lookup"><span data-stu-id="8680a-125">Not applicable.</span></span>|  
|<span data-ttu-id="8680a-126">**file_type**</span><span class="sxs-lookup"><span data-stu-id="8680a-126">**file_type**</span></span>|`nvarchar(255)`|<span data-ttu-id="8680a-127">可变</span><span class="sxs-lookup"><span data-stu-id="8680a-127">variable</span></span>|<span data-ttu-id="8680a-128">NULL。</span><span class="sxs-lookup"><span data-stu-id="8680a-128">NULL.</span></span><br /><br /> <span data-ttu-id="8680a-129">文件系统中的创建或重命名操作将从名称填充文件扩展名值。</span><span class="sxs-lookup"><span data-stu-id="8680a-129">A create or rename operation in the file system populates the file extension value from the name.</span></span>|<span data-ttu-id="8680a-130">表示文件的类型。</span><span class="sxs-lookup"><span data-stu-id="8680a-130">Represents the type of the file.</span></span><br /><br /> <span data-ttu-id="8680a-131">在您创建全文索引时，可将此列用作 `TYPE COLUMN`。</span><span class="sxs-lookup"><span data-stu-id="8680a-131">This column can be used as the `TYPE COLUMN` when you create a full-text index.</span></span><br /><br /> <span data-ttu-id="8680a-132">**file_type** 是持久化计算列。</span><span class="sxs-lookup"><span data-stu-id="8680a-132">**file_type** is a persisted computed column.</span></span>|<span data-ttu-id="8680a-133">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-133">Calculated automatically.</span></span> <span data-ttu-id="8680a-134">无法设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-134">Cannot be set.</span></span>|  
|<span data-ttu-id="8680a-135">**名称**</span><span class="sxs-lookup"><span data-stu-id="8680a-135">**Name**</span></span>|`nvarchar(255)`|<span data-ttu-id="8680a-136">可变</span><span class="sxs-lookup"><span data-stu-id="8680a-136">variable</span></span>|<span data-ttu-id="8680a-137">GUID 值。</span><span class="sxs-lookup"><span data-stu-id="8680a-137">GUID value.</span></span>|<span data-ttu-id="8680a-138">文件或目录的名称。</span><span class="sxs-lookup"><span data-stu-id="8680a-138">The file or directory name.</span></span>|<span data-ttu-id="8680a-139">可使用 Windows API 创建或修改。</span><span class="sxs-lookup"><span data-stu-id="8680a-139">Can be created or modified by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-140">**parent_path_locator**</span><span class="sxs-lookup"><span data-stu-id="8680a-140">**parent_path_locator**</span></span>|`hierarchyid`|<span data-ttu-id="8680a-141">变量</span><span class="sxs-lookup"><span data-stu-id="8680a-141">variable</span></span>|<span data-ttu-id="8680a-142">一个标识包含此项的目录的 `hierarchyid`。</span><span class="sxs-lookup"><span data-stu-id="8680a-142">A `hierarchyid` that identifies the directory that contains this item.</span></span>|<span data-ttu-id="8680a-143">包含目录的 `hierarchyid`。</span><span class="sxs-lookup"><span data-stu-id="8680a-143">The `hierarchyid` of the containing directory.</span></span><br /><br /> <span data-ttu-id="8680a-144">**parent_path_locator** 是持久化计算列。</span><span class="sxs-lookup"><span data-stu-id="8680a-144">**parent_path_locator** is a persisted computed column.</span></span>|<span data-ttu-id="8680a-145">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-145">Calculated automatically.</span></span> <span data-ttu-id="8680a-146">无法设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-146">Cannot be set.</span></span>|  
|<span data-ttu-id="8680a-147">**cached_file_size**</span><span class="sxs-lookup"><span data-stu-id="8680a-147">**cached_file_size**</span></span>|`bigint`|||<span data-ttu-id="8680a-148">FILESTREAM 数据的大小（以字节为单位）。</span><span class="sxs-lookup"><span data-stu-id="8680a-148">The size in bytes of the FILESTREAM data.</span></span><br /><br /> <span data-ttu-id="8680a-149">**cached_file_size** 是持久化计算列。</span><span class="sxs-lookup"><span data-stu-id="8680a-149">**cached_file_size** is a persisted computed column.</span></span>|<span data-ttu-id="8680a-150">虽然缓存文件的大小会自动保持更新，但在特殊情况下也可能会出现不同步的问题。</span><span class="sxs-lookup"><span data-stu-id="8680a-150">Although the cached file size is automatically kept up to date, it can go out of sync in unusual circumstances.</span></span> <span data-ttu-id="8680a-151">若要计算确切的大小，请使用 `DATALENGTH()` 函数。</span><span class="sxs-lookup"><span data-stu-id="8680a-151">To calculate the exact size, use the `DATALENGTH()` function.</span></span>|  
|<span data-ttu-id="8680a-152">**creation_time**</span><span class="sxs-lookup"><span data-stu-id="8680a-152">**creation_time**</span></span>|`datetime2(4)`<br /><br /> `not null`|<span data-ttu-id="8680a-153">8 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-153">8 bytes</span></span>|<span data-ttu-id="8680a-154">当前时间。</span><span class="sxs-lookup"><span data-stu-id="8680a-154">Current time.</span></span>|<span data-ttu-id="8680a-155">文件的创建日期和时间。</span><span class="sxs-lookup"><span data-stu-id="8680a-155">The date and time that the file was created.</span></span>|<span data-ttu-id="8680a-156">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-156">Calculated automatically.</span></span> <span data-ttu-id="8680a-157">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-157">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-158">**last_write_time**</span><span class="sxs-lookup"><span data-stu-id="8680a-158">**last_write_time**</span></span>|`datetime2(4)`<br /><br /> `not null`|<span data-ttu-id="8680a-159">8 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-159">8 bytes</span></span>|<span data-ttu-id="8680a-160">当前时间。</span><span class="sxs-lookup"><span data-stu-id="8680a-160">Current time.</span></span>|<span data-ttu-id="8680a-161">上次更新文件的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="8680a-161">The date and time that the file was last updated.</span></span>|<span data-ttu-id="8680a-162">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-162">Calculated automatically.</span></span> <span data-ttu-id="8680a-163">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-163">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-164">**last_access_time**</span><span class="sxs-lookup"><span data-stu-id="8680a-164">**last_access_time**</span></span>|`datetime2(4)`<br /><br /> `not null`|<span data-ttu-id="8680a-165">8 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-165">8 bytes</span></span>|<span data-ttu-id="8680a-166">当前时间。</span><span class="sxs-lookup"><span data-stu-id="8680a-166">Current time.</span></span>|<span data-ttu-id="8680a-167">上次访问文件的日期和时间。</span><span class="sxs-lookup"><span data-stu-id="8680a-167">The date and time that the file was last accessed.</span></span>|<span data-ttu-id="8680a-168">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-168">Calculated automatically.</span></span> <span data-ttu-id="8680a-169">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-169">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-170">**is_directory**</span><span class="sxs-lookup"><span data-stu-id="8680a-170">**is_directory**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-171">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-171">1 byte</span></span>|<span data-ttu-id="8680a-172">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-172">FALSE</span></span>|<span data-ttu-id="8680a-173">指示行是否表示目录。</span><span class="sxs-lookup"><span data-stu-id="8680a-173">Indicates whether the row represents a directory.</span></span> <span data-ttu-id="8680a-174">此值由系统自动计算，无法设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-174">This value is calculated automatically, and cannot be set.</span></span>|<span data-ttu-id="8680a-175">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-175">Calculated automatically.</span></span> <span data-ttu-id="8680a-176">无法设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-176">Cannot be set.</span></span>|  
|<span data-ttu-id="8680a-177">**is_offline**</span><span class="sxs-lookup"><span data-stu-id="8680a-177">**is_offline**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-178">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-178">1 byte</span></span>|<span data-ttu-id="8680a-179">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-179">FALSE</span></span>|<span data-ttu-id="8680a-180">脱机文件属性。</span><span class="sxs-lookup"><span data-stu-id="8680a-180">Offline file attribute.</span></span>|<span data-ttu-id="8680a-181">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-181">Calculated automatically.</span></span> <span data-ttu-id="8680a-182">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-182">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-183">**is_hidden**</span><span class="sxs-lookup"><span data-stu-id="8680a-183">**is_hidden**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-184">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-184">1 byte</span></span>|<span data-ttu-id="8680a-185">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-185">FALSE</span></span>|<span data-ttu-id="8680a-186">隐藏文件属性。</span><span class="sxs-lookup"><span data-stu-id="8680a-186">Hidden file attribute.</span></span>|<span data-ttu-id="8680a-187">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-187">Calculated automatically.</span></span> <span data-ttu-id="8680a-188">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-188">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-189">**is_readonly**</span><span class="sxs-lookup"><span data-stu-id="8680a-189">**is_readonly**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-190">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-190">1 byte</span></span>|<span data-ttu-id="8680a-191">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-191">FALSE</span></span>|<span data-ttu-id="8680a-192">只读文件属性。</span><span class="sxs-lookup"><span data-stu-id="8680a-192">Read-only  file attribute.</span></span>|<span data-ttu-id="8680a-193">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-193">Calculated automatically.</span></span> <span data-ttu-id="8680a-194">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-194">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-195">**is_archive**</span><span class="sxs-lookup"><span data-stu-id="8680a-195">**is_archive**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-196">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-196">1 byte</span></span>|<span data-ttu-id="8680a-197">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-197">FALSE</span></span>|<span data-ttu-id="8680a-198">存档属性。</span><span class="sxs-lookup"><span data-stu-id="8680a-198">Archive attribute.</span></span>|<span data-ttu-id="8680a-199">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-199">Calculated automatically.</span></span> <span data-ttu-id="8680a-200">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-200">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-201">**is_system**</span><span class="sxs-lookup"><span data-stu-id="8680a-201">**is_system**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-202">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-202">1 byte</span></span>|<span data-ttu-id="8680a-203">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-203">FALSE</span></span>|<span data-ttu-id="8680a-204">系统文件属性。</span><span class="sxs-lookup"><span data-stu-id="8680a-204">System file attribute.</span></span>|<span data-ttu-id="8680a-205">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-205">Calculated automatically.</span></span> <span data-ttu-id="8680a-206">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-206">Can also be set by using Windows APIs.</span></span>|  
|<span data-ttu-id="8680a-207">**is_temporary**</span><span class="sxs-lookup"><span data-stu-id="8680a-207">**is_temporary**</span></span>|`bit`<br /><br /> `not null`|<span data-ttu-id="8680a-208">1 字节</span><span class="sxs-lookup"><span data-stu-id="8680a-208">1 byte</span></span>|<span data-ttu-id="8680a-209">FALSE</span><span class="sxs-lookup"><span data-stu-id="8680a-209">FALSE</span></span>|<span data-ttu-id="8680a-210">临时文件属性。</span><span class="sxs-lookup"><span data-stu-id="8680a-210">Temporary file attribute.</span></span>|<span data-ttu-id="8680a-211">自动计算。</span><span class="sxs-lookup"><span data-stu-id="8680a-211">Calculated automatically.</span></span> <span data-ttu-id="8680a-212">也可以通过使用 Windows API 设置。</span><span class="sxs-lookup"><span data-stu-id="8680a-212">Can also be set by using Windows APIs.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="8680a-213">另请参阅</span><span class="sxs-lookup"><span data-stu-id="8680a-213">See Also</span></span>  
 [<span data-ttu-id="8680a-214">创建、更改和删除 FileTable</span><span class="sxs-lookup"><span data-stu-id="8680a-214">Create, Alter, and Drop FileTables</span></span>](create-alter-and-drop-filetables.md)  
  
  
