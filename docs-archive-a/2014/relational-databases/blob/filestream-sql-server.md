---
title: FILESTREAM (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: filestream
ms.topic: conceptual
helpviewer_keywords:
- FILESTREAM [SQL Server]
- FILESTREAM [SQL Server], about
- FILESTREAM [SQL Server], overview
ms.assetid: 9a5a8166-bcbe-4680-916c-26276253eafa
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 971f45fd69f381a8997bb2f8f08444f4d9c107c4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87692969"
---
# <a name="filestream-sql-server"></a><span data-ttu-id="1993c-102">FILESTREAM (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="1993c-102">FILESTREAM (SQL Server)</span></span>
  <span data-ttu-id="1993c-103">借助 FILESTREAM，基于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的应用程序可以将非结构化的数据（如文档和图像）存储在文件系统中。</span><span class="sxs-lookup"><span data-stu-id="1993c-103">FILESTREAM enables [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]-based applications to store unstructured data, such as documents and images, on the file system.</span></span> <span data-ttu-id="1993c-104">应用程序在利用丰富的流式 API 和文件系统的性能的同时，还可保持非结构化数据和对应的结构化数据之间的事务一致性。</span><span class="sxs-lookup"><span data-stu-id="1993c-104">Applications can leverage the rich streaming APIs and performance of the file system and at the same time maintain transactional consistency between the unstructured data and corresponding structured data.</span></span>  
  
 <span data-ttu-id="1993c-105">FILESTREAM [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 通过将 `varbinary(max)` 二进制大型对象 (BLOB) 数据作为文件存储在文件系统上，将与 NTFS 文件系统集成。</span><span class="sxs-lookup"><span data-stu-id="1993c-105">FILESTREAM integrates the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] with an NTFS file system by storing `varbinary(max)` binary large object (BLOB) data as files on the file system.</span></span> [!INCLUDE[tsql](../../includes/tsql-md.md)] <span data-ttu-id="1993c-106">语句可插入、更新、查询、搜索和备份 FILESTREAM 数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-106">statements can insert, update, query, search, and back up FILESTREAM data.</span></span> <span data-ttu-id="1993c-107">Win32 文件系统接口提供对数据的流访问权限。</span><span class="sxs-lookup"><span data-stu-id="1993c-107">Win32 file system interfaces provide streaming access to the data.</span></span>  
  
 <span data-ttu-id="1993c-108">FILESTREAM 使用 NT 系统缓存来缓存文件数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-108">FILESTREAM uses the NT system cache for caching file data.</span></span> <span data-ttu-id="1993c-109">这有助于减少 FILESTREAM 数据可能对 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 性能产生的任何影响。</span><span class="sxs-lookup"><span data-stu-id="1993c-109">This helps reduce any effect that FILESTREAM data might have on [!INCLUDE[ssDE](../../includes/ssde-md.md)] performance.</span></span> <span data-ttu-id="1993c-110">由于没有使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 缓冲池，因此该内存可用于查询处理。</span><span class="sxs-lookup"><span data-stu-id="1993c-110">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] buffer pool is not used; therefore, this memory is available for query processing.</span></span>  
  
 <span data-ttu-id="1993c-111">在安装或升级 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]时，并不会自动启用 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="1993c-111">FILESTREAM is not automatically enabled when you install or upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="1993c-112">您必须使用 SQL Server 配置管理器和 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]来启用 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="1993c-112">You must enable FILESTREAM by using SQL Server Configuration Manager and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="1993c-113">若要使用 FILESTREAM，您必须创建或修改数据库以包含一个特殊类型的文件组。</span><span class="sxs-lookup"><span data-stu-id="1993c-113">To use FILESTREAM, you must create or modify a database to contain a special type of filegroup.</span></span> <span data-ttu-id="1993c-114">然后，创建或修改某个表，以使其包含一个具有 FILESTREAM 属性的 `varbinary(max)` 列。</span><span class="sxs-lookup"><span data-stu-id="1993c-114">Then, create or modify a table so that it contains a `varbinary(max)` column with the FILESTREAM attribute.</span></span> <span data-ttu-id="1993c-115">在完成这些任务后，您可以使用 [!INCLUDE[tsql](../../includes/tsql-md.md)] 和 Win32 来管理 FILESTREAM 数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-115">After you complete these tasks, you can use [!INCLUDE[tsql](../../includes/tsql-md.md)] and Win32 to manage the FILESTREAM data.</span></span>  
  
 <span data-ttu-id="1993c-116">有关安装和使用 FILESTREAM 的详细信息，请参阅 [相关任务](#reltasks)的列表。</span><span class="sxs-lookup"><span data-stu-id="1993c-116">For more information about installing and using FILESTREAM, see the list of [Related Tasks](#reltasks).</span></span>  
  
##  <a name="when-to-use-filestream"></a><a name="whentouse"></a><span data-ttu-id="1993c-117">何时使用 FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="1993c-117">When to Use FILESTREAM</span></span>  
 <span data-ttu-id="1993c-118">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中，BLOB 可以是将数据存储在表中的标准 `varbinary(max)` 数据，也可以是将数据存储在文件系统中的 FILESTREAM `varbinary(max)` 对象。</span><span class="sxs-lookup"><span data-stu-id="1993c-118">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], BLOBs can be standard `varbinary(max)` data that stores the data in tables, or FILESTREAM `varbinary(max)` objects that store the data in the file system.</span></span> <span data-ttu-id="1993c-119">数据的大小和应用情况决定您应该使用数据库存储还是文件系统存储。</span><span class="sxs-lookup"><span data-stu-id="1993c-119">The size and use of the data determines whether you should use database storage or file system storage.</span></span> <span data-ttu-id="1993c-120">如果满足以下条件，则应考虑使用 FILESTREAM：</span><span class="sxs-lookup"><span data-stu-id="1993c-120">If the following conditions are true, you should consider using FILESTREAM:</span></span>  
  
-   <span data-ttu-id="1993c-121">所存储的对象平均大于 1 MB。</span><span class="sxs-lookup"><span data-stu-id="1993c-121">Objects that are being stored are, on average, larger than 1 MB.</span></span>  
  
-   <span data-ttu-id="1993c-122">快速读取访问很重要。</span><span class="sxs-lookup"><span data-stu-id="1993c-122">Fast read access is important.</span></span>  
  
-   <span data-ttu-id="1993c-123">您开发的是使用中间层作为应用程序逻辑的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1993c-123">You are developing applications that use a middle tier for application logic.</span></span>  
  
 <span data-ttu-id="1993c-124">对于较小的对象，将 `varbinary(max)` BLOB 存储在数据库中通常会提供更为优异的流性能。</span><span class="sxs-lookup"><span data-stu-id="1993c-124">For smaller objects, storing `varbinary(max)` BLOBs in the database often provides better streaming performance.</span></span>  
  
  
##  <a name="filestream-storage"></a><a name="storage"></a><span data-ttu-id="1993c-125">FILESTREAM 存储</span><span class="sxs-lookup"><span data-stu-id="1993c-125">FILESTREAM Storage</span></span>  
 <span data-ttu-id="1993c-126">FILESTREAM 存储以 `varbinary(max)` 列的形式实现，在该列中数据以 BLOB 的形式存储在文件系统中。</span><span class="sxs-lookup"><span data-stu-id="1993c-126">FILESTREAM storage is implemented as a `varbinary(max)` column in which the data is stored as BLOBs in the file system.</span></span> <span data-ttu-id="1993c-127">BLOB 的大小仅受文件系统容量大小的限制。</span><span class="sxs-lookup"><span data-stu-id="1993c-127">The sizes of the BLOBs are limited only by the volume size of the file system.</span></span> <span data-ttu-id="1993c-128">文件大小为 2 GB 的 `varbinary(max)` 标准限制不适用于存储在文件系统中的 BLOB。</span><span class="sxs-lookup"><span data-stu-id="1993c-128">The standard `varbinary(max)` limitation of 2-GB file sizes does not apply to BLOBs that are stored in the file system.</span></span>  
  
 <span data-ttu-id="1993c-129">若要指定列应将数据存储在文件系统中，请对 `varbinary(max)` 列指定 FILESTREAM 属性。</span><span class="sxs-lookup"><span data-stu-id="1993c-129">To specify that a column should store data on the file system, specify the FILESTREAM attribute on a `varbinary(max)` column.</span></span> <span data-ttu-id="1993c-130">这样 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 会将该列的所有数据存储在文件系统，而不是数据库文件中。</span><span class="sxs-lookup"><span data-stu-id="1993c-130">This causes the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to store all data for that column on the file system, but not in the database file.</span></span>  
  
 <span data-ttu-id="1993c-131">FILESTREAM 数据必须存储在 FILESTREAM 文件组中。</span><span class="sxs-lookup"><span data-stu-id="1993c-131">FILESTREAM data must be stored in FILESTREAM filegroups.</span></span> <span data-ttu-id="1993c-132">FILESTREAM 文件组是包含文件系统目录而非文件本身的专用文件组。</span><span class="sxs-lookup"><span data-stu-id="1993c-132">A FILESTREAM filegroup is a special filegroup that contains file system directories instead of the files themselves.</span></span> <span data-ttu-id="1993c-133">这些文件系统目录称为“数据容器” 。</span><span class="sxs-lookup"><span data-stu-id="1993c-133">These file system directories are called *data containers*.</span></span> <span data-ttu-id="1993c-134">数据容器是 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 存储与文件系统存储之间的接口。</span><span class="sxs-lookup"><span data-stu-id="1993c-134">Data containers are the interface between [!INCLUDE[ssDE](../../includes/ssde-md.md)] storage and file system storage.</span></span>  
  
 <span data-ttu-id="1993c-135">使用 FILESTREAM 存储时，请考虑以下内容：</span><span class="sxs-lookup"><span data-stu-id="1993c-135">When you use FILESTREAM storage, consider the following:</span></span>  
  
-   <span data-ttu-id="1993c-136">如果表包含 FILESTREAM 列，则每一行都必须具有唯一的一个非 Null 行 ID。</span><span class="sxs-lookup"><span data-stu-id="1993c-136">When a table contains a FILESTREAM column, each row must have a nonnull unique row ID.</span></span>  
  
-   <span data-ttu-id="1993c-137">可以将多个数据容器添加到 FILESTREAM 文件组。</span><span class="sxs-lookup"><span data-stu-id="1993c-137">Multiple data containers can be added to a FILESTREAM filegroup.</span></span>  
  
-   <span data-ttu-id="1993c-138">不能嵌套 FILESTREAM 数据容器。</span><span class="sxs-lookup"><span data-stu-id="1993c-138">FILESTREAM data containers cannot be nested.</span></span>  
  
-   <span data-ttu-id="1993c-139">使用故障转移群集时，FILESTREAM 文件组必须位于共享磁盘资源上。</span><span class="sxs-lookup"><span data-stu-id="1993c-139">When you are using failover clustering, the FILESTREAM filegroups must be on shared disk resources.</span></span>  
  
-   <span data-ttu-id="1993c-140">FILESTREAM 文件组可位于压缩卷上。</span><span class="sxs-lookup"><span data-stu-id="1993c-140">FILESTREAM filegroups can be on compressed volumes.</span></span>  
  
### <a name="integrated-management"></a><span data-ttu-id="1993c-141">集成管理</span><span class="sxs-lookup"><span data-stu-id="1993c-141">Integrated Management</span></span>  
 <span data-ttu-id="1993c-142">由于 FILESTREAM 作为 `varbinary(max)` 列实现并直接集成到[!INCLUDE[ssDE](../../includes/ssde-md.md)]中，因此绝大多数 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 管理工具和函数在使用过程中不会修改 FILESTREAM 数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-142">Because FILESTREAM is implemented as a `varbinary(max)` column and integrated directly into the [!INCLUDE[ssDE](../../includes/ssde-md.md)], most [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] management tools and functions work without modification for FILESTREAM data.</span></span> <span data-ttu-id="1993c-143">例如，您可以对 FILESTREAM 数据使用所有备份模式和恢复模式，并且 FILESTREAM 数据是与数据库中的结构化数据一起进行备份的。</span><span class="sxs-lookup"><span data-stu-id="1993c-143">For example, you can use all backup and recovery models with FILESTREAM data, and the FILESTREAM data is backed up with the structured data in the database.</span></span> <span data-ttu-id="1993c-144">如果您不想将 FILESTREAM 数据与关系数据一起备份，则可以使用部分备份将 FILESTREAM 文件组排除在外。</span><span class="sxs-lookup"><span data-stu-id="1993c-144">If you do not want to back up FILESTREAM data with relational data, you can use a partial backup to exclude FILESTREAM filegroups.</span></span>  

  
### <a name="integrated-security"></a><span data-ttu-id="1993c-145">集成安全性</span><span class="sxs-lookup"><span data-stu-id="1993c-145">Integrated Security</span></span>  
 <span data-ttu-id="1993c-146">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中，保护 FILESTREAM 数据的方式与其他数据相同，即通过在表级或列级授予权限。</span><span class="sxs-lookup"><span data-stu-id="1993c-146">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], FILESTREAM data is secured just like other data is secured: by granting permissions at the table or column levels.</span></span> <span data-ttu-id="1993c-147">如果用户具有访问表中 FILESTREAM 列的权限，则用户可打开关联文件。</span><span class="sxs-lookup"><span data-stu-id="1993c-147">If a user has permission to the FILESTREAM column in a table, the user can open the associated files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1993c-148">FILESTREAM 数据不支持加密。</span><span class="sxs-lookup"><span data-stu-id="1993c-148">Encryption is not supported on FILESTREAM data.</span></span>  
  
 <span data-ttu-id="1993c-149">仅对用于运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务帐户的帐户授予访问 FILESTREAM 容器的 NTFS 权限。</span><span class="sxs-lookup"><span data-stu-id="1993c-149">Only the account under which the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account runs is granted NTFS permissions to the FILESTREAM container.</span></span> <span data-ttu-id="1993c-150">建议不对其他帐户授予访问数据容器的权限。</span><span class="sxs-lookup"><span data-stu-id="1993c-150">We recommend that no other account be granted permissions on the data container.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1993c-151">SQL 登录名不能与 FILESTREAM 容器配合工作。</span><span class="sxs-lookup"><span data-stu-id="1993c-151">SQL logins will not work with FILESTREAM containers.</span></span> <span data-ttu-id="1993c-152">只有 NTFS 身份验证可与 FILESTREAM 容器配合工作。</span><span class="sxs-lookup"><span data-stu-id="1993c-152">Only NTFS authentication will work with FILESTREAM containers.</span></span>  
  
##  <a name="accessing-blob-data-with-transact-sql-and-file-system-streaming-access"></a><a name="dual"></a> <span data-ttu-id="1993c-153">使用 Transact-SQL 和文件系统流访问来访问 BLOB 数据</span><span class="sxs-lookup"><span data-stu-id="1993c-153">Accessing BLOB Data with Transact-SQL and File System Streaming Access</span></span>  
 <span data-ttu-id="1993c-154">在将数据存储在 FILESTREAM 列中之后，即可通过使用 [!INCLUDE[tsql](../../includes/tsql-md.md)] 事务或 Win32 API 访问文件。</span><span class="sxs-lookup"><span data-stu-id="1993c-154">After you store data in a FILESTREAM column, you can access the files by using [!INCLUDE[tsql](../../includes/tsql-md.md)] transactions or by using Win32 APIs.</span></span>  
  
### <a name="transact-sql-access"></a><span data-ttu-id="1993c-155">Transact-SQL 访问</span><span class="sxs-lookup"><span data-stu-id="1993c-155">Transact-SQL Access</span></span>  
 <span data-ttu-id="1993c-156">可以使用 [!INCLUDE[tsql](../../includes/tsql-md.md)]来插入、更新和删除 FILESTREAM 数据：</span><span class="sxs-lookup"><span data-stu-id="1993c-156">By using [!INCLUDE[tsql](../../includes/tsql-md.md)], you can insert, update, and delete FILESTREAM data:</span></span>  
  
-   <span data-ttu-id="1993c-157">您可以使用插入操作用 null 值、空值或相对较短的内联数据预填充 FILESTREAM 字段。</span><span class="sxs-lookup"><span data-stu-id="1993c-157">You can use an insert operation to prepopulate a FILESTREAM field with a null value, empty value, or relatively short inline data.</span></span> <span data-ttu-id="1993c-158">但是，大量数据将以流的方式更有效地导入到使用 Win32 接口的文件中。</span><span class="sxs-lookup"><span data-stu-id="1993c-158">However, a large amount of data is more efficiently streamed into a file that uses Win32 interfaces.</span></span>  
  
-   <span data-ttu-id="1993c-159">更新 FILESTREAM 字段时，即会修改文件系统中的基础 BLOB 数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-159">When you update a FILESTREAM field, you modify the underlying BLOB data in the file system.</span></span> <span data-ttu-id="1993c-160">将 FILESTREAM 字段设置为 NULL 即会删除与该字段相关联的 BLOB 数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-160">When a FILESTREAM field is set to NULL, the BLOB data associated with the field is deleted.</span></span> <span data-ttu-id="1993c-161">你不能使用作为 UPDATE [!INCLUDE[tsql](../../includes/tsql-md.md)] .**Write() 实现的**成块更新以对数据执行部分更新。</span><span class="sxs-lookup"><span data-stu-id="1993c-161">You cannot use a [!INCLUDE[tsql](../../includes/tsql-md.md)] chunked update, implemented as UPDATE **.** Write(), to perform partial updates to the data.</span></span>  
  
-   <span data-ttu-id="1993c-162">当删除行或者删除或截断包含 FILESTREAM 数据的表时，将会删除文件系统中的基础 BLOB 数据。</span><span class="sxs-lookup"><span data-stu-id="1993c-162">When you delete a row or delete or truncate a table that contains FILESTREAM data, you delete the underlying BLOB data in the file system.</span></span>  
  
### <a name="file-system-streaming-access"></a><span data-ttu-id="1993c-163">文件系统流访问</span><span class="sxs-lookup"><span data-stu-id="1993c-163">File System Streaming Access</span></span>  
 <span data-ttu-id="1993c-164">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 事务上下文中支持 Win32 流。</span><span class="sxs-lookup"><span data-stu-id="1993c-164">The Win32 streaming support works in the context of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] transaction.</span></span> <span data-ttu-id="1993c-165">在事务之内，可以使用 FILESTREAM 函数来获取文件的逻辑 UNC 文件系统路径。</span><span class="sxs-lookup"><span data-stu-id="1993c-165">Within a transaction, you can use FILESTREAM functions to obtain a logical UNC file system path of a file.</span></span> <span data-ttu-id="1993c-166">接着使用 OpenSqlFilestream API 来获取文件句柄。</span><span class="sxs-lookup"><span data-stu-id="1993c-166">You then use the OpenSqlFilestream API to obtain a file handle.</span></span> <span data-ttu-id="1993c-167">然后 Win32 文件流接口（如 ReadFile() 和 WriteFile()）可使用此句柄通过文件系统访问并更新文件。</span><span class="sxs-lookup"><span data-stu-id="1993c-167">This handle can then be used by Win32 file streaming interfaces, such as ReadFile() and WriteFile(), to access and update the file by way of the file system.</span></span>  
  
 <span data-ttu-id="1993c-168">由于文件操作属于事务操作，因此您无法通过文件系统删除或重命名 FILESTREAM 文件。</span><span class="sxs-lookup"><span data-stu-id="1993c-168">Because file operations are transactional, you cannot delete or rename FILESTREAM files through the file system.</span></span>  
  
 <span data-ttu-id="1993c-169">**语句模型**</span><span class="sxs-lookup"><span data-stu-id="1993c-169">**Statement Model**</span></span>  
  
 <span data-ttu-id="1993c-170">FILESTREAM 文件系统访问通过使用文件打开和关闭来构建 [!INCLUDE[tsql](../../includes/tsql-md.md)] 语句模型。</span><span class="sxs-lookup"><span data-stu-id="1993c-170">The FILESTREAM file system access models a [!INCLUDE[tsql](../../includes/tsql-md.md)] statement by using file open and close.</span></span> <span data-ttu-id="1993c-171">当打开文件句柄时，语句开始；当关闭句柄时，语句结束。</span><span class="sxs-lookup"><span data-stu-id="1993c-171">The statement starts when a file handle is opened and ends when the handle is closed.</span></span> <span data-ttu-id="1993c-172">例如，关闭写句柄时将激发表上注册的任何可能的 AFTER 触发器，就如 UPDATE 语句结束一样。</span><span class="sxs-lookup"><span data-stu-id="1993c-172">For example, when a write handle is closed, any possible AFTER trigger that is registered on the table fires as if an UPDATE statement is completed.</span></span>  
  
 <span data-ttu-id="1993c-173">**存储命名空间**</span><span class="sxs-lookup"><span data-stu-id="1993c-173">**Storage Namespace**</span></span>  
  
 <span data-ttu-id="1993c-174">在 FILESTREAM 中， [!INCLUDE[ssDE](../../includes/ssde-md.md)] 控制 BLOB 物理文件系统的命名空间。</span><span class="sxs-lookup"><span data-stu-id="1993c-174">In FILESTREAM, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] controls the BLOB physical file system namespace.</span></span> <span data-ttu-id="1993c-175">[PathName](/sql/relational-databases/system-functions/pathname-transact-sql)是一个新增的内部函数，它提供对应于表中每个 FILESTREAM 单元的 BLOB 的逻辑 UNC 路径。</span><span class="sxs-lookup"><span data-stu-id="1993c-175">A new intrinsic function, [PathName](/sql/relational-databases/system-functions/pathname-transact-sql), provides the logical UNC path of the BLOB that corresponds to each FILESTREAM cell in the table.</span></span> <span data-ttu-id="1993c-176">应用程序使用此逻辑路径来获取 Win32 句柄并通过使用常见的 Win32 文件系统接口对 BLOB 数据进行操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-176">The application uses this logical path to obtain the Win32 handle and operate on the BLOB data by using regular Win32 file system interfaces.</span></span> <span data-ttu-id="1993c-177">如果 FILESTREAM 列的值为 NULL，则此函数将返回 NULL。</span><span class="sxs-lookup"><span data-stu-id="1993c-177">The function returns NULL if the value of the FILESTREAM column is NULL.</span></span>  
  
 <span data-ttu-id="1993c-178">**事务文件系统访问**</span><span class="sxs-lookup"><span data-stu-id="1993c-178">**Transacted File System Access**</span></span>  
  
 <span data-ttu-id="1993c-179">[GET_FILESTREAM_TRANSACTION_CONTEXT()](/sql/t-sql/functions/get-filestream-transaction-context-transact-sql)是一个新增的内部函数，它提供表示与会话相关联的当前事务的标记。</span><span class="sxs-lookup"><span data-stu-id="1993c-179">A new intrinsic function, [GET_FILESTREAM_TRANSACTION_CONTEXT()](/sql/t-sql/functions/get-filestream-transaction-context-transact-sql), provides the token that represents the current transaction that the session is associated with.</span></span> <span data-ttu-id="1993c-180">事务必须已启动，且仍未被中止或提交。</span><span class="sxs-lookup"><span data-stu-id="1993c-180">The transaction must have been started and not yet aborted or committed.</span></span> <span data-ttu-id="1993c-181">通过获取标记，应用程序将 FILESTREAM 文件系统流操作与已启动的事务绑定在一起。</span><span class="sxs-lookup"><span data-stu-id="1993c-181">By obtaining a token, the application binds the FILESTREAM file system streaming operations with a started transaction.</span></span> <span data-ttu-id="1993c-182">在没有显式启动的事务的情况下，此函数将返回 NULL。</span><span class="sxs-lookup"><span data-stu-id="1993c-182">The function returns NULL in case of no explicitly started transaction.</span></span>  
  
 <span data-ttu-id="1993c-183">在提交或中止事务之前必须关闭所有文件句柄。</span><span class="sxs-lookup"><span data-stu-id="1993c-183">All file handles must be closed before the transaction commits or aborts.</span></span> <span data-ttu-id="1993c-184">如果在事务范围之外仍有句柄处于打开状态，则对句柄执行的其他读取将失败，对句柄执行的其他写入将成功，但实际数据不会写入磁盘中。</span><span class="sxs-lookup"><span data-stu-id="1993c-184">If a handle is left open beyond the transaction scope, additional reads against the handle will cause a failure; additional writes against the handle will succeed, but the actual data will not be written to disk.</span></span> <span data-ttu-id="1993c-185">与此类似，如果数据库或 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例关闭，则所有处于打开状态的句柄均无效。</span><span class="sxs-lookup"><span data-stu-id="1993c-185">Similarly, if the database or instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] shuts down, all open handles are invalidated.</span></span>  
  
 <span data-ttu-id="1993c-186">**事务持续性**</span><span class="sxs-lookup"><span data-stu-id="1993c-186">**Transactional Durability**</span></span>  
  
 <span data-ttu-id="1993c-187">在事务提交时， [!INCLUDE[ssDE](../../includes/ssde-md.md)] 通过使用 FILESTREAM 可确保通过文件系统流访问进行修改的 FILESTREAM BLOB 数据的事务持久性。</span><span class="sxs-lookup"><span data-stu-id="1993c-187">With FILESTREAM, upon transaction commit, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] ensures transaction durability for FILESTREAM BLOB data that is modified from the file system streaming access.</span></span>  
  
 <span data-ttu-id="1993c-188">**隔离语义**</span><span class="sxs-lookup"><span data-stu-id="1993c-188">**Isolation Semantics**</span></span>  
  
 <span data-ttu-id="1993c-189">隔离语义由 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 事务隔离级别决定。</span><span class="sxs-lookup"><span data-stu-id="1993c-189">The isolation semantics are governed by [!INCLUDE[ssDE](../../includes/ssde-md.md)] transaction isolation levels.</span></span> <span data-ttu-id="1993c-190">[!INCLUDE[tsql](../../includes/tsql-md.md)] 和文件系统访问支持已提交读隔离级别。</span><span class="sxs-lookup"><span data-stu-id="1993c-190">Read-committed isolation level is supported for [!INCLUDE[tsql](../../includes/tsql-md.md)] and file system access.</span></span> <span data-ttu-id="1993c-191">支持重复的读取操作以及可序列化隔离和快照隔离。</span><span class="sxs-lookup"><span data-stu-id="1993c-191">Repeatable read operations, and also serializable and snapshot isolations, are supported.</span></span> <span data-ttu-id="1993c-192">不支持脏读。</span><span class="sxs-lookup"><span data-stu-id="1993c-192">Dirty read is not supported.</span></span>  
  
 <span data-ttu-id="1993c-193">文件系统访问的打开操作不等待任何锁。</span><span class="sxs-lookup"><span data-stu-id="1993c-193">The file system access open operations do not wait for any locks.</span></span> <span data-ttu-id="1993c-194">与此相反，如果打开操作因为事务隔离而无法访问数据，则打开操作将立即失败。</span><span class="sxs-lookup"><span data-stu-id="1993c-194">Instead, the open operations fail immediately if they cannot access the data because of transaction isolation.</span></span> <span data-ttu-id="1993c-195">如果由于隔离冲突而无法继续执行打开操作，则流 API 调用将失败并返回 ERROR_SHARING_VIOLATION 错误。</span><span class="sxs-lookup"><span data-stu-id="1993c-195">The streaming API calls fail with ERROR_SHARING_VIOLATION if the open operation cannot continue because of isolation violation.</span></span>  
  
 <span data-ttu-id="1993c-196">为了允许执行部分更新，应用程序可发出一个设备 FS 控制 (FSCTL_SQL_FILESTREAM_FETCH_OLD_CONTENT) 以将旧内容提取到处于打开状态的句柄所引用的文件中。</span><span class="sxs-lookup"><span data-stu-id="1993c-196">To allow for partial updates to be made, the application can issue a device FS control (FSCTL_SQL_FILESTREAM_FETCH_OLD_CONTENT) to fetch the old content into the file that the opened handle references.</span></span> <span data-ttu-id="1993c-197">这将触发服务器端的旧内容复制操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-197">This will trigger a server-side old content copy.</span></span> <span data-ttu-id="1993c-198">为了提升应用程序性能并在处理超大型文件时避免发生潜在的超时问题，建议您使用异步 I/O。</span><span class="sxs-lookup"><span data-stu-id="1993c-198">For better application performance and to avoid running into potential time-outs when you are working with very large files, we recommend that you use asynchronous I/O.</span></span>  
  
 <span data-ttu-id="1993c-199">如果在写入句柄之后发出 FSCTL，则将保持最后一个写入操作并丢失之前对句柄执行的写入操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-199">If the FSCTL is issued after the handle has been written to, the last write operation will persist, and prior writes that were made to the handle are lost.</span></span>  
  
 <span data-ttu-id="1993c-200">**文件系统 API 和支持的隔离级别**</span><span class="sxs-lookup"><span data-stu-id="1993c-200">**File System APIs and Supported Isolation Levels**</span></span>  
  
 <span data-ttu-id="1993c-201">当文件系统 API 由于隔离冲突而无法打开文件时，将返回 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-201">When a file system API cannot open a file because of an isolation violation, an ERROR_SHARING_VIOLATION exception is returned.</span></span> <span data-ttu-id="1993c-202">两个事务尝试访问同一文件时，将发生此隔离冲突。</span><span class="sxs-lookup"><span data-stu-id="1993c-202">This isolation violation occurs when two transactions try to access the same file.</span></span> <span data-ttu-id="1993c-203">访问操作的结果取决于打开该文件的模式和运行事务的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本。</span><span class="sxs-lookup"><span data-stu-id="1993c-203">The outcome of the access operation depends on the mode the file was opened in and the version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that the transaction is running on.</span></span> <span data-ttu-id="1993c-204">下表概括了访问同一文件的两个事务的可能结果。</span><span class="sxs-lookup"><span data-stu-id="1993c-204">The following table outlines the possibly outcomes for two transactions that are accessing the same file.</span></span>  
  
|<span data-ttu-id="1993c-205">事务 1</span><span class="sxs-lookup"><span data-stu-id="1993c-205">Transaction 1</span></span>|<span data-ttu-id="1993c-206">事务 2</span><span class="sxs-lookup"><span data-stu-id="1993c-206">Transaction 2</span></span>|<span data-ttu-id="1993c-207">在 SQL Server 2008 上的结果</span><span class="sxs-lookup"><span data-stu-id="1993c-207">Outcome on SQL Server 2008</span></span>|<span data-ttu-id="1993c-208">在 SQL Server 2008 R2 和更高版本上的结果</span><span class="sxs-lookup"><span data-stu-id="1993c-208">Outcome on SQL Server 2008 R2 and later versions</span></span>|  
|-------------------|-------------------|--------------------------------|------------------------------------------------------|  
|<span data-ttu-id="1993c-209">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-209">Open for read.</span></span>|<span data-ttu-id="1993c-210">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-210">Open for read.</span></span>|<span data-ttu-id="1993c-211">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-211">Both succeed.</span></span>|<span data-ttu-id="1993c-212">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-212">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-213">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-213">Open for read.</span></span>|<span data-ttu-id="1993c-214">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-214">Open for write.</span></span>|<span data-ttu-id="1993c-215">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-215">Both succeed.</span></span> <span data-ttu-id="1993c-216">事务 2 下的写入操作不影响在事务 1 中执行的读取操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-216">Write operations under transaction 2 do not affect read operations performed in transaction 1.</span></span>|<span data-ttu-id="1993c-217">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-217">Both succeed.</span></span> <span data-ttu-id="1993c-218">事务 2 下的写入操作不影响在事务 1 中执行的读取操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-218">Write operations under transaction 2 do not affect read operations performed in transaction 1.</span></span>|  
|<span data-ttu-id="1993c-219">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-219">Open for write.</span></span>|<span data-ttu-id="1993c-220">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-220">Open for read.</span></span>|<span data-ttu-id="1993c-221">事务 2 下的打开失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-221">Open for transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|<span data-ttu-id="1993c-222">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-222">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-223">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-223">Open for write.</span></span>|<span data-ttu-id="1993c-224">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-224">Open for write.</span></span>|<span data-ttu-id="1993c-225">事务 2 下的打开失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-225">Open for transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|<span data-ttu-id="1993c-226">事务 2 下的打开失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-226">Open for transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|  
|<span data-ttu-id="1993c-227">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-227">Open for read.</span></span>|<span data-ttu-id="1993c-228">打开以进行 SELECT。</span><span class="sxs-lookup"><span data-stu-id="1993c-228">Open for SELECT.</span></span>|<span data-ttu-id="1993c-229">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-229">Both succeed.</span></span>|<span data-ttu-id="1993c-230">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-230">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-231">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-231">Open for read.</span></span>|<span data-ttu-id="1993c-232">打开以进行 UPDATE 或 DELETE。</span><span class="sxs-lookup"><span data-stu-id="1993c-232">Open for UPDATE or DELETE.</span></span>|<span data-ttu-id="1993c-233">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-233">Both succeed.</span></span> <span data-ttu-id="1993c-234">事务 2 下的写入操作不影响在事务 1 中执行的读取操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-234">Write operations under transaction 2 do not affect read operations performed in transaction 1.</span></span>|<span data-ttu-id="1993c-235">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-235">Both succeed.</span></span> <span data-ttu-id="1993c-236">事务 2 下的写入操作不影响在事务 1 中执行的读取操作。</span><span class="sxs-lookup"><span data-stu-id="1993c-236">Write operations under transaction 2 do not affect read operations performed in transaction 1.</span></span>|  
|<span data-ttu-id="1993c-237">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-237">Open for write.</span></span>|<span data-ttu-id="1993c-238">打开以进行 SELECT。</span><span class="sxs-lookup"><span data-stu-id="1993c-238">open for SELECT.</span></span>|<span data-ttu-id="1993c-239">事务 2 在事务 1 提交或结束事务前或该事务锁超时前一直阻塞。</span><span class="sxs-lookup"><span data-stu-id="1993c-239">Transaction 2 blocks until transaction 1 commits or ends the transaction, or the transaction lock times out.</span></span>|<span data-ttu-id="1993c-240">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-240">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-241">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-241">Open for write.</span></span>|<span data-ttu-id="1993c-242">打开以进行 UPDATE 或 DELETE。</span><span class="sxs-lookup"><span data-stu-id="1993c-242">Open for UPDATE or DELETE.</span></span>|<span data-ttu-id="1993c-243">事务 2 在事务 1 提交或结束事务前或该事务锁超时前一直阻塞。</span><span class="sxs-lookup"><span data-stu-id="1993c-243">Transaction 2 blocks until transaction 1 commits or ends the transaction, or the transaction lock times out.</span></span>|<span data-ttu-id="1993c-244">事务 2 在事务 1 提交或结束事务前或该事务锁超时前一直阻塞。</span><span class="sxs-lookup"><span data-stu-id="1993c-244">Transaction 2 blocks until transaction 1 commits or ends the transaction, or the transaction lock times out.</span></span>|  
|<span data-ttu-id="1993c-245">打开以进行 SELECT。</span><span class="sxs-lookup"><span data-stu-id="1993c-245">Open for SELECT.</span></span>|<span data-ttu-id="1993c-246">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-246">Open for read.</span></span>|<span data-ttu-id="1993c-247">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-247">Both succeed.</span></span>|<span data-ttu-id="1993c-248">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-248">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-249">打开以进行 SELECT。</span><span class="sxs-lookup"><span data-stu-id="1993c-249">Open for SELECT.</span></span>|<span data-ttu-id="1993c-250">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-250">Open for write.</span></span>|<span data-ttu-id="1993c-251">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-251">Both succeed.</span></span> <span data-ttu-id="1993c-252">事务 2 下的写入操作不影响事务 1。</span><span class="sxs-lookup"><span data-stu-id="1993c-252">Write operations under transaction 2 do not affect transaction 1.</span></span>|<span data-ttu-id="1993c-253">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-253">Both succeed.</span></span> <span data-ttu-id="1993c-254">事务 2 下的写入操作不影响事务 1。</span><span class="sxs-lookup"><span data-stu-id="1993c-254">Write operations under transaction 2 do not affect transaction 1.</span></span>|  
|<span data-ttu-id="1993c-255">打开以进行 UPDATE 或 DELETE。</span><span class="sxs-lookup"><span data-stu-id="1993c-255">Open for UPDATE or DELETE.</span></span>|<span data-ttu-id="1993c-256">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-256">Open for read.</span></span>|<span data-ttu-id="1993c-257">事务 2 下的打开操作失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-257">The open operation on transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|<span data-ttu-id="1993c-258">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-258">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-259">打开以进行 UPDATE 或 DELETE。</span><span class="sxs-lookup"><span data-stu-id="1993c-259">Open for UPDATE or DELETE.</span></span>|<span data-ttu-id="1993c-260">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-260">Open for write.</span></span>|<span data-ttu-id="1993c-261">事务 2 下的打开操作失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-261">The open operation on transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|<span data-ttu-id="1993c-262">事务 2 下的打开操作失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-262">The open operation on transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|  
|<span data-ttu-id="1993c-263">打开以进行可重复读取的 SELECT。</span><span class="sxs-lookup"><span data-stu-id="1993c-263">Open for SELECT with repeatable read.</span></span>|<span data-ttu-id="1993c-264">打开以进行读取。</span><span class="sxs-lookup"><span data-stu-id="1993c-264">Open for read.</span></span>|<span data-ttu-id="1993c-265">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-265">Both succeed.</span></span>|<span data-ttu-id="1993c-266">都成功。</span><span class="sxs-lookup"><span data-stu-id="1993c-266">Both succeed.</span></span>|  
|<span data-ttu-id="1993c-267">打开以进行可重复读取的 SELECT。</span><span class="sxs-lookup"><span data-stu-id="1993c-267">Open for SELECT with repeatable read.</span></span>|<span data-ttu-id="1993c-268">打开以进行写入。</span><span class="sxs-lookup"><span data-stu-id="1993c-268">Open for write.</span></span>|<span data-ttu-id="1993c-269">事务 2 下的打开操作失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-269">The open operation on transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|<span data-ttu-id="1993c-270">事务 2 下的打开操作失败，并发生 ERROR_SHARING_VIOLATION 异常。</span><span class="sxs-lookup"><span data-stu-id="1993c-270">The open operation on transaction 2 fails with an ERROR_SHARING_VIOLATION exception.</span></span>|  
  
 <span data-ttu-id="1993c-271">**从远程客户端写透**</span><span class="sxs-lookup"><span data-stu-id="1993c-271">**Write-Through from Remote Clients**</span></span>  
  
 <span data-ttu-id="1993c-272">对 FILESTREAM 数据的远程文件系统访问是通过 Server Message Block (SMB) 协议启用的。</span><span class="sxs-lookup"><span data-stu-id="1993c-272">Remote file system access to FILESTREAM data is enabled over the Server Message Block (SMB) protocol.</span></span> <span data-ttu-id="1993c-273">如果客户端为远程客户端，则客户端不对任何写入操作进行缓存。</span><span class="sxs-lookup"><span data-stu-id="1993c-273">If the client is remote, no write operations are cached by the client side.</span></span> <span data-ttu-id="1993c-274">写入操作将始终发送到服务器。</span><span class="sxs-lookup"><span data-stu-id="1993c-274">The write operations will always be sent to the server.</span></span> <span data-ttu-id="1993c-275">服务器端可对数据进行缓存。</span><span class="sxs-lookup"><span data-stu-id="1993c-275">The data can be cached on the server side.</span></span> <span data-ttu-id="1993c-276">建议运行在远程客户端上的应用程序合并小型写入操作，以减小使用较大数据大小的写入操作数量。</span><span class="sxs-lookup"><span data-stu-id="1993c-276">We recommend that applications that are running on remote clients consolidate small write operations to make fewer write operations using larger data size.</span></span>  
  
 <span data-ttu-id="1993c-277">不支持通过使用 FILESTREAM 句柄创建内存映射视图（内存映射 I/O）。</span><span class="sxs-lookup"><span data-stu-id="1993c-277">Creating memory mapped views (memory mapped I/O) by using a FILESTREAM handle is not supported.</span></span> <span data-ttu-id="1993c-278">如果内存映射用于 FILESTREAM 数据，则 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 将无法保证数据的一致性和持久性或数据库的完整性。</span><span class="sxs-lookup"><span data-stu-id="1993c-278">If memory mapping is used for FILESTREAM data, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] cannot guarantee consistency and durability of the data or the integrity of the database.</span></span>  
  
##  <a name="related-tasks"></a><a name="reltasks"></a> <span data-ttu-id="1993c-279">相关任务</span><span class="sxs-lookup"><span data-stu-id="1993c-279">Related Tasks</span></span>  
 [<span data-ttu-id="1993c-280">启用和配置 FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="1993c-280">Enable and Configure FILESTREAM</span></span>](enable-and-configure-filestream.md)  
  [<span data-ttu-id="1993c-281">创建启用了 FILESTREAM 的数据库</span><span class="sxs-lookup"><span data-stu-id="1993c-281">Create a FILESTREAM-Enabled Database</span></span>](create-a-filestream-enabled-database.md)  
  [<span data-ttu-id="1993c-282">创建表以存储 FILESTREAM 数据</span><span class="sxs-lookup"><span data-stu-id="1993c-282">Create a Table for Storing FILESTREAM Data</span></span>](create-a-table-for-storing-filestream-data.md)  
  [<span data-ttu-id="1993c-283">使用 Transact-SQL 访问 FILESTREAM 数据</span><span class="sxs-lookup"><span data-stu-id="1993c-283">Access FILESTREAM Data with Transact-SQL</span></span>](access-filestream-data-with-transact-sql.md)  
  [<span data-ttu-id="1993c-284">为 FILESTREAM 数据创建客户端应用程序</span><span class="sxs-lookup"><span data-stu-id="1993c-284">Create Client Applications for FILESTREAM Data</span></span>](create-client-applications-for-filestream-data.md)  
  [<span data-ttu-id="1993c-285">使用 OpenSqlFilestream 访问 FILESTREAM 数据</span><span class="sxs-lookup"><span data-stu-id="1993c-285">Access FILESTREAM Data with OpenSqlFilestream</span></span>](access-filestream-data-with-opensqlfilestream.md)  
  [<span data-ttu-id="1993c-286">对 FILESTREAM 数据进行部分更新</span><span class="sxs-lookup"><span data-stu-id="1993c-286">Make Partial Updates to FILESTREAM Data</span></span>](make-partial-updates-to-filestream-data.md)  
  [<span data-ttu-id="1993c-287">避免与 FILESTREAM 应用程序中的数据库操作冲突</span><span class="sxs-lookup"><span data-stu-id="1993c-287">Avoid Conflicts with Database Operations in FILESTREAM Applications</span></span>](avoid-conflicts-with-database-operations-in-filestream-applications.md)  
  [<span data-ttu-id="1993c-288">移动启用了 FILESTREAM 的数据库</span><span class="sxs-lookup"><span data-stu-id="1993c-288">Move a FILESTREAM-Enabled Database</span></span>](move-a-filestream-enabled-database.md)  
  [<span data-ttu-id="1993c-289">在故障转移群集中设置 FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="1993c-289">Set Up FILESTREAM on a Failover Cluster</span></span>](set-up-filestream-on-a-failover-cluster.md)  
  [<span data-ttu-id="1993c-290">将防火墙配置为进行 FILESTREAM 访问</span><span class="sxs-lookup"><span data-stu-id="1993c-290">Configure a Firewall for FILESTREAM Access</span></span>](configure-a-firewall-for-filestream-access.md)  
  
##  <a name="related-content"></a><a name="relcontent"></a> <span data-ttu-id="1993c-291">相关内容</span><span class="sxs-lookup"><span data-stu-id="1993c-291">Related Content</span></span>  
 [<span data-ttu-id="1993c-292">FILESTREAM 与其他 SQL Server 功能的兼容性</span><span class="sxs-lookup"><span data-stu-id="1993c-292">FILESTREAM Compatibility with Other SQL Server Features</span></span>](filestream-compatibility-with-other-sql-server-features.md)  
  
