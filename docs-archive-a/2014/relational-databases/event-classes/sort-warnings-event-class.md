---
title: Sort Warnings 事件类 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Sort Warnings event class
ms.assetid: 2ee479c8-66e4-45e9-a4c9-49d418e25a72
author: stevestein
ms.author: sstein
ms.openlocfilehash: 9da9bc9dbef30b1ad2743e9dbab4ae541538c689
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87577695"
---
# <a name="sort-warnings-event-class"></a><span data-ttu-id="705cd-102">Sort Warnings 事件类</span><span class="sxs-lookup"><span data-stu-id="705cd-102">Sort Warnings Event Class</span></span>
  <span data-ttu-id="705cd-103">Sort Warnings 事件类指示排序操作的内存不足。</span><span class="sxs-lookup"><span data-stu-id="705cd-103">The Sort Warnings event class indicates that sort operations do not fit into memory.</span></span> <span data-ttu-id="705cd-104">这不包括与创建索引有关的排序操作，只包括某查询内的排序操作（如 SELECT 语句中使用的 ORDER BY 子句）。</span><span class="sxs-lookup"><span data-stu-id="705cd-104">This does not include sort operations involving the creation of indexes, only sort operations within a query (such as an ORDER BY clause used in a SELECT statement).</span></span>  
  
 <span data-ttu-id="705cd-105">如果涉及排序操作的查询生成 EventSubClass 数据列值为 2 的 Sort Warnings 事件类，则需要多次传递数据才能排序数据，因此可能会影响查询性能。</span><span class="sxs-lookup"><span data-stu-id="705cd-105">If a query involving a sort operation generates a Sort Warnings event class with an EventSubClass data column value of 2, the performance of the query can be affected because multiple passes over the data are required to sort the data.</span></span> <span data-ttu-id="705cd-106">进一步调查查询以确定是否可以消除排序操作。</span><span class="sxs-lookup"><span data-stu-id="705cd-106">Investigate the query further to determine if the sort operation can be eliminated.</span></span>  
  
## <a name="sort-warnings-event-class-data-columns"></a><span data-ttu-id="705cd-107">Sort Warnings 事件类的数据列</span><span class="sxs-lookup"><span data-stu-id="705cd-107">Sort Warnings Event Class Data Columns</span></span>  
  
|<span data-ttu-id="705cd-108">数据列名称</span><span class="sxs-lookup"><span data-stu-id="705cd-108">Data column name</span></span>|<span data-ttu-id="705cd-109">数据类型</span><span class="sxs-lookup"><span data-stu-id="705cd-109">Data type</span></span>|<span data-ttu-id="705cd-110">说明</span><span class="sxs-lookup"><span data-stu-id="705cd-110">Description</span></span>|<span data-ttu-id="705cd-111">列 ID</span><span class="sxs-lookup"><span data-stu-id="705cd-111">Column ID</span></span>|<span data-ttu-id="705cd-112">可筛选</span><span class="sxs-lookup"><span data-stu-id="705cd-112">Filterable</span></span>|  
|----------------------|---------------|-----------------|---------------|----------------|  
|<span data-ttu-id="705cd-113">ApplicationName</span><span class="sxs-lookup"><span data-stu-id="705cd-113">ApplicationName</span></span>|`nvarchar`|<span data-ttu-id="705cd-114">客户端应用程序的名称，该客户端应用程序创建了指向 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例的连接。</span><span class="sxs-lookup"><span data-stu-id="705cd-114">Name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="705cd-115">此列由应用程序传递的值填充，而不是由所显示的程序名填充。</span><span class="sxs-lookup"><span data-stu-id="705cd-115">This column is populated with the values passed by the application rather than the displayed name of the program.</span></span>|<span data-ttu-id="705cd-116">10</span><span class="sxs-lookup"><span data-stu-id="705cd-116">10</span></span>|<span data-ttu-id="705cd-117">是</span><span class="sxs-lookup"><span data-stu-id="705cd-117">Yes</span></span>|  
|<span data-ttu-id="705cd-118">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="705cd-118">ClientProcessID</span></span>|`int`|<span data-ttu-id="705cd-119">主机为运行该客户端应用程序的进程分配的 ID。</span><span class="sxs-lookup"><span data-stu-id="705cd-119">ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="705cd-120">如果客户端提供了客户端进程 ID，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="705cd-120">This data column is populated if the client provides the client process ID.</span></span>|<span data-ttu-id="705cd-121">9</span><span class="sxs-lookup"><span data-stu-id="705cd-121">9</span></span>|<span data-ttu-id="705cd-122">是</span><span class="sxs-lookup"><span data-stu-id="705cd-122">Yes</span></span>|  
|<span data-ttu-id="705cd-123">DatabaseID</span><span class="sxs-lookup"><span data-stu-id="705cd-123">DatabaseID</span></span>|`int`|<span data-ttu-id="705cd-124">由 USE *database* 语句指定的数据库的 ID；如果未对给定实例发出 USE *database* 语句，则为默认数据库的 ID。</span><span class="sxs-lookup"><span data-stu-id="705cd-124">ID of the database specified by the USE *database* statement or the default database if no USE *database* statement has been issued for a given instance.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="705cd-125">如果在跟踪中捕获 ServerName 数据列而且服务器可用，则将显示数据库名。</span><span class="sxs-lookup"><span data-stu-id="705cd-125">displays the name of the database if the ServerName data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="705cd-126">可使用 DB_ID 函数来确定数据库的值。</span><span class="sxs-lookup"><span data-stu-id="705cd-126">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="705cd-127">3</span><span class="sxs-lookup"><span data-stu-id="705cd-127">3</span></span>|<span data-ttu-id="705cd-128">是</span><span class="sxs-lookup"><span data-stu-id="705cd-128">Yes</span></span>|  
|<span data-ttu-id="705cd-129">DatabaseName</span><span class="sxs-lookup"><span data-stu-id="705cd-129">DatabaseName</span></span>|`nvarchar`|<span data-ttu-id="705cd-130">正在其中运行用户语句的数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="705cd-130">Name of the database in which the user statement is running.</span></span>|<span data-ttu-id="705cd-131">35</span><span class="sxs-lookup"><span data-stu-id="705cd-131">35</span></span>|<span data-ttu-id="705cd-132">是</span><span class="sxs-lookup"><span data-stu-id="705cd-132">Yes</span></span>|  
|<span data-ttu-id="705cd-133">EventClass</span><span class="sxs-lookup"><span data-stu-id="705cd-133">EventClass</span></span>|`int`|<span data-ttu-id="705cd-134">事件类型 = 69。</span><span class="sxs-lookup"><span data-stu-id="705cd-134">Type of event = 69.</span></span>|<span data-ttu-id="705cd-135">27</span><span class="sxs-lookup"><span data-stu-id="705cd-135">27</span></span>|<span data-ttu-id="705cd-136">否</span><span class="sxs-lookup"><span data-stu-id="705cd-136">No</span></span>|  
|<span data-ttu-id="705cd-137">EventSequence</span><span class="sxs-lookup"><span data-stu-id="705cd-137">EventSequence</span></span>|`int`|<span data-ttu-id="705cd-138">特定事件在请求中的顺序。</span><span class="sxs-lookup"><span data-stu-id="705cd-138">The sequence of a given event within the request.</span></span>|<span data-ttu-id="705cd-139">51</span><span class="sxs-lookup"><span data-stu-id="705cd-139">51</span></span>|<span data-ttu-id="705cd-140">否</span><span class="sxs-lookup"><span data-stu-id="705cd-140">No</span></span>|  
|<span data-ttu-id="705cd-141">EventSubClass</span><span class="sxs-lookup"><span data-stu-id="705cd-141">EventSubClass</span></span>|`int`|<span data-ttu-id="705cd-142">事件子类的类型。</span><span class="sxs-lookup"><span data-stu-id="705cd-142">Type of event subclass.</span></span><br /><br /> <span data-ttu-id="705cd-143">1 = 单次传递。</span><span class="sxs-lookup"><span data-stu-id="705cd-143">1 = Single pass.</span></span> <span data-ttu-id="705cd-144">将排序表写入磁盘时，只需再传递一次数据即可获得排序输出。</span><span class="sxs-lookup"><span data-stu-id="705cd-144">When the sort table was written to disk, only a single additional pass over the data was required to obtain sorted output.</span></span><br /><br /> <span data-ttu-id="705cd-145">2 = 多次传递。</span><span class="sxs-lookup"><span data-stu-id="705cd-145">2 = Multiple pass.</span></span> <span data-ttu-id="705cd-146">将排序表写入磁盘时，必须多次传递要排序的数据才能获得排序输出。</span><span class="sxs-lookup"><span data-stu-id="705cd-146">When the sort table was written to disk, multiple passes over the data were required to obtain sorted output.</span></span>|<span data-ttu-id="705cd-147">21</span><span class="sxs-lookup"><span data-stu-id="705cd-147">21</span></span>|<span data-ttu-id="705cd-148">是</span><span class="sxs-lookup"><span data-stu-id="705cd-148">Yes</span></span>|  
|<span data-ttu-id="705cd-149">GroupID</span><span class="sxs-lookup"><span data-stu-id="705cd-149">GroupID</span></span>|`int`|<span data-ttu-id="705cd-150">在其中激发 SQL 跟踪事件的工作负荷组的 ID。</span><span class="sxs-lookup"><span data-stu-id="705cd-150">ID of the workload group where the SQL Trace event fires.</span></span>|<span data-ttu-id="705cd-151">66</span><span class="sxs-lookup"><span data-stu-id="705cd-151">66</span></span>|<span data-ttu-id="705cd-152">是</span><span class="sxs-lookup"><span data-stu-id="705cd-152">Yes</span></span>|  
|<span data-ttu-id="705cd-153">HostName</span><span class="sxs-lookup"><span data-stu-id="705cd-153">HostName</span></span>|`nvarchar`|<span data-ttu-id="705cd-154">正在运行客户端的计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="705cd-154">Name of the computer on which the client is running.</span></span> <span data-ttu-id="705cd-155">如果客户端提供了主机名，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="705cd-155">This data column is populated if the client provides the host name.</span></span> <span data-ttu-id="705cd-156">若要确定主机名，请使用 HOST_NAME 函数。</span><span class="sxs-lookup"><span data-stu-id="705cd-156">To determine the host name, use the HOST_NAME function.</span></span>|<span data-ttu-id="705cd-157">8</span><span class="sxs-lookup"><span data-stu-id="705cd-157">8</span></span>|<span data-ttu-id="705cd-158">是</span><span class="sxs-lookup"><span data-stu-id="705cd-158">Yes</span></span>|  
|<span data-ttu-id="705cd-159">IsSystem</span><span class="sxs-lookup"><span data-stu-id="705cd-159">IsSystem</span></span>|`int`|<span data-ttu-id="705cd-160">指示事件是发生在系统进程中还是发生在用户进程中。</span><span class="sxs-lookup"><span data-stu-id="705cd-160">Indicates whether the event occurred on a system process or a user process.</span></span> <span data-ttu-id="705cd-161">1 = 系统，NULL = 用户。</span><span class="sxs-lookup"><span data-stu-id="705cd-161">1 = system, NULL = user.</span></span>|<span data-ttu-id="705cd-162">60</span><span class="sxs-lookup"><span data-stu-id="705cd-162">60</span></span>|<span data-ttu-id="705cd-163">是</span><span class="sxs-lookup"><span data-stu-id="705cd-163">Yes</span></span>|  
|<span data-ttu-id="705cd-164">LoginName</span><span class="sxs-lookup"><span data-stu-id="705cd-164">LoginName</span></span>|`nvarchar`|<span data-ttu-id="705cd-165">用户的登录名（ [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安全登录名或 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows 登录凭据，格式为“DOMAIN\username”）。</span><span class="sxs-lookup"><span data-stu-id="705cd-165">Name of the login of the user (either [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] security login or the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows login credentials in the form of DOMAIN\username).</span></span>|<span data-ttu-id="705cd-166">11</span><span class="sxs-lookup"><span data-stu-id="705cd-166">11</span></span>|<span data-ttu-id="705cd-167">是</span><span class="sxs-lookup"><span data-stu-id="705cd-167">Yes</span></span>|  
|<span data-ttu-id="705cd-168">LoginSid</span><span class="sxs-lookup"><span data-stu-id="705cd-168">LoginSid</span></span>|`image`|<span data-ttu-id="705cd-169">登录用户的安全标识号 (SID)。</span><span class="sxs-lookup"><span data-stu-id="705cd-169">Security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="705cd-170">您可以在 sys.server_principals 目录视图中找到此信息。</span><span class="sxs-lookup"><span data-stu-id="705cd-170">You can find this information in the sys.server_principals catalog view.</span></span> <span data-ttu-id="705cd-171">服务器中的每个登录名都具有唯一的 SID。</span><span class="sxs-lookup"><span data-stu-id="705cd-171">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="705cd-172">41</span><span class="sxs-lookup"><span data-stu-id="705cd-172">41</span></span>|<span data-ttu-id="705cd-173">是</span><span class="sxs-lookup"><span data-stu-id="705cd-173">Yes</span></span>|  
|<span data-ttu-id="705cd-174">NTDomainName</span><span class="sxs-lookup"><span data-stu-id="705cd-174">NTDomainName</span></span>|`nvarchar`|<span data-ttu-id="705cd-175">用户所属的 Windows 域。</span><span class="sxs-lookup"><span data-stu-id="705cd-175">Windows domain to which the user belongs.</span></span>|<span data-ttu-id="705cd-176">7</span><span class="sxs-lookup"><span data-stu-id="705cd-176">7</span></span>|<span data-ttu-id="705cd-177">是</span><span class="sxs-lookup"><span data-stu-id="705cd-177">Yes</span></span>|  
|<span data-ttu-id="705cd-178">NTUserName</span><span class="sxs-lookup"><span data-stu-id="705cd-178">NTUserName</span></span>|`nvarchar`|<span data-ttu-id="705cd-179">Windows 用户名。</span><span class="sxs-lookup"><span data-stu-id="705cd-179">Windows user name.</span></span>|<span data-ttu-id="705cd-180">6</span><span class="sxs-lookup"><span data-stu-id="705cd-180">6</span></span>|<span data-ttu-id="705cd-181">是</span><span class="sxs-lookup"><span data-stu-id="705cd-181">Yes</span></span>|  
|<span data-ttu-id="705cd-182">RequestID</span><span class="sxs-lookup"><span data-stu-id="705cd-182">RequestID</span></span>|`int`|<span data-ttu-id="705cd-183">包含该语句的请求的 ID。</span><span class="sxs-lookup"><span data-stu-id="705cd-183">ID of the request containing the statement.</span></span>|<span data-ttu-id="705cd-184">49</span><span class="sxs-lookup"><span data-stu-id="705cd-184">49</span></span>|<span data-ttu-id="705cd-185">是</span><span class="sxs-lookup"><span data-stu-id="705cd-185">Yes</span></span>|  
|<span data-ttu-id="705cd-186">ServerName</span><span class="sxs-lookup"><span data-stu-id="705cd-186">ServerName</span></span>|`nvarchar`|<span data-ttu-id="705cd-187">所跟踪的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="705cd-187">Name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] being traced.</span></span>|<span data-ttu-id="705cd-188">26</span><span class="sxs-lookup"><span data-stu-id="705cd-188">26</span></span>|<span data-ttu-id="705cd-189">否</span><span class="sxs-lookup"><span data-stu-id="705cd-189">No</span></span>|  
|<span data-ttu-id="705cd-190">SessionLoginName</span><span class="sxs-lookup"><span data-stu-id="705cd-190">SessionLoginName</span></span>|`nvarchar`|<span data-ttu-id="705cd-191">发起会话的用户的登录名。</span><span class="sxs-lookup"><span data-stu-id="705cd-191">Login name of the user who originated the session.</span></span> <span data-ttu-id="705cd-192">例如，如果您使用 Login1 连接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，再以 Login2 的身份执行语句，则 SessionLoginName 将显示 Login1，而 LoginName 将显示 Login2。</span><span class="sxs-lookup"><span data-stu-id="705cd-192">For example, if you connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Login1 and execute a statement as Login2, SessionLoginName shows Login1 and LoginName shows Login2.</span></span> <span data-ttu-id="705cd-193">此列将同时显示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名和 Windows 登录名。</span><span class="sxs-lookup"><span data-stu-id="705cd-193">This column displays both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and Windows logins.</span></span>|<span data-ttu-id="705cd-194">64</span><span class="sxs-lookup"><span data-stu-id="705cd-194">64</span></span>|<span data-ttu-id="705cd-195">是</span><span class="sxs-lookup"><span data-stu-id="705cd-195">Yes</span></span>|  
|<span data-ttu-id="705cd-196">SPID</span><span class="sxs-lookup"><span data-stu-id="705cd-196">SPID</span></span>|`int`|<span data-ttu-id="705cd-197">发生该事件的会话的 ID。</span><span class="sxs-lookup"><span data-stu-id="705cd-197">ID of the session on which the event occurred.</span></span>|<span data-ttu-id="705cd-198">12</span><span class="sxs-lookup"><span data-stu-id="705cd-198">12</span></span>|<span data-ttu-id="705cd-199">是</span><span class="sxs-lookup"><span data-stu-id="705cd-199">Yes</span></span>|  
|<span data-ttu-id="705cd-200">StartTime</span><span class="sxs-lookup"><span data-stu-id="705cd-200">StartTime</span></span>|`datetime`|<span data-ttu-id="705cd-201">事件开始的时间（如果可用）。</span><span class="sxs-lookup"><span data-stu-id="705cd-201">Time at which the event started, when available.</span></span>|<span data-ttu-id="705cd-202">14</span><span class="sxs-lookup"><span data-stu-id="705cd-202">14</span></span>|<span data-ttu-id="705cd-203">是</span><span class="sxs-lookup"><span data-stu-id="705cd-203">Yes</span></span>|  
|<span data-ttu-id="705cd-204">TransactionID</span><span class="sxs-lookup"><span data-stu-id="705cd-204">TransactionID</span></span>|`bigint`|<span data-ttu-id="705cd-205">系统分配的事务 ID。</span><span class="sxs-lookup"><span data-stu-id="705cd-205">System-assigned ID of the transaction.</span></span>|<span data-ttu-id="705cd-206">4</span><span class="sxs-lookup"><span data-stu-id="705cd-206">4</span></span>|<span data-ttu-id="705cd-207">是</span><span class="sxs-lookup"><span data-stu-id="705cd-207">Yes</span></span>|  
|<span data-ttu-id="705cd-208">XactSequence</span><span class="sxs-lookup"><span data-stu-id="705cd-208">XactSequence</span></span>|`bigint`|<span data-ttu-id="705cd-209">用于说明当前事务的标记。</span><span class="sxs-lookup"><span data-stu-id="705cd-209">Token that describes the current transaction.</span></span>|<span data-ttu-id="705cd-210">50</span><span class="sxs-lookup"><span data-stu-id="705cd-210">50</span></span>|<span data-ttu-id="705cd-211">是</span><span class="sxs-lookup"><span data-stu-id="705cd-211">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="705cd-212">另请参阅</span><span class="sxs-lookup"><span data-stu-id="705cd-212">See Also</span></span>  
 [<span data-ttu-id="705cd-213">sp_trace_setevent (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="705cd-213">sp_trace_setevent &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-trace-setevent-transact-sql)  
  
  
