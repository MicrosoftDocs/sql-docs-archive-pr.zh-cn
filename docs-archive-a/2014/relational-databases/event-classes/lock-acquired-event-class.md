---
title: Lock:Acquired 事件类 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Acquired event class
ms.assetid: a6b1df2a-06ed-4fc3-8a84-f0becd5810d5
author: stevestein
ms.author: sstein
ms.openlocfilehash: e781e1ed4e632b11bff6f559392d829ec57bed94
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588531"
---
# <a name="lockacquired-event-class"></a><span data-ttu-id="b8808-102">Lock:Acquired 事件类</span><span class="sxs-lookup"><span data-stu-id="b8808-102">Lock:Acquired Event Class</span></span>
  <span data-ttu-id="b8808-103">Lock：Acquired 事件类指示已获取某个资源（例如数据页）的锁。</span><span class="sxs-lookup"><span data-stu-id="b8808-103">The Lock:Acquiredevent class indicates that acquisition of a lock on a resource, such as a data page, has been achieved.</span></span>  
  
 <span data-ttu-id="b8808-104">Lock:Acquired 和 Lock:Released 事件类可以用于监视锁定对象的时间、使用的锁类型以及锁保留的时间。</span><span class="sxs-lookup"><span data-stu-id="b8808-104">The Lock:Acquired and Lock:Released event classes can be used to monitor when objects are being locked, the type of locks taken, and for how long the locks were retained.</span></span> <span data-ttu-id="b8808-105">保留较长时间的锁可能导致争用问题，应进行调查。</span><span class="sxs-lookup"><span data-stu-id="b8808-105">Locks retained for long periods of time may cause contention issues and should be investigated.</span></span> <span data-ttu-id="b8808-106">例如，应用程序可以为表中的行获取锁，然后等待用户输入。</span><span class="sxs-lookup"><span data-stu-id="b8808-106">For example, an application can be acquiring locks on rows in a table, and then waiting for user input.</span></span> <span data-ttu-id="b8808-107">由于用户输入可能需要较长时间，所以锁可能会阻塞其他用户。</span><span class="sxs-lookup"><span data-stu-id="b8808-107">Because the user input can take a long time to occur, the locks can block other users.</span></span> <span data-ttu-id="b8808-108">在这种情况下，应重新设计应用程序，以便只在需要时才请求锁，并且在获取锁后不需要用户输入。</span><span class="sxs-lookup"><span data-stu-id="b8808-108">In this instance, the application should be redesigned to make lock requests only when needed and not require user input when locks have been acquired.</span></span>  
  
## <a name="lockacquired-event-class-data-columns"></a><span data-ttu-id="b8808-109">Lock:Acquired 事件类的数据列</span><span class="sxs-lookup"><span data-stu-id="b8808-109">Lock:Acquired Event Class Data Columns</span></span>  
  
|<span data-ttu-id="b8808-110">数据列名称</span><span class="sxs-lookup"><span data-stu-id="b8808-110">Data column name</span></span>|<span data-ttu-id="b8808-111">数据类型</span><span class="sxs-lookup"><span data-stu-id="b8808-111">Data type</span></span>|<span data-ttu-id="b8808-112">说明</span><span class="sxs-lookup"><span data-stu-id="b8808-112">Description</span></span>|<span data-ttu-id="b8808-113">列 ID</span><span class="sxs-lookup"><span data-stu-id="b8808-113">Column ID</span></span>|<span data-ttu-id="b8808-114">可筛选</span><span class="sxs-lookup"><span data-stu-id="b8808-114">Filterable</span></span>|  
|----------------------|---------------|-----------------|---------------|----------------|  
|<span data-ttu-id="b8808-115">ApplicationName</span><span class="sxs-lookup"><span data-stu-id="b8808-115">ApplicationName</span></span>|`nvarchar`|<span data-ttu-id="b8808-116">与 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例建立连接的客户端应用程序的名称。</span><span class="sxs-lookup"><span data-stu-id="b8808-116">Name of the client application that created the connection to an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b8808-117">此列由应用程序传递的值填充，而不是由所显示的程序名填充。</span><span class="sxs-lookup"><span data-stu-id="b8808-117">This column is populated with the values passed by the application rather than the displayed name of the program.</span></span>|<span data-ttu-id="b8808-118">10</span><span class="sxs-lookup"><span data-stu-id="b8808-118">10</span></span>|<span data-ttu-id="b8808-119">是</span><span class="sxs-lookup"><span data-stu-id="b8808-119">Yes</span></span>|  
|<span data-ttu-id="b8808-120">BigintData1</span><span class="sxs-lookup"><span data-stu-id="b8808-120">BigintData1</span></span>|`bigint`|<span data-ttu-id="b8808-121">分区 ID（如果锁资源已分区）。</span><span class="sxs-lookup"><span data-stu-id="b8808-121">Partition ID if the lock resource is partitioned.</span></span>|<span data-ttu-id="b8808-122">52</span><span class="sxs-lookup"><span data-stu-id="b8808-122">52</span></span>|<span data-ttu-id="b8808-123">是</span><span class="sxs-lookup"><span data-stu-id="b8808-123">Yes</span></span>|  
|<span data-ttu-id="b8808-124">BinaryData</span><span class="sxs-lookup"><span data-stu-id="b8808-124">BinaryData</span></span>|`image`|<span data-ttu-id="b8808-125">锁资源标识符。</span><span class="sxs-lookup"><span data-stu-id="b8808-125">Lock resource identifier.</span></span>|<span data-ttu-id="b8808-126">2</span><span class="sxs-lookup"><span data-stu-id="b8808-126">2</span></span>|<span data-ttu-id="b8808-127">是</span><span class="sxs-lookup"><span data-stu-id="b8808-127">Yes</span></span>|  
|<span data-ttu-id="b8808-128">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="b8808-128">ClientProcessID</span></span>|`int`|<span data-ttu-id="b8808-129">主机为运行该客户端应用程序的进程分配的 ID。</span><span class="sxs-lookup"><span data-stu-id="b8808-129">ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="b8808-130">如果客户端提供了客户端进程 ID，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="b8808-130">This data column is populated if the client provides the client process ID.</span></span>|<span data-ttu-id="b8808-131">9</span><span class="sxs-lookup"><span data-stu-id="b8808-131">9</span></span>|<span data-ttu-id="b8808-132">是</span><span class="sxs-lookup"><span data-stu-id="b8808-132">Yes</span></span>|  
|<span data-ttu-id="b8808-133">DatabaseID</span><span class="sxs-lookup"><span data-stu-id="b8808-133">DatabaseID</span></span>|`int`|<span data-ttu-id="b8808-134">获取锁所在的数据库的 ID。</span><span class="sxs-lookup"><span data-stu-id="b8808-134">ID of the database in which the lock was acquired.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="b8808-135">如果在跟踪中捕获 ServerName 数据列而且服务器可用，则将显示数据库名。</span><span class="sxs-lookup"><span data-stu-id="b8808-135">displays the name of the database if the ServerName data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="b8808-136">可使用 DB_ID 函数来确定数据库的值。</span><span class="sxs-lookup"><span data-stu-id="b8808-136">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="b8808-137">3</span><span class="sxs-lookup"><span data-stu-id="b8808-137">3</span></span>|<span data-ttu-id="b8808-138">是</span><span class="sxs-lookup"><span data-stu-id="b8808-138">Yes</span></span>|  
|<span data-ttu-id="b8808-139">Duration</span><span class="sxs-lookup"><span data-stu-id="b8808-139">Duration</span></span>|`bigint`|<span data-ttu-id="b8808-140">从发出锁请求到获得锁的时间（微秒）。</span><span class="sxs-lookup"><span data-stu-id="b8808-140">Amount of time (in microseconds) between the time the lock request was issued and the time the lock was acquired.</span></span>|<span data-ttu-id="b8808-141">13</span><span class="sxs-lookup"><span data-stu-id="b8808-141">13</span></span>|<span data-ttu-id="b8808-142">是</span><span class="sxs-lookup"><span data-stu-id="b8808-142">Yes</span></span>|  
|<span data-ttu-id="b8808-143">EndTime</span><span class="sxs-lookup"><span data-stu-id="b8808-143">EndTime</span></span>|`datetime`|<span data-ttu-id="b8808-144">事件结束的时间。</span><span class="sxs-lookup"><span data-stu-id="b8808-144">Time at which the event ended.</span></span>|<span data-ttu-id="b8808-145">15</span><span class="sxs-lookup"><span data-stu-id="b8808-145">15</span></span>|<span data-ttu-id="b8808-146">是</span><span class="sxs-lookup"><span data-stu-id="b8808-146">Yes</span></span>|  
|<span data-ttu-id="b8808-147">EventClass</span><span class="sxs-lookup"><span data-stu-id="b8808-147">EventClass</span></span>|`int`|<span data-ttu-id="b8808-148">事件类型 = 24。</span><span class="sxs-lookup"><span data-stu-id="b8808-148">Type of event = 24.</span></span>|<span data-ttu-id="b8808-149">27</span><span class="sxs-lookup"><span data-stu-id="b8808-149">27</span></span>|<span data-ttu-id="b8808-150">否</span><span class="sxs-lookup"><span data-stu-id="b8808-150">No</span></span>|  
|<span data-ttu-id="b8808-151">EventSequence</span><span class="sxs-lookup"><span data-stu-id="b8808-151">EventSequence</span></span>|`int`|<span data-ttu-id="b8808-152">给定事件在请求中的顺序。</span><span class="sxs-lookup"><span data-stu-id="b8808-152">Sequence of a given event within the request.</span></span>|<span data-ttu-id="b8808-153">51</span><span class="sxs-lookup"><span data-stu-id="b8808-153">51</span></span>|<span data-ttu-id="b8808-154">否</span><span class="sxs-lookup"><span data-stu-id="b8808-154">No</span></span>|  
|<span data-ttu-id="b8808-155">GroupID</span><span class="sxs-lookup"><span data-stu-id="b8808-155">GroupID</span></span>|`int`|<span data-ttu-id="b8808-156">在其中激发 SQL 跟踪事件的工作负荷组的 ID。</span><span class="sxs-lookup"><span data-stu-id="b8808-156">ID of the workload group where the SQL Trace event fires.</span></span>|<span data-ttu-id="b8808-157">66</span><span class="sxs-lookup"><span data-stu-id="b8808-157">66</span></span>|<span data-ttu-id="b8808-158">是</span><span class="sxs-lookup"><span data-stu-id="b8808-158">Yes</span></span>|  
|<span data-ttu-id="b8808-159">HostName</span><span class="sxs-lookup"><span data-stu-id="b8808-159">HostName</span></span>|`nvarchar`|<span data-ttu-id="b8808-160">正在运行客户端的计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="b8808-160">Name of the computer on which the client is running.</span></span> <span data-ttu-id="b8808-161">如果客户端提供了主机名，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="b8808-161">This data column is populated if the client provides the host name.</span></span> <span data-ttu-id="b8808-162">若要确定主机名，请使用 HOST_NAME 函数。</span><span class="sxs-lookup"><span data-stu-id="b8808-162">To determine the host name, use the HOST_NAME function.</span></span>|<span data-ttu-id="b8808-163">8</span><span class="sxs-lookup"><span data-stu-id="b8808-163">8</span></span>|<span data-ttu-id="b8808-164">是</span><span class="sxs-lookup"><span data-stu-id="b8808-164">Yes</span></span>|  
|<span data-ttu-id="b8808-165">IntegerData2</span><span class="sxs-lookup"><span data-stu-id="b8808-165">IntegerData2</span></span>|`int`|[!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|<span data-ttu-id="b8808-166">55</span><span class="sxs-lookup"><span data-stu-id="b8808-166">55</span></span>|<span data-ttu-id="b8808-167">是</span><span class="sxs-lookup"><span data-stu-id="b8808-167">Yes</span></span>|  
|<span data-ttu-id="b8808-168">IsSystem</span><span class="sxs-lookup"><span data-stu-id="b8808-168">IsSystem</span></span>|`int`|<span data-ttu-id="b8808-169">指示事件是发生在系统进程中还是发生在用户进程中。</span><span class="sxs-lookup"><span data-stu-id="b8808-169">Indicates whether the event occurred on a system process or a user process.</span></span> <span data-ttu-id="b8808-170">1 = 系统，0 = 用户。</span><span class="sxs-lookup"><span data-stu-id="b8808-170">1 = system, 0 = user.</span></span>|<span data-ttu-id="b8808-171">60</span><span class="sxs-lookup"><span data-stu-id="b8808-171">60</span></span>|<span data-ttu-id="b8808-172">是</span><span class="sxs-lookup"><span data-stu-id="b8808-172">Yes</span></span>|  
|<span data-ttu-id="b8808-173">LoginName</span><span class="sxs-lookup"><span data-stu-id="b8808-173">LoginName</span></span>|`nvarchar`|<span data-ttu-id="b8808-174">用户的登录名（ [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安全登录名或 Windows 登录凭据，格式为“域\用户名”）。</span><span class="sxs-lookup"><span data-stu-id="b8808-174">Name of the login of the user (either [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] security login or the Windows login credentials in the form of DOMAIN\username).</span></span>|<span data-ttu-id="b8808-175">11</span><span class="sxs-lookup"><span data-stu-id="b8808-175">11</span></span>|<span data-ttu-id="b8808-176">是</span><span class="sxs-lookup"><span data-stu-id="b8808-176">Yes</span></span>|  
|<span data-ttu-id="b8808-177">LoginSid</span><span class="sxs-lookup"><span data-stu-id="b8808-177">LoginSid</span></span>|`image`|<span data-ttu-id="b8808-178">登录用户的安全标识号 (SID)。</span><span class="sxs-lookup"><span data-stu-id="b8808-178">Security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="b8808-179">您可以在 sys.server_principals 目录视图中找到此信息。</span><span class="sxs-lookup"><span data-stu-id="b8808-179">You can find this information in the sys.server_principals catalog view.</span></span> <span data-ttu-id="b8808-180">服务器中的每个登录名都具有唯一的 SID。</span><span class="sxs-lookup"><span data-stu-id="b8808-180">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="b8808-181">41</span><span class="sxs-lookup"><span data-stu-id="b8808-181">41</span></span>|<span data-ttu-id="b8808-182">是</span><span class="sxs-lookup"><span data-stu-id="b8808-182">Yes</span></span>|  
|<span data-ttu-id="b8808-183">“模式”</span><span class="sxs-lookup"><span data-stu-id="b8808-183">Mode</span></span>|`int`|<span data-ttu-id="b8808-184">获得锁后得到的模式。</span><span class="sxs-lookup"><span data-stu-id="b8808-184">Resulting mode after the lock was acquired.</span></span><br /><br /> <span data-ttu-id="b8808-185">0=NULL - 与所有其他锁定模式兼容 (LCK_M_NL)</span><span class="sxs-lookup"><span data-stu-id="b8808-185">0=NULL - Compatible with all other lock modes (LCK_M_NL)</span></span><br /><br /> <span data-ttu-id="b8808-186">1 = 架构稳定性锁 (LCK_M_SCH_S)</span><span class="sxs-lookup"><span data-stu-id="b8808-186">1=Schema Stability lock (LCK_M_SCH_S)</span></span><br /><br /> <span data-ttu-id="b8808-187">2 = 架构修改锁 (LCK_M_SCH_M)</span><span class="sxs-lookup"><span data-stu-id="b8808-187">2=Schema Modification Lock (LCK_M_SCH_M)</span></span><br /><br /> <span data-ttu-id="b8808-188">3 = 共享锁 (LCK_M_S)</span><span class="sxs-lookup"><span data-stu-id="b8808-188">3=Shared Lock (LCK_M_S)</span></span><br /><br /> <span data-ttu-id="b8808-189">4 = 更新锁 (LCK_M_U)</span><span class="sxs-lookup"><span data-stu-id="b8808-189">4=Update Lock (LCK_M_U)</span></span><br /><br /> <span data-ttu-id="b8808-190">5 = 排他锁 (LCK_M_X)</span><span class="sxs-lookup"><span data-stu-id="b8808-190">5=Exclusive Lock (LCK_M_X)</span></span><br /><br /> <span data-ttu-id="b8808-191">6 = 意向共享锁 (LCK_M_IS)</span><span class="sxs-lookup"><span data-stu-id="b8808-191">6=Intent Shared Lock (LCK_M_IS)</span></span><br /><br /> <span data-ttu-id="b8808-192">7 = 意向更新锁 (LCK_M_IU)</span><span class="sxs-lookup"><span data-stu-id="b8808-192">7=Intent Update Lock (LCK_M_IU)</span></span><br /><br /> <span data-ttu-id="b8808-193">8 = 意向排他锁 (LCK_M_IX)</span><span class="sxs-lookup"><span data-stu-id="b8808-193">8=Intent Exclusive Lock (LCK_M_IX)</span></span><br /><br /> <span data-ttu-id="b8808-194">9 = 意向更新共享 (LCK_M_SIU)</span><span class="sxs-lookup"><span data-stu-id="b8808-194">9=Shared with intent to Update (LCK_M_SIU)</span></span><br /><br /> <span data-ttu-id="b8808-195">10 = 意向排他共享 (LCK_M_SIX)</span><span class="sxs-lookup"><span data-stu-id="b8808-195">10=Shared with Intent Exclusive (LCK_M_SIX)</span></span><br /><br /> <span data-ttu-id="b8808-196">11 = 意向排他更新 (LCK_M_UIX)</span><span class="sxs-lookup"><span data-stu-id="b8808-196">11=Update with Intent Exclusive (LCK_M_UIX)</span></span><br /><br /> <span data-ttu-id="b8808-197">12 = 大容量更新锁 (LCK_M_BU)</span><span class="sxs-lookup"><span data-stu-id="b8808-197">12=Bulk Update Lock (LCK_M_BU)</span></span><br /><br /> <span data-ttu-id="b8808-198">13 = 键范围共享/共享 (LCK_M_RS_S)</span><span class="sxs-lookup"><span data-stu-id="b8808-198">13=Key range Shared/Shared (LCK_M_RS_S)</span></span><br /><br /> <span data-ttu-id="b8808-199">14 = 键范围共享/更新 (LCK_M_RS_U)</span><span class="sxs-lookup"><span data-stu-id="b8808-199">14=Key range Shared/Update (LCK_M_RS_U)</span></span><br /><br /> <span data-ttu-id="b8808-200">15 = 键范围插入 NULL (LCK_M_RI_NL)</span><span class="sxs-lookup"><span data-stu-id="b8808-200">15=Key Range Insert NULL (LCK_M_RI_NL)</span></span><br /><br /> <span data-ttu-id="b8808-201">16 = 键范围插入共享 (LCK_M_RI_S)</span><span class="sxs-lookup"><span data-stu-id="b8808-201">16=Key Range Insert Shared (LCK_M_RI_S)</span></span><br /><br /> <span data-ttu-id="b8808-202">17 = 键范围插入更新 (LCK_M_RI_U)</span><span class="sxs-lookup"><span data-stu-id="b8808-202">17=Key Range Insert Update (LCK_M_RI_U)</span></span><br /><br /> <span data-ttu-id="b8808-203">18 = 键范围插入排他 (LCK_M_RI_X)</span><span class="sxs-lookup"><span data-stu-id="b8808-203">18=Key Range Insert Exclusive (LCK_M_RI_X)</span></span><br /><br /> <span data-ttu-id="b8808-204">19 = 键范围排他共享 (LCK_M_RX_S)</span><span class="sxs-lookup"><span data-stu-id="b8808-204">19=Key Range Exclusive Shared (LCK_M_RX_S)</span></span><br /><br /> <span data-ttu-id="b8808-205">20 = 键范围排他更新 (LCK_M_RX_U)</span><span class="sxs-lookup"><span data-stu-id="b8808-205">20=Key Range Exclusive Update (LCK_M_RX_U)</span></span><br /><br /> <span data-ttu-id="b8808-206">21 = 键范围排他排他 (LCK_M_RX_X)</span><span class="sxs-lookup"><span data-stu-id="b8808-206">21=Key Range Exclusive Exclusive (LCK_M_RX_X)</span></span>|<span data-ttu-id="b8808-207">32</span><span class="sxs-lookup"><span data-stu-id="b8808-207">32</span></span>|<span data-ttu-id="b8808-208">是</span><span class="sxs-lookup"><span data-stu-id="b8808-208">Yes</span></span>|  
|<span data-ttu-id="b8808-209">NTDomainName</span><span class="sxs-lookup"><span data-stu-id="b8808-209">NTDomainName</span></span>|`nvarchar`|<span data-ttu-id="b8808-210">用户所属的 Windows 域。</span><span class="sxs-lookup"><span data-stu-id="b8808-210">Windows domain to which the user belongs.</span></span>|<span data-ttu-id="b8808-211">7</span><span class="sxs-lookup"><span data-stu-id="b8808-211">7</span></span>|<span data-ttu-id="b8808-212">是</span><span class="sxs-lookup"><span data-stu-id="b8808-212">Yes</span></span>|  
|<span data-ttu-id="b8808-213">NTUserName</span><span class="sxs-lookup"><span data-stu-id="b8808-213">NTUserName</span></span>|`nvarchar`|<span data-ttu-id="b8808-214">Windows 用户名。</span><span class="sxs-lookup"><span data-stu-id="b8808-214">Windows user name.</span></span>|<span data-ttu-id="b8808-215">6</span><span class="sxs-lookup"><span data-stu-id="b8808-215">6</span></span>|<span data-ttu-id="b8808-216">是</span><span class="sxs-lookup"><span data-stu-id="b8808-216">Yes</span></span>|  
|<span data-ttu-id="b8808-217">ObjectID</span><span class="sxs-lookup"><span data-stu-id="b8808-217">ObjectID</span></span>|`int`|<span data-ttu-id="b8808-218">获得其锁的对象的 ID（如果可用且适用）。</span><span class="sxs-lookup"><span data-stu-id="b8808-218">ID of the object on which the lock was acquired, if available and applicable.</span></span>|<span data-ttu-id="b8808-219">22</span><span class="sxs-lookup"><span data-stu-id="b8808-219">22</span></span>|<span data-ttu-id="b8808-220">是</span><span class="sxs-lookup"><span data-stu-id="b8808-220">Yes</span></span>|  
|<span data-ttu-id="b8808-221">ObjectID2</span><span class="sxs-lookup"><span data-stu-id="b8808-221">ObjectID2</span></span>|`bigint`|<span data-ttu-id="b8808-222">相关对象或实体的 ID（如果可用且适用）。</span><span class="sxs-lookup"><span data-stu-id="b8808-222">ID of the related object or entity, if available and applicable.</span></span>|<span data-ttu-id="b8808-223">56</span><span class="sxs-lookup"><span data-stu-id="b8808-223">56</span></span>|<span data-ttu-id="b8808-224">是</span><span class="sxs-lookup"><span data-stu-id="b8808-224">Yes</span></span>|  
|<span data-ttu-id="b8808-225">OwnerID</span><span class="sxs-lookup"><span data-stu-id="b8808-225">OwnerID</span></span>|`int`|<span data-ttu-id="b8808-226">1 = TRANSACTION</span><span class="sxs-lookup"><span data-stu-id="b8808-226">1=TRANSACTION</span></span><br /><br /> <span data-ttu-id="b8808-227">2 = CURSOR</span><span class="sxs-lookup"><span data-stu-id="b8808-227">2=CURSOR</span></span><br /><br /> <span data-ttu-id="b8808-228">3 = SESSION</span><span class="sxs-lookup"><span data-stu-id="b8808-228">3=SESSION</span></span><br /><br /> <span data-ttu-id="b8808-229">4 = SHARED_TRANSACTION_WORKSPACE</span><span class="sxs-lookup"><span data-stu-id="b8808-229">4=SHARED_TRANSACTION_WORKSPACE</span></span><br /><br /> <span data-ttu-id="b8808-230">5 = EXCLUSIVE_TRANSACTION_WORKSPACE</span><span class="sxs-lookup"><span data-stu-id="b8808-230">5=EXCLUSIVE_TRANSACTION_WORKSPACE</span></span>|<span data-ttu-id="b8808-231">58</span><span class="sxs-lookup"><span data-stu-id="b8808-231">58</span></span>|<span data-ttu-id="b8808-232">是</span><span class="sxs-lookup"><span data-stu-id="b8808-232">Yes</span></span>|  
|<span data-ttu-id="b8808-233">RequestID</span><span class="sxs-lookup"><span data-stu-id="b8808-233">RequestID</span></span>|`int`|<span data-ttu-id="b8808-234">包含该语句的请求的 ID。</span><span class="sxs-lookup"><span data-stu-id="b8808-234">ID of the request containing the statement.</span></span>|<span data-ttu-id="b8808-235">49</span><span class="sxs-lookup"><span data-stu-id="b8808-235">49</span></span>|<span data-ttu-id="b8808-236">是</span><span class="sxs-lookup"><span data-stu-id="b8808-236">Yes</span></span>|  
|<span data-ttu-id="b8808-237">ServerName</span><span class="sxs-lookup"><span data-stu-id="b8808-237">ServerName</span></span>|`nvarchar`|<span data-ttu-id="b8808-238">所跟踪的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="b8808-238">Name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] being traced.</span></span>|<span data-ttu-id="b8808-239">26</span><span class="sxs-lookup"><span data-stu-id="b8808-239">26</span></span>|<span data-ttu-id="b8808-240">否</span><span class="sxs-lookup"><span data-stu-id="b8808-240">No</span></span>|  
|<span data-ttu-id="b8808-241">SessionLoginName</span><span class="sxs-lookup"><span data-stu-id="b8808-241">SessionLoginName</span></span>|`nvarchar`|<span data-ttu-id="b8808-242">发起会话的用户的登录名。</span><span class="sxs-lookup"><span data-stu-id="b8808-242">Login name of the user who originated the session.</span></span> <span data-ttu-id="b8808-243">例如，如果您使用 Login1 连接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，再以 Login2 的身份执行语句，则 SessionLoginName 将显示 Login1，而 LoginName 将显示 Login2。</span><span class="sxs-lookup"><span data-stu-id="b8808-243">For example, if you connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Login1 and execute a statement as Login2, SessionLoginName shows Login1 and LoginName shows Login2.</span></span> <span data-ttu-id="b8808-244">此列将同时显示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名和 Windows 登录名。</span><span class="sxs-lookup"><span data-stu-id="b8808-244">This column displays both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and Windows logins.</span></span>|<span data-ttu-id="b8808-245">64</span><span class="sxs-lookup"><span data-stu-id="b8808-245">64</span></span>|<span data-ttu-id="b8808-246">是</span><span class="sxs-lookup"><span data-stu-id="b8808-246">Yes</span></span>|  
|<span data-ttu-id="b8808-247">SPID</span><span class="sxs-lookup"><span data-stu-id="b8808-247">SPID</span></span>|`int`|<span data-ttu-id="b8808-248">发生该事件的会话的 ID。</span><span class="sxs-lookup"><span data-stu-id="b8808-248">ID of the session on which the event occurred.</span></span>|<span data-ttu-id="b8808-249">12</span><span class="sxs-lookup"><span data-stu-id="b8808-249">12</span></span>|<span data-ttu-id="b8808-250">是</span><span class="sxs-lookup"><span data-stu-id="b8808-250">Yes</span></span>|  
|<span data-ttu-id="b8808-251">StartTime</span><span class="sxs-lookup"><span data-stu-id="b8808-251">StartTime</span></span>|`datetime`|<span data-ttu-id="b8808-252">该事件（如果存在）的启动时间。</span><span class="sxs-lookup"><span data-stu-id="b8808-252">Time at which the event started, if available.</span></span>|<span data-ttu-id="b8808-253">14</span><span class="sxs-lookup"><span data-stu-id="b8808-253">14</span></span>|<span data-ttu-id="b8808-254">是</span><span class="sxs-lookup"><span data-stu-id="b8808-254">Yes</span></span>|  
|<span data-ttu-id="b8808-255">TextData</span><span class="sxs-lookup"><span data-stu-id="b8808-255">TextData</span></span>|`ntext`|<span data-ttu-id="b8808-256">文本值取决于获取的锁类型。</span><span class="sxs-lookup"><span data-stu-id="b8808-256">Text value dependent on the lock type that was acquired.</span></span> <span data-ttu-id="b8808-257">该值与 sys.dm_tran_locks 中 resource_description 列的值相同。</span><span class="sxs-lookup"><span data-stu-id="b8808-257">This is the same value as the resource_description column in sys.dm_tran_locks.</span></span>|<span data-ttu-id="b8808-258">1</span><span class="sxs-lookup"><span data-stu-id="b8808-258">1</span></span>|<span data-ttu-id="b8808-259">是</span><span class="sxs-lookup"><span data-stu-id="b8808-259">Yes</span></span>|  
|<span data-ttu-id="b8808-260">TransactionID</span><span class="sxs-lookup"><span data-stu-id="b8808-260">TransactionID</span></span>|`bigint`|<span data-ttu-id="b8808-261">系统分配的事务 ID。</span><span class="sxs-lookup"><span data-stu-id="b8808-261">System-assigned ID of the transaction.</span></span>|<span data-ttu-id="b8808-262">4</span><span class="sxs-lookup"><span data-stu-id="b8808-262">4</span></span>|<span data-ttu-id="b8808-263">是</span><span class="sxs-lookup"><span data-stu-id="b8808-263">Yes</span></span>|  
|<span data-ttu-id="b8808-264">类型</span><span class="sxs-lookup"><span data-stu-id="b8808-264">Type</span></span>|`int`|<span data-ttu-id="b8808-265">1 = NULL_RESOURCE</span><span class="sxs-lookup"><span data-stu-id="b8808-265">1=NULL_RESOURCE</span></span><br /><br /> <span data-ttu-id="b8808-266">2 = DATABASE</span><span class="sxs-lookup"><span data-stu-id="b8808-266">2=DATABASE</span></span><br /><br /> <span data-ttu-id="b8808-267">3 = FILE</span><span class="sxs-lookup"><span data-stu-id="b8808-267">3=FILE</span></span><br /><br /> <span data-ttu-id="b8808-268">5 = OBJECT</span><span class="sxs-lookup"><span data-stu-id="b8808-268">5=OBJECT</span></span><br /><br /> <span data-ttu-id="b8808-269">6 = PAGE</span><span class="sxs-lookup"><span data-stu-id="b8808-269">6=PAGE</span></span><br /><br /> <span data-ttu-id="b8808-270">7 = KEY</span><span class="sxs-lookup"><span data-stu-id="b8808-270">7=KEY</span></span><br /><br /> <span data-ttu-id="b8808-271">8 = EXTENT</span><span class="sxs-lookup"><span data-stu-id="b8808-271">8=EXTENT</span></span><br /><br /> <span data-ttu-id="b8808-272">9 = RID</span><span class="sxs-lookup"><span data-stu-id="b8808-272">9=RID</span></span><br /><br /> <span data-ttu-id="b8808-273">10 = APPLICATION</span><span class="sxs-lookup"><span data-stu-id="b8808-273">10=APPLICATION</span></span><br /><br /> <span data-ttu-id="b8808-274">11 = METADATA</span><span class="sxs-lookup"><span data-stu-id="b8808-274">11=METADATA</span></span><br /><br /> <span data-ttu-id="b8808-275">12 = AUTONAMEDB</span><span class="sxs-lookup"><span data-stu-id="b8808-275">12=AUTONAMEDB</span></span><br /><br /> <span data-ttu-id="b8808-276">13 = HOBT</span><span class="sxs-lookup"><span data-stu-id="b8808-276">13=HOBT</span></span><br /><br /> <span data-ttu-id="b8808-277">14 = ALLOCATION_UNIT</span><span class="sxs-lookup"><span data-stu-id="b8808-277">14=ALLOCATION_UNIT</span></span>|<span data-ttu-id="b8808-278">57</span><span class="sxs-lookup"><span data-stu-id="b8808-278">57</span></span>|<span data-ttu-id="b8808-279">是</span><span class="sxs-lookup"><span data-stu-id="b8808-279">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b8808-280">另请参阅</span><span class="sxs-lookup"><span data-stu-id="b8808-280">See Also</span></span>  
 <span data-ttu-id="b8808-281">[Lock：已释放事件类](lock-released-event-class.md) </span><span class="sxs-lookup"><span data-stu-id="b8808-281">[Lock:Released Event Class](lock-released-event-class.md) </span></span>  
 <span data-ttu-id="b8808-282">[sp_trace_setevent (Transact-SQL)](/sql/relational-databases/system-stored-procedures/sp-trace-setevent-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="b8808-282">[sp_trace_setevent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-trace-setevent-transact-sql) </span></span>  
 [<span data-ttu-id="b8808-283">sys.dm_tran_locks (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="b8808-283">sys.dm_tran_locks &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-dynamic-management-views/sys-dm-tran-locks-transact-sql)  
  
  
