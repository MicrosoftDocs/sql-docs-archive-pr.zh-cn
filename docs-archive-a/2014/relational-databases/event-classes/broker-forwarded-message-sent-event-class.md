---
title: Broker:Forwarded Message Sent 事件类 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Broker:Forwarded Message Sent event class
ms.assetid: d0ef74d9-a4ef-4918-aa21-6b267e85569f
author: stevestein
ms.author: sstein
ms.openlocfilehash: fa2748efec393aaa68dd23349d208ae00b64bb5e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87689368"
---
# <a name="brokerforwarded-message-sent-event-class"></a><span data-ttu-id="abd8e-102">Broker:Forwarded Message Sent 事件类</span><span class="sxs-lookup"><span data-stu-id="abd8e-102">Broker:Forwarded Message Sent Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="abd8e-103">当 Service Broker 转发消息时，会生成 Broker:Forwarded Message Sent 事件。</span><span class="sxs-lookup"><span data-stu-id="abd8e-103">generates a Broker:Forwarded Message Sent event when Service Broker forwards a message.</span></span>  
  
## <a name="brokerforwarded-message-sent-event-class-data-columns"></a><span data-ttu-id="abd8e-104">Broker:Forwarded Message Sent 事件类的数据列</span><span class="sxs-lookup"><span data-stu-id="abd8e-104">Broker:Forwarded Message Sent Event Class Data Columns</span></span>  
  
|<span data-ttu-id="abd8e-105">数据列</span><span class="sxs-lookup"><span data-stu-id="abd8e-105">Data column</span></span>|<span data-ttu-id="abd8e-106">类型</span><span class="sxs-lookup"><span data-stu-id="abd8e-106">Type</span></span>|<span data-ttu-id="abd8e-107">说明</span><span class="sxs-lookup"><span data-stu-id="abd8e-107">Description</span></span>|<span data-ttu-id="abd8e-108">列号</span><span class="sxs-lookup"><span data-stu-id="abd8e-108">Column number</span></span>|<span data-ttu-id="abd8e-109">可筛选</span><span class="sxs-lookup"><span data-stu-id="abd8e-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="abd8e-110">ApplicationName</span><span class="sxs-lookup"><span data-stu-id="abd8e-110">ApplicationName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-111">客户端应用程序的名称，该客户端应用程序创建了指向 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例的连接。</span><span class="sxs-lookup"><span data-stu-id="abd8e-111">The name of the client application that created the connection to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="abd8e-112">此列由应用程序传递的值填充，而不是由所显示的程序名填充。</span><span class="sxs-lookup"><span data-stu-id="abd8e-112">This column is populated with the values passed by the application rather than the displayed name of the program.</span></span>|<span data-ttu-id="abd8e-113">10</span><span class="sxs-lookup"><span data-stu-id="abd8e-113">10</span></span>|<span data-ttu-id="abd8e-114">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-114">Yes</span></span>|  
|<span data-ttu-id="abd8e-115">BigintData1</span><span class="sxs-lookup"><span data-stu-id="abd8e-115">BigintData1</span></span>|`bigint`|<span data-ttu-id="abd8e-116">消息序列号。</span><span class="sxs-lookup"><span data-stu-id="abd8e-116">Message sequence number.</span></span>|<span data-ttu-id="abd8e-117">52</span><span class="sxs-lookup"><span data-stu-id="abd8e-117">52</span></span>|<span data-ttu-id="abd8e-118">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-118">No</span></span>|  
|<span data-ttu-id="abd8e-119">ClientProcessID</span><span class="sxs-lookup"><span data-stu-id="abd8e-119">ClientProcessID</span></span>|`int`|<span data-ttu-id="abd8e-120">由主机分配给正在运行客户端应用程序的进程的 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-120">The ID assigned by the host computer to the process where the client application is running.</span></span> <span data-ttu-id="abd8e-121">如果客户端提供了客户端进程 ID，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="abd8e-121">This data column is populated if the client process ID is provided by the client.</span></span>|<span data-ttu-id="abd8e-122">9</span><span class="sxs-lookup"><span data-stu-id="abd8e-122">9</span></span>|<span data-ttu-id="abd8e-123">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-123">Yes</span></span>|  
|<span data-ttu-id="abd8e-124">DatabaseID</span><span class="sxs-lookup"><span data-stu-id="abd8e-124">DatabaseID</span></span>|`int`|<span data-ttu-id="abd8e-125">由 USE *database* 语句指定的数据库的 ID；如果未对给定实例发出 USE *database*语句，则为默认数据库的 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-125">The ID of the database specified by the USE *database* statement, or the ID of the default database if no USE *database*statement has been issued for a given instance.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="abd8e-126">将显示数据库名。</span><span class="sxs-lookup"><span data-stu-id="abd8e-126">displays the name of the database if the Server Name data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="abd8e-127">可使用 DB_ID 函数来确定数据库的值。</span><span class="sxs-lookup"><span data-stu-id="abd8e-127">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="abd8e-128">3</span><span class="sxs-lookup"><span data-stu-id="abd8e-128">3</span></span>|<span data-ttu-id="abd8e-129">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-129">Yes</span></span>|  
|<span data-ttu-id="abd8e-130">DBUserName</span><span class="sxs-lookup"><span data-stu-id="abd8e-130">DBUserName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-131">消息来源服务的 Broker 实例 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-131">The broker instance id for the service that the message is from.</span></span>|<span data-ttu-id="abd8e-132">40</span><span class="sxs-lookup"><span data-stu-id="abd8e-132">40</span></span>|<span data-ttu-id="abd8e-133">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-133">No</span></span>|  
|<span data-ttu-id="abd8e-134">EventClass</span><span class="sxs-lookup"><span data-stu-id="abd8e-134">EventClass</span></span>|`int`|<span data-ttu-id="abd8e-135">捕获的事件类的类型。</span><span class="sxs-lookup"><span data-stu-id="abd8e-135">The type of event class captured.</span></span> <span data-ttu-id="abd8e-136">Broker:Forwarded Message Sent 始终是 139。</span><span class="sxs-lookup"><span data-stu-id="abd8e-136">Always 139 for Broker:Forwarded Message Sent.</span></span>|<span data-ttu-id="abd8e-137">27</span><span class="sxs-lookup"><span data-stu-id="abd8e-137">27</span></span>|<span data-ttu-id="abd8e-138">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-138">No</span></span>|  
|<span data-ttu-id="abd8e-139">EventSequence</span><span class="sxs-lookup"><span data-stu-id="abd8e-139">EventSequence</span></span>|`int`|<span data-ttu-id="abd8e-140">此事件的序列号。</span><span class="sxs-lookup"><span data-stu-id="abd8e-140">Sequence number for this event.</span></span>|<span data-ttu-id="abd8e-141">51</span><span class="sxs-lookup"><span data-stu-id="abd8e-141">51</span></span>|<span data-ttu-id="abd8e-142">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-142">No</span></span>|  
|<span data-ttu-id="abd8e-143">FileName</span><span class="sxs-lookup"><span data-stu-id="abd8e-143">FileName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-144">作为消息发送目标的服务的名称。</span><span class="sxs-lookup"><span data-stu-id="abd8e-144">The name of the service that the message is to.</span></span>|<span data-ttu-id="abd8e-145">36</span><span class="sxs-lookup"><span data-stu-id="abd8e-145">36</span></span>|<span data-ttu-id="abd8e-146">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-146">No</span></span>|  
|<span data-ttu-id="abd8e-147">GUID</span><span class="sxs-lookup"><span data-stu-id="abd8e-147">GUID</span></span>|`uniqueidentifier`|<span data-ttu-id="abd8e-148">对话的会话 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-148">The conversation id of the dialog.</span></span> <span data-ttu-id="abd8e-149">此标识符将作为消息的一部分进行传输，并在会话双方之间共享。</span><span class="sxs-lookup"><span data-stu-id="abd8e-149">This identifier is transmitted as part of the message, and is shared between both sides of the conversation.</span></span>|<span data-ttu-id="abd8e-150">54</span><span class="sxs-lookup"><span data-stu-id="abd8e-150">54</span></span>|<span data-ttu-id="abd8e-151">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-151">No</span></span>|  
|<span data-ttu-id="abd8e-152">HostName</span><span class="sxs-lookup"><span data-stu-id="abd8e-152">HostName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-153">正在运行客户端程序的计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="abd8e-153">The name of the computer on which the client is running.</span></span> <span data-ttu-id="abd8e-154">如果客户端提供了主机名，则填充此数据列。</span><span class="sxs-lookup"><span data-stu-id="abd8e-154">This data column is populated if the host name is provided by the client.</span></span> <span data-ttu-id="abd8e-155">若要确定主机名，请使用 HOST_NAME 函数。</span><span class="sxs-lookup"><span data-stu-id="abd8e-155">To determine the host name, use the HOST_NAME function.</span></span>|<span data-ttu-id="abd8e-156">8</span><span class="sxs-lookup"><span data-stu-id="abd8e-156">8</span></span>|<span data-ttu-id="abd8e-157">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-157">Yes</span></span>|  
|<span data-ttu-id="abd8e-158">IndexID</span><span class="sxs-lookup"><span data-stu-id="abd8e-158">IndexID</span></span>|`int`|<span data-ttu-id="abd8e-159">所转发消息的剩余跃点数。</span><span class="sxs-lookup"><span data-stu-id="abd8e-159">The number of hops remaining for the forwarded message.</span></span>|<span data-ttu-id="abd8e-160">24</span><span class="sxs-lookup"><span data-stu-id="abd8e-160">24</span></span>|<span data-ttu-id="abd8e-161">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-161">No</span></span>|  
|<span data-ttu-id="abd8e-162">IntegerData</span><span class="sxs-lookup"><span data-stu-id="abd8e-162">IntegerData</span></span>|`int`|<span data-ttu-id="abd8e-163">所转发消息的片段数。</span><span class="sxs-lookup"><span data-stu-id="abd8e-163">The fragment number of the forwarded message.</span></span>|<span data-ttu-id="abd8e-164">25</span><span class="sxs-lookup"><span data-stu-id="abd8e-164">25</span></span>|<span data-ttu-id="abd8e-165">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-165">No</span></span>|  
|<span data-ttu-id="abd8e-166">IsSystem</span><span class="sxs-lookup"><span data-stu-id="abd8e-166">IsSystem</span></span>|`int`|<span data-ttu-id="abd8e-167">指示事件是发生在系统进程中还是发生在用户进程中。</span><span class="sxs-lookup"><span data-stu-id="abd8e-167">Indicates whether the event occurred on a system process or a user process.</span></span> <span data-ttu-id="abd8e-168">1 = 系统，0 = 用户。</span><span class="sxs-lookup"><span data-stu-id="abd8e-168">1 = system, 0 = user.</span></span>|<span data-ttu-id="abd8e-169">60</span><span class="sxs-lookup"><span data-stu-id="abd8e-169">60</span></span>|<span data-ttu-id="abd8e-170">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-170">No</span></span>|  
|<span data-ttu-id="abd8e-171">LoginSid</span><span class="sxs-lookup"><span data-stu-id="abd8e-171">LoginSid</span></span>|`image`|<span data-ttu-id="abd8e-172">已登录用户的安全标识号 (SID)。</span><span class="sxs-lookup"><span data-stu-id="abd8e-172">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="abd8e-173">服务器中的每个登录名都具有唯一的 SID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-173">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="abd8e-174">41</span><span class="sxs-lookup"><span data-stu-id="abd8e-174">41</span></span>|<span data-ttu-id="abd8e-175">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-175">Yes</span></span>|  
|<span data-ttu-id="abd8e-176">NTDomainName</span><span class="sxs-lookup"><span data-stu-id="abd8e-176">NTDomainName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-177">用户所属的 Windows 域。</span><span class="sxs-lookup"><span data-stu-id="abd8e-177">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="abd8e-178">7</span><span class="sxs-lookup"><span data-stu-id="abd8e-178">7</span></span>|<span data-ttu-id="abd8e-179">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-179">Yes</span></span>|  
|<span data-ttu-id="abd8e-180">NTUserName</span><span class="sxs-lookup"><span data-stu-id="abd8e-180">NTUserName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-181">拥有生成此事件的连接的用户的名称。</span><span class="sxs-lookup"><span data-stu-id="abd8e-181">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="abd8e-182">6</span><span class="sxs-lookup"><span data-stu-id="abd8e-182">6</span></span>|<span data-ttu-id="abd8e-183">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-183">Yes</span></span>|  
|<span data-ttu-id="abd8e-184">ObjectId</span><span class="sxs-lookup"><span data-stu-id="abd8e-184">ObjectId</span></span>|`int`|<span data-ttu-id="abd8e-185">转发消息后转发的消息的生存时间值。</span><span class="sxs-lookup"><span data-stu-id="abd8e-185">The time to live value for the forwarded message when the message was forwarded.</span></span>|<span data-ttu-id="abd8e-186">22</span><span class="sxs-lookup"><span data-stu-id="abd8e-186">22</span></span>|<span data-ttu-id="abd8e-187">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-187">No</span></span>|  
|<span data-ttu-id="abd8e-188">ObjectName</span><span class="sxs-lookup"><span data-stu-id="abd8e-188">ObjectName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-189">所转发消息的消息 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-189">Message ID of the forwarded message.</span></span>|<span data-ttu-id="abd8e-190">34</span><span class="sxs-lookup"><span data-stu-id="abd8e-190">34</span></span>|<span data-ttu-id="abd8e-191">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-191">No</span></span>|  
|<span data-ttu-id="abd8e-192">OwnerName</span><span class="sxs-lookup"><span data-stu-id="abd8e-192">OwnerName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-193">消息要定向到的 Broker 标识符。</span><span class="sxs-lookup"><span data-stu-id="abd8e-193">The broker identifier that the message is directed to.</span></span>|<span data-ttu-id="abd8e-194">37</span><span class="sxs-lookup"><span data-stu-id="abd8e-194">37</span></span>|<span data-ttu-id="abd8e-195">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-195">No</span></span>|  
|<span data-ttu-id="abd8e-196">RoleName</span><span class="sxs-lookup"><span data-stu-id="abd8e-196">RoleName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-197">会话句柄的角色。</span><span class="sxs-lookup"><span data-stu-id="abd8e-197">The role of the conversation handle.</span></span> <span data-ttu-id="abd8e-198">下列其中一项：</span><span class="sxs-lookup"><span data-stu-id="abd8e-198">One of:</span></span><br /><br /> <span data-ttu-id="abd8e-199">Initiator。</span><span class="sxs-lookup"><span data-stu-id="abd8e-199">Initiator.</span></span> <span data-ttu-id="abd8e-200">此 Broker 发起了该会话。</span><span class="sxs-lookup"><span data-stu-id="abd8e-200">This broker initiated the conversation.</span></span><br /><br /> <span data-ttu-id="abd8e-201">Target。</span><span class="sxs-lookup"><span data-stu-id="abd8e-201">Target.</span></span> <span data-ttu-id="abd8e-202">此 Broker 是会话的目标。</span><span class="sxs-lookup"><span data-stu-id="abd8e-202">This broker is the target of the conversation.</span></span>|<span data-ttu-id="abd8e-203">38</span><span class="sxs-lookup"><span data-stu-id="abd8e-203">38</span></span>|<span data-ttu-id="abd8e-204">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-204">No</span></span>|  
|<span data-ttu-id="abd8e-205">ServerName</span><span class="sxs-lookup"><span data-stu-id="abd8e-205">ServerName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-206">所跟踪的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="abd8e-206">The name of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] being traced.</span></span>|<span data-ttu-id="abd8e-207">26</span><span class="sxs-lookup"><span data-stu-id="abd8e-207">26</span></span>|<span data-ttu-id="abd8e-208">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-208">No</span></span>|  
|<span data-ttu-id="abd8e-209">SPID</span><span class="sxs-lookup"><span data-stu-id="abd8e-209">SPID</span></span>|`int`|<span data-ttu-id="abd8e-210">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 为客户端所关联的进程分配的服务器进程 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-210">The server process ID assigned by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the process associated with the client.</span></span>|<span data-ttu-id="abd8e-211">12</span><span class="sxs-lookup"><span data-stu-id="abd8e-211">12</span></span>|<span data-ttu-id="abd8e-212">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-212">Yes</span></span>|  
|<span data-ttu-id="abd8e-213">StartTime</span><span class="sxs-lookup"><span data-stu-id="abd8e-213">StartTime</span></span>|`datetime`|<span data-ttu-id="abd8e-214">事件（如果有）的开始时间。</span><span class="sxs-lookup"><span data-stu-id="abd8e-214">The time at which the event started, when available.</span></span>|<span data-ttu-id="abd8e-215">14</span><span class="sxs-lookup"><span data-stu-id="abd8e-215">14</span></span>|<span data-ttu-id="abd8e-216">是</span><span class="sxs-lookup"><span data-stu-id="abd8e-216">Yes</span></span>|  
|<span data-ttu-id="abd8e-217">Success</span><span class="sxs-lookup"><span data-stu-id="abd8e-217">Success</span></span>|`int`|<span data-ttu-id="abd8e-218">转发过程所用的时间。</span><span class="sxs-lookup"><span data-stu-id="abd8e-218">The amount of time consumed during the forwarding process.</span></span>|<span data-ttu-id="abd8e-219">23</span><span class="sxs-lookup"><span data-stu-id="abd8e-219">23</span></span>|<span data-ttu-id="abd8e-220">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-220">No</span></span>|  
|<span data-ttu-id="abd8e-221">TargetLoginName</span><span class="sxs-lookup"><span data-stu-id="abd8e-221">TargetLoginName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-222">此实例将消息发送到的网络地址。</span><span class="sxs-lookup"><span data-stu-id="abd8e-222">The network address that this instance sent the message to.</span></span> <span data-ttu-id="abd8e-223">注意，这可能与消息的最终目的地不同。</span><span class="sxs-lookup"><span data-stu-id="abd8e-223">Notice that this may be different than the final destination for the message.</span></span>|<span data-ttu-id="abd8e-224">42</span><span class="sxs-lookup"><span data-stu-id="abd8e-224">42</span></span>|<span data-ttu-id="abd8e-225">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-225">No</span></span>|  
|<span data-ttu-id="abd8e-226">TargetUserName</span><span class="sxs-lookup"><span data-stu-id="abd8e-226">TargetUserName</span></span>|`nvarchar`|<span data-ttu-id="abd8e-227">启动消息的服务的名称。</span><span class="sxs-lookup"><span data-stu-id="abd8e-227">The name of the initiating service for the message.</span></span>|<span data-ttu-id="abd8e-228">39</span><span class="sxs-lookup"><span data-stu-id="abd8e-228">39</span></span>|<span data-ttu-id="abd8e-229">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-229">No</span></span>|  
|<span data-ttu-id="abd8e-230">TransactionID</span><span class="sxs-lookup"><span data-stu-id="abd8e-230">TransactionID</span></span>|`bigint`|<span data-ttu-id="abd8e-231">系统为事务分配的 ID。</span><span class="sxs-lookup"><span data-stu-id="abd8e-231">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="abd8e-232">4</span><span class="sxs-lookup"><span data-stu-id="abd8e-232">4</span></span>|<span data-ttu-id="abd8e-233">否</span><span class="sxs-lookup"><span data-stu-id="abd8e-233">No</span></span>|  
  
  
