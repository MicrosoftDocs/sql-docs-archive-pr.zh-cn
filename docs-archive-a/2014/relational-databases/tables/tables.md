---
title: 表 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: table-view-index
ms.topic: conceptual
helpviewer_keywords:
- tables [SQL Server]
- table components [SQL Server]
ms.assetid: 82d7819c-b801-4309-a849-baa63083e83f
author: stevestein
ms.author: sstein
ms.openlocfilehash: 22e417a535454f88d6475a97d2d17ad794404175
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87580109"
---
# <a name="tables"></a><span data-ttu-id="acd72-102">表</span><span class="sxs-lookup"><span data-stu-id="acd72-102">Tables</span></span>
  <span data-ttu-id="acd72-103">表是包含数据库中所有数据的数据库对象。</span><span class="sxs-lookup"><span data-stu-id="acd72-103">Tables are database objects that contain all the data in a database.</span></span> <span data-ttu-id="acd72-104">数据在表中的逻辑组织方式与在电子表格中相似，都是按行和列的格式组织的。</span><span class="sxs-lookup"><span data-stu-id="acd72-104">In tables, data is logically organized in a row-and-column format similar to a spreadsheet.</span></span> <span data-ttu-id="acd72-105">每一行代表一条唯一的记录，每一列代表记录中的一个字段。</span><span class="sxs-lookup"><span data-stu-id="acd72-105">Each row represents a unique record, and each column represents a field in the record.</span></span> <span data-ttu-id="acd72-106">例如，在包含公司雇员数据的表中，每一行代表一名雇员，各列分别代表该雇员的信息，如雇员编号、姓名、地址、职位以及家庭电话号码等。</span><span class="sxs-lookup"><span data-stu-id="acd72-106">For example, a table that contains employee data for a company might contain a row for each employee and columns representing employee information such as employee number, name, address, job title, and home telephone number.</span></span>  
  
-   <span data-ttu-id="acd72-107">数据库中的表数仅受数据库中允许的对象数 (2,147,483,647) 的限制。</span><span class="sxs-lookup"><span data-stu-id="acd72-107">The number of tables in a database is limited only by the number of objects allowed in a database (2,147,483,647).</span></span> <span data-ttu-id="acd72-108">标准的用户定义的表可以有多达 1024 列。</span><span class="sxs-lookup"><span data-stu-id="acd72-108">A standard user-defined table can have up to 1,024 columns.</span></span> <span data-ttu-id="acd72-109">表的行数仅受服务器的存储容量的限制。</span><span class="sxs-lookup"><span data-stu-id="acd72-109">The number of rows in the table is limited only by the storage capacity of the server.</span></span>  
  
-   <span data-ttu-id="acd72-110">您可将属性分配到表和表中的每个列以控制允许的数据和其他属性。</span><span class="sxs-lookup"><span data-stu-id="acd72-110">You can assign properties to the table and to each column in the table to control the data that is allowed and other properties.</span></span> <span data-ttu-id="acd72-111">例如，您可在列上创建约束以禁止空值或在未指定值时提供默认值，您也可以在表上指定强制唯一性或定义表之间的关系的键约束。</span><span class="sxs-lookup"><span data-stu-id="acd72-111">For example, you can create constraints on a column to disallow null values or provide a default value if a value is not specified, or you can assign a key constraint on the table that enforces uniqueness or defines a relationship between tables.</span></span>  
  
-   <span data-ttu-id="acd72-112">可对表中的数据按行或页进行压缩。</span><span class="sxs-lookup"><span data-stu-id="acd72-112">The data in the table can be compressed either by row or by page.</span></span> <span data-ttu-id="acd72-113">通过数据压缩，可在页上存储更多的行。</span><span class="sxs-lookup"><span data-stu-id="acd72-113">Data compression can allow more rows to be stored on a page.</span></span> <span data-ttu-id="acd72-114">有关详细信息，请参阅 [Data Compression](../../relational-databases/data-compression/data-compression.md)。</span><span class="sxs-lookup"><span data-stu-id="acd72-114">For more information, see [Data Compression](../../relational-databases/data-compression/data-compression.md).</span></span>  
  
## <a name="types-of-tables"></a><span data-ttu-id="acd72-115">表的类型</span><span class="sxs-lookup"><span data-stu-id="acd72-115">Types of Tables</span></span>  
 <span data-ttu-id="acd72-116">除了基本用户定义表的标准角色以外， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 还提供了下列类型的表，这些表在数据库中起着特殊的作用。</span><span class="sxs-lookup"><span data-stu-id="acd72-116">Besides the standard role of basic user-defined tables, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides the following types of tables that serve special purposes in a database.</span></span>  
  
 <span data-ttu-id="acd72-117">已分区表</span><span class="sxs-lookup"><span data-stu-id="acd72-117">Partitioned Tables</span></span>  
 <span data-ttu-id="acd72-118">已分区表是将数据水平划分为多个单元的表，这些单元可以分布到数据库中的多个文件组中。</span><span class="sxs-lookup"><span data-stu-id="acd72-118">Partitioned tables are tables whose data is horizontally divided into units which may be spread across more than one filegroup in a database.</span></span> <span data-ttu-id="acd72-119">在维护整个集合的完整性时，使用分区可以快速而有效地访问或管理数据子集，从而使大型表或索引更易于管理。</span><span class="sxs-lookup"><span data-stu-id="acd72-119">Partitioning makes large tables or indexes more manageable by letting you access or manage subsets of data quickly and efficiently, while maintaining the integrity of the overall collection.</span></span> <span data-ttu-id="acd72-120">默认情况下， [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 支持多达 15,000 个分区。</span><span class="sxs-lookup"><span data-stu-id="acd72-120">By default, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] supports up to 15,000 partitions.</span></span> <span data-ttu-id="acd72-121">有关详细信息，请参阅 [Partitioned Tables and Indexes](../../relational-databases/partitions/partitioned-tables-and-indexes.md)。</span><span class="sxs-lookup"><span data-stu-id="acd72-121">For more information, see [Partitioned Tables and Indexes](../../relational-databases/partitions/partitioned-tables-and-indexes.md).</span></span>  
  
 <span data-ttu-id="acd72-122">临时表</span><span class="sxs-lookup"><span data-stu-id="acd72-122">Temporary Tables</span></span>  
 <span data-ttu-id="acd72-123">临时表存储在中 `tempdb` 。</span><span class="sxs-lookup"><span data-stu-id="acd72-123">Temporary tables are stored in `tempdb`.</span></span> <span data-ttu-id="acd72-124">临时表有两种类型：本地表和全局表。</span><span class="sxs-lookup"><span data-stu-id="acd72-124">There are two types of temporary tables: local and global.</span></span> <span data-ttu-id="acd72-125">它们在名称、可见性以及可用性上有区别。</span><span class="sxs-lookup"><span data-stu-id="acd72-125">They differ from each other in their names, their visibility, and their availability.</span></span> <span data-ttu-id="acd72-126">本地临时表的名称以单个数字符号 (#) 打头；它们仅对当前的用户连接是可见的；当用户从 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例断开连接时被删除。</span><span class="sxs-lookup"><span data-stu-id="acd72-126">Local temporary tables have a single number sign (#) as the first character of their names; they are visible only to the current connection for the user, and they are deleted when the user disconnects from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="acd72-127">全局临时表的名称以两个数字符号 (##) 打头，创建后对任何用户都是可见的，当所有引用该表的用户从 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例断开连接时将被删除。</span><span class="sxs-lookup"><span data-stu-id="acd72-127">Global temporary tables have two number signs (##) as the first characters of their names; they are visible to any user after they are created, and they are deleted when all users referencing the table disconnect from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="acd72-128">系统表</span><span class="sxs-lookup"><span data-stu-id="acd72-128">System Tables</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="acd72-129">将定义服务器配置及其所有表的数据存储在一组特殊的表中，这组表称为系统表。</span><span class="sxs-lookup"><span data-stu-id="acd72-129">stores the data that defines the configuration of the server and all its tables in a special set of tables known as system tables.</span></span> <span data-ttu-id="acd72-130">用户不能直接查询或更新系统表。</span><span class="sxs-lookup"><span data-stu-id="acd72-130">Users cannot directly query or update the system tables.</span></span> <span data-ttu-id="acd72-131">可以通过系统视图查看系统表中的信息。</span><span class="sxs-lookup"><span data-stu-id="acd72-131">The information in the system tables is made available through the system views.</span></span> <span data-ttu-id="acd72-132">有关详细信息，请参阅[系统变量 (Transact-SQL)](/sql/t-sql/language-reference)。</span><span class="sxs-lookup"><span data-stu-id="acd72-132">For more information, see [System Views &#40;Transact-SQL&#41;](/sql/t-sql/language-reference).</span></span>  
  
 <span data-ttu-id="acd72-133">宽表</span><span class="sxs-lookup"><span data-stu-id="acd72-133">Wide Tables</span></span>  
 <span data-ttu-id="acd72-134">宽表使用 [稀疏列](use-sparse-columns.md) ，从而将表可以包含的总列数增大为 30,000 列。</span><span class="sxs-lookup"><span data-stu-id="acd72-134">Wide tables use [sparse columns](use-sparse-columns.md) to increase the total of columns that a table can have to 30,000.</span></span> <span data-ttu-id="acd72-135">稀疏列是对 Null 值采用优化的存储方式的普通列。</span><span class="sxs-lookup"><span data-stu-id="acd72-135">Sparse columns are ordinary columns that have an optimized storage for null values.</span></span> <span data-ttu-id="acd72-136">稀疏列减少了 Null 值的空间需求，但代价是检索非 Null 值的开销增加。</span><span class="sxs-lookup"><span data-stu-id="acd72-136">Sparse columns reduce the space requirements for null values at the cost of more overhead to retrieve nonnull values.</span></span> <span data-ttu-id="acd72-137">宽表已定义了一个 [列集](use-column-sets.md)，列集是一种非类型化的 XML 表示形式，它将表的所有稀疏列合并为一种结构化的输出。</span><span class="sxs-lookup"><span data-stu-id="acd72-137">A wide table has defined a [column set](use-column-sets.md), which is an untyped XML representation that combines all the sparse columns of a table into a structured output.</span></span> <span data-ttu-id="acd72-138">索引数和统计信息数也分别增大为 1,000 和 30,000。</span><span class="sxs-lookup"><span data-stu-id="acd72-138">The number of indexes and statistics is also increased to 1,000 and 30,000, respectively.</span></span> <span data-ttu-id="acd72-139">宽表行的最大大小为 8,019 个字节。</span><span class="sxs-lookup"><span data-stu-id="acd72-139">The maximum size of a wide table row is 8,019 bytes.</span></span> <span data-ttu-id="acd72-140">因此，任何特定行中的大部分数据都应为 NULL。</span><span class="sxs-lookup"><span data-stu-id="acd72-140">Therefore, most of the data in any particular row should be NULL.</span></span> <span data-ttu-id="acd72-141">宽表中非稀疏列和计算列的列数之和仍不得超过 1,024。</span><span class="sxs-lookup"><span data-stu-id="acd72-141">The maximum number of nonsparse columns plus computed columns in a wide table remains 1,024.</span></span>  
  
 <span data-ttu-id="acd72-142">宽表具有下列性能影响。</span><span class="sxs-lookup"><span data-stu-id="acd72-142">Wide tables have the following performance implications.</span></span>  
  
-   <span data-ttu-id="acd72-143">宽表会增加维护表的索引的开销。</span><span class="sxs-lookup"><span data-stu-id="acd72-143">Wide tables can increase the cost to maintain indexes on the table.</span></span> <span data-ttu-id="acd72-144">我们建议将宽表的索引数限制为业务逻辑所需的索引数。</span><span class="sxs-lookup"><span data-stu-id="acd72-144">We recommend that the number of indexes on a wide table be limited to the indexes that are required by the business logic.</span></span> <span data-ttu-id="acd72-145">索引数增加，DML 编译时和内存需求也会增加。</span><span class="sxs-lookup"><span data-stu-id="acd72-145">As the number of indexes increases, so does the DML compile-time and memory requirement.</span></span> <span data-ttu-id="acd72-146">非聚集索引应当为应用到数据子集的筛选索引。</span><span class="sxs-lookup"><span data-stu-id="acd72-146">Nonclustered indexes should be filtered indexes that are applied to data subsets.</span></span> <span data-ttu-id="acd72-147">有关详细信息，请参阅 [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md)。</span><span class="sxs-lookup"><span data-stu-id="acd72-147">For more information, see [Create Filtered Indexes](../../relational-databases/indexes/create-filtered-indexes.md).</span></span>  
  
-   <span data-ttu-id="acd72-148">应用程序可以在宽表中动态添加和删除列。</span><span class="sxs-lookup"><span data-stu-id="acd72-148">Applications can dynamically add and remove columns from wide tables.</span></span> <span data-ttu-id="acd72-149">当添加或删除列时，已编译的查询计划也将作废。</span><span class="sxs-lookup"><span data-stu-id="acd72-149">When columns are added or removed, compiled query plans are also invalidated.</span></span> <span data-ttu-id="acd72-150">我们建议您设计与预定工作负荷相匹配的应用程序，以便使架构更改降至最少。</span><span class="sxs-lookup"><span data-stu-id="acd72-150">We recommend that you design an application to match the projected workload so that schema changes are minimized.</span></span>  
  
-   <span data-ttu-id="acd72-151">当在宽表中添加和删除数据时，性能会受到影响。</span><span class="sxs-lookup"><span data-stu-id="acd72-151">When data is added and removed from a wide table, performance can be affected.</span></span> <span data-ttu-id="acd72-152">必须针对预定工作负荷设计应用程序，以便使对表数据所做的更改降至最少。</span><span class="sxs-lookup"><span data-stu-id="acd72-152">Applications must be designed for the projected workload so that changes to the table data is minimized.</span></span>  
  
-   <span data-ttu-id="acd72-153">限制对宽表执行用于更新聚集键的多个行的 DML 语句。</span><span class="sxs-lookup"><span data-stu-id="acd72-153">Limit the execution of DML statements on a wide table that update multiple rows of a clustering key.</span></span> <span data-ttu-id="acd72-154">编译和执行这些语句会需要非常多的内存资源。</span><span class="sxs-lookup"><span data-stu-id="acd72-154">These statements can require significant memory resources to compile and execute.</span></span>  
  
-   <span data-ttu-id="acd72-155">对宽表执行切换分区操作可能会很慢，并可能需要大量的内存才能加以处理。</span><span class="sxs-lookup"><span data-stu-id="acd72-155">Switch partition operations on wide tables can be slow and might require large amounts of memory to process.</span></span> <span data-ttu-id="acd72-156">性能和内存需求与源分区和目标分区中的列数成比例。</span><span class="sxs-lookup"><span data-stu-id="acd72-156">The performance and memory requirements are proportional to the total number of columns in both the source and target partitions.</span></span>  
  
-   <span data-ttu-id="acd72-157">用于更新宽表中特定列的更新游标应在 FOR UPDATE 子句中显式列出这些列。</span><span class="sxs-lookup"><span data-stu-id="acd72-157">Update cursors that update specific columns in a wide table should list the columns explicitly in the FOR UPDATE clause.</span></span> <span data-ttu-id="acd72-158">这将有助于优化使用游标时的性能。</span><span class="sxs-lookup"><span data-stu-id="acd72-158">This will help optimize performance when you use cursors.</span></span>  
  
## <a name="common-table-tasks"></a><span data-ttu-id="acd72-159">公用表任务</span><span class="sxs-lookup"><span data-stu-id="acd72-159">Common Table Tasks</span></span>  
 <span data-ttu-id="acd72-160">下表提供指向与创建或修改表相关的常见任务的链接。</span><span class="sxs-lookup"><span data-stu-id="acd72-160">The following table provides links to common tasks associated with creating or modifying a table.</span></span>  
  
|<span data-ttu-id="acd72-161">表任务</span><span class="sxs-lookup"><span data-stu-id="acd72-161">Table Tasks</span></span>|<span data-ttu-id="acd72-162">主题</span><span class="sxs-lookup"><span data-stu-id="acd72-162">Topic</span></span>|  
|-----------------|-----------|  
|<span data-ttu-id="acd72-163">介绍如何创建表。</span><span class="sxs-lookup"><span data-stu-id="acd72-163">Describes how to create a table.</span></span>|[<span data-ttu-id="acd72-164">创建表（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-164">Create Tables &#40;Database Engine&#41;</span></span>](create-tables-database-engine.md)|  
|<span data-ttu-id="acd72-165">介绍如何删除表。</span><span class="sxs-lookup"><span data-stu-id="acd72-165">Describes how to delete a table.</span></span>|[<span data-ttu-id="acd72-166">删除表（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-166">Delete Tables &#40;Database Engine&#41;</span></span>](delete-tables-database-engine.md)|  
|<span data-ttu-id="acd72-167">介绍如何创建包含现有表中的一些列或所有列的表。</span><span class="sxs-lookup"><span data-stu-id="acd72-167">Describes how to create a new table that contains some or all of the columns in an existing table.</span></span>|[<span data-ttu-id="acd72-168">复制表</span><span class="sxs-lookup"><span data-stu-id="acd72-168">Duplicate Tables</span></span>](duplicate-tables.md)|  
|<span data-ttu-id="acd72-169">介绍如何重命名表。</span><span class="sxs-lookup"><span data-stu-id="acd72-169">Describes how to rename a table.</span></span>|[<span data-ttu-id="acd72-170">重命名表（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-170">Rename Tables &#40;Database Engine&#41;</span></span>](rename-tables-database-engine.md)|  
|<span data-ttu-id="acd72-171">介绍如何查看表的属性。</span><span class="sxs-lookup"><span data-stu-id="acd72-171">Describes how to view the properties of the table.</span></span>|[<span data-ttu-id="acd72-172">查看表定义</span><span class="sxs-lookup"><span data-stu-id="acd72-172">View the Table Definition</span></span>](view-the-table-definition.md)|  
|<span data-ttu-id="acd72-173">介绍如何确定诸如视图或存储过程等其他对象是否取决于表。</span><span class="sxs-lookup"><span data-stu-id="acd72-173">Describes how to determine whether other objects such as a view or stored procedure depend on a table.</span></span>|[<span data-ttu-id="acd72-174">查看表的依赖关系</span><span class="sxs-lookup"><span data-stu-id="acd72-174">View the Dependencies of a Table</span></span>](view-the-dependencies-of-a-table.md)|  
  
 <span data-ttu-id="acd72-175">下表提供指向与创建或修改表中的列相关的常见任务的链接。</span><span class="sxs-lookup"><span data-stu-id="acd72-175">The following table provides links to common tasks associated with creating or modifying columns in a table.</span></span>  
  
|<span data-ttu-id="acd72-176">列任务</span><span class="sxs-lookup"><span data-stu-id="acd72-176">Column Tasks</span></span>|<span data-ttu-id="acd72-177">主题</span><span class="sxs-lookup"><span data-stu-id="acd72-177">Topic</span></span>|  
|------------------|-----------|  
|<span data-ttu-id="acd72-178">介绍如何向现有表中添加列。</span><span class="sxs-lookup"><span data-stu-id="acd72-178">Describes how to add columns to an existing table.</span></span>|[<span data-ttu-id="acd72-179">向表中添加列（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-179">Add Columns to a Table &#40;Database Engine&#41;</span></span>](add-columns-to-a-table-database-engine.md)|  
|<span data-ttu-id="acd72-180">介绍如何从表中删除列。</span><span class="sxs-lookup"><span data-stu-id="acd72-180">Describes how to delete columns from a table.</span></span>|[<span data-ttu-id="acd72-181">从表中删除列</span><span class="sxs-lookup"><span data-stu-id="acd72-181">Delete Columns from a Table</span></span>](delete-columns-from-a-table.md)|  
|<span data-ttu-id="acd72-182">介绍如何更改列的名称。</span><span class="sxs-lookup"><span data-stu-id="acd72-182">Describes how to change the name of a column.</span></span>|[<span data-ttu-id="acd72-183">重命名列（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-183">Rename Columns &#40;Database Engine&#41;</span></span>](rename-columns-database-engine.md)|  
|<span data-ttu-id="acd72-184">介绍如何通过仅复制列定义或者复制定义和数据将列从一个表复制到另一个表。</span><span class="sxs-lookup"><span data-stu-id="acd72-184">Describes how to copy columns from one table to another, copying either just the column definition, or the definition and data.</span></span>|[<span data-ttu-id="acd72-185">将列从一个表复制到另一个表（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-185">Copy Columns from One Table to Another &#40;Database Engine&#41;</span></span>](copy-columns-from-one-table-to-another-database-engine.md)|  
|<span data-ttu-id="acd72-186">介绍如何通过更改数据类型或其他属性来修改列定义。</span><span class="sxs-lookup"><span data-stu-id="acd72-186">Describes how to modify a column definition, by changing the data type or other property.</span></span>|[<span data-ttu-id="acd72-187">修改列（数据库引擎）</span><span class="sxs-lookup"><span data-stu-id="acd72-187">Modify Columns &#40;Database Engine&#41;</span></span>](modify-columns-database-engine.md)|  
|<span data-ttu-id="acd72-188">介绍如何更改列的显示顺序。</span><span class="sxs-lookup"><span data-stu-id="acd72-188">Describes how to change the order in which the columns appear.</span></span>|[<span data-ttu-id="acd72-189">更改表中的列顺序</span><span class="sxs-lookup"><span data-stu-id="acd72-189">Change Column Order in a Table</span></span>](change-column-order-in-a-table.md)|  
|<span data-ttu-id="acd72-190">介绍如何在表中创建计算列。</span><span class="sxs-lookup"><span data-stu-id="acd72-190">Describes how to create a computed column in a table.</span></span>|[<span data-ttu-id="acd72-191">指定表中的计算列</span><span class="sxs-lookup"><span data-stu-id="acd72-191">Specify Computed Columns in a Table</span></span>](specify-computed-columns-in-a-table.md)|  
|<span data-ttu-id="acd72-192">介绍如何指定列的默认值。</span><span class="sxs-lookup"><span data-stu-id="acd72-192">Describes how to specify a default value for a column.</span></span> <span data-ttu-id="acd72-193">如果未提供其他值，则使用此值。</span><span class="sxs-lookup"><span data-stu-id="acd72-193">This value is used if another value is not supplied.</span></span>|[<span data-ttu-id="acd72-194">指定列的默认值</span><span class="sxs-lookup"><span data-stu-id="acd72-194">Specify Default Values for Columns</span></span>](specify-default-values-for-columns.md)|  
  
## <a name="see-also"></a><span data-ttu-id="acd72-195">另请参阅</span><span class="sxs-lookup"><span data-stu-id="acd72-195">See Also</span></span>  
 <span data-ttu-id="acd72-196">[主键和外键约束](primary-and-foreign-key-constraints.md) </span><span class="sxs-lookup"><span data-stu-id="acd72-196">[Primary and Foreign Key Constraints](primary-and-foreign-key-constraints.md) </span></span>  
 [<span data-ttu-id="acd72-197">唯一约束和 CHECK 约束</span><span class="sxs-lookup"><span data-stu-id="acd72-197">Unique Constraints and Check Constraints</span></span>](unique-constraints-and-check-constraints.md)  
  
  
