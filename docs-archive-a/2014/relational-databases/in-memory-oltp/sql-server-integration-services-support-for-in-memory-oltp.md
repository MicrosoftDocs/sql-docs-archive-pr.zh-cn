---
title: SQL Server Integration Services 对内存中 OLTP 的支持 | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: ea82a9b9-e9ed-4d6f-b3fd-917f6c687ae3
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: de308fa3ecf85fca595733aa708736da5658b798
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87580748"
---
# <a name="sql-server-integration-services-support-for-in-memory-oltp"></a><span data-ttu-id="5aa04-102">对内存中 OLTP 的 SQL Server Integration Services 支持</span><span class="sxs-lookup"><span data-stu-id="5aa04-102">SQL Server Integration Services Support for In-Memory OLTP</span></span>
  <span data-ttu-id="5aa04-103">你可以使用内存优化的表、引用内存优化表的视图或本机编译的存储过程作为你的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] (SSIS) 包的源或目标。</span><span class="sxs-lookup"><span data-stu-id="5aa04-103">You can use a memory-optimized table, a view referencing memory-optimized tables, or a natively compiled stored procedure as the source or destination for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] (SSIS) package.</span></span> <span data-ttu-id="5aa04-104">你可以在 SSIS 包的数据流中使用 [ADO NET 源](../../integration-services/data-flow/ado-net-source.md)、 [OLE DB 源](../../integration-services/data-flow/ole-db-source.md)或 [ODBC 源](../../integration-services/data-flow/odbc-source.md) 并配置源组组件以便从内存优化的表或视图检索数据，或指定一个 SQL 语句来执行本机编译的存储过程。</span><span class="sxs-lookup"><span data-stu-id="5aa04-104">You can use [ADO NET Source](../../integration-services/data-flow/ado-net-source.md), [OLE DB Source](../../integration-services/data-flow/ole-db-source.md), or [ODBC Source](../../integration-services/data-flow/odbc-source.md) in the data flow of an SSIS package and configure the source component to retrieve data from a memory-optimized table or a view, or specify a SQL statement to execute a natively compiled stored procedure.</span></span> <span data-ttu-id="5aa04-105">同样，你可以使用 [ADO NET 目标](../../integration-services/data-flow/ado-net-destination.md)、 [OLE DB 目标](../../integration-services/data-flow/ole-db-destination.md)或 [ODBC 目标](../../integration-services/data-flow/odbc-destination.md) 将数据加载到内存优化的表或视图，或指定一个 SQL 语句来执行本机编译的存储过程。</span><span class="sxs-lookup"><span data-stu-id="5aa04-105">Similarly, you can use [ADO NET Destination](../../integration-services/data-flow/ado-net-destination.md), [OLE DB Destination](../../integration-services/data-flow/ole-db-destination.md), or [ODBC Destination](../../integration-services/data-flow/odbc-destination.md) to load data into a memory-optimized table or a view, or specify a SQL statement to execute a natively compiled stored procedure.</span></span>  
  
 <span data-ttu-id="5aa04-106">您可以在 SSIS 包中配置上述的源和目标组件以从内存优化的表和视图中读取或写入它们，所用的方法与从其他 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 表和视图中读取或写入它们的方法相同。</span><span class="sxs-lookup"><span data-stu-id="5aa04-106">You can configure the above mentioned source and destination components in an SSIS package to read from/write to memory-optimized tables and views in the same way as with other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tables and views.</span></span> <span data-ttu-id="5aa04-107">但是，在使用本机编译的存储过程时，需要注意下一节中的几个重要事项。</span><span class="sxs-lookup"><span data-stu-id="5aa04-107">However, you need to be aware of the important points in the following section when using natively compiled stored procedures.</span></span>  
  
## <a name="invoking-a-natively-compiled-stored-procedure-from-an-ssis-package"></a><span data-ttu-id="5aa04-108">从 SSIS 包调用本机编译的存储过程</span><span class="sxs-lookup"><span data-stu-id="5aa04-108">Invoking a natively compiled stored procedure from an SSIS Package</span></span>  
 <span data-ttu-id="5aa04-109">若要从 SSIS 包调用本机编译的存储过程，建议使用 ODBC 源或 ODBC 目标并使用以下格式的 SQL 语句：\<procedure name>，不带 EXEC 关键字。</span><span class="sxs-lookup"><span data-stu-id="5aa04-109">To invoke a natively compiled stored procedure from an SSIS package, we recommend that you use an ODBC Source or ODBC Destination with an SQL statement of the format: **\<procedure name>** without the **EXEC** keyword.</span></span> <span data-ttu-id="5aa04-110">如果在 SQL 语句中使用 EXEC 关键字，您将看到错误消息，因为 ODBC 连接管理器将 SQL 命令文本解释为 [!INCLUDE[tsql](../../includes/tsql-md.md)] 语句而非存储过程并使用游标，而执行本机编译的存储过程时不支持游标。</span><span class="sxs-lookup"><span data-stu-id="5aa04-110">If you use the EXEC keyword in the SQL statement, you will see an error message because the ODBC connection manager interprets the SQL command text as a [!INCLUDE[tsql](../../includes/tsql-md.md)] statement rather than a stored procedure and use cursors, which are not supported for execution of natively compiled stored procedures.</span></span> <span data-ttu-id="5aa04-111">连接管理器将没有 EXEC 关键字的 SQL 语句作为存储过程调用处理，将不使用游标。</span><span class="sxs-lookup"><span data-stu-id="5aa04-111">The connection manager treats the SQL statement without the EXEC keyword as a stored procedure call and will not use a cursor.</span></span>  
  
 <span data-ttu-id="5aa04-112">还可以使用 ADO .NET 源和 OLE DB 源来调用本机编译的存储过程，但是我们建议您使用 ODBC 源。</span><span class="sxs-lookup"><span data-stu-id="5aa04-112">You can also use ADO .NET Source and OLE DB Source to invoke a natively compiled stored procedure, but we recommend that you use ODBC Source.</span></span> <span data-ttu-id="5aa04-113">如果您配置 ADO .NET 源以执行本机编译的存储过程，将看到错误消息，因为 ADO .NET 源默认使用的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (SqlClient) 的数据访问接口不支持执行本机编译的存储过程。</span><span class="sxs-lookup"><span data-stu-id="5aa04-113">If you configure the ADO .NET Source to execute a natively compiled stored procedure, you will see an error message because the data provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (SqlClient), which the ADO .NET Source uses by default, does not support execution of natively compiled stored procedures.</span></span> <span data-ttu-id="5aa04-114">您可以配置 ADO .NET 源以使用 ODBC 数据访问接口、用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的 OLE DB 访问接口或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client。</span><span class="sxs-lookup"><span data-stu-id="5aa04-114">You can configure the ADO .NET Source to use the ODBC Data Provider, OLE DB Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client.</span></span> <span data-ttu-id="5aa04-115">但是，请注意 ODBC 源的性能好于使用 ODBC 数据访问接口的 ADO .NET 源。</span><span class="sxs-lookup"><span data-stu-id="5aa04-115">However, note that the ODBC Source performs better than ADO .NET Source with ODBC Data Provider.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5aa04-116">另请参阅</span><span class="sxs-lookup"><span data-stu-id="5aa04-116">See Also</span></span>  
 [<span data-ttu-id="5aa04-117">SQL Server 对内存中 OLTP 的支持</span><span class="sxs-lookup"><span data-stu-id="5aa04-117">SQL Server Support for In-Memory OLTP</span></span>](sql-server-support-for-in-memory-oltp.md)  
  
  
