---
title: 支持的 SQL Server 功能 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: c39f03a7-e223-4fd7-bd30-142e28f51654
author: rothja
ms.author: jroth
ms.openlocfilehash: e7eb4324d56c3ab45486063cb8097603ac3a416b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87693325"
---
# <a name="supported-sql-server-features"></a><span data-ttu-id="77d0b-102">支持的 SQL Server 功能</span><span class="sxs-lookup"><span data-stu-id="77d0b-102">Supported SQL Server Features</span></span>
  <span data-ttu-id="77d0b-103">本主题讨论内存优化表支持或不支持的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能。</span><span class="sxs-lookup"><span data-stu-id="77d0b-103">This topic discusses [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that are or not supported for use with memory-optimized objects.</span></span>  
  
## <a name="ssnoversion-features-supported-for-in-memory-oltp"></a><span data-ttu-id="77d0b-104">内存中 OLTP 支持的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能</span><span class="sxs-lookup"><span data-stu-id="77d0b-104">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Features Supported for In-Memory OLTP</span></span>  
 <span data-ttu-id="77d0b-105">具有内存优化对象（包括内存优化文件组）的数据库支持以下 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能。</span><span class="sxs-lookup"><span data-stu-id="77d0b-105">The following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features are supported on a database that has memory-optimized objects, including memory-optimized filegroup.</span></span>  
  
 <span data-ttu-id="77d0b-106">有关支持的数据类型的信息，请参阅 [Supported Data Types](supported-data-types-for-in-memory-oltp.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-106">For information about supported data types, see [Supported Data Types](supported-data-types-for-in-memory-oltp.md).</span></span>  
  
-   <span data-ttu-id="77d0b-107">内存优化表支持的选项和操作。</span><span class="sxs-lookup"><span data-stu-id="77d0b-107">Options and operations supported on memory-optimized tables.</span></span> <span data-ttu-id="77d0b-108">有关详细信息，请参阅 [CREATE TABLE (Transact-SQL)](/sql/t-sql/statements/create-table-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-108">For more information, see [CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql).</span></span>  
  
-   <span data-ttu-id="77d0b-109">本机编译存储过程支持的选项和操作。</span><span class="sxs-lookup"><span data-stu-id="77d0b-109">Options and operations supported on natively compiled stored procedures.</span></span> <span data-ttu-id="77d0b-110">有关详细信息，请参阅 [CREATE PROCEDURE (Transact-SQL)](/sql/t-sql/statements/create-procedure-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-110">For more information, see [CREATE PROCEDURE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-procedure-transact-sql).</span></span>  
  
-   <span data-ttu-id="77d0b-111">可使用解释型 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 访问内存优化表。</span><span class="sxs-lookup"><span data-stu-id="77d0b-111">Ability to access memory-optimized tables using interpreted [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="77d0b-112">解释型 [!INCLUDE[tsql](../../../includes/tsql-md.md)] 提供的外围应用等效于访问使用非本机编译存储过程和使用 [!INCLUDE[tsql](../../../includes/tsql-md.md)]的非内存优化表。</span><span class="sxs-lookup"><span data-stu-id="77d0b-112">Interpreted [!INCLUDE[tsql](../../../includes/tsql-md.md)] provides surface area equivalent to accessing tables that are not memory optimized using stored procedures that are not natively compiled and using [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="77d0b-113">有关详细信息，请参阅[使用解释型 Transact-SQL 访问内存优化表](accessing-memory-optimized-tables-using-interpreted-transact-sql.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-113">For more information, see [Accessing Memory-Optimized Tables Using Interpreted Transact-SQL](accessing-memory-optimized-tables-using-interpreted-transact-sql.md).</span></span>  
  
-   <span data-ttu-id="77d0b-114">多版本控制和积极并发控制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-114">Multi-versioning and optimistic concurrency control.</span></span> <span data-ttu-id="77d0b-115">有关详细信息，请参阅 [Transaction Isolation Levels](../../database-engine/transaction-isolation-levels.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-115">For more information, see [Transaction Isolation Levels](../../database-engine/transaction-isolation-levels.md).</span></span>  
  
-   <span data-ttu-id="77d0b-116">备份和还原包含内存优化数据文件组的数据库。</span><span class="sxs-lookup"><span data-stu-id="77d0b-116">Backup and Restore of a database that contains memory-optimized data filegroup.</span></span> <span data-ttu-id="77d0b-117">有关详细信息，请参阅[SQL Server 数据库的备份和还原](../backup-restore/back-up-and-restore-of-sql-server-databases.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-117">For more information, see [Back Up and Restore of SQL Server Databases](../backup-restore/back-up-and-restore-of-sql-server-databases.md).</span></span>  
  
-   <span data-ttu-id="77d0b-118">目录视图、动态管理视图和可支持性扩展事件。</span><span class="sxs-lookup"><span data-stu-id="77d0b-118">Catalog views, dynamic management views, and extended events for supportability.</span></span> <span data-ttu-id="77d0b-119">有关详细信息，请参阅[系统视图、存储过程、内存中 OLTP 的 DMV 和等待类型](../../database-engine/system-views-stored-procedures-dmvs-and-wait-types-for-in-memory-oltp.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-119">For more information, see [System Views, Stored Procedures, DMVs and Wait Types for In-Memory OLTP](../../database-engine/system-views-stored-procedures-dmvs-and-wait-types-for-in-memory-oltp.md).</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="77d0b-120">管理对象。</span><span class="sxs-lookup"><span data-stu-id="77d0b-120">Management Objects.</span></span> <span data-ttu-id="77d0b-121">有关详细信息，请参阅[对内存中 OLTP 的 SQL Server 管理对象支持](sql-server-management-objects-support-for-in-memory-oltp.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-121">For more information, see [SQL Server Management Objects Support for In-Memory OLTP](sql-server-management-objects-support-for-in-memory-oltp.md).</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="77d0b-122">.</span><span class="sxs-lookup"><span data-stu-id="77d0b-122">.</span></span> <span data-ttu-id="77d0b-123">有关详细信息，请参阅[对内存中 OLTP 的 SQL Server Management Studio 支持](sql-server-management-studio-support-for-in-memory-oltp.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-123">For more information, see [SQL Server Management Studio Support for In-Memory OLTP](sql-server-management-studio-support-for-in-memory-oltp.md).</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="77d0b-124">PowerShell。</span><span class="sxs-lookup"><span data-stu-id="77d0b-124">PowerShell.</span></span> <span data-ttu-id="77d0b-125">有关详细信息，请参阅 [SQL Server PowerShell 概述](https://msdn.microsoft.com/library/cc281954\(SQL.105\).aspx)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-125">For more information, see [SQL Server PowerShell Overview](https://msdn.microsoft.com/library/cc281954\(SQL.105\).aspx).</span></span>  
  
-   <span data-ttu-id="77d0b-126">使用 bcp 实用工具导入和导出大容量数据。</span><span class="sxs-lookup"><span data-stu-id="77d0b-126">Import and Export Bulk Data by using the bcp utility.</span></span> <span data-ttu-id="77d0b-127">有关详细信息，请参阅[使用 bcp 实用工具导入和导出大容量数据 (SQL Server)](../import-export/import-and-export-bulk-data-by-using-the-bcp-utility-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-127">For more information, see [Import and Export Bulk Data by Using the bcp Utility &#40;SQL Server&#41;](../import-export/import-and-export-bulk-data-by-using-the-bcp-utility-sql-server.md).</span></span>  
  
-   <span data-ttu-id="77d0b-128">崩溃恢复。</span><span class="sxs-lookup"><span data-stu-id="77d0b-128">Crash recovery.</span></span>  
  
-   <span data-ttu-id="77d0b-129">内存优化数据文件组中有多个容器用于存储内存中 OLTP 对象和缩短恢复时间目标 (RTO)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-129">Multiple containers in a memory-optimized data filegroup to store In-Memory OLTP objects and reduce recovery time objective (RTO).</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="77d0b-130">事务日志块计算校验并验证。</span><span class="sxs-lookup"><span data-stu-id="77d0b-130">transaction log blocks calculate checksum and validate.</span></span>  
  
-   <span data-ttu-id="77d0b-131">新的 SNAPSHOT 表提示。</span><span class="sxs-lookup"><span data-stu-id="77d0b-131">The new SNAPSHOT table hint.</span></span> <span data-ttu-id="77d0b-132">有关详细信息，请参阅[表提示 (Transact-SQL)](/sql/t-sql/queries/hints-transact-sql-table)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-132">For more information, see [Table Hints &#40;Transact-SQL&#41;](/sql/t-sql/queries/hints-transact-sql-table).</span></span>  
  
-   <span data-ttu-id="77d0b-133">DB COMPAT 级别。</span><span class="sxs-lookup"><span data-stu-id="77d0b-133">DB COMPAT level.</span></span>  
  
-   <span data-ttu-id="77d0b-134">部分包含数据库。</span><span class="sxs-lookup"><span data-stu-id="77d0b-134">Partially contained database.</span></span> <span data-ttu-id="77d0b-135">支持 contained database authentication。</span><span class="sxs-lookup"><span data-stu-id="77d0b-135">Contained database authentication is supported.</span></span> <span data-ttu-id="77d0b-136">但是，在 DMV dm_db_uncontained_entities 中，所有内存中 OLTP 对象都被标记为“breaking containment”。</span><span class="sxs-lookup"><span data-stu-id="77d0b-136">However, all In-Memory OLTP objects are marked as breaking containment in the DMV dm_db_uncontained_entities.</span></span>  
  
-   <span data-ttu-id="77d0b-137">Service broker，存在限制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-137">Service broker, with limitations.</span></span> <span data-ttu-id="77d0b-138">无法访问本机编译存储过程中的队列。</span><span class="sxs-lookup"><span data-stu-id="77d0b-138">Cannot access a queue from a natively compiled stored procedure.</span></span> <span data-ttu-id="77d0b-139">无法在访问内存优化表的事务中访问远程数据库中的队列。</span><span class="sxs-lookup"><span data-stu-id="77d0b-139">Cannot access a queue in a remote database in a transaction that accesses memory-optimized tables.</span></span>  
  
-   <span data-ttu-id="77d0b-140">故障转移群集：作为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] alwayson 产品/服务的一部分，Alwayson 故障转移群集实例利用 Windows Server 故障转移群集 (WSFC) 功能通过冗余在服务器实例级别（故障转移群集实例 (FCI) 来提供本地高可用性。</span><span class="sxs-lookup"><span data-stu-id="77d0b-140">Failover Clustering: As part of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] AlwaysOn offering, AlwaysOn Failover Cluster Instances leverages Windows Server Failover Clustering (WSFC) functionality to provide local high availability through redundancy at the server-instance level-a failover cluster instance (FCI).</span></span> <span data-ttu-id="77d0b-141">有关详细信息，请参阅 [AlwaysOn 故障转移群集实例 (SQL Server)](../../sql-server/failover-clusters/windows/always-on-failover-cluster-instances-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-141">For more information, see [AlwaysOn Failover Cluster Instances (SQL Server)](../../sql-server/failover-clusters/windows/always-on-failover-cluster-instances-sql-server.md).</span></span>  
  
-   <span data-ttu-id="77d0b-142">与 AlwaysOn 集成： [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 提供了几个为服务器或数据库打造高可用性的可选方案，包括 AlwaysOn。</span><span class="sxs-lookup"><span data-stu-id="77d0b-142">Integration with AlwaysOn: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides several options for creating high availability for a server or database, including AlwaysOn.</span></span> <span data-ttu-id="77d0b-143">有关详细信息，请参阅[高可用性解决方案 (SQL Server)](../../sql-server/failover-clusters/high-availability-solutions-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-143">For more information, see [High Availability Solutions &#40;SQL Server&#41;](../../sql-server/failover-clusters/high-availability-solutions-sql-server.md).</span></span>  
  
-   <span data-ttu-id="77d0b-144">日志传送：使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 日志传送，你可以自动将“主服务器”实例上“主数据库”内的事务日志备份发送到单独“辅助服务器”实例上的一个或多个“辅助数据库”。</span><span class="sxs-lookup"><span data-stu-id="77d0b-144">Log shipping: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Log shipping allows you to automatically send transaction log backups from a primary database on a primary server instance to one or more secondary databases on separate secondary server instances.</span></span> <span data-ttu-id="77d0b-145">有关详细信息，请参阅[关于日志传送 (SQL Server)](../../database-engine/log-shipping/about-log-shipping-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-145">For more information, see [About Log Shipping &#40;SQL Server&#41;](../../database-engine/log-shipping/about-log-shipping-sql-server.md).</span></span>  
  
-   <span data-ttu-id="77d0b-146">支持对订阅服务器上的内存优化表进行事务复制，不过有一些限制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-146">Transactional replication to memory-optimized tables on subscribers is supported with some restrictions.</span></span> <span data-ttu-id="77d0b-147">有关详细信息，请参阅 [复制到内存优化表订阅服务器](../replication/replication-to-memory-optimized-table-subscribers.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-147">For more information, see [Replication to Memory-Optimized Table Subscribers](../replication/replication-to-memory-optimized-table-subscribers.md).</span></span>  
  
-   <span data-ttu-id="77d0b-148">资源调控器： [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 资源调控器是一项可用于管理 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 工作负荷和系统资源使用情况的功能。</span><span class="sxs-lookup"><span data-stu-id="77d0b-148">Resource Governor: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Resource Governor is a feature that you can use to manage [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] workload and system resource consumption.</span></span> <span data-ttu-id="77d0b-149">可以通过 Resource Governor 指定各种限制，对可供传入应用程序请求使用的 CPU、物理 IO 和内存量进行限制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-149">Resource Governor enables you to specify limits on the amount of CPU, physical IO, and memory that incoming application requests can use.</span></span> <span data-ttu-id="77d0b-150">有关详细信息，请参阅 [Managing Memory for In-Memory OLTP](../../database-engine/managing-memory-for-in-memory-oltp.md) 和 [Resource Governor](../resource-governor/resource-governor.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-150">For more information, see [Managing Memory for In-Memory OLTP](../../database-engine/managing-memory-for-in-memory-oltp.md) and [Resource Governor](../resource-governor/resource-governor.md).</span></span>  
  
-   <span data-ttu-id="77d0b-151">内存中 OLTP 对于内存优化表中的 (var)char 列的支持代码页，以及在索引和本机编译存储过程中使用的支持的排序规则方面存在限制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-151">In-Memory OLTP has restrictions on supported code pages for (var)char columns in memory-optimized tables and supported collations used in indexes and natively compiled stored procedures.</span></span> <span data-ttu-id="77d0b-152">有关详细信息，请参阅 [Collations and Code Pages](../../database-engine/collations-and-code-pages.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-152">For more information, see [Collations and Code Pages](../../database-engine/collations-and-code-pages.md).</span></span>  
  
-   <span data-ttu-id="77d0b-153">BACPAC 支持。</span><span class="sxs-lookup"><span data-stu-id="77d0b-153">BACPAC support.</span></span>  
  
## <a name="ssnoversion-features-not-supported-for-in-memory-oltp"></a>[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="77d0b-154">内存中 OLTP 不支持的功能</span><span class="sxs-lookup"><span data-stu-id="77d0b-154">Features Not Supported for In-Memory OLTP</span></span>  
 <span data-ttu-id="77d0b-155">具有内存优化对象（包括内存优化数据文件组）的数据库不支持以下 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能。</span><span class="sxs-lookup"><span data-stu-id="77d0b-155">The following [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features are not supported on a database that has memory-optimized objects (including memory-optimized data filegroup).</span></span>  
  
|<span data-ttu-id="77d0b-156">不支持的功能</span><span class="sxs-lookup"><span data-stu-id="77d0b-156">Unsupported Feature</span></span>|<span data-ttu-id="77d0b-157">功能说明</span><span class="sxs-lookup"><span data-stu-id="77d0b-157">Feature Description</span></span>|  
|-------------------------|-------------------------|  
|<span data-ttu-id="77d0b-158">对内存优化表进行数据压缩。</span><span class="sxs-lookup"><span data-stu-id="77d0b-158">Data compression for memory-optimized tables.</span></span>|<span data-ttu-id="77d0b-159">您可以使用数据压缩功能帮助压缩数据库中的数据并帮助减小数据库的大小。</span><span class="sxs-lookup"><span data-stu-id="77d0b-159">You can use the data compression feature to help compress the data inside a database, and to help reduce the size of the database.</span></span> <span data-ttu-id="77d0b-160">有关详细信息，请参阅 [Data Compression](../data-compression/data-compression.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-160">For more information, see [Data Compression](../data-compression/data-compression.md).</span></span>|  
|<span data-ttu-id="77d0b-161">对内存优化表和 HASH 索引进行分区。</span><span class="sxs-lookup"><span data-stu-id="77d0b-161">Partitioning of memory-optimized tables and HASH indexes.</span></span>|<span data-ttu-id="77d0b-162">已分区表和已分区索引的数据划分为分布于一个数据库中多个文件组的单元。</span><span class="sxs-lookup"><span data-stu-id="77d0b-162">The data of partitioned tables and indexes is divided into units that can be spread across more than one filegroup in a database.</span></span> <span data-ttu-id="77d0b-163">有关详细信息，请参阅 [Partitioned Tables and Indexes](../partitions/partitioned-tables-and-indexes.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-163">For more information, see [Partitioned Tables and Indexes](../partitions/partitioned-tables-and-indexes.md).</span></span>|  
|<span data-ttu-id="77d0b-164">数据库的内存优化数据文件组上的透明数据加密 (TDE)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-164">Transparent Data Encryption (TDE) on the memory-optimized data filegroup of a database.</span></span>|<span data-ttu-id="77d0b-165">“透明数据加密”(TDE) 可对数据和日志文件执行实时 I/O 加密和解密。</span><span class="sxs-lookup"><span data-stu-id="77d0b-165">Transparent data encryption (TDE) performs real-time I/O encryption and decryption of the data and log files.</span></span> <span data-ttu-id="77d0b-166">有关详细信息，请参阅[透明数据加密 (TDE)](../security/encryption/transparent-data-encryption.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-166">For more information, see [Transparent Data Encryption &#40;TDE&#41;](../security/encryption/transparent-data-encryption.md).</span></span><br /><br /> <span data-ttu-id="77d0b-167">可在拥有内存中 OLTP 对象的数据库上启用 TDE。</span><span class="sxs-lookup"><span data-stu-id="77d0b-167">TDE can be enabled on a database that has In-Memory OLTP objects.</span></span> <span data-ttu-id="77d0b-168">如果启用 TDE，则内存中 OLTP 日志记录会被加密。</span><span class="sxs-lookup"><span data-stu-id="77d0b-168">In-Memory OLTP log records are encrypted if TDE is enabled.</span></span> <span data-ttu-id="77d0b-169">即使在数据库上启用了 TDE，也不会对耐久性表的检查点文件加密。</span><span class="sxs-lookup"><span data-stu-id="77d0b-169">The checkpoint files for durable tables are not encrypted, even if TDE is enabled on the database.</span></span>|  
|<span data-ttu-id="77d0b-170">复制</span><span class="sxs-lookup"><span data-stu-id="77d0b-170">Replication</span></span>|<span data-ttu-id="77d0b-171">对订阅服务器上内存优化表进行的事务复制之外的其他复制配置与引用内存优化表的表或视图不兼容。</span><span class="sxs-lookup"><span data-stu-id="77d0b-171">Replication configurations other than transactional replication to memory-optimized tables on subscribers are incompatible with tables or views referencing memory-optimized tables.</span></span> <span data-ttu-id="77d0b-172">如果存在内存优化的文件组，则不支持使用 sync_mode = ' database snapshot ' 的复制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-172">Replication using sync_mode='database snapshot' is not supported if there is a memory-optimized filegroup.</span></span> <span data-ttu-id="77d0b-173">有关详细信息，请参阅 [复制到内存优化表订阅服务器](../replication/replication-to-memory-optimized-table-subscribers.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-173">For more information, see [Replication to Memory-Optimized Table Subscribers](../replication/replication-to-memory-optimized-table-subscribers.md).</span></span>|  
|<span data-ttu-id="77d0b-174">多个活动的结果集 (MARS)</span><span class="sxs-lookup"><span data-stu-id="77d0b-174">Multiple Active Result Sets (MARS)</span></span>|<span data-ttu-id="77d0b-175">内存优化表不支持多个活动结果集 (MARS)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-175">Multiple Active Result Sets (MARS) is not supported with memory-optimized tables.</span></span> <span data-ttu-id="77d0b-176">此错误还可能指示使用了链接服务器。</span><span class="sxs-lookup"><span data-stu-id="77d0b-176">This error can also indicate linked server use.</span></span> <span data-ttu-id="77d0b-177">链接服务器可以使用 MARS。</span><span class="sxs-lookup"><span data-stu-id="77d0b-177">Linked server can use MARS.</span></span> <span data-ttu-id="77d0b-178">内存优化表不支持链接服务器。</span><span class="sxs-lookup"><span data-stu-id="77d0b-178">Linked servers are not supported with memory-optimized tables.</span></span> <span data-ttu-id="77d0b-179">请直接连接到内存优化的表所在的服务器和数据库。</span><span class="sxs-lookup"><span data-stu-id="77d0b-179">Instead, connect directly to the server and database that hosts the memory-optimized tables.</span></span>|  
|<span data-ttu-id="77d0b-180">镜像</span><span class="sxs-lookup"><span data-stu-id="77d0b-180">Mirroring</span></span>|<span data-ttu-id="77d0b-181">“数据库镜像”是一种提高 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库可用性的解决方案。</span><span class="sxs-lookup"><span data-stu-id="77d0b-181">Database mirroring is a solution for increasing the availability of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="77d0b-182">有关详细信息，请参阅[数据库镜像 (SQL Server)](../../database-engine/database-mirroring/database-mirroring-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-182">For more information, see [Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>|  
|<span data-ttu-id="77d0b-183">重新生成日志</span><span class="sxs-lookup"><span data-stu-id="77d0b-183">Rebuild log</span></span>|<span data-ttu-id="77d0b-184">具有 MEMORY_OPTIMIZED_DATA 文件组的数据库不支持通过附加或 ALTER DATABASE 重新生成日志。</span><span class="sxs-lookup"><span data-stu-id="77d0b-184">Rebuilding the log, either through attach or ALTER DATABASE, is not supported for databases with a MEMORY_OPTIMIZED_DATA filegroup.</span></span>|  
|<span data-ttu-id="77d0b-185">链接服务器</span><span class="sxs-lookup"><span data-stu-id="77d0b-185">Linked Server</span></span>|<span data-ttu-id="77d0b-186">有关详细信息，请参阅 [链接服务器（数据库引擎）](../linked-servers/linked-servers-database-engine.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-186">For more information, see [Linked Servers &#40;Database Engine&#41;](../linked-servers/linked-servers-database-engine.md).</span></span>|  
|<span data-ttu-id="77d0b-187">大容量日志记录</span><span class="sxs-lookup"><span data-stu-id="77d0b-187">Bulk logging</span></span>|<span data-ttu-id="77d0b-188">无论数据库处于什么恢复模式，都将始终完整记录针对持久内存优化表的所有操作的日志。</span><span class="sxs-lookup"><span data-stu-id="77d0b-188">Regardless of the recovery model of the database, all operations on durable memory-optimized tables are always fully logged.</span></span>|  
|<span data-ttu-id="77d0b-189">最小日志记录</span><span class="sxs-lookup"><span data-stu-id="77d0b-189">Minimal logging</span></span>|<span data-ttu-id="77d0b-190">内存优化表不支持最小日志记录。</span><span class="sxs-lookup"><span data-stu-id="77d0b-190">Minimal logging is not supported for memory-optimized tables.</span></span> <span data-ttu-id="77d0b-191">有关最小日志记录的详细信息，请参阅[事务日志 (SQL Server)](../logs/the-transaction-log-sql-server.md) 和[在批量导入中按最小方式记录日志的前提条件](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-191">For more information about minimal logging, see [The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) and [Prerequisites for Minimal Logging in Bulk Import](../import-export/prerequisites-for-minimal-logging-in-bulk-import.md).</span></span>|  
|<span data-ttu-id="77d0b-192">更改跟踪</span><span class="sxs-lookup"><span data-stu-id="77d0b-192">Change tracking</span></span>|<span data-ttu-id="77d0b-193">可在包含内存中 OLTP 对象的数据库上启用更改跟踪。</span><span class="sxs-lookup"><span data-stu-id="77d0b-193">Change tracking can be enabled on a database with In-Memory OLTP objects.</span></span> <span data-ttu-id="77d0b-194">但是，在内存优化表上的更改不会被跟踪。</span><span class="sxs-lookup"><span data-stu-id="77d0b-194">However, changes in memory-optimized tables are not tracked.</span></span>|  
|<span data-ttu-id="77d0b-195">DDL 触发器</span><span class="sxs-lookup"><span data-stu-id="77d0b-195">DDL triggers</span></span>|<span data-ttu-id="77d0b-196">内存中 OLTP 表和本机编译的存储过程不支持数据库级别和服务器级别的 DDL 触发器。</span><span class="sxs-lookup"><span data-stu-id="77d0b-196">Both database-level and server-level DDL triggers are not supported with In-Memory OLTP tables and natively compiled stored procedures.</span></span>|  
|<span data-ttu-id="77d0b-197">变更数据捕获 (CDC)</span><span class="sxs-lookup"><span data-stu-id="77d0b-197">Change Data Capture (CDC)</span></span>|<span data-ttu-id="77d0b-198">不应在包含内存中 OLTP 对象的数据库上启用 CDC，因为它会阻止某些操作，如 DROP。</span><span class="sxs-lookup"><span data-stu-id="77d0b-198">CDC should not be enabled on a database that has In-Memory OLTP objects, as it prevents certain operations such as DROP.</span></span>|  
|<span data-ttu-id="77d0b-199">数据库包含</span><span class="sxs-lookup"><span data-stu-id="77d0b-199">Database Containment</span></span>|<span data-ttu-id="77d0b-200">包含本机编译存储过程和内存优化表的数据库不支持数据库包含。</span><span class="sxs-lookup"><span data-stu-id="77d0b-200">Database containment is not supported in a database that has natively-compiled stored procedures and memory-optimized tables.</span></span> <span data-ttu-id="77d0b-201">有关详细信息，请参阅 [Contained Databases](../databases/contained-databases.md)</span><span class="sxs-lookup"><span data-stu-id="77d0b-201">For more information, see [Contained Databases](../databases/contained-databases.md)</span></span>|  
|<span data-ttu-id="77d0b-202">上下文连接</span><span class="sxs-lookup"><span data-stu-id="77d0b-202">Context Connections</span></span>|<span data-ttu-id="77d0b-203">不支持使用上下文连接从 CLR 存储过程内部访问内存优化表。</span><span class="sxs-lookup"><span data-stu-id="77d0b-203">Accessing memory-optimized tables using the context connection from inside CLR stored procedures is not supported.</span></span>|  
|<span data-ttu-id="77d0b-204">光标</span><span class="sxs-lookup"><span data-stu-id="77d0b-204">Cursors</span></span>|<span data-ttu-id="77d0b-205">访问内存优化表的查询上的键集和动态游标。</span><span class="sxs-lookup"><span data-stu-id="77d0b-205">Keyset and dynamic cursors on queries accessing memory-optimized tables.</span></span> <span data-ttu-id="77d0b-206">这些查询将降级为静态（变成只读）。</span><span class="sxs-lookup"><span data-stu-id="77d0b-206">These queries are degraded to static becoming read-only.</span></span>|  
|<span data-ttu-id="77d0b-207">TABLESTAMP</span><span class="sxs-lookup"><span data-stu-id="77d0b-207">TABLESTAMP</span></span>|<span data-ttu-id="77d0b-208">不支持 TABLESTAMP。</span><span class="sxs-lookup"><span data-stu-id="77d0b-208">TABLESTAMP is not supported.</span></span> <span data-ttu-id="77d0b-209">有关详细信息，请参阅 [FROM (Transact-SQL)](/sql/t-sql/queries/from-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-209">See [FROM &#40;Transact-SQL&#41;](/sql/t-sql/queries/from-transact-sql) for more information.</span></span>|  
|<span data-ttu-id="77d0b-210">AUTO_CLOSE</span><span class="sxs-lookup"><span data-stu-id="77d0b-210">AUTO_CLOSE</span></span>|<span data-ttu-id="77d0b-211">不支持 AUTO_CLOSE。</span><span class="sxs-lookup"><span data-stu-id="77d0b-211">AUTO_CLOSE is not supported.</span></span> <span data-ttu-id="77d0b-212">有关详细信息，请参阅 [Set the AUTO_CLOSE Database Option to OFF](../policy-based-management/set-the-auto-close-database-option-to-off.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-212">For more information, see [Set the AUTO_CLOSE Database Option to OFF](../policy-based-management/set-the-auto-close-database-option-to-off.md).</span></span>|  
|<span data-ttu-id="77d0b-213">数据库快照</span><span class="sxs-lookup"><span data-stu-id="77d0b-213">Database Snapshots</span></span>|<span data-ttu-id="77d0b-214">不支持数据库快照。</span><span class="sxs-lookup"><span data-stu-id="77d0b-214">Database Snapshots are not supported.</span></span> <span data-ttu-id="77d0b-215">有关详细信息，请参阅[数据库快照 (SQL Server)](../databases/database-snapshots-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-215">For more information, see [Database Snapshots &#40;SQL Server&#41;](../databases/database-snapshots-sql-server.md).</span></span>|  
|<span data-ttu-id="77d0b-216">事务性 DDL</span><span class="sxs-lookup"><span data-stu-id="77d0b-216">Transactional DDL</span></span>|<span data-ttu-id="77d0b-217">内存中 OLTP 不支持事务性 DDL。</span><span class="sxs-lookup"><span data-stu-id="77d0b-217">Transactional DDL is not supported in In-Memory OLTP.</span></span>|  
|<span data-ttu-id="77d0b-218">事件通知</span><span class="sxs-lookup"><span data-stu-id="77d0b-218">Event Notifications</span></span>|<span data-ttu-id="77d0b-219">不支持事件通知。</span><span class="sxs-lookup"><span data-stu-id="77d0b-219">Event notifications are not supported.</span></span> <span data-ttu-id="77d0b-220">有关详细信息，请参阅 [Event Notifications](../service-broker/event-notifications.md)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-220">For more information, see [Event Notifications](../service-broker/event-notifications.md).</span></span>|  
|<span data-ttu-id="77d0b-221">纤程模式</span><span class="sxs-lookup"><span data-stu-id="77d0b-221">Fiber mode</span></span>|<span data-ttu-id="77d0b-222">内存中 OLTP 不支持纤程模式。</span><span class="sxs-lookup"><span data-stu-id="77d0b-222">Fiber mode is not supported with In-Memory OLTP.</span></span>|  
|<span data-ttu-id="77d0b-223">基于策略的管理 (PBM)。</span><span class="sxs-lookup"><span data-stu-id="77d0b-223">Policy-based management (PBM).</span></span>|<span data-ttu-id="77d0b-224">不支持 PBM 的仅阻止并记录模式。</span><span class="sxs-lookup"><span data-stu-id="77d0b-224">Prevent and log only modes of PBM are not supported.</span></span> <span data-ttu-id="77d0b-225">当服务器上存在此类策略时，可能会使内存中 OLTP DDL 无法成功执行。</span><span class="sxs-lookup"><span data-stu-id="77d0b-225">Existence of such policies on the server may prevent In-Memory OLTP DDL from executing successfully.</span></span> <span data-ttu-id="77d0b-226">支持“按需”和“按计划”模式。</span><span class="sxs-lookup"><span data-stu-id="77d0b-226">On demand and on schedule modes are supported.</span></span>|  
|<span data-ttu-id="77d0b-227">DACFX 部署/提取</span><span class="sxs-lookup"><span data-stu-id="77d0b-227">DACFX deploy/extract</span></span>|<span data-ttu-id="77d0b-228">内存中 OLTP 不支持 DAC Framework 部署/提取。</span><span class="sxs-lookup"><span data-stu-id="77d0b-228">DAC Framework deploy/extract is not supported in In-Memory OLTP.</span></span>|  
  
 <span data-ttu-id="77d0b-229">除若干例外情况，一般不支持跨数据库事务。</span><span class="sxs-lookup"><span data-stu-id="77d0b-229">With a few exceptions, cross-database transactions are not supported.</span></span> <span data-ttu-id="77d0b-230">下表介绍支持的情况和相应的限制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-230">The following table describes which cases are supported, and the corresponding restrictions.</span></span> <span data-ttu-id="77d0b-231">（另请参阅 [跨数据库查询](cross-database-queries.md)。）</span><span class="sxs-lookup"><span data-stu-id="77d0b-231">(See also, [Cross-Database Queries](cross-database-queries.md).)</span></span>  
  
|<span data-ttu-id="77d0b-232">数据库</span><span class="sxs-lookup"><span data-stu-id="77d0b-232">Databases</span></span>|<span data-ttu-id="77d0b-233">允许</span><span class="sxs-lookup"><span data-stu-id="77d0b-233">Allowed</span></span>|<span data-ttu-id="77d0b-234">说明</span><span class="sxs-lookup"><span data-stu-id="77d0b-234">Description</span></span>|  
|---------------|-------------|-----------------|  
|<span data-ttu-id="77d0b-235">用户数据库、模型和 msdb</span><span class="sxs-lookup"><span data-stu-id="77d0b-235">User databases, model, and msdb</span></span>|<span data-ttu-id="77d0b-236">否</span><span class="sxs-lookup"><span data-stu-id="77d0b-236">No</span></span>|<span data-ttu-id="77d0b-237">不支持跨数据库查询和事务。</span><span class="sxs-lookup"><span data-stu-id="77d0b-237">Cross-database queries and transactions are not supported.</span></span><br /><br /> <span data-ttu-id="77d0b-238">访问内存优化表和本机编译存储过程的查询和事务无法访问其他数据库，但系统数据库 master（只读访问）和 tempdb 除外。</span><span class="sxs-lookup"><span data-stu-id="77d0b-238">Queries and transactions that access memory-optimized tables or natively compiled stored procedures cannot access other databases, with the exception of the system databases master (read-only access) and tempdb.</span></span>|  
|<span data-ttu-id="77d0b-239">资源数据库和 tempdb</span><span class="sxs-lookup"><span data-stu-id="77d0b-239">Resource database, and tempdb</span></span>|<span data-ttu-id="77d0b-240">是</span><span class="sxs-lookup"><span data-stu-id="77d0b-240">Yes</span></span>|<span data-ttu-id="77d0b-241">除了单用户数据库外，仅使用资源数据库和 tempdb 的跨数据库事务亦不受限制。</span><span class="sxs-lookup"><span data-stu-id="77d0b-241">There are no restrictions on cross-database transactions that, besides a single user database, use only resource database and tempdb.</span></span>|  
|<span data-ttu-id="77d0b-242">主</span><span class="sxs-lookup"><span data-stu-id="77d0b-242">master</span></span>|<span data-ttu-id="77d0b-243">只读</span><span class="sxs-lookup"><span data-stu-id="77d0b-243">read-only</span></span>|<span data-ttu-id="77d0b-244">如果针对内存中 OLTP 和 master 数据库的跨数据库事务包含针对 master 数据库的任意写入操作，则其将无法提交。</span><span class="sxs-lookup"><span data-stu-id="77d0b-244">Cross-database transactions that touch In-Memory OLTP and the master database fail to commit if it includes any writes to the master database.</span></span> <span data-ttu-id="77d0b-245">允许仅从 master 读取和仅使用一个用户数据库的跨数据库事务。</span><span class="sxs-lookup"><span data-stu-id="77d0b-245">Cross-database transactions that only read from master and use only one user database are allowed.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="77d0b-246">另请参阅</span><span class="sxs-lookup"><span data-stu-id="77d0b-246">See Also</span></span>  
 [<span data-ttu-id="77d0b-247">SQL Server 对内存中 OLTP 的支持</span><span class="sxs-lookup"><span data-stu-id="77d0b-247">SQL Server Support for In-Memory OLTP</span></span>](sql-server-support-for-in-memory-oltp.md)  
  
  
