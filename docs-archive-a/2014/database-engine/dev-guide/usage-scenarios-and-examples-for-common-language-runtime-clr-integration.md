---
title: 公共语言运行时 (CLR) 集成的使用方案和示例 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: reference
helpviewer_keywords:
- scenarios [CLR integration]
- common language runtime [SQL Server], samples
- examples [CLR integration]
- sample applications [CLR integration]
- database objects [CLR integration], samples
- managed code [SQL Server], samples
ms.assetid: 33aac25f-abb4-4f29-af88-4a0dacd80ae7
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 30a54064d398ec6db09a9ccd54eed9411a7f905a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690073"
---
# <a name="usage-scenarios-and-examples-for-common-language-runtime-clr-integration"></a><span data-ttu-id="95a70-102">公共语言运行时 (CLR) 集成的使用方案和示例</span><span class="sxs-lookup"><span data-stu-id="95a70-102">Usage Scenarios and Examples for Common Language Runtime (CLR) Integration</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="95a70-103">包括可以用来了解公共语言运行时 (CLR) 集成的可编程性功能的示例应用程序、包示例和多个编码示例。</span><span class="sxs-lookup"><span data-stu-id="95a70-103">includes sample applications, package samples, and numerous coding samples that you can use to learn about the programmability features of common language runtime (CLR) integration.</span></span>  
  
 <span data-ttu-id="95a70-104">有关实现这些示例和其他材料的完整 Visual Studio 项目，请访问[CodePlex 上 Microsoft SQL Server 社区项目 & 示例](https://go.microsoft.com/fwlink/?LinkID=193935)。</span><span class="sxs-lookup"><span data-stu-id="95a70-104">For complete Visual Studio projects implementing these samples and additional materials, visit [Microsoft SQL Server Community Projects & Samples on CodePlex](https://go.microsoft.com/fwlink/?LinkID=193935).</span></span>  
  
|<span data-ttu-id="95a70-105">名称</span><span class="sxs-lookup"><span data-stu-id="95a70-105">Name</span></span>|<span data-ttu-id="95a70-106">说明</span><span class="sxs-lookup"><span data-stu-id="95a70-106">Description</span></span>|  
|----------|-----------------|  
|[<span data-ttu-id="95a70-107">从 CLR UDF 访问本机代码</span><span class="sxs-lookup"><span data-stu-id="95a70-107">Accessing Native Code from a CLR UDF</span></span>](../../../2014/database-engine/dev-guide/accessing-native-code-from-a-clr-udf.md)|<span data-ttu-id="95a70-108">显示如何从用户定义函数（该函数位于您的数据库的程序集中）调用本机（非托管） C++ 代码中的函数。</span><span class="sxs-lookup"><span data-stu-id="95a70-108">Shows how to invoke a function in native (unmanaged) C++ code from a user-defined function in an assembly, in your database.</span></span>|  
|[<span data-ttu-id="95a70-109">数组参数示例</span><span class="sxs-lookup"><span data-stu-id="95a70-109">Array Parameter Sample</span></span>](../../../2014/database-engine/dev-guide/array-parameter-sample.md)|<span data-ttu-id="95a70-110">说明如何通过将客户端上的一组信息传递到服务器上的 CLR 集成存储过程来创建、更新或删除数据库中的行集。</span><span class="sxs-lookup"><span data-stu-id="95a70-110">Demonstrates how to create, update, or delete a set of rows in a database by passing an array of information from a client to a CLR integration stored procedure on the server.</span></span> <span data-ttu-id="95a70-111">这是通过使用 UDT 完成的。</span><span class="sxs-lookup"><span data-stu-id="95a70-111">This is done using a UDT.</span></span>|  
|[<span data-ttu-id="95a70-112">日历感知日期和时间 UDT 示例</span><span class="sxs-lookup"><span data-stu-id="95a70-112">Calendar-Aware Date and Time UDT Sample</span></span>](../../../2014/database-engine/dev-guide/calendar-aware-date-and-time-udt-sample.md)|<span data-ttu-id="95a70-113">定义了两种 UDT，通过它们可以按日历方式对日期和时间进行处理。</span><span class="sxs-lookup"><span data-stu-id="95a70-113">Defines two UDTs that provide calendar-aware handling of dates and times.</span></span>|  
|[<span data-ttu-id="95a70-114">CLR 事务示例</span><span class="sxs-lookup"><span data-stu-id="95a70-114">CLR Transactions Sample</span></span>](../../../2014/database-engine/dev-guide/clr-transactions-sample.md)|<span data-ttu-id="95a70-115">说明了如何使用 System.Transactions 命名空间中的托管 API 来控制事务。</span><span class="sxs-lookup"><span data-stu-id="95a70-115">Demonstrates controlling transactions by using the managed APIs located in the System.Transactions namespace.</span></span>|  
|[<span data-ttu-id="95a70-116">使用 CLR 和 XML 创建联系信息</span><span class="sxs-lookup"><span data-stu-id="95a70-116">Contact Creation using CLR and XML</span></span>](../../../2014/database-engine/dev-guide/contact-creation-using-clr-and-xml.md)|<span data-ttu-id="95a70-117">SQL Server 的联系人示例提供了一些有用的实用工具，这些实用工具在基本的 AdventureWorks2012 示例数据库之上形成了一层额外的功能。</span><span class="sxs-lookup"><span data-stu-id="95a70-117">The Contact sample for SQL Server provides some useful utilities that form an extra layer of functionality on top of the base AdventureWorks2012 sample database.</span></span> <span data-ttu-id="95a70-118">第一个实用工具为 AdventureWorks2012 数据库中所涉及的各种类型的人创建联系记录。</span><span class="sxs-lookup"><span data-stu-id="95a70-118">The first utility creates contact records for various types of people involved in the AdventureWorks2012 database.</span></span> <span data-ttu-id="95a70-119">联系信息通过使用 XML 来指定，并传递到基于 C# 的存储过程或 VB 存储过程，以创建 XML 并将其放入该数据库中的正确表。</span><span class="sxs-lookup"><span data-stu-id="95a70-119">The contact information is specified by using XML and is passed to a C#-based or VB stored procedure to create the XML and place it in the proper tables with the database.</span></span>|  
|[<span data-ttu-id="95a70-120">Currency 类型和转换函数</span><span class="sxs-lookup"><span data-stu-id="95a70-120">Currency Type and Conversion Function</span></span>](../../../2014/database-engine/dev-guide/currency-type-and-conversion-function.md)|<span data-ttu-id="95a70-121">使用 C# 定义 Currency 用户定义数据类型。</span><span class="sxs-lookup"><span data-stu-id="95a70-121">Defines a Currency user-defined data type using C#.</span></span>|  
|[<span data-ttu-id="95a70-122">使用 CLR 处理大型对象</span><span class="sxs-lookup"><span data-stu-id="95a70-122">Handling Large Objects Using CLR</span></span>](../../../2014/database-engine/dev-guide/handling-large-objects-using-clr.md)|<span data-ttu-id="95a70-123">演示如何使用 CLR 存储过程将大型二进制对象传输 (Lob) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 与服务器可访问的文件系统之间。</span><span class="sxs-lookup"><span data-stu-id="95a70-123">Demonstrates transferring large binary objects (LOBs) between [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and a file system accessible to the server using CLR stored procedures.</span></span>|  
|[<span data-ttu-id="95a70-124">Hello World Ready 示例</span><span class="sxs-lookup"><span data-stu-id="95a70-124">Hello World Ready Sample</span></span>](../../../2014/database-engine/dev-guide/hello-world-ready-sample.md)|<span data-ttu-id="95a70-125">说明创建、部署和测试基于 CLR 集成的简单且全球通用存储过程的基本操作。</span><span class="sxs-lookup"><span data-stu-id="95a70-125">Demonstrates the basic operations to create, deploy, and test a simple world ready CLR integration-based stored procedure.</span></span>|  
|[<span data-ttu-id="95a70-126">Hello World 示例</span><span class="sxs-lookup"><span data-stu-id="95a70-126">Hello World Sample</span></span>](../../../2014/database-engine/dev-guide/hello-world-sample.md)|<span data-ttu-id="95a70-127">说明创建、部署和测试基于 CLR 集成的简单存储过程的基本操作。</span><span class="sxs-lookup"><span data-stu-id="95a70-127">Demonstrates the basic operations to create, deploy, and test a simple CLR integration-based stored procedure.</span></span>|  
|[<span data-ttu-id="95a70-128">进程内数据访问示例</span><span class="sxs-lookup"><span data-stu-id="95a70-128">In-Process Data Access Sample</span></span>](../../../2014/database-engine/dev-guide/in-process-data-access-sample.md)|<span data-ttu-id="95a70-129">包含多个演示 CLR 进程内数据访问接口的各种功能的简单函数。</span><span class="sxs-lookup"><span data-stu-id="95a70-129">Contains a number of simple functions demonstrating various features of the CLR in-process data access provider.</span></span>|  
|[<span data-ttu-id="95a70-130">结果集示例</span><span class="sxs-lookup"><span data-stu-id="95a70-130">Result Set Sample</span></span>](../../../2014/database-engine/dev-guide/result-set-sample.md)|<span data-ttu-id="95a70-131">说明如何在通读查询结果时执行命令，而不需要打开新的连接并将所有结果读入内存。</span><span class="sxs-lookup"><span data-stu-id="95a70-131">Demonstrates how to execute commands while reading through results of a query, without opening a new connection and without reading all results into memory.</span></span>|  
|[<span data-ttu-id="95a70-132">发送数据集示例</span><span class="sxs-lookup"><span data-stu-id="95a70-132">Send DataSet Sample</span></span>](../../../2014/database-engine/dev-guide/send-dataset-sample.md)|<span data-ttu-id="95a70-133">说明如何在服务器端基于 CLR 的存储过程中将基于 ADO.NET 的数据集作为结果集返回到客户端。</span><span class="sxs-lookup"><span data-stu-id="95a70-133">Demonstrates how to return an ADO.NET based DataSet within a server side CLR-based stored procedure as a result set to the client.</span></span>|  
|[<span data-ttu-id="95a70-134">字符串实用工具函数示例</span><span class="sxs-lookup"><span data-stu-id="95a70-134">String Utility Functions Sample</span></span>](../../../2014/database-engine/dev-guide/string-utility-functions-sample.md)|<span data-ttu-id="95a70-135">包含一个流式表值函数 (TVF)，它是用 Visual C# 和 Visual Basic 编写的，可以将逗号分隔的字符串拆分到只有一列的表中。</span><span class="sxs-lookup"><span data-stu-id="95a70-135">Contains a streaming table-valued function (TVF), written in Visual C# and Visual Basic, which splits a comma-separated string into a table with one column.</span></span>|  
|[<span data-ttu-id="95a70-136">能够识别增补字符的字符串操作示例</span><span class="sxs-lookup"><span data-stu-id="95a70-136">Supplementary-Aware String Manipulation Sample</span></span>](../../../2014/database-engine/dev-guide/supplementary-aware-string-manipulation-sample.md)|<span data-ttu-id="95a70-137">说明如何实现可以处理 Unicode 字符串和代理字符串的五个识别增补字符的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 字符串函数。</span><span class="sxs-lookup"><span data-stu-id="95a70-137">Shows the implementation of five supplementary-aware [!INCLUDE[tsql](../../includes/tsql-md.md)] string functions that can handle both Unicode and surrogate strings.</span></span>|  
|[<span data-ttu-id="95a70-138">UDT 实用工具</span><span class="sxs-lookup"><span data-stu-id="95a70-138">UDT Utilities</span></span>](../../../2014/database-engine/dev-guide/udt-utilities.md)|<span data-ttu-id="95a70-139">包含多个用户定义数据类型 (UDT) 的实用工具函数。</span><span class="sxs-lookup"><span data-stu-id="95a70-139">Contains a number of user-defined data type (UDT) utility functions.</span></span>|  
|[<span data-ttu-id="95a70-140">清除未使用的程序集</span><span class="sxs-lookup"><span data-stu-id="95a70-140">Unused Assembly Cleanup</span></span>](../../../2014/database-engine/dev-guide/unused-assembly-cleanup.md)|<span data-ttu-id="95a70-141">包含 .NET 存储过程，此存储过程用来通过查询元数据目录来删除当前数据库中未使用的程序集。</span><span class="sxs-lookup"><span data-stu-id="95a70-141">Contains a .NET stored procedure that deletes unused assemblies in the current database by querying the metadata catalogs.</span></span>|  
|[<span data-ttu-id="95a70-142">用户定义类型</span><span class="sxs-lookup"><span data-stu-id="95a70-142">User Defined Type</span></span>](../../../2014/database-engine/dev-guide/user-defined-type.md)|<span data-ttu-id="95a70-143">说明如何在 [!INCLUDE[tsql](../../includes/tsql-md.md)] 和使用 System.Data.SqlClient 的客户端应用程序中创建和使用简单 UDT。</span><span class="sxs-lookup"><span data-stu-id="95a70-143">Shows the creation and use of a simple UDT from both [!INCLUDE[tsql](../../includes/tsql-md.md)] and a client application using System.Data.SqlClient.</span></span>|  
|[<span data-ttu-id="95a70-144">UTF8 字符串用户定义数据类型 &#40;UDT&#41;</span><span class="sxs-lookup"><span data-stu-id="95a70-144">UTF8 String User-Defined Data Type &#40;UDT&#41;</span></span>](../../../2014/database-engine/dev-guide/utf8-string-user-defined-data-type-udt.md)|<span data-ttu-id="95a70-145">说明如何实现用于扩展数据库的类型系统以便存储 UTF8 编码的值的 UDT。</span><span class="sxs-lookup"><span data-stu-id="95a70-145">Demonstrates the implementation of a UDT that extends the type system of the database to provide storage for UTF8 encoded values.</span></span>|  
  
  
