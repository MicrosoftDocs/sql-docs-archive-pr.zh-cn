---
title: 可用性组侦听器、客户端连接和应用程序故障转移 (SQL Server) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], listeners
- read-only routing
- read-intent connections [AlwaysOn Availability Groups]
- Availability Groups [SQL Server], configuring
- Availability Groups [SQL Server], read-only routing
- Availability Groups [SQL Server], client connectivity
ms.assetid: 76fb3eca-6b08-4610-8d79-64019dd56c44
author: rothja
ms.author: jroth
ms.openlocfilehash: f66046625ca0078904e9555d1cf586873b9f697f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87689011"
---
# <a name="availability-group-listeners-client-connectivity-and-application-failover-sql-server"></a><span data-ttu-id="df914-102">可用性组侦听器、客户端连接和应用程序故障转移 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-102">Availability Group Listeners, Client Connectivity, and Application Failover (SQL Server)</span></span>
  <span data-ttu-id="df914-103">本主题包含有关 [!INCLUDE[ssHADR](../includes/sshadr-md.md)] 客户端连接和应用程序故障转移功能的注意事项的信息。</span><span class="sxs-lookup"><span data-stu-id="df914-103">This topic contains information about considerations for [!INCLUDE[ssHADR](../includes/sshadr-md.md)] client connectivity and application-failover functionality.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="df914-104">对于绝大多数常见的侦听器配置，只需通过使用 [!INCLUDE[tsql](../includes/tsql-md.md)] 语句或 PowerShell cmdlet 即可创建第一个可用性组侦听器。</span><span class="sxs-lookup"><span data-stu-id="df914-104">For the majority of the common listener configurations, you can create the first availability group listener simply by using [!INCLUDE[tsql](../includes/tsql-md.md)] statements or PowerShell cmdlets.</span></span> <span data-ttu-id="df914-105">有关详细信息，请参阅本主题后面的 [相关任务](#RelatedTasks)。</span><span class="sxs-lookup"><span data-stu-id="df914-105">For more information, see [Related Tasks](#RelatedTasks), later in this topic.</span></span>  
  
 
  
##  <a name="availability-group-listeners"></a><a name="AGlisteners"></a> <span data-ttu-id="df914-106">可用性组侦听器</span><span class="sxs-lookup"><span data-stu-id="df914-106">Availability Group Listeners</span></span>  
 <span data-ttu-id="df914-107">您可以通过创建一个可用性组侦听器来提供到给定可用性组的数据库的客户端连接。</span><span class="sxs-lookup"><span data-stu-id="df914-107">You can provide client connectivity to the database of a given availability group by creating an availability group listener.</span></span> <span data-ttu-id="df914-108">可用性组侦听器是一个虚拟网络名称 (VNN)，客户端可连接到此名称以访问 AlwaysOn 可用性组的主副本或辅助副本中的数据库。</span><span class="sxs-lookup"><span data-stu-id="df914-108">An availability group listener is a virtual network name (VNN) to which clients can connect in order to access a database in a primary or secondary replica of an AlwaysOn availability group.</span></span> <span data-ttu-id="df914-109">可用性组侦听器使客户端无需知道它要连接到的 SQL Server 物理实例的名称，即可连接到某个可用性副本。</span><span class="sxs-lookup"><span data-stu-id="df914-109">An availability group listener enables a client to connect to an availability replica without knowing the name of the physical instance of SQL Server to which the client is connecting.</span></span>  <span data-ttu-id="df914-110">无需修改客户端连接字符串，即可连接到当前主副本的当前位置。</span><span class="sxs-lookup"><span data-stu-id="df914-110">The client connection string does not need to be modified to connect to the current location of the current primary replica.</span></span>  
  
 <span data-ttu-id="df914-111">可用性组侦听器由域名系统 (DNS) 侦听器名称、指定的侦听器端口以及一个或多个 IP 地址组成。</span><span class="sxs-lookup"><span data-stu-id="df914-111">An availability group listener consists of a Domain Name System (DNS) listener name, listener port designation, and one or more IP addresses.</span></span> <span data-ttu-id="df914-112">可用性组侦听器仅支持 TCP 协议。</span><span class="sxs-lookup"><span data-stu-id="df914-112">Only the TCP protocol is supported by availability group listener.</span></span>  <span data-ttu-id="df914-113">在域和 NetBIOS 中，侦听器的 DNS 名称也必须唯一。</span><span class="sxs-lookup"><span data-stu-id="df914-113">The DNS name of the listener must also be unique in the domain and in NetBIOS.</span></span>  <span data-ttu-id="df914-114">当您创建新的可用性组侦听器时，该侦听器将成为群集中的资源，并具有关联的虚拟网络名称 (VNN)、虚拟 IP (VIP) 和可用性组依赖项。</span><span class="sxs-lookup"><span data-stu-id="df914-114">When you create a new availability group listener it becomes a resource in a cluster with an associated virtual network name (VNN), virtual IP (VIP), and availability group dependency.</span></span> <span data-ttu-id="df914-115">客户端使用 DNS 将 VNN 解析为多个 IP 地址，然后尝试连接到每个地址，直到连接请求成功或超时。</span><span class="sxs-lookup"><span data-stu-id="df914-115">A client uses DNS to resolve the VNN into multiple IP addresses and then tries to connect to each address, until a connection request succeeds or until the connection requests time out.</span></span>  
  
 <span data-ttu-id="df914-116">如果为一个或多个[可读次要副本](availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md)配置了只读路由，则将主要副本的读意向客户端连接重定向到可读次要副本。</span><span class="sxs-lookup"><span data-stu-id="df914-116">If read-only routing is configured for one or more[readable secondary replicas](availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md), read-intent client connections to the primary replica are redirected to a readable secondary replica.</span></span> <span data-ttu-id="df914-117">此外，如果主副本在某个 SQL Server 实例上脱机，且新的主副本在另一个 SQL Server 实例上联机，则可用性组侦听器允许客户端连接到新的主副本。</span><span class="sxs-lookup"><span data-stu-id="df914-117">Also, if the primary replica goes offline on one instance of SQL Server, and a new primary replica comes online on another instance of SQL Server, the availability group listener enables clients to connect to the new primary replica.</span></span>  
  
 <span data-ttu-id="df914-118">有关可用性组侦听程序的基本信息，请参阅 [创建或配置可用性组侦听程序 (SQL Server)](availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="df914-118">For essential information about availability group listeners, see [Create or Configure an Availability Group Listener &#40;SQL Server&#41;](availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server.md).</span></span>  
  
 
  
###  <a name="availability-group-listener-configuration"></a><a name="AGlConfig"></a> <span data-ttu-id="df914-119">可用性组侦听器配置</span><span class="sxs-lookup"><span data-stu-id="df914-119">Availability Group Listener Configuration</span></span>  
 <span data-ttu-id="df914-120">可用性组侦听器由以下各项定义：</span><span class="sxs-lookup"><span data-stu-id="df914-120">An availability group listener is defined by the following:</span></span>  
  
 <span data-ttu-id="df914-121">唯一的 DNS 名称</span><span class="sxs-lookup"><span data-stu-id="df914-121">A unique DNS name</span></span>  
 <span data-ttu-id="df914-122">这也称为虚拟网络名称 (VNN)。</span><span class="sxs-lookup"><span data-stu-id="df914-122">This is also known as a Virtual Network Name (VNN).</span></span> <span data-ttu-id="df914-123">适用 DNS 主机名的 Active Directory 命名规则。</span><span class="sxs-lookup"><span data-stu-id="df914-123">Active Directory naming rules for DNS host names apply.</span></span> <span data-ttu-id="df914-124">有关详细信息，请参阅知识库文章： [Active Directory 中计算机、域、站点和 OU 的命名约定](https://support.microsoft.com/kb/909264) 。</span><span class="sxs-lookup"><span data-stu-id="df914-124">For more information, see the [Naming conventions in Active Directory for computers, domains, sites, and OUs](https://support.microsoft.com/kb/909264) KB article.</span></span>  
  
 <span data-ttu-id="df914-125">一个或多个虚拟 IP 地址 (VIP)</span><span class="sxs-lookup"><span data-stu-id="df914-125">One or more Virtual IP addresses (VIPs)</span></span>  
 <span data-ttu-id="df914-126">为可用性组可以故障转移到的一个或多个子网配置 VIP。</span><span class="sxs-lookup"><span data-stu-id="df914-126">VIPs are configured for one or more subnets to which the availability group can failover.</span></span>  
  
 <span data-ttu-id="df914-127">IP 地址配置</span><span class="sxs-lookup"><span data-stu-id="df914-127">IP address configuration</span></span>  
 <span data-ttu-id="df914-128">对于给定的可用性组侦听器，IP 地址使用动态主机配置协议 (DHCP) 或者一个或多个静态 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="df914-128">For a given availability group listener, the IP address uses either Dynamic Host Configuration Protocol (DHCP) or one or more static IP addresses.</span></span>  
  
-   <span data-ttu-id="df914-129">动态主机配置协议 (DHCP)</span><span class="sxs-lookup"><span data-stu-id="df914-129">Dynamic Host Configuration Protocol (DHCP)</span></span>  
  
     <span data-ttu-id="df914-130">如果某个可用性组位于单个子网上，您可以将所有可用性组侦听器 IP 地址配置为使用 DHCP。</span><span class="sxs-lookup"><span data-stu-id="df914-130">If an availability group resides on a single subnet, you can configure all the availability group listener IP addresses to use DHCP.</span></span> <span data-ttu-id="df914-131">对于生产前环境，DHCP 为可用性组提供了简单的设置，该可用性组不要求对单独子网上的远程站点进行灾难恢复。</span><span class="sxs-lookup"><span data-stu-id="df914-131">For pre-production environments, DHCP offers an easy setup for an availability group that does not require disaster recovery to a remote site on a separate subnet.</span></span> <span data-ttu-id="df914-132">但是，您不应在生产环境中将 DHCP 和可用性组侦听器结合使用。</span><span class="sxs-lookup"><span data-stu-id="df914-132">However, you should not use DHCP in conjunction with an availability group listener in a production environment.</span></span> <span data-ttu-id="df914-133">这是因为在停机情况下，如果 DHCP IP 租期已到，则它需要额外的时间重新注册与侦听器 DNS 名称关联的新 DHCP IP 地址。</span><span class="sxs-lookup"><span data-stu-id="df914-133">This is because, in the event of down time, if the DHCP IP lease expires, extra time is required to re-register the new DHCP IP address associated with the listener DNS name.</span></span> <span data-ttu-id="df914-134">这个额外的时间将导致客户端连接失败。</span><span class="sxs-lookup"><span data-stu-id="df914-134">The extra time will cause client-connection failure.</span></span>  
  
-   <span data-ttu-id="df914-135">静态 IP 地址</span><span class="sxs-lookup"><span data-stu-id="df914-135">Static IP addresses</span></span>  
  
     <span data-ttu-id="df914-136">在生产环境中，我们建议可用性组侦听器使用静态 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="df914-136">In production environments, we recommend that availability group listeners use static IP addresses.</span></span> <span data-ttu-id="df914-137">此外，在可用性组扩展到多子网域中的子网的情况下，可用性组侦听器必须使用静态 IP 地址。</span><span class="sxs-lookup"><span data-stu-id="df914-137">Furthermore, where availability groups extend across subnets in a multi-subnet domain, an availability group listener must use static IP addresses.</span></span>  
  
 <span data-ttu-id="df914-138">可用性组侦听器不支持混合网络配置和跨子网 DHCP。</span><span class="sxs-lookup"><span data-stu-id="df914-138">Hybrid network configurations and DHCP across subnets are not supported for availability group listeners.</span></span> <span data-ttu-id="df914-139">这是因为，当发生故障转移时，动态 IP 可能已过期或被释放，这将会威胁总体高可用性。</span><span class="sxs-lookup"><span data-stu-id="df914-139">This is because when a failover happens, a dynamic IP might expire or be released, which jeopardizes overall high availability.</span></span>  
  
###  <a name="selecting-an-availability-group-listener-port"></a><a name="SelectListenerPort"></a> <span data-ttu-id="df914-140">选择可用性组侦听器端口</span><span class="sxs-lookup"><span data-stu-id="df914-140">Selecting an Availability Group Listener Port</span></span>  
 <span data-ttu-id="df914-141">当配置可用性组侦听器时，您必须指定一个端口。</span><span class="sxs-lookup"><span data-stu-id="df914-141">When configuring an availability group listener, you must designate a port.</span></span>  <span data-ttu-id="df914-142">您可以将默认端口配置为 1433，以便允许使用客户端连接字符串以达到简化目的。</span><span class="sxs-lookup"><span data-stu-id="df914-142">You can configure the default port to 1433 in order to allow for simplicity of the client connection strings.</span></span> <span data-ttu-id="df914-143">如果使用 1433，则无需在连接字符串中指定端口号。</span><span class="sxs-lookup"><span data-stu-id="df914-143">If using 1433, you do not need to designate a port number in a connection string.</span></span>   <span data-ttu-id="df914-144">此外，由于每个可用性组侦听器都将具有一个独立的虚拟网络名称，因此，在单个 WSFC 上配置的每个可用性组侦听器都可以配置为引用相同的默认端口 1433。</span><span class="sxs-lookup"><span data-stu-id="df914-144">Also, since each availability group listener will have a separate virtual network name, each availability group listener configured on a single WSFC can be configured to reference the same default port of 1433.</span></span>  
  
 <span data-ttu-id="df914-145">还可以指定一个非标准的侦听器端口，但是，这意味着您还需要在连接到可用性组侦听器时，在您的连接字符串中显式指定一个目标端口。</span><span class="sxs-lookup"><span data-stu-id="df914-145">You can also designate a non-standard listener port; however this means that you will also need to explicitly specify a target port in your connection string whenever connecting to the availability group listener.</span></span>  <span data-ttu-id="df914-146">您还需要为非标准端口打开对防火墙的权限。</span><span class="sxs-lookup"><span data-stu-id="df914-146">You will also need to open permission on the firewall for the non-standard port.</span></span>  
  
 <span data-ttu-id="df914-147">如果对可用性组侦听器 VNN 使用默认端口 1433，则仍需要确保群集节点上没有其他服务正在使用此端口；否则将导致端口冲突。</span><span class="sxs-lookup"><span data-stu-id="df914-147">If you use the default port of 1433 for availability group listener VNNs, you will still need to ensure that no other services on the cluster node are using this port; otherwise this would cause a port conflict.</span></span>  
  
 <span data-ttu-id="df914-148">如果其中一个 SQL Server 实例已正在通过实例侦听器侦听 TCP 端口 1433，且在侦听端口 1433 的计算机上没有任何其他服务（包括其他 SQL Server 实例），则不会与可用性组侦听器的端口导致冲突。</span><span class="sxs-lookup"><span data-stu-id="df914-148">If one of the instances of SQL Server is already listening on TCP port 1433 via the instance listener and there are no other services (including additional instances of SQL Server) on the computer listening on port 1433, this will not cause a port conflict with the availability group listener.</span></span>  <span data-ttu-id="df914-149">这是因为，可用性组监听器在相同的服务过程中可以共享同一个 TCP 端口。</span><span class="sxs-lookup"><span data-stu-id="df914-149">This is because the availability group listener can share the same TCP port inside the same service process.</span></span>  <span data-ttu-id="df914-150">但是，不应将多个 SQL Server 实例（并行）配置为侦听同一个端口。</span><span class="sxs-lookup"><span data-stu-id="df914-150">However multiple instances of SQL Server (side-by-side)should not be configured to listen on the same port.</span></span>  
  
##  <a name="using-a-listener-to-connect-to-the-primary-replica"></a><a name="ConnectToPrimary"></a><span data-ttu-id="df914-151">使用侦听器连接到主副本</span><span class="sxs-lookup"><span data-stu-id="df914-151">Using a Listener to Connect to the Primary Replica</span></span>  
 <span data-ttu-id="df914-152">若要使用可用性组侦听器连接到主副本以进行读写访问，连接字符串应指定可用性组侦听器 DNS 名称。</span><span class="sxs-lookup"><span data-stu-id="df914-152">To use an availability group listener to connect to the primary replica for read-write access, the connection string specifies the availability group listener DNS name.</span></span>  <span data-ttu-id="df914-153">如果可用性组主副本变为新副本，则将断开使用可用性组侦听器的网络名称的现有连接。</span><span class="sxs-lookup"><span data-stu-id="df914-153">If an availability group primary replica changes to a new replica, existing connections that use an availability group listener's network name are disconnected.</span></span>  <span data-ttu-id="df914-154">然后，将到可用性组侦听器的新连接定向到新的主副本。</span><span class="sxs-lookup"><span data-stu-id="df914-154">New connections to the availability group listener are then directed to the new primary replica.</span></span> <span data-ttu-id="df914-155">如下所示是针对 ADO.NET 访问接口 (System.Data.SqlClient) 的基本连接字符串的一个示例：</span><span class="sxs-lookup"><span data-stu-id="df914-155">An example of a basic connection string for the ADO.NET provider (System.Data.SqlClient) is as follows:</span></span>  
  
```  
Server=tcp: AGListener,1433;Database=MyDB;IntegratedSecurity=SSPI  
```  
  
 <span data-ttu-id="df914-156">您仍可选择直接引用主副本或辅助副本的 SQL Server 实例名称，而不使用可用性组侦听器服务器名称，但如果您选择这样做，将会丢失新连接（自动定向到当前主副本）的优势。</span><span class="sxs-lookup"><span data-stu-id="df914-156">You can still choose to directly reference the instance of SQL Server name of the primary or secondary replicas instead of using the availability group listener server name, however if you choose to do so you will lose the benefit of new connections being directed automatically to the current primary replica.</span></span>  <span data-ttu-id="df914-157">还将失去只读路由的优势。</span><span class="sxs-lookup"><span data-stu-id="df914-157">You will also lose the benefit of read-only routing.</span></span>  
  
##  <a name="using-a-listener-to-connect-to-a-read-only-secondary-replica-read-only-routing"></a><a name="ConnectToSecondary"></a> <span data-ttu-id="df914-158">使用侦听器连接到只读的辅助副本（只读路由）</span><span class="sxs-lookup"><span data-stu-id="df914-158">Using a Listener to Connect to a Read-Only Secondary Replica (Read-Only Routing)</span></span>  
 <span data-ttu-id="df914-159">只读路由\*\* 指的是 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 将到可用性组侦听器的传入连接路由到配置为允许只读工作负荷的次要副本。</span><span class="sxs-lookup"><span data-stu-id="df914-159">*Read-only routing* refers to the ability of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] to route incoming connections to an availability group listener to a secondary replica that is configured to allow read-only workloads.</span></span> <span data-ttu-id="df914-160">如果符合下列要求，则引用可用性组侦听器名称的传入连接可自动路由到只读副本：</span><span class="sxs-lookup"><span data-stu-id="df914-160">An incoming connection referencing an availability group listener name can automatically be routed to a read-only replica if the following are true:</span></span>  
  
-   <span data-ttu-id="df914-161">至少一个辅助副本设置为只读访问，并且每个只读辅助副本和主副本都配置为支持只读路由。</span><span class="sxs-lookup"><span data-stu-id="df914-161">At least one secondary replica is set to read-only access, and each read-only secondary replica and the primary replica are configured to support read-only routing.</span></span> <span data-ttu-id="df914-162">有关详细信息，请参阅 [本节中后面的为只读路由配置可用性副本](#ConfigureARsForROR)。</span><span class="sxs-lookup"><span data-stu-id="df914-162">For more information, see [To Configure Availability Replicas for Read-Only Routing](#ConfigureARsForROR), later in this section.</span></span>  
  
-   <span data-ttu-id="df914-163">连接字符串引用某一可用性组侦听器，并且将传入连接的应用程序意向设置为只读（例如，使用 ODBC 或 OLEDB 连接字符串或连接特性或属性中的 **Application Intent=ReadOnly** 关键字）。</span><span class="sxs-lookup"><span data-stu-id="df914-163">The connection string references an availability group listener, and the application intent of the incoming connection is set to read-only (for example, by using the **Application Intent=ReadOnly** keyword in the ODBC or OLEDB connection strings or connection attributes or properties).</span></span> <span data-ttu-id="df914-164">有关详细信息，请参阅本节后面的 [只读应用程序意向和只读路由](#ReadOnlyAppIntent)。</span><span class="sxs-lookup"><span data-stu-id="df914-164">For more information, see [Read-Only Application Intent and Read-Only Routing](#ReadOnlyAppIntent), later in this section.</span></span>  
  
###  <a name="to-configure-availability-replicas-for-read-only-routing"></a><a name="ConfigureARsForROR"></a> <span data-ttu-id="df914-165">为只读路由配置可用性副本</span><span class="sxs-lookup"><span data-stu-id="df914-165">To Configure Availability Replicas for Read-Only Routing</span></span>  
 <span data-ttu-id="df914-166">数据库管理员必须按如下所示配置可用性副本：</span><span class="sxs-lookup"><span data-stu-id="df914-166">A database administrator must configure the availability replicas as follows:</span></span>  
  
1.  <span data-ttu-id="df914-167">对于您要配置为可读取辅助副本的每个可用性副本，数据库管理员都必须配置以下设置，这些设置仅在辅助角色下才会生效：</span><span class="sxs-lookup"><span data-stu-id="df914-167">For each availability replica that you want to configure as a readable secondary replica, a database administrator must configure the following settings, which take effect only under the secondary role:</span></span>  
  
    -   <span data-ttu-id="df914-168">连接访问权限必须设置为“全部”或者“只读”。</span><span class="sxs-lookup"><span data-stu-id="df914-168">Connection access must be set to "all" or "read only".</span></span>  
  
    -   <span data-ttu-id="df914-169">必须指定只读路由 URL。</span><span class="sxs-lookup"><span data-stu-id="df914-169">The read-only routing URL must be specified.</span></span>  
  
2.  <span data-ttu-id="df914-170">对于上述每个副本，必须为主角色指定一个只读路由列表。</span><span class="sxs-lookup"><span data-stu-id="df914-170">For each of these replicas, a read-only routing list must be specified for the primary role.</span></span> <span data-ttu-id="df914-171">将一个或多个服务器名称指定为路由目标。</span><span class="sxs-lookup"><span data-stu-id="df914-171">Specify one or more server names as routing targets.</span></span>  
  
####  <a name="related-tasks"></a><a name="RelatedTasksROR"></a> <span data-ttu-id="df914-172">相关任务</span><span class="sxs-lookup"><span data-stu-id="df914-172">Related Tasks</span></span>  
  
-   [<span data-ttu-id="df914-173">配置对可用性副本的只读访问 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-173">Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;</span></span>](availability-groups/windows/configure-read-only-access-on-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="df914-174">为可用性组配置只读路由 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-174">Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;</span></span>](availability-groups/windows/configure-read-only-routing-for-an-availability-group-sql-server.md)  
  
###  <a name="read-only-application-intent-and-read-only-routing"></a><a name="ReadOnlyAppIntent"></a> <span data-ttu-id="df914-175">只读应用程序意向和只读路由</span><span class="sxs-lookup"><span data-stu-id="df914-175">Read-Only Application Intent and Read-Only Routing</span></span>  
 <span data-ttu-id="df914-176">应用程序意向连接字符串属性表示客户端应用程序是要定向到可用性组数据库的读写版本还是只读版本的请求。</span><span class="sxs-lookup"><span data-stu-id="df914-176">The application intent connection string property expresses the client application's request to be directed either to a read-write or read-only version of an availability group database.</span></span> <span data-ttu-id="df914-177">若要使用只读路由，在连接到可用性组侦听器时，客户端必须在连接字符串中使用应用程序只读意向。</span><span class="sxs-lookup"><span data-stu-id="df914-177">To use read-only routing, a client must use an application intent of read-only in the connection string when connecting to the availability group listener.</span></span> <span data-ttu-id="df914-178">如果没有只读应用程序意向，则连接到可用性组侦听器将定向到主副本上的数据库。</span><span class="sxs-lookup"><span data-stu-id="df914-178">Without the read-only application intent, connections to the availability group listener are directed to the database on the primary replica.</span></span>  
  
 <span data-ttu-id="df914-179">在登录期间，应用程序意向属性存储在客户端的会话中，然后 SQL Server 实例将处理该意向，并按照可用性组的配置和辅助副本中目标数据库的当前读写状态来确定执行什么操作。</span><span class="sxs-lookup"><span data-stu-id="df914-179">The application intent attribute is stored in the client's session during login and the instance of SQL Server will then process this intent and determine what to do according to the configuration of the availability group and the current read-write state of the target database in the secondary replica.</span></span>  
  
 <span data-ttu-id="df914-180">如下所示是针对指定只读应用程序意向的 ADO.NET 访问接口 (System.Data.SqlClient) 的连接字符串的一个示例：</span><span class="sxs-lookup"><span data-stu-id="df914-180">An example of a connection string for the ADO.NET provider (System.Data.SqlClient) that designates read-only application intent is as follows:</span></span>  
  
```  
Server=tcp:AGListener,1433;Database=AdventureWorks;IntegratedSecurity=SSPI;ApplicationIntent=ReadOnly  
```  
  
 <span data-ttu-id="df914-181">在此连接字符串示例中，客户端尝试连接到端口 1433 上名为 `AGListener` 的可用性组侦听器（如果可用性组侦听器正在侦听 1433，您也可以忽略端口）。</span><span class="sxs-lookup"><span data-stu-id="df914-181">In this connection string example, the client is attempting to connect to an availability group listener named `AGListener` on port 1433 (you may also omit the port if the availability group listener is listening on 1433).</span></span>  <span data-ttu-id="df914-182">连接字符串的 `ApplicationIntent` 属性设置为 `ReadOnly` ，这使其成为*读意向连接字符串*。</span><span class="sxs-lookup"><span data-stu-id="df914-182">The connection string has the `ApplicationIntent` property set to `ReadOnly`, making this a *read-intent connection string*.</span></span>  <span data-ttu-id="df914-183">如果没有此设置，服务器将不会尝试该连接的只读路由。</span><span class="sxs-lookup"><span data-stu-id="df914-183">Without this setting, the server would not have attempted a read-only routing of the connection.</span></span>  
  
 <span data-ttu-id="df914-184">可用性组的主数据库处理传入的只读路由请求，并尝试找到联接到主副本并配置为进行只读路由的只读副本。</span><span class="sxs-lookup"><span data-stu-id="df914-184">The primary database of the availability group processes the incoming read-only routing request and attempts to locate an online, read-only replica that is joined to the primary replica and is configured for read-only routing.</span></span>  <span data-ttu-id="df914-185">客户端收回来自主副本服务器的连接信息，并连接到确定的只读副本。</span><span class="sxs-lookup"><span data-stu-id="df914-185">The client receives back connection information from the primary replica server and connects to the identified read-only replica.</span></span>  
  
 <span data-ttu-id="df914-186">请注意，可以将应用程序意向从客户端驱动程序发送到 SQL Server 下级实例。</span><span class="sxs-lookup"><span data-stu-id="df914-186">Note that the application intent can be sent from a client driver to a down-level instance of SQL Server.</span></span>  <span data-ttu-id="df914-187">在此情况下，将忽略只读的应用程序意向，并且连接将照常继续。</span><span class="sxs-lookup"><span data-stu-id="df914-187">In this case, application intent of read-only is ignored and the connection proceeds as normal.</span></span>  
  
 <span data-ttu-id="df914-188">通过不将应用程序意向连接属性设置为 `ReadOnly`（不指定时，在登录过程中默认为 `ReadWrite`），或通过直接连接到 SQL Server 实例的主副本而不使用可用性组侦听器名称，可以跳过只读路由。</span><span class="sxs-lookup"><span data-stu-id="df914-188">You can bypass read-only routing by not setting the application intent connection property to `ReadOnly` (when not designated, the default is `ReadWrite` during login) or by connecting directly to the primary replica instance of SQL Server instead of using the availability group listener name.</span></span>  <span data-ttu-id="df914-189">如果您直接连接到只读副本，也不会发生只读路由。</span><span class="sxs-lookup"><span data-stu-id="df914-189">Read-only routing will also not occur if you connect directly to a read-only replica.</span></span>  
  
####  <a name="related-tasks"></a><a name="RelatedTasksApps"></a> <span data-ttu-id="df914-190">相关任务</span><span class="sxs-lookup"><span data-stu-id="df914-190">Related Tasks</span></span>  
  
-   [<span data-ttu-id="df914-191">对高可用性、灾难恢复的 SQL Server Native Client 支持</span><span class="sxs-lookup"><span data-stu-id="df914-191">SQL Server Native Client Support for High Availability, Disaster Recovery</span></span>](../relational-databases/native-client/features/sql-server-native-client-support-for-high-availability-disaster-recovery.md)  
  
-   [<span data-ttu-id="df914-192">将连接字符串关键字用于 SQL Server 本机客户端</span><span class="sxs-lookup"><span data-stu-id="df914-192">Using Connection String Keywords with SQL Server Native Client</span></span>](../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md)  
  
##  <a name="bypassing-availability-group-listeners"></a><a name="BypassAGl"></a><span data-ttu-id="df914-193">绕过可用性组侦听器</span><span class="sxs-lookup"><span data-stu-id="df914-193">Bypassing Availability Group Listeners</span></span>  
 <span data-ttu-id="df914-194">当可用性组侦听器支持故障转移重定向和只读路由时，客户端连接无需使用这两个功能。</span><span class="sxs-lookup"><span data-stu-id="df914-194">While availability group listeners enable support for failover redirection and read-only routing, client connections are not required to use them.</span></span> <span data-ttu-id="df914-195">客户端连接还可以直接引用 SQL Server 实例，而不是连接到可用性组侦听器。</span><span class="sxs-lookup"><span data-stu-id="df914-195">A client connection can also directly reference the instance of SQL Server instead of connecting to the availability group listener.</span></span>  
  
 <span data-ttu-id="df914-196">对于 SQL Server 实例，无论连接是使用可用性组侦听器还是使用其他实例端点登录都无关紧要。</span><span class="sxs-lookup"><span data-stu-id="df914-196">To the instance of SQL Server it is irrelevant whether a connection logs in using the availability group listener or using another instance endpoint.</span></span>  <span data-ttu-id="df914-197">SQL Server 实例将验证目标数据库的状态，并允许或禁止基于可用性组配置和当前实例的数据库状态进行连接。</span><span class="sxs-lookup"><span data-stu-id="df914-197">The instance of SQL Server will verify the state of the targeted database and either allow or disallow connectivity based on the configuration of the availability group and the current state of the database on the instance.</span></span>  <span data-ttu-id="df914-198">例如，如果客户端应用程序直接连接到 SQL Server 实例的端口并连接到可用性组中承载的目标数据库，且该目标数据库处于主状态和联机状态，则连接将获得成功。</span><span class="sxs-lookup"><span data-stu-id="df914-198">For example, if a client application connects directly to a instance of SQL Server port and connects to a target database hosted in an availability group, and the target database is in primary state and online, then connectivity will succeed.</span></span>  <span data-ttu-id="df914-199">如果目标数据库处于脱机或过渡状态，将无法连接到数据库。</span><span class="sxs-lookup"><span data-stu-id="df914-199">If the target database is offline or in a transitional state, connectivity to the database will fail.</span></span>  
  
 <span data-ttu-id="df914-200">此外，当从数据库镜像迁移到 [!INCLUDE[ssHADR](../includes/sshadr-md.md)]时，只要只有一个辅助副本存在且该副本禁止用户连接，应用程序就可以指定数据库镜像连接字符串。</span><span class="sxs-lookup"><span data-stu-id="df914-200">Alternatively, while migrating from database mirroring to [!INCLUDE[ssHADR](../includes/sshadr-md.md)], applications can specify the database mirroring connection string as long as only one secondary replica exists and it disallows user connections.</span></span> <span data-ttu-id="df914-201">有关详细信息，请参阅本节后面的 [将数据库镜像连接字符串用于可用性组](#DbmConnectionString)。</span><span class="sxs-lookup"><span data-stu-id="df914-201">For more information, see [Using Database-Mirroring Connection Strings with Availability Groups](#DbmConnectionString), later in this section.</span></span>  
  
###  <a name="using-database-mirroring-connection-strings-with-availability-groups"></a><a name="DbmConnectionString"></a><span data-ttu-id="df914-202">将数据库镜像连接字符串用于可用性组</span><span class="sxs-lookup"><span data-stu-id="df914-202">Using Database-Mirroring Connection Strings with Availability Groups</span></span>  
 <span data-ttu-id="df914-203">如果可用性组仅拥有一个辅助副本并且未配置为允许对辅助副本进行读访问，则客户端可以通过使用数据库镜像连接字符串连接到主副本。</span><span class="sxs-lookup"><span data-stu-id="df914-203">If an availability group possesses only one secondary replica and is not configured to allow read-access to the secondary replica, clients can connect to the primary replica by using a database mirroring connection string.</span></span> <span data-ttu-id="df914-204">在将现有应用程序从数据库镜像迁移到可用性组时，此方法可能会很有用，只要您将可用性组限制为两个可用性副本（一个主副本和一个辅助副本）。</span><span class="sxs-lookup"><span data-stu-id="df914-204">This approach can be useful while migrating an existing application from database mirroring to an availability group, as long as you limit the availability group to two availability replicas (a primary replica and one secondary replica).</span></span> <span data-ttu-id="df914-205">如果添加其他辅助副本，您需要为该可用性组创建一个可用性组侦听器，并更新您的应用程序以使用该可用性组侦听器 DNS 名称。</span><span class="sxs-lookup"><span data-stu-id="df914-205">If you add additional secondary replicas, you will need to create an availability group listener for the availability group and update your applications to use the availability group listener DNS name.</span></span>  
  
 <span data-ttu-id="df914-206">在使用数据库镜像连接字符串时，客户端可使用 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client 或用于 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]的 .NET Framework 数据访问接口。</span><span class="sxs-lookup"><span data-stu-id="df914-206">When using database mirroring connection strings, the client can use either [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client or .NET Framework Data Provider for [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="df914-207">客户端提供的连接字符串必须至少提供一个服务器实例的名称，即“初始伙伴名称”  ，以便标识最初承载您想要连接到的可用性副本的服务器实例。</span><span class="sxs-lookup"><span data-stu-id="df914-207">The connection string provided by a client must minimally supply the name of one server instance, the *initial partner name*, to identify the server instance that initially hosts the availability replica to which you intend to connect.</span></span> <span data-ttu-id="df914-208">此外，连接字符串还可以提供另一个服务器实例的名称，即“故障转移伙伴名称”  ，以便标识最初将辅助副本作为故障转移伙伴名称承载的服务器实例。</span><span class="sxs-lookup"><span data-stu-id="df914-208">Optionally, the connection string can also supply the name of another server instance, the *failover partner name*, to identify the server instance that initially hosts the secondary replica as the failover partner name.</span></span>  
  
 <span data-ttu-id="df914-209">有关数据库镜像连接字符串详细信息，请参阅 [将客户端连接到数据库镜像会话 (SQL Server)](database-mirroring/connect-clients-to-a-database-mirroring-session-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="df914-209">For more information about database mirroring connection strings, see [Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;](database-mirroring/connect-clients-to-a-database-mirroring-session-sql-server.md).</span></span>  
  
##  <a name="behavior-of-client-connections-on-failover"></a><a name="CCBehaviorOnFailover"></a><span data-ttu-id="df914-210">故障转移时的客户端连接行为</span><span class="sxs-lookup"><span data-stu-id="df914-210">Behavior of Client Connections on Failover</span></span>  
 <span data-ttu-id="df914-211">当发生可用性组故障转移时，到可用性组的现有持久连接都将终止，并且客户端必须建立新连接才能继续使用相同的主数据库或只读辅助数据库。</span><span class="sxs-lookup"><span data-stu-id="df914-211">When an availability group failover occurs, existing persistent connections to the availability group are terminated and the client must establish a new connection in order to continue working with the same primary database or read-only secondary database.</span></span>  <span data-ttu-id="df914-212">当服务器端发生故障转移时，到可用性组的连接可能会失败，这就强制客户端应用程序重试连接，直至主副本完全回到联机状态。</span><span class="sxs-lookup"><span data-stu-id="df914-212">While a failover is occurring on the server side, connectivity to the availability group may fail, forcing the client application to retry connecting until the primary is brought fully back online.</span></span>  
  
 <span data-ttu-id="df914-213">如果在客户端应用程序的连接尝试期间但在连接超时期限之前可用性组回到联机状态，则在其内部的其中一次重试期间，客户端驱动程序可能会成功连接，并且在此情况下应用程序不会出现任何错误。</span><span class="sxs-lookup"><span data-stu-id="df914-213">If the availability group comes back online during a client application's connection attempt but before the connect timeout period, the client driver may successfully connect during one of its internal retry attempts and no error will be surfaced to the application in this case.</span></span>  
  
##  <a name="supporting-availability-group-multi-subnet-failovers"></a><a name="SupportAgMultiSubnetFailover"></a> <span data-ttu-id="df914-214">支持可用性组多子网故障转移</span><span class="sxs-lookup"><span data-stu-id="df914-214">Supporting Availability Group Multi-Subnet Failovers</span></span>  
 <span data-ttu-id="df914-215">如果使用支持连接字符串中 MultiSubnetFailover 连接选项的客户端库，则可通过将 MultiSubnetFailover 设置为“True”或“Yes”（根据使用的提供程序的语法），优化到不同子网的可用性组故障转移。</span><span class="sxs-lookup"><span data-stu-id="df914-215">If you are using client libraries that support the MultiSubnetFailover connection option in the connection string, you can optimize availability group failover to a different subnet by setting MultiSubnetFailover to "True" or "Yes", depending on the syntax of the provider you are using.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="df914-216">对于到可用性组侦听器以及到 SQL Server 故障转移群集实例名称的单个和多子网连接，建议使用此设置。</span><span class="sxs-lookup"><span data-stu-id="df914-216">We recommend this setting for both single and multi-subnet connections to availability groups listeners and to SQL Server Failover Cluster Instance names.</span></span>  <span data-ttu-id="df914-217">启用此选项将添加额外的优化，即使对于单子网方案也不例外。</span><span class="sxs-lookup"><span data-stu-id="df914-217">Enabling this option adds additional optimizations, even for single-subnet scenarios.</span></span>  
  
 <span data-ttu-id="df914-218">`MultiSubnetFailover` 连接选项仅使用 TCP 网络协议，并且仅当连接到可用性组侦听器时且针对任何连接到 [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] 的虚拟网络名称才支持此选项。</span><span class="sxs-lookup"><span data-stu-id="df914-218">The `MultiSubnetFailover` connection option only works with the TCP network protocol and is only supported when connecting to an availability group listener and for any virtual network name connecting to [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)].</span></span>  
  
 <span data-ttu-id="df914-219">如下所示是针对实现多子网故障转移的 ADO.NET 访问接口 (System.Data.SqlClient) 连接字符串的一个示例：</span><span class="sxs-lookup"><span data-stu-id="df914-219">An example of a for the ADO.NET provider (System.Data.SqlClient) connection string that enables multi-subnet failover is as follows:</span></span>  
  
```  
Server=tcp:AGListener,1433;Database=AdventureWorks;IntegratedSecurity=SSPI; MultiSubnetFailover=True  
```  
  
 <span data-ttu-id="df914-220">`MultiSubnetFailover` 连接选项应设置为 `True`，即使可用性组仅跨单子网也不例外。</span><span class="sxs-lookup"><span data-stu-id="df914-220">The `MultiSubnetFailover` connection option should be set to `True` even if the availability group only spans a single subnet.</span></span>  <span data-ttu-id="df914-221">这允许您预先配置新的客户端以支持进一步跨多个子网，而无需进一步更改客户端连接字符串，还可以优化单子网故障转移的故障转移性能。</span><span class="sxs-lookup"><span data-stu-id="df914-221">This allows you to preconfigure new clients to support future spanning of subnets without any need for future client connection string changes and also optimizes failover performance for single subnet failovers.</span></span>  <span data-ttu-id="df914-222">在不需要 `MultiSubnetFailover` 连接选项时，它将提供更快进行子网故障转移的优势。</span><span class="sxs-lookup"><span data-stu-id="df914-222">While the `MultiSubnetFailover` connection option is not required, it does provide the benefit of a faster subnet failover.</span></span>  <span data-ttu-id="df914-223">这是因为，客户端驱动程序将尝试为每个与可用性组关联的 IP 地址并行打开 TCP 套接字。</span><span class="sxs-lookup"><span data-stu-id="df914-223">This is because the client driver will attempt to open up a TCP socket for each IP address in parallel associated with the availability group.</span></span>  <span data-ttu-id="df914-224">客户端驱动程序将等待第一个 IP 响应成功，一旦成功，就将其用于连接。</span><span class="sxs-lookup"><span data-stu-id="df914-224">The client driver will wait for the first IP to respond with success and once it does, will then use it for the connection.</span></span>  
  
##  <a name="availability-group-listeners-and-ssl-certificates"></a><a name="SSLcertificates"></a> <span data-ttu-id="df914-225">可用性组侦听器和 SSL 证书</span><span class="sxs-lookup"><span data-stu-id="df914-225">Availability Group Listeners and SSL Certificates</span></span>  
 <span data-ttu-id="df914-226">当连接到可用性组侦听器时，如果参与的 SQL Server 实例将 SSL 证书与会话加密结合使用，则正在连接的客户端驱动程序将需要支持 SSL 证书中的“主题备用名称”以便强制加密。</span><span class="sxs-lookup"><span data-stu-id="df914-226">When connecting to an availability group listener, if the participating instances of SQL Server use SSL certificates in conjunction with session encryption, the connecting client driver will need to support the Subject Alternate Name in the SSL certificate in order to force encryption.</span></span>  <span data-ttu-id="df914-227">SQL Server 驱动程序对于证书“主题备用名称”的支持计划用于 ADO.NET (SqlClient)、Microsoft JDBC 和 SQL Native Client (SNAC)。</span><span class="sxs-lookup"><span data-stu-id="df914-227">SQL Server driver support for certificate Subject Alternative Name is planned for ADO.NET (SqlClient), Microsoft JDBC and SQL Native Client (SNAC).</span></span>  
  
 <span data-ttu-id="df914-228">必须为故障转移群集中每个参与的服务器节点配置 A X.509 证书，并在证书“主题备用名称”中设置所有可用性组侦听器的列表。</span><span class="sxs-lookup"><span data-stu-id="df914-228">A X.509 certificate must be configured for each participating server node in the failover cluster with a list of all availability group listeners set in the Subject Alternate Name of the certificate.</span></span>  
  
 <span data-ttu-id="df914-229">例如，如果 WSFC 具有三个可用性组侦听器，名称分别为 `AG1_listener.Adventure-Works.com`、 `AG2_listener.Adventure-Works.com`和 `AG3_listener.Adventure-Works.com`，则证书的“主题备用名称”应设置如下：</span><span class="sxs-lookup"><span data-stu-id="df914-229">For example, if the WSFC has three availability group listeners with the names `AG1_listener.Adventure-Works.com`, `AG2_listener.Adventure-Works.com`, and `AG3_listener.Adventure-Works.com`, the Subject Alternative Name for the certificate should be set as follows:</span></span>  
  
```  
CN = ServerFQDN  
SAN = ServerFQDN,AG1_listener.Adventure-Works.com, AG2_listener.Adventure-Works.com, AG3_listener.Adventure-Works.com  
```  
  
##  <a name="availability-group-listeners-and-server-principal-names-spns"></a><a name="SPNs"></a><span data-ttu-id="df914-230">可用性组侦听器和服务器主体名称 (Spn) </span><span class="sxs-lookup"><span data-stu-id="df914-230">Availability Group Listeners and Server Principal Names (SPNs)</span></span>  
 <span data-ttu-id="df914-231">必须由域管理员在 Active Directory 中为每个可用性组侦听器名称配置服务器主体名称 (SPN)，才能为到可用性组侦听器的客户端连接启用 Kerberos。</span><span class="sxs-lookup"><span data-stu-id="df914-231">A Server Principal Name (SPN) must be configured in Active Directory by a domain administrator for each availability group listener name in order to enable Kerberos for the client connection to the availability group listener.</span></span> <span data-ttu-id="df914-232">注册 SPN 时，必须使用托管可用性副本的服务器实例的服务帐户。</span><span class="sxs-lookup"><span data-stu-id="df914-232">When registering the SPN, you must use the service account of the server instance that hosts the availability replica .</span></span>  <span data-ttu-id="df914-233">对于跨所有副本工作的 SPN，必须为承载可用性组的 WSFC 群集中的所有实例使用相同的服务帐户。</span><span class="sxs-lookup"><span data-stu-id="df914-233">For the SPN to work across all replicas, the same service account must be used for all instances in the WSFC cluster that hosts the availability group.</span></span>  
  
 <span data-ttu-id="df914-234">使用 Windows 命令行工具 `setspn` 配置 SPN。</span><span class="sxs-lookup"><span data-stu-id="df914-234">Use the `setspn` Windows command line tool to configure the SPN.</span></span>  <span data-ttu-id="df914-235">例如，要为一组 SQL Server 实例上承载的名为 `AG1listener.Adventure-Works.com` 的可用性组配置 SPN，所有实例都应被配置为在域帐户 `corp/svclogin2`下运行：</span><span class="sxs-lookup"><span data-stu-id="df914-235">For example to configure an SPN for an availability group named `AG1listener.Adventure-Works.com` hosted on a set of instances of SQL Server all configured to run under the domain account `corp/svclogin2`:</span></span>  
  
```cmd
setspn -A MSSQLSvc/AG1listener.Adventure-Works.com:1433 corp/svclogin2  
```  
  
 <span data-ttu-id="df914-236">有关为 SQL Server 手动注册 SPN 的详细信息，请参阅 [为 Kerberos 连接注册服务主体名称](configure-windows/register-a-service-principal-name-for-kerberos-connections.md)。</span><span class="sxs-lookup"><span data-stu-id="df914-236">For more information about manual registration of a SPN for SQL Server, see [Register a Service Principal Name for Kerberos Connections](configure-windows/register-a-service-principal-name-for-kerberos-connections.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="df914-237">相关任务</span><span class="sxs-lookup"><span data-stu-id="df914-237">Related Tasks</span></span>  
  
-   [<span data-ttu-id="df914-238">AlwaysOn 客户端连接 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="df914-238">AlwaysOn Client Connectivity &#40;SQL Server&#41;</span></span>](availability-groups/windows/always-on-client-connectivity-sql-server.md)
  
-   [<span data-ttu-id="df914-239">创建或配置可用性组侦听程序 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-239">Create or Configure an Availability Group Listener &#40;SQL Server&#41;</span></span>](availability-groups/windows/create-or-configure-an-availability-group-listener-sql-server.md)  
  
-   [<span data-ttu-id="df914-240">查看可用性组侦听程序属性 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-240">View Availability Group Listener Properties &#40;SQL Server&#41;</span></span>](availability-groups/windows/view-availability-group-listener-properties-sql-server.md)  
  
-   [<span data-ttu-id="df914-241">删除可用性组侦听程序 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-241">Remove an Availability Group Listener &#40;SQL Server&#41;</span></span>](availability-groups/windows/remove-an-availability-group-listener-sql-server.md)  
  
-   [<span data-ttu-id="df914-242">配置对可用性副本的只读访问 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-242">Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;</span></span>](availability-groups/windows/configure-read-only-access-on-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="df914-243">为可用性组配置只读路由 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-243">Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;</span></span>](availability-groups/windows/configure-read-only-routing-for-an-availability-group-sql-server.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="df914-244">相关内容</span><span class="sxs-lookup"><span data-stu-id="df914-244">Related Content</span></span>  
  
-   [<span data-ttu-id="df914-245">用于高可用性和灾难恢复的 Microsoft SQL Server AlwaysOn 解决方案指南</span><span class="sxs-lookup"><span data-stu-id="df914-245">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
-   <span data-ttu-id="df914-246">[可用性组侦听程序简介](https://blogs.msdn.com/b/sqlalwayson/archive/2012/01/16/introduction-to-the-availability-group-listener.aspx)（SQL Server AlwaysOn 团队博客）</span><span class="sxs-lookup"><span data-stu-id="df914-246">[Introduction to the Availability Group Listener](https://blogs.msdn.com/b/sqlalwayson/archive/2012/01/16/introduction-to-the-availability-group-listener.aspx) (a SQL Server AlwaysOn team blog)</span></span>  
  
-   [<span data-ttu-id="df914-247">SQL Server AlwaysOn 团队博客：SQL Server AlwaysOn 官方团队博客</span><span class="sxs-lookup"><span data-stu-id="df914-247">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="df914-248">另请参阅</span><span class="sxs-lookup"><span data-stu-id="df914-248">See Also</span></span>  
 <span data-ttu-id="df914-249">[AlwaysOn 可用性组 &#40;SQL Server 概述&#41;](availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="df914-249">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="df914-250">AlwaysOn 客户端连接 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="df914-250">AlwaysOn Client Connectivity &#40;SQL Server&#41;</span></span>](availability-groups/windows/always-on-client-connectivity-sql-server.md)  
 <span data-ttu-id="df914-251">[关于对可用性副本的客户端连接访问 &#40;SQL Server&#41;](availability-groups/windows/about-client-connection-access-to-availability-replicas-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="df914-251">[About Client Connection Access to Availability Replicas &#40;SQL Server&#41;](availability-groups/windows/about-client-connection-access-to-availability-replicas-sql-server.md) </span></span>  
 <span data-ttu-id="df914-252">[活动辅助副本：可读辅助副本 &#40;AlwaysOn 可用性组&#41;](availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="df914-252">[Active Secondaries: Readable Secondary Replicas &#40;AlwaysOn Availability Groups&#41;](availability-groups/windows/active-secondaries-readable-secondary-replicas-always-on-availability-groups.md) </span></span>  
 [<span data-ttu-id="df914-253">将客户端连接到数据库镜像会话 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="df914-253">Connect Clients to a Database Mirroring Session &#40;SQL Server&#41;</span></span>](database-mirroring/connect-clients-to-a-database-mirroring-session-sql-server.md)
