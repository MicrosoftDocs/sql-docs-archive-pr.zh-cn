---
title: 数据库引擎服务启动选项 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- single-user mode [SQL Server], startup option
- overriding default startup options
- minimal configuration mode [SQL Server], startup option
- default startup options
- temporarily override default startup options [SQL Server]
- startup options [SQL Server]
- starting SQL Server, options
ms.assetid: d373298b-f6cf-458a-849d-7083ecb54ef5
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 844c0813453d371ed204dff6f8976f08bad63fe5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588020"
---
# <a name="database-engine-service-startup-options"></a><span data-ttu-id="45938-102">数据库引擎服务启动选项</span><span class="sxs-lookup"><span data-stu-id="45938-102">Database Engine Service Startup Options</span></span>
  <span data-ttu-id="45938-103">启动选项指定在启动期间所需的某些文件位置，并指定一些服务器范围的条件。</span><span class="sxs-lookup"><span data-stu-id="45938-103">Startup options designate certain file locations needed during startup, and specify some server wide conditions.</span></span> <span data-ttu-id="45938-104">大多数用户不需要指定启动选项，除非您在排除 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 故障或者具有不常见问题，并且 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 客户支持指示使用启动选项。</span><span class="sxs-lookup"><span data-stu-id="45938-104">Most users do not need to specify startup options unless you are troubleshooting the [!INCLUDE[ssDE](../../includes/ssde-md.md)] or you have an unusual problem and are directed to use a startup option by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Customer Support.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="45938-105">错误地使用启动选项可能会影响服务器性能并且可能阻止 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 启动。</span><span class="sxs-lookup"><span data-stu-id="45938-105">Improper use of startup options can affect server performance and can prevent [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from starting.</span></span>  
  
## <a name="about-startup-options"></a><span data-ttu-id="45938-106">关于启动选项</span><span class="sxs-lookup"><span data-stu-id="45938-106">About Startup Options</span></span>  
 <span data-ttu-id="45938-107">安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]时，安装程序会将一组默认的启动选项写入 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows 注册表。</span><span class="sxs-lookup"><span data-stu-id="45938-107">When you install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], Setup writes a set of default startup options in the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows registry.</span></span> <span data-ttu-id="45938-108">可以使用这些启动选项指定备用的 master 数据库文件、master 数据库日志文件或错误日志文件。</span><span class="sxs-lookup"><span data-stu-id="45938-108">You can use these startup options to specify an alternate master database file, master database log file, or error log file.</span></span> <span data-ttu-id="45938-109">如果 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 找不到所需文件， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 将不启动。</span><span class="sxs-lookup"><span data-stu-id="45938-109">If the [!INCLUDE[ssDE](../../includes/ssde-md.md)] cannot locate the necessary files, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will not start.</span></span>  
  
 <span data-ttu-id="45938-110">可以使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 配置管理器设置启动选项。</span><span class="sxs-lookup"><span data-stu-id="45938-110">Startup options can be set by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="45938-111">有关信息，请参阅[配置服务器启动选项 (SQL Server Configuration Manager)](scm-services-configure-server-startup-options.md)。</span><span class="sxs-lookup"><span data-stu-id="45938-111">For information, see [Configure Server Startup Options &#40;SQL Server Configuration Manager&#41;](scm-services-configure-server-startup-options.md).</span></span>  
  
## <a name="list-of-startup-options"></a><span data-ttu-id="45938-112">启动选项列表</span><span class="sxs-lookup"><span data-stu-id="45938-112">List of Startup Options</span></span>  
  
|<span data-ttu-id="45938-113">默认启动选项</span><span class="sxs-lookup"><span data-stu-id="45938-113">Default startup options</span></span>|<span data-ttu-id="45938-114">说明</span><span class="sxs-lookup"><span data-stu-id="45938-114">Description</span></span>|  
|-----------------------------|-----------------|  
|<span data-ttu-id="45938-115">**-d**  *master_file_path*</span><span class="sxs-lookup"><span data-stu-id="45938-115">**-d**  *master_file_path*</span></span>|<span data-ttu-id="45938-116">是 master 数据库文件的完全限定路径（通常为：C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Data\master.mdf）。</span><span class="sxs-lookup"><span data-stu-id="45938-116">Is the fully qualified path for the master database file (typically, C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Data\master.mdf).</span></span> <span data-ttu-id="45938-117">如果没有提供此选项，则使用现有的注册表参数。</span><span class="sxs-lookup"><span data-stu-id="45938-117">If you do not provide this option, the existing registry parameters are used.</span></span>|  
|<span data-ttu-id="45938-118">**-e**  *error_log_path*</span><span class="sxs-lookup"><span data-stu-id="45938-118">**-e**  *error_log_path*</span></span>|<span data-ttu-id="45938-119">是错误日志文件的完全限定路径（通常为 C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\LOG\ERRORLOG）。</span><span class="sxs-lookup"><span data-stu-id="45938-119">Is the fully qualified path for the error log file (typically, C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\LOG\ERRORLOG).</span></span> <span data-ttu-id="45938-120">如果没有提供此选项，则使用现有的注册表参数。</span><span class="sxs-lookup"><span data-stu-id="45938-120">If you do not provide this option, the existing registry parameters are used.</span></span>|  
|<span data-ttu-id="45938-121">**-l**  *master_log_path*</span><span class="sxs-lookup"><span data-stu-id="45938-121">**-l**  *master_log_path*</span></span>|<span data-ttu-id="45938-122">是 master 数据库日志文件的完全限定路径（通常为：C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Data\mastlog.ldf）。</span><span class="sxs-lookup"><span data-stu-id="45938-122">Is the fully qualified path for the master database log file (typically C:\Program Files\Microsoft SQL Server\MSSQL.*n*\MSSQL\Data\mastlog.ldf).</span></span> <span data-ttu-id="45938-123">如果没有指定此选项，则使用现有的注册表参数。</span><span class="sxs-lookup"><span data-stu-id="45938-123">If you do not specify this option, the existing registry parameters are used.</span></span>|  
  
|<span data-ttu-id="45938-124">其他启动选项</span><span class="sxs-lookup"><span data-stu-id="45938-124">Other startup options</span></span>|<span data-ttu-id="45938-125">说明</span><span class="sxs-lookup"><span data-stu-id="45938-125">Description</span></span>|  
|---------------------------|-----------------|  
|<span data-ttu-id="45938-126">**-c**</span><span class="sxs-lookup"><span data-stu-id="45938-126">**-c**</span></span>|<span data-ttu-id="45938-127">缩短从命令提示符启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 时的启动时间。</span><span class="sxs-lookup"><span data-stu-id="45938-127">Shortens startup time when starting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from the command prompt.</span></span> <span data-ttu-id="45938-128">通常， [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 通过调用服务控制管理器作为服务启动。</span><span class="sxs-lookup"><span data-stu-id="45938-128">Typically, the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] starts as a service by calling the Service Control Manager.</span></span> <span data-ttu-id="45938-129">由于在通过命令提示符启动时 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 不作为服务启动，因此请使用 **-c** 跳过此步骤。</span><span class="sxs-lookup"><span data-stu-id="45938-129">Because the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] does not start as a service when starting from the command prompt, use **-c** to skip this step.</span></span>|  
|<span data-ttu-id="45938-130">**-f**</span><span class="sxs-lookup"><span data-stu-id="45938-130">**-f**</span></span>|<span data-ttu-id="45938-131">以最小配置启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="45938-131">Starts an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with minimal configuration.</span></span> <span data-ttu-id="45938-132">在配置值的设置（例如，过度分配内存）妨碍服务器启动时，这非常有用。</span><span class="sxs-lookup"><span data-stu-id="45938-132">This is useful if the setting of a configuration value (for example, over-committing memory) has prevented the server from starting.</span></span> <span data-ttu-id="45938-133">在最低配置模式下启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 会将 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 置于单用户模式。</span><span class="sxs-lookup"><span data-stu-id="45938-133">Starting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in minimal configuration mode places [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode.</span></span> <span data-ttu-id="45938-134">有关详细信息，请参阅下面的 **-m** 说明。</span><span class="sxs-lookup"><span data-stu-id="45938-134">For more information, see the description for **-m** that follows.</span></span>|  
|<span data-ttu-id="45938-135">**-g**  *memory_to_reserve*</span><span class="sxs-lookup"><span data-stu-id="45938-135">**-g**  *memory_to_reserve*</span></span>|<span data-ttu-id="45938-136">指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 为在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 进程之内但在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 内存池之外分配内存而保留的内存整数量 (MB)。</span><span class="sxs-lookup"><span data-stu-id="45938-136">Specifies an integer number of megabytes (MB) of memory that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will leave available for memory allocations within the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process, but outside the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] memory pool.</span></span> <span data-ttu-id="45938-137">内存池以外的内存是指 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 用于加载诸如下列项目的区域：扩展过程 .dll 文件、分布式查询引用的 OLE DB 提供程序以及 [!INCLUDE[tsql](../../includes/tsql-md.md)] 语句中引用的自动化对象。</span><span class="sxs-lookup"><span data-stu-id="45938-137">The memory outside of the memory pool is the area used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] for loading items, such as extended procedure .dll files, the OLE DB providers referenced by distributed queries, and automation objects referenced in [!INCLUDE[tsql](../../includes/tsql-md.md)] statements.</span></span> <span data-ttu-id="45938-138">默认值为 256 MB。</span><span class="sxs-lookup"><span data-stu-id="45938-138">The default is 256 MB.</span></span><br /><br /> <span data-ttu-id="45938-139">使用此选项可帮助优化内存分配，但仅限于物理内存超过操作系统设置的应用程序可用虚拟内存配置限制时。</span><span class="sxs-lookup"><span data-stu-id="45938-139">Use of this option might help tune memory allocation, but only when physical memory exceeds the configured limit set by the operating system on virtual memory available to applications.</span></span> <span data-ttu-id="45938-140">如果 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的内存使用要求异乎寻常，并且 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 进程的虚拟地址空间都在使用，则对于这样的大内存配置适合使用此选项。</span><span class="sxs-lookup"><span data-stu-id="45938-140">Use of this option might be appropriate in large memory configurations in which the memory usage requirements of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are atypical and the virtual address space of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process is totally in use.</span></span> <span data-ttu-id="45938-141">对此选项的不当使用会导致 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例无法启动或遇到运行时错误。</span><span class="sxs-lookup"><span data-stu-id="45938-141">Incorrect use of this option can lead to conditions under which an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] may not start or may encounter run-time errors.</span></span><br /><br /> <span data-ttu-id="45938-142">除非你在 **错误日志中看到下列任何警告，否则请使用** -g [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 参数的默认值：</span><span class="sxs-lookup"><span data-stu-id="45938-142">Use the default for the **-g** parameter unless you see any of the following warnings in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error log:</span></span><br /><br /> <span data-ttu-id="45938-143">-"虚拟分配字节失败： FAIL_VIRTUAL_RESERVE \<size> "</span><span class="sxs-lookup"><span data-stu-id="45938-143">-"Failed Virtual Allocate Bytes: FAIL_VIRTUAL_RESERVE \<size>"</span></span><br /><br /> <span data-ttu-id="45938-144">-"虚拟分配字节失败： FAIL_VIRTUAL_COMMIT \<size> "</span><span class="sxs-lookup"><span data-stu-id="45938-144">-"Failed Virtual Allocate Bytes: FAIL_VIRTUAL_COMMIT \<size>"</span></span><br /><br /> <span data-ttu-id="45938-145">这些消息可能指示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 正试图释放部分 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 内存池空间，以便为扩展存储过程 .dll 文件或自动化对象等项目找到空间。</span><span class="sxs-lookup"><span data-stu-id="45938-145">These messages might indicate that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is trying to free parts of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] memory pool in order to find space for items, such as extended stored procedure .dll files or automation objects.</span></span> <span data-ttu-id="45938-146">在这种情况下，可以考虑增加由 **-g** 开关保留的内存量。</span><span class="sxs-lookup"><span data-stu-id="45938-146">In this case, consider increasing the amount of memory reserved by the **-g** switch.</span></span><br /><br /> <span data-ttu-id="45938-147">使用小于默认值的值将增加 SQL Server 内存管理器所管理的内存池和线程栈中的可用内存量；而在不使用很多扩展存储过程、分布式查询或自动化对象的系统中，这种方法可改善需要大量内存的工作负荷的性能。</span><span class="sxs-lookup"><span data-stu-id="45938-147">Using a value lower than the default will increase the amount of memory available to the memory pool managed by the SQL Server Memory Manager and thread stacks; this may, in turn, provide some performance benefit to memory-intensive workloads in systems that do not use many extended stored procedures, distributed queries, or automation objects.</span></span>|  
|<span data-ttu-id="45938-148">**-m**</span><span class="sxs-lookup"><span data-stu-id="45938-148">**-m**</span></span>|<span data-ttu-id="45938-149">在单用户模式下启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="45938-149">Starts an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode.</span></span> <span data-ttu-id="45938-150">在单用户模式下启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例时，只能连接一个用户，并且不启动 CHECKPOINT 进程。</span><span class="sxs-lookup"><span data-stu-id="45938-150">When you start an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode, only a single user can connect, and the CHECKPOINT process is not started.</span></span> <span data-ttu-id="45938-151">CHECKPOINT 保证将已完成的事务定期从磁盘缓存写入数据库设备。</span><span class="sxs-lookup"><span data-stu-id="45938-151">CHECKPOINT guarantees that completed transactions are regularly written from the disk cache to the database device.</span></span> <span data-ttu-id="45938-152">（通常，在遇到需要修复的系统数据库问题时使用此选项。）启用 sp_configure allow updates 选项。</span><span class="sxs-lookup"><span data-stu-id="45938-152">(Typically, this option is used if you experience problems with system databases that should be repaired.) Enables the sp_configure allow updates option.</span></span> <span data-ttu-id="45938-153">默认情况下，allow updates 处于禁用状态。</span><span class="sxs-lookup"><span data-stu-id="45938-153">By default, allow updates is disabled.</span></span> <span data-ttu-id="45938-154">在单用户模式下启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 可使计算机本地 Administrators 组的任何成员作为 sysadmin 固定服务器角色的成员连接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="45938-154">Starting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode enables any member of the computer's local Administrators group to connect to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] as a member of the sysadmin fixed server role.</span></span> <span data-ttu-id="45938-155">有关详细信息，请参阅 [在系统管理员被锁定时连接到 SQL Server](connect-to-sql-server-when-system-administrators-are-locked-out.md)。有关单用户模式的详细信息，请参阅 [在单用户模式下启动 SQL Server](start-sql-server-in-single-user-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="45938-155">For more information, see [Connect to SQL Server When System Administrators Are Locked Out](connect-to-sql-server-when-system-administrators-are-locked-out.md). For more information about single-user mode, see [Start SQL Server in Single-User Mode](start-sql-server-in-single-user-mode.md).</span></span>|  
|<span data-ttu-id="45938-156">**-m "客户端应用程序名称"**</span><span class="sxs-lookup"><span data-stu-id="45938-156">**-m"Client Application Name"**</span></span>|<span data-ttu-id="45938-157">当你将 **-m** 选项与 **SQLCMD** 或 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 结合使用时，限制对指定的客户端应用程序的连接。</span><span class="sxs-lookup"><span data-stu-id="45938-157">Limits the connections to a specified client application, when you use the **-m** option with **SQLCMD** or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="45938-158">例如，-m"sqlcmd" 将连接限制为单个连接，并且该连接必须将自身标识为 SQLCMD 客户端程序。</span><span class="sxs-lookup"><span data-stu-id="45938-158">For example, **-m"SQLCMD"** limits connections to a single connection and that connection must identify itself as the **SQLCMD** client program.</span></span> <span data-ttu-id="45938-159">当您正在单用户模式下启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 并且未知的客户端应用程序正在占用这个唯一的可用连接时，使用此选项。</span><span class="sxs-lookup"><span data-stu-id="45938-159">Use this option when you are starting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in single-user mode and an unknown client application is taking the only available connection.</span></span> <span data-ttu-id="45938-160">若要通过 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]中的查询编辑器进行连接，请使用 **-m"Microsoft SQL Server Management Studio - Query"** 。</span><span class="sxs-lookup"><span data-stu-id="45938-160">To connect through the Query Editor in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], use **-m"Microsoft SQL Server Management Studio - Query"**.</span></span><br /><br /> <span data-ttu-id="45938-161">客户端应用程序名称区分大小写。</span><span class="sxs-lookup"><span data-stu-id="45938-161">Client Application Name is case sensitive.</span></span><br /><br /> <span data-ttu-id="45938-162">\*\* \* \* 安全 \* 说明 \* \*\*请勿将此选项作为安全功能使用。</span><span class="sxs-lookup"><span data-stu-id="45938-162">**\*\* Security Note \*\*** Do not use this option as a security feature.</span></span> <span data-ttu-id="45938-163">客户端应用程序提供客户端应用程序名称，并且提供假名称来作为连接字符串的一部分。</span><span class="sxs-lookup"><span data-stu-id="45938-163">The client application provides the client application name, and can provide a false name as part of the connection string.</span></span>|  
|<span data-ttu-id="45938-164">**-n**</span><span class="sxs-lookup"><span data-stu-id="45938-164">**-n**</span></span>|<span data-ttu-id="45938-165">不要使用 Windows 应用程序日志来记录 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 事件。</span><span class="sxs-lookup"><span data-stu-id="45938-165">Does not use the Windows application log to record [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] events.</span></span> <span data-ttu-id="45938-166">如果你使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] -n **启动**实例，我们建议你同时使用 **-e** 启动选项。</span><span class="sxs-lookup"><span data-stu-id="45938-166">If you start an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with **-n**, we recommend that you also use the **-e** startup option.</span></span> <span data-ttu-id="45938-167">否则，将不会记录 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 事件。</span><span class="sxs-lookup"><span data-stu-id="45938-167">Otherwise, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] events are not logged.</span></span>|  
|<span data-ttu-id="45938-168">**-s**</span><span class="sxs-lookup"><span data-stu-id="45938-168">**-s**</span></span>|<span data-ttu-id="45938-169">用于启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的命名实例。</span><span class="sxs-lookup"><span data-stu-id="45938-169">Allows you to start a named instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="45938-170">如果 **-s** 参数未设置，则系统会尝试启动默认实例。</span><span class="sxs-lookup"><span data-stu-id="45938-170">Without the **-s** parameter set, the default instance will try to start.</span></span> <span data-ttu-id="45938-171">必须先在命令提示符处切换到实例的相应 BINN 目录，然后才能启动 **sqlservr.exe**。</span><span class="sxs-lookup"><span data-stu-id="45938-171">You must switch to the appropriate BINN directory for the instance at a command prompt before starting **sqlservr.exe**.</span></span> <span data-ttu-id="45938-172">例如，如果 Instance1 为其二进制文件使用了 \mssql$Instance1，则用户必须位于 \mssql$Instance1\binn 目录中才能启动 **sqlservr.exe -s instance1**。</span><span class="sxs-lookup"><span data-stu-id="45938-172">For example, if Instance1 were to use \mssql$Instance1 for its binaries, the user must be in the \mssql$Instance1\binn directory to start **sqlservr.exe -s instance1**.</span></span>|  
|<span data-ttu-id="45938-173">**-T**  *trace#*</span><span class="sxs-lookup"><span data-stu-id="45938-173">**-T**  *trace#*</span></span>|<span data-ttu-id="45938-174">指示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例启动时，指定的跟踪标志 (*trace#* ) 应同时生效。</span><span class="sxs-lookup"><span data-stu-id="45938-174">Indicates that an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should be started with a specified trace flag (*trace#*) in effect.</span></span> <span data-ttu-id="45938-175">跟踪标记用于以非标准行为启动服务器。</span><span class="sxs-lookup"><span data-stu-id="45938-175">Trace flags are used to start the server with nonstandard behavior.</span></span> <span data-ttu-id="45938-176">有关详细信息，请参阅[跟踪标志 (Transact-SQL)](/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="45938-176">For more information, see [Trace Flags &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql).</span></span><br /><br /> <span data-ttu-id="45938-177">\*\* \* \* 重要 \* 说明 \* \*\*在使用 **-T**选项指定跟踪标志时，请使用大写 "T" 来传递跟踪标志号。</span><span class="sxs-lookup"><span data-stu-id="45938-177">**\*\* Important \*\*** When specifying a trace flag with the **-T** option, use an uppercase "T" to pass the trace flag number.</span></span> <span data-ttu-id="45938-178">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]也可接受小写“t”，只是它用于设置仅 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 支持工程师才需要的其他内部跟踪标志。</span><span class="sxs-lookup"><span data-stu-id="45938-178">A lowercase "t" is accepted by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], but this sets other internal trace flags that are required only by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support engineers.</span></span> <span data-ttu-id="45938-179">（不读取“控制面板”启动窗口中指定的参数。）</span><span class="sxs-lookup"><span data-stu-id="45938-179">(Parameters specified in the Control Panel startup window are not read.)</span></span>|  
|<span data-ttu-id="45938-180">**-x**</span><span class="sxs-lookup"><span data-stu-id="45938-180">**-x**</span></span>|<span data-ttu-id="45938-181">禁用下列监视功能：</span><span class="sxs-lookup"><span data-stu-id="45938-181">Disables the following monitoring features:</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="45938-182">性能监视器计数器</span><span class="sxs-lookup"><span data-stu-id="45938-182">performance monitor counters</span></span><br /><br /> <span data-ttu-id="45938-183">保留 CPU 时间和高速缓存命中率统计信息</span><span class="sxs-lookup"><span data-stu-id="45938-183">Keeping CPU time and cache-hit ratio statistics</span></span><br /><br /> <span data-ttu-id="45938-184">收集 DBCC SQLPERF 命令的信息</span><span class="sxs-lookup"><span data-stu-id="45938-184">Collecting information for the DBCC SQLPERF command</span></span><br /><br /> <span data-ttu-id="45938-185">收集某些动态管理视图的信息</span><span class="sxs-lookup"><span data-stu-id="45938-185">Collecting information for some dynamic management views</span></span><br /><br /> <span data-ttu-id="45938-186">许多扩展事件事件点</span><span class="sxs-lookup"><span data-stu-id="45938-186">Many extended-events event points</span></span><br /><br /> <br /><br /> <span data-ttu-id="45938-187">\*\* \* \* 警告 \* ： \* \*\*使用 **-x**启动选项时，可让你诊断的性能和功能问题的信息 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 大大减少。</span><span class="sxs-lookup"><span data-stu-id="45938-187">**\*\* Warning \*\*** When you use the **-x** startup option, the information that is available for you to diagnose performance and functional problems with [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is greatly reduced.</span></span>|  
|<span data-ttu-id="45938-188">**-E**</span><span class="sxs-lookup"><span data-stu-id="45938-188">**-E**</span></span>|<span data-ttu-id="45938-189">增加为文件组中的每个文件分配的区数。</span><span class="sxs-lookup"><span data-stu-id="45938-189">Increases the number of extents that are allocated for each file in a filegroup.</span></span> <span data-ttu-id="45938-190">对于那些运行索引或数据扫描的用户数量受到限制的数据仓库应用程序，此选项可能十分有用。</span><span class="sxs-lookup"><span data-stu-id="45938-190">This option may be helpful for data warehouse applications that have a limited number of users running index or data scans.</span></span> <span data-ttu-id="45938-191">不应在其他应用程序中使用此选项，因为它可能降低性能。</span><span class="sxs-lookup"><span data-stu-id="45938-191">It should not be used in other applications because it might adversely affect performance.</span></span> <span data-ttu-id="45938-192">32 位版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]不支持此选项。</span><span class="sxs-lookup"><span data-stu-id="45938-192">This option is not supported in 32-bit releases of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|  
  
## <a name="using-startup-options-for-troubleshooting"></a><span data-ttu-id="45938-193">使用启动选项进行故障排除</span><span class="sxs-lookup"><span data-stu-id="45938-193">Using Startup Options for Troubleshooting</span></span>  
 <span data-ttu-id="45938-194">某些启动选项（如单用户模式和最低配置模式）主要在故障排除过程中使用。</span><span class="sxs-lookup"><span data-stu-id="45938-194">Some startup options, such as single-user mode and minimal configuration mode, are principally used during troubleshooting.</span></span> <span data-ttu-id="45938-195">使用“-m”或“-f”选项启动服务器进行故障排除的最简单方法是使用命令行，同时还能手动启动 sqlservr.exe 。</span><span class="sxs-lookup"><span data-stu-id="45938-195">Starting the server for troubleshooting with the **-m** or **-f** options is easiest at the command line, while manually starting sqlservr.exe.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="45938-196">使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] net start **启动**时，启动选项使用的是左斜线 (/)，而不是连字符 (-)。</span><span class="sxs-lookup"><span data-stu-id="45938-196">When [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is started by using **net start**, startup options use a slash (/) instead of a hyphen (-).</span></span>  
  
## <a name="using-startup-options-during-normal-operations"></a><span data-ttu-id="45938-197">在正常操作中使用启动选项</span><span class="sxs-lookup"><span data-stu-id="45938-197">Using Startup Options During Normal Operations</span></span>  
 <span data-ttu-id="45938-198">最好在每次启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]时使用某些启动选项。</span><span class="sxs-lookup"><span data-stu-id="45938-198">You may want to use some startup options every time you start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="45938-199">完成这些选项（如“-g”或用跟踪标志启动）的最简单方法是使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 配置管理器来配置启动参数\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="45938-199">These options, such as **-g** or starting with a trace flag, are most easily done by configuring the startup parameters by using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="45938-200">这些工具将启动选项保存为注册表项，因此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 将始终用这些启动选项来启动。</span><span class="sxs-lookup"><span data-stu-id="45938-200">These tool saves the startup options as registry keys, enabling [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to always start with the startup options.</span></span>  
  
## <a name="compatibility-support"></a><span data-ttu-id="45938-201">兼容性支持</span><span class="sxs-lookup"><span data-stu-id="45938-201">Compatibility Support</span></span>  
 <span data-ttu-id="45938-202">**不支持**  -h [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]参数。</span><span class="sxs-lookup"><span data-stu-id="45938-202">The **-h**  parameter is not supported in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="45938-203">启用 AWE 时，在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 早期版本的 32 位实例使用此参数以便为热添加内存元数据保留虚拟内存地址空间。</span><span class="sxs-lookup"><span data-stu-id="45938-203">This parameter was used in earlier versions of 32-bit instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to reserve virtual memory address space for Hot Add memory metadata when AWE is enabled.</span></span> <span data-ttu-id="45938-204">有关详细信息，请参阅 [SQL Server 2014 中不再使用的 SQL Server 功能](../../getting-started/discontinued-sql-server-features-in-sql-server-2014.md)。</span><span class="sxs-lookup"><span data-stu-id="45938-204">For more information, see [Discontinued SQL Server Features in SQL Server 2014](../../getting-started/discontinued-sql-server-features-in-sql-server-2014.md).</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="45938-205">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="45938-205">Related Tasks</span></span>  
 [<span data-ttu-id="45938-206">配置 scan for startup procs 服务器配置选项</span><span class="sxs-lookup"><span data-stu-id="45938-206">Configure the scan for startup procs Server Configuration Option</span></span>](configure-the-scan-for-startup-procs-server-configuration-option.md)  
  
 [<span data-ttu-id="45938-207">启动、停止、暂停、继续、重新启动数据库引擎、SQL Server 代理或 SQL Server Browser 服务</span><span class="sxs-lookup"><span data-stu-id="45938-207">Start, Stop, Pause, Resume, Restart the Database Engine, SQL Server Agent, or SQL Server Browser Service</span></span>](start-stop-pause-resume-restart-sql-server-services.md)  
  
## <a name="see-also"></a><span data-ttu-id="45938-208">另请参阅</span><span class="sxs-lookup"><span data-stu-id="45938-208">See Also</span></span>  
 <span data-ttu-id="45938-209">[检查点 (Transact-SQL)](/sql/t-sql/language-elements/checkpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="45938-209">[CHECKPOINT &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/checkpoint-transact-sql) </span></span>  
 [<span data-ttu-id="45938-210">sqlservr Application</span><span class="sxs-lookup"><span data-stu-id="45938-210">sqlservr Application</span></span>](../../tools/sqlservr-application.md)  
  
  
