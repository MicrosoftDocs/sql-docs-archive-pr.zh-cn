---
title: 配置 Windows 服务帐户和权限 | Microsoft Docs
ms.custom: ''
ms.date: 01/28/2020
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- startup service states [SQL Server]
- Setup [SQL Server], user accounts
- Windows permissions [SQL Server]
- modifying user accounts
- default accounts
- domains [SQL Server], user accounts
- startup accounts [SQL Server]
- system accounts [SQL Server]
- services [SQL Server], permissions
- ACL (access control list)
- local system accounts [SQL Server]
- instance-aware services [SQL Server]
- permissions [SQL Server], services
- SQL Server Agent service, user accounts
- Windows NT permissions [SQL Server]
- user accounts [SQL Server]
- identifying instance-unaware services [SQL Server]
- installing SQL Server, user accounts
- disabled startup state [SQL Server]
- user accounts [SQL Server], users
- Local Service account [SQL Server]
- SQL Server Installation Wizard
- instance-unaware services [SQL Server]
- services [SQL Server], configuring at installation
- Windows accounts [SQL Server]
- SQL Server services, user accounts
- user accounts [SQL Server], services
- MSSQLServer
- identifying instance-aware services [SQL Server]
- services [SQL Server], accounts
- access control lists
- optional accounts [SQL Server]
- service accounts [SQL Server]
- accounts [SQL Server], services
- built-in system accounts [SQL Server]
- automatic startup state
- domains [SQL Server]
- manual startup state [SQL Server]
- accounts [SQL Server], user
ms.assetid: 309b9dac-0b3a-4617-85ef-c4519ce9d014
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2ec9e2022fcdfaebf3751bf8d698b032d4613a60
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588028"
---
# <a name="configure-windows-service-accounts-and-permissions"></a><span data-ttu-id="cc538-102">配置 Windows 服务帐户和权限</span><span class="sxs-lookup"><span data-stu-id="cc538-102">Configure Windows Service Accounts and Permissions</span></span>
  <span data-ttu-id="cc538-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中的每个服务表示一个进程或一组进程，用于通过 Windows 管理 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 操作的身份验证。</span><span class="sxs-lookup"><span data-stu-id="cc538-103">Each service in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] represents a process or a set of processes to manage authentication of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] operations with Windows.</span></span> <span data-ttu-id="cc538-104">本主题介绍此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]版本中服务的默认配置，以及可以在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装过程中以及安装之后设置的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务的配置选项。</span><span class="sxs-lookup"><span data-stu-id="cc538-104">This topic describes the default configuration of services in this release of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and configuration options for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services that you can set during and after [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation.</span></span>  
  
##  <a name="contents"></a><a name="Top"></a> <span data-ttu-id="cc538-105">内容</span><span class="sxs-lookup"><span data-stu-id="cc538-105">Contents</span></span>  
 <span data-ttu-id="cc538-106">本主题分为以下几个部分：</span><span class="sxs-lookup"><span data-stu-id="cc538-106">This topic is divided into the following sections:</span></span>  
  
-   [<span data-ttu-id="cc538-107">SQL Server 安装的服务</span><span class="sxs-lookup"><span data-stu-id="cc538-107">Services Installed by SQL Server</span></span>](#Service_Details)  
  
-   [<span data-ttu-id="cc538-108">服务属性和配置</span><span class="sxs-lookup"><span data-stu-id="cc538-108">Service Properties and Configuration</span></span>](#Serv_Prop)  
  
    -   [<span data-ttu-id="cc538-109">默认服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-109">Default Service Accounts</span></span>](#Default_Accts)  
  
        -   [<span data-ttu-id="cc538-110">更改帐户属性</span><span class="sxs-lookup"><span data-stu-id="cc538-110">Changing Account Properties</span></span>](#Changing_Accounts)  
  
    -   [<span data-ttu-id="cc538-111">可用于 Windows 7 和 Windows Server 2008 R2 的新帐户类型</span><span class="sxs-lookup"><span data-stu-id="cc538-111">New Account Types Available with Windows 7 and Windows Server 2008 R2</span></span>](#New_Accounts)  
  
    -   [<span data-ttu-id="cc538-112">自动启动</span><span class="sxs-lookup"><span data-stu-id="cc538-112">Automatic Startup</span></span>](#Auto_Start)  
  
    -   [<span data-ttu-id="cc538-113">在无人参与安装过程中配置服务</span><span class="sxs-lookup"><span data-stu-id="cc538-113">Configuring Services During Unattended Installation</span></span>](#Configure_services)  
  
    -   [<span data-ttu-id="cc538-114">防火墙端口</span><span class="sxs-lookup"><span data-stu-id="cc538-114">Firewall Port</span></span>](#Firewall)  
  
-   [<span data-ttu-id="cc538-115">服务权限</span><span class="sxs-lookup"><span data-stu-id="cc538-115">Service Permissions</span></span>](#Serv_Perm)  
  
    -   [<span data-ttu-id="cc538-116">服务配置和访问控制</span><span class="sxs-lookup"><span data-stu-id="cc538-116">Service Configuration and Access Control</span></span>](#Serv_SID)  
  
    -   [<span data-ttu-id="cc538-117">Windows 特权和权限</span><span class="sxs-lookup"><span data-stu-id="cc538-117">Windows Privileges and Rights</span></span>](#Windows)  
  
    -   [<span data-ttu-id="cc538-118">授予 SQL Server 每个服务 Sid 或本地 Windows 组的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-118">File System Permissions Granted to SQL Server Per-service SIDs or Local Windows Groups</span></span>](#Reviewing_ACLs)  
  
    -   [<span data-ttu-id="cc538-119">授予其他 Windows 用户帐户或组的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-119">File System Permission Granted to Other Windows User Accounts or Groups</span></span>](#File_System_Other)  
  
    -   [<span data-ttu-id="cc538-120">与非寻常磁盘位置相关的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-120">File System Permissions Related to Unusual Disk Locations</span></span>](#Unusual_Locations)  
  
    -   [<span data-ttu-id="cc538-121">查看其他注意事项</span><span class="sxs-lookup"><span data-stu-id="cc538-121">Reviewing Additional Considerations</span></span>](#Review_additional_considerations)  
  
    -   [<span data-ttu-id="cc538-122">注册表权限</span><span class="sxs-lookup"><span data-stu-id="cc538-122">Registry Permissions</span></span>](#Registry)  
  
    -   [<span data-ttu-id="cc538-123">WMI</span><span class="sxs-lookup"><span data-stu-id="cc538-123">WMI</span></span>](#WMI)  
  
    -   [<span data-ttu-id="cc538-124">命名管道</span><span class="sxs-lookup"><span data-stu-id="cc538-124">Named Pipes</span></span>](#Pipes)  
  
-   [<span data-ttu-id="cc538-125">Provisioning</span><span class="sxs-lookup"><span data-stu-id="cc538-125">Provisioning</span></span>](#Provisioning)  
  
    -   [<span data-ttu-id="cc538-126">数据库引擎预配</span><span class="sxs-lookup"><span data-stu-id="cc538-126">Database Engine Provisioning</span></span>](#DE_Prov)  
  
        -   [<span data-ttu-id="cc538-127">Windows 主体</span><span class="sxs-lookup"><span data-stu-id="cc538-127">Windows Principals</span></span>](#Win_Principals)  
  
        -   [<span data-ttu-id="cc538-128">sa 帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-128">sa Account</span></span>](#sa)  
  
        -   [<span data-ttu-id="cc538-129">SQL Server Per-service SID 登录名和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-129">SQL Server Per-service SID Login and Privileges</span></span>](#Logins)  
  
        -   [<span data-ttu-id="cc538-130">SQL Server 代理登录名和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-130">SQL Server Agent Login and Privileges</span></span>](#Agent)  
  
        -   [<span data-ttu-id="cc538-131">HADRON 和 SQL 故障转移群集实例和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-131">HADRON and SQL Failover Cluster Instance and Privileges</span></span>](#Hadron)  
  
        -   [<span data-ttu-id="cc538-132">SQL 编写器和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-132">SQL Writer and Privileges</span></span>](#Writer)  
  
        -   [<span data-ttu-id="cc538-133">SQL WMI 和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-133">SQL WMI and Privileges</span></span>](#SQLWMI)  
  
    -   [<span data-ttu-id="cc538-134">SSAS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-134">SSAS Provisioning</span></span>](#SSAS)  
  
    -   [<span data-ttu-id="cc538-135">SSRS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-135">SSRS Provisioning</span></span>](#SSRS)  
  
-   [<span data-ttu-id="cc538-136">从以前的版本升级</span><span class="sxs-lookup"><span data-stu-id="cc538-136">Upgrading From Previous Versions</span></span>](#Upgrade)  
  
-   [<span data-ttu-id="cc538-137">附录</span><span class="sxs-lookup"><span data-stu-id="cc538-137">Appendix</span></span>](#Appendix)  
  
    -   [<span data-ttu-id="cc538-138">服务帐户的描述</span><span class="sxs-lookup"><span data-stu-id="cc538-138">Description of Service Accounts</span></span>](#Serv_Accts)  
  
    -   [<span data-ttu-id="cc538-139">辨别识别实例的服务和不识别实例的服务</span><span class="sxs-lookup"><span data-stu-id="cc538-139">Identifying Instance-Aware and Instance-Unaware Services</span></span>](#Identify_instance_aware_and_unaware)  
  
    -   [<span data-ttu-id="cc538-140">本地化的服务名称</span><span class="sxs-lookup"><span data-stu-id="cc538-140">Localized Service Names</span></span>](#Localized_service_names)  
  
##  <a name="services-installed-by-ssnoversion"></a><a name="Service_Details"></a><span data-ttu-id="cc538-141">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装的服务</span><span class="sxs-lookup"><span data-stu-id="cc538-141">Services Installed by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="cc538-142">根据您决定安装的组件， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序将安装以下服务：</span><span class="sxs-lookup"><span data-stu-id="cc538-142">Depending on the components that you decide to install, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup installs the following services:</span></span>  
  
-   <span data-ttu-id="cc538-143">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Database Services** - 用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 关系 [!INCLUDE[ssDE](../../includes/ssde-md.md)]的服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-143">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Database Services** - The service for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="cc538-144">可执行文件为 \<MSSQLPATH>\MSSQL\Binn\sqlservr.exe。</span><span class="sxs-lookup"><span data-stu-id="cc538-144">The executable file is \<MSSQLPATH>\MSSQL\Binn\sqlservr.exe.</span></span>  
  
-   <span data-ttu-id="cc538-145">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理** - 执行作业、监视 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、激发警报以及允许自动执行某些管理任务。</span><span class="sxs-lookup"><span data-stu-id="cc538-145">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent** - Executes jobs, monitors [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], fires alerts, and enables automation of some administrative tasks.</span></span> <span data-ttu-id="cc538-146">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理服务在 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]的实例上存在，但处于禁用状态。</span><span class="sxs-lookup"><span data-stu-id="cc538-146">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is present but disabled on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span> <span data-ttu-id="cc538-147">可执行文件为 \<MSSQLPATH>\MSSQL\Binn\sqlagent.exe。</span><span class="sxs-lookup"><span data-stu-id="cc538-147">The executable file is \<MSSQLPATH>\MSSQL\Binn\sqlagent.exe.</span></span>  
  
-   <span data-ttu-id="cc538-148">**[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]**-为商业智能应用程序 (OLAP) 和数据挖掘功能提供联机分析处理。</span><span class="sxs-lookup"><span data-stu-id="cc538-148">**[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]**  - Provides online analytical processing (OLAP) and data mining functionality for business intelligence applications.</span></span> <span data-ttu-id="cc538-149">可执行文件为 \<MSSQLPATH>\OLAP\Bin\msmdsrv.exe。</span><span class="sxs-lookup"><span data-stu-id="cc538-149">The executable file is \<MSSQLPATH>\OLAP\Bin\msmdsrv.exe.</span></span>  
  
-   <span data-ttu-id="cc538-150">**[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]**-管理、执行、创建、计划和传递报表。</span><span class="sxs-lookup"><span data-stu-id="cc538-150">**[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]**  - Manages, executes, creates, schedules, and delivers reports.</span></span> <span data-ttu-id="cc538-151">可执行文件为 \<MSSQLPATH>\Reporting Services\ReportServer\Bin\ReportingServicesService.exe。</span><span class="sxs-lookup"><span data-stu-id="cc538-151">The executable file is \<MSSQLPATH>\Reporting Services\ReportServer\Bin\ReportingServicesService.exe.</span></span>  
  
-   <span data-ttu-id="cc538-152">**[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]**-为 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 包的存储和执行提供管理支持。</span><span class="sxs-lookup"><span data-stu-id="cc538-152">**[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]**  - Provides management support for [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package storage and execution.</span></span> <span data-ttu-id="cc538-153">可执行文件路径 \<MSSQLPATH>\120\DTS\Binn\MsDtsSrvr.exe</span><span class="sxs-lookup"><span data-stu-id="cc538-153">The executable path is \<MSSQLPATH>\120\DTS\Binn\MsDtsSrvr.exe</span></span>  
  
-   <span data-ttu-id="cc538-154">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser** - 向客户端计算机提供 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 连接信息的名称解析服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-154">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser** - The name resolution service that provides [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] connection information for client computers.</span></span> <span data-ttu-id="cc538-155">可执行文件的路径为 c:\Program Files (x86)\Microsoft SQL Server\90\Shared\sqlbrowser.exe</span><span class="sxs-lookup"><span data-stu-id="cc538-155">The executable path is c:\Program Files (x86)\Microsoft SQL Server\90\Shared\sqlbrowser.exe</span></span>  
  
-   <span data-ttu-id="cc538-156">**全文搜索** - 对结构化和半结构化数据的内容和属性快速创建全文索引，从而为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]提供文档筛选和断字功能。</span><span class="sxs-lookup"><span data-stu-id="cc538-156">**Full-text search** - Quickly creates full-text indexes on content and properties of structured and semistructured data to provide document filtering and word-breaking for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="cc538-157">**SQL 编写器** - 允许备份和还原应用程序在卷影复制服务 (VSS) 框架中运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-157">**SQL Writer** - Allows backup and restore applications to operate in the Volume Shadow Copy Service (VSS) framework.</span></span>  
  
-   <span data-ttu-id="cc538-158">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 分布式重播控制器** - 跨多个分布式重播客户端计算机提供跟踪重播业务流程。</span><span class="sxs-lookup"><span data-stu-id="cc538-158">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay Controller** - Provides trace replay orchestration across multiple Distributed Replay client computers.</span></span>  
  
-   <span data-ttu-id="cc538-159">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay 客户端** - 与 Distributed Replay 控制器一起来模拟针对 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]实例的并发工作负荷的一台或多台 Distributed Replay 客户端计算机。</span><span class="sxs-lookup"><span data-stu-id="cc538-159">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay Client** - One or more Distributed Replay client computers that work together with a Distributed Replay controller to simulate concurrent workloads against an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span>  
  
##  <a name="service-properties-and-configuration"></a><a name="Serv_Prop"></a> <span data-ttu-id="cc538-160">服务属性和配置</span><span class="sxs-lookup"><span data-stu-id="cc538-160">Service Properties and Configuration</span></span>  
 <span data-ttu-id="cc538-161">用于启动和运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的启动帐户可以是 [域用户帐户](#Domain_User)、 [本地用户帐户](#Local_User)、 [托管服务帐户](#MSA)、 [虚拟帐户](#VA_Desc)或 [内置系统帐户](#Local_Service)。</span><span class="sxs-lookup"><span data-stu-id="cc538-161">Startup accounts used to start and run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be [domain user accounts](#Domain_User), [local user accounts](#Local_User), [managed service accounts](#MSA), [virtual accounts](#VA_Desc), or [built-in system accounts](#Local_Service).</span></span> <span data-ttu-id="cc538-162">若要启动和运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中的每项服务，这些服务都必须有一个在安装过程中配置的启动帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-162">To start and run, each service in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must have a startup account configured during installation.</span></span>  
  
 <span data-ttu-id="cc538-163">此部分介绍可配置为启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务的帐户、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序使用的默认值、Per-service SID 的概念、启动选项以及配置防火墙。</span><span class="sxs-lookup"><span data-stu-id="cc538-163">This section describes the accounts that can be configured to start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services, the default values used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup, the concept of per-service SID's, the startup options, and configuring the firewall.</span></span>  
  
-   [<span data-ttu-id="cc538-164">默认服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-164">Default Service Accounts</span></span>](#Default_Accts)  
  
-   [<span data-ttu-id="cc538-165">自动启动</span><span class="sxs-lookup"><span data-stu-id="cc538-165">Automatic Startup</span></span>](#Auto_Start)  
  
-   [<span data-ttu-id="cc538-166">配置服务启动类型</span><span class="sxs-lookup"><span data-stu-id="cc538-166">Configuring Service StartupType</span></span>](#Configure_services)  
  
-   [<span data-ttu-id="cc538-167">防火墙端口</span><span class="sxs-lookup"><span data-stu-id="cc538-167">Firewall Port</span></span>](#Firewall)  
  
###  <a name="default-service-accounts"></a><a name="Default_Accts"></a> <span data-ttu-id="cc538-168">默认服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-168">Default Service Accounts</span></span>  
 <span data-ttu-id="cc538-169">下表列出了安装程序在安装所有组件时使用的默认服务帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-169">The following table lists the default service accounts used by setup when installing all components.</span></span> <span data-ttu-id="cc538-170">列出的默认帐户是建议使用的帐户，但特殊注明的除外。</span><span class="sxs-lookup"><span data-stu-id="cc538-170">The default accounts listed are the recommended accounts, except as noted.</span></span>  
  
 <span data-ttu-id="cc538-171">**独立服务器或域控制器**</span><span class="sxs-lookup"><span data-stu-id="cc538-171">**Stand-alone Server or Domain Controller**</span></span>  
  
|<span data-ttu-id="cc538-172">组件</span><span class="sxs-lookup"><span data-stu-id="cc538-172">Component</span></span>|[!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)]|<span data-ttu-id="cc538-173">Windows 7 和 [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] R2 及更高版本</span><span class="sxs-lookup"><span data-stu-id="cc538-173">Windows 7 and [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] R2 and higher</span></span>|  
|---------------|------------------------------------|----------------------------------------------------------------|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)]|[<span data-ttu-id="cc538-174">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-174">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-175">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-175">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-176">代理</span><span class="sxs-lookup"><span data-stu-id="cc538-176">Agent</span></span>|[<span data-ttu-id="cc538-177">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-177">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-178">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-178">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|[!INCLUDE[ssAS](../../includes/ssas-md.md)]|[<span data-ttu-id="cc538-179">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-179">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-180">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-180">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|[!INCLUDE[ssIS](../../includes/ssis-md.md)]|[<span data-ttu-id="cc538-181">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-181">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-182">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-182">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|[!INCLUDE[ssRS](../../includes/ssrs.md)]|[<span data-ttu-id="cc538-183">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-183">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-184">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-184">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-185">Distributed Replay 控制器</span><span class="sxs-lookup"><span data-stu-id="cc538-185">Distributed Replay Controller</span></span>|[<span data-ttu-id="cc538-186">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-186">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-187">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-187">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-188">Distributed Replay 客户端</span><span class="sxs-lookup"><span data-stu-id="cc538-188">Distributed Replay Client</span></span>|[<span data-ttu-id="cc538-189">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-189">NETWORK SERVICE</span></span>](#Network_Service)|<span data-ttu-id="cc538-190">[虚拟帐户](#VA_Desc)<sup>\*</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-190">[Virtual Account](#VA_Desc) <sup>\*</sup></span></span>|  
|<span data-ttu-id="cc538-191">FD 启动器（全文搜索）</span><span class="sxs-lookup"><span data-stu-id="cc538-191">FD Launcher (Full-text Search)</span></span>|[<span data-ttu-id="cc538-192">LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-192">LOCAL SERVICE</span></span>](#Local_Service)|[<span data-ttu-id="cc538-193">虚拟帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-193">Virtual Account</span></span>](#VA_Desc)|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-194">Browser</span><span class="sxs-lookup"><span data-stu-id="cc538-194">Browser</span></span>|[<span data-ttu-id="cc538-195">LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-195">LOCAL SERVICE</span></span>](#Local_Service)|[<span data-ttu-id="cc538-196">LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-196">LOCAL SERVICE</span></span>](#Local_Service)|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-197">VSS 编写器</span><span class="sxs-lookup"><span data-stu-id="cc538-197">VSS Writer</span></span>|[<span data-ttu-id="cc538-198">LOCAL SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-198">LOCAL SYSTEM</span></span>](#Local_System)|[<span data-ttu-id="cc538-199">LOCAL SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-199">LOCAL SYSTEM</span></span>](#Local_System)|  
  
 <span data-ttu-id="cc538-200"><sup>\*</sup>当需要计算机外部的资源时 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 建议使用托管服务帐户 (MSA) ，并使用所需的最低权限进行配置。</span><span class="sxs-lookup"><span data-stu-id="cc538-200"><sup>\*</sup> When resources external to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] computer are needed, [!INCLUDE[msCoName](../../includes/msconame-md.md)] recommends using a Managed Service Account (MSA), configured with the minimum privileges necessary.</span></span>  
  
 <span data-ttu-id="cc538-201">**SQL Server 故障转移群集实例**</span><span class="sxs-lookup"><span data-stu-id="cc538-201">**SQL Server Failover Cluster Instance**</span></span>  
  
|<span data-ttu-id="cc538-202">组件</span><span class="sxs-lookup"><span data-stu-id="cc538-202">Component</span></span>|[!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)]|[!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] <span data-ttu-id="cc538-203">R2</span><span class="sxs-lookup"><span data-stu-id="cc538-203">R2</span></span>|  
|---------------|------------------------------------|---------------------------------------|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)]|<span data-ttu-id="cc538-204">无。</span><span class="sxs-lookup"><span data-stu-id="cc538-204">None.</span></span> <span data-ttu-id="cc538-205">提供 [域用户](#Domain_User) 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-205">Provide a [domain user](#Domain_User) account.</span></span>|<span data-ttu-id="cc538-206">提供 [域用户](#Domain_User) 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-206">Provide a [domain user](#Domain_User) account.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-207">代理</span><span class="sxs-lookup"><span data-stu-id="cc538-207">Agent</span></span>|<span data-ttu-id="cc538-208">无。</span><span class="sxs-lookup"><span data-stu-id="cc538-208">None.</span></span> <span data-ttu-id="cc538-209">提供 [域用户](#Domain_User) 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-209">Provide a [domain user](#Domain_User) account.</span></span>|<span data-ttu-id="cc538-210">提供 [域用户](#Domain_User) 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-210">Provide a [domain user](#Domain_User) account.</span></span>|  
|[!INCLUDE[ssAS](../../includes/ssas-md.md)]|<span data-ttu-id="cc538-211">无。</span><span class="sxs-lookup"><span data-stu-id="cc538-211">None.</span></span> <span data-ttu-id="cc538-212">提供 [域用户](#Domain_User) 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-212">Provide a [domain user](#Domain_User) account.</span></span>|<span data-ttu-id="cc538-213">提供 [域用户](#Domain_User) 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-213">Provide a [domain user](#Domain_User) account.</span></span>|  
|[!INCLUDE[ssIS](../../includes/ssis-md.md)]|[<span data-ttu-id="cc538-214">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-214">NETWORK SERVICE</span></span>](#Network_Service)|[<span data-ttu-id="cc538-215">虚拟帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-215">Virtual Account</span></span>](#VA_Desc)|  
|[!INCLUDE[ssRS](../../includes/ssrs.md)]|[<span data-ttu-id="cc538-216">NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-216">NETWORK SERVICE</span></span>](#Network_Service)|[<span data-ttu-id="cc538-217">虚拟帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-217">Virtual Account</span></span>](#VA_Desc)|  
|<span data-ttu-id="cc538-218">FD 启动器（全文搜索）</span><span class="sxs-lookup"><span data-stu-id="cc538-218">FD Launcher (Full-text Search)</span></span>|[<span data-ttu-id="cc538-219">LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-219">LOCAL SERVICE</span></span>](#Local_Service)|[<span data-ttu-id="cc538-220">虚拟帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-220">Virtual Account</span></span>](#VA_Desc)|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-221">Browser</span><span class="sxs-lookup"><span data-stu-id="cc538-221">Browser</span></span>|[<span data-ttu-id="cc538-222">LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-222">LOCAL SERVICE</span></span>](#Local_Service)|[<span data-ttu-id="cc538-223">LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-223">LOCAL SERVICE</span></span>](#Local_Service)|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-224">VSS 编写器</span><span class="sxs-lookup"><span data-stu-id="cc538-224">VSS Writer</span></span>|[<span data-ttu-id="cc538-225">LOCAL SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-225">LOCAL SYSTEM</span></span>](#Local_System)|[<span data-ttu-id="cc538-226">LOCAL SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-226">LOCAL SYSTEM</span></span>](#Local_System)|  
  
####  <a name="changing-account-properties"></a><a name="Changing_Accounts"></a> <span data-ttu-id="cc538-227">更改帐户属性</span><span class="sxs-lookup"><span data-stu-id="cc538-227">Changing Account Properties</span></span>  
  
> [!IMPORTANT]
>  -   <span data-ttu-id="cc538-228">始终使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 工具（例如 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 配置管理器）来更改 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理服务使用的帐户，或更改帐户的密码。</span><span class="sxs-lookup"><span data-stu-id="cc538-228">Always use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tools such as [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to change the account used by the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent services, or to change the password for the account.</span></span> <span data-ttu-id="cc538-229">除了更改帐户名称以外， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 配置管理器还可以执行其他配置，例如，更新保护 [!INCLUDE[ssDE](../../includes/ssde-md.md)]的服务主密钥的 Windows 本地安全存储区。</span><span class="sxs-lookup"><span data-stu-id="cc538-229">In addition to changing the account name, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager performs additional configuration such as updating the Windows local security store which protects the service master key for the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="cc538-230">其他工具（例如 Windows 服务控制管理器）可以更改帐户名称，但不更改所有必需的设置。</span><span class="sxs-lookup"><span data-stu-id="cc538-230">Other tools such as the Windows Services Control Manager can change the account name but do not change all the required settings.</span></span>  
> -   <span data-ttu-id="cc538-231">对于您在 SharePoint 场中部署的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例，始终使用 SharePoint 管理中心为 [!INCLUDE[ssGeminiMTS](../../includes/ssgeminimts-md.md)] 应用程序和 [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)]更改服务器帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-231">For [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instances that you deploy in a SharePoint farm, always use SharePoint Central Administration to change the server accounts for [!INCLUDE[ssGeminiMTS](../../includes/ssgeminimts-md.md)] applications and the [!INCLUDE[ssGeminiSrv](../../includes/ssgeminisrv-md.md)].</span></span> <span data-ttu-id="cc538-232">使用管理中心时，关联的设置和权限将更新为使用新的帐户信息。</span><span class="sxs-lookup"><span data-stu-id="cc538-232">Associated settings and permissions are updated to use the new account information when you use Central Administration.</span></span>  
> -   <span data-ttu-id="cc538-233">若要更改 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 选项，请使用 Reporting Services 配置工具。</span><span class="sxs-lookup"><span data-stu-id="cc538-233">To change [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] options, use the Reporting Services Configuration Tool.</span></span>  
  
###  <a name="new-account-types-available-with-windows-7-and-windows-server-2008-r2"></a><a name="New_Accounts"></a><span data-ttu-id="cc538-234">Windows 7 和 Windows Server 2008 R2 中可用的新帐户类型</span><span class="sxs-lookup"><span data-stu-id="cc538-234">New Account Types Available with Windows 7 and Windows Server 2008 R2</span></span>  
 <span data-ttu-id="cc538-235">Windows 7 和 Windows Server 2008 R2 有两种新型的服务帐户，即托管服务帐户 (MSA) 和虚拟帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-235">Windows 7 and Windows Server 2008 R2 have two new types of service accounts called managed service accounts (MSA) and virtual accounts.</span></span> <span data-ttu-id="cc538-236">托管服务帐户和虚拟帐户设计用于向关键应用程序（例如 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ）提供其自己帐户的隔离，同时使管理员无需手动管理这些帐户的服务主体名称 (SPN) 和凭据。</span><span class="sxs-lookup"><span data-stu-id="cc538-236">Managed service accounts and virtual accounts are designed to provide crucial applications such as [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with the isolation of their own accounts, while eliminating the need for an administrator to manually administer the Service Principal Name (SPN) and credentials for these accounts.</span></span> <span data-ttu-id="cc538-237">这就使得管理服务帐户用户、密码和 SPN 的过程变得简单得多。</span><span class="sxs-lookup"><span data-stu-id="cc538-237">These make long term management of service account users, passwords and SPNs much easier.</span></span>  
  
-   <a name="MSA"></a> <span data-ttu-id="cc538-238">托管服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-238">**Managed Service Accounts**</span></span>  
  
     <span data-ttu-id="cc538-239">托管服务帐户 (MSA) 是一种由域控制器创建和管理的域帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-239">A Managed Service Account (MSA) is a type of domain account created and managed by the domain controller.</span></span> <span data-ttu-id="cc538-240">它分配给单个成员计算机以用于运行服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-240">It is assigned to a single member computer for use running a service.</span></span> <span data-ttu-id="cc538-241">域控制器将自动管理密码。</span><span class="sxs-lookup"><span data-stu-id="cc538-241">The password is managed automatically by the domain controller.</span></span> <span data-ttu-id="cc538-242">您不能使用 MSA 登录到计算机，但计算机可以使用 MSA 来启动 Windows 服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-242">You cannot use a MSA to log into a computer, but a computer can use a MSA to start a Windows service.</span></span> <span data-ttu-id="cc538-243">MSA 可以向 Active Directory 注册服务主体名称 (SPN)。</span><span class="sxs-lookup"><span data-stu-id="cc538-243">An MSA has the ability to register Service Principal Name (SPN) with the Active Directory.</span></span> <span data-ttu-id="cc538-244">MSA 的名称中有一个 **$** 后缀，例如 **DOMAIN\ACCOUNTNAME$** 。</span><span class="sxs-lookup"><span data-stu-id="cc538-244">A MSA is named with a **$** suffix, for example **DOMAIN\ACCOUNTNAME$**.</span></span> <span data-ttu-id="cc538-245">在指定 MSA 时，请将密码留空。</span><span class="sxs-lookup"><span data-stu-id="cc538-245">When specifying a MSA, leave the password blank.</span></span> <span data-ttu-id="cc538-246">因为将 MSA 分配给单个计算机，它不能用于 Windows 群集的不同节点。</span><span class="sxs-lookup"><span data-stu-id="cc538-246">Because a MSA is assigned to a single computer, it cannot be used on different nodes of a Windows cluster.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="cc538-247">域管理员必须先在 Active Directory 中创建 MSA，然后 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序才能将其用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-247">The MSA must be created in the Active Directory by the domain administrator before [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup can use it for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services.</span></span>  
    
-  <a name="GMSA"></a> <span data-ttu-id="cc538-248">组托管服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-248">**Group Managed Service Accounts**</span></span>  
  
     <span data-ttu-id="cc538-249">组托管服务帐户是针对多个服务器的 MSA。</span><span class="sxs-lookup"><span data-stu-id="cc538-249">A Group Managed Service Account is an MSA for multiple servers.</span></span> <span data-ttu-id="cc538-250">Windows 为在一组服务器上运行的服务管理服务帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-250">Windows manages a service account for services running on a group of servers.</span></span> <span data-ttu-id="cc538-251">Active Directory 自动更新组托管服务帐户密码，而不重启服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-251">Active Directory automatically updates the group managed service account password without restarting services.</span></span> <span data-ttu-id="cc538-252">可以将 SQL Server 服务配置为使用组托管服务帐户主体。从 SQL Server 2014 开始，SQL Server 支持独立实例的组托管服务帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-252">You can configure SQL Server services to use a group managed service account principal.Beginning with SQL Server 2014, SQL Server supports group managed service accounts for standalone instances.</span></span>  
  
    <span data-ttu-id="cc538-253">若要使用 SQL Server 2014 或更高版本的组托管服务帐户，操作系统必须是 Windows Server 2012 R2 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="cc538-253">To use a group managed service account for SQL Server 2014 or later, the operating system must be Windows Server 2012 R2 or later.</span></span> <span data-ttu-id="cc538-254">装有 Windows Server 2012 R2 的服务器需要应用 [KB 2998082](https://support.microsoft.com/kb/2998082) ，以便服务可以在密码更改后立即登录而不中断。</span><span class="sxs-lookup"><span data-stu-id="cc538-254">Servers with Windows Server 2012 R2 require [KB 2998082](https://support.microsoft.com/kb/2998082) applied so that the services can log in without disruption immediately after a password change.</span></span>  
  
    <span data-ttu-id="cc538-255">有关详细信息，请参阅 [组托管服务帐户](https://technet.microsoft.com/library/hh831782.aspx)</span><span class="sxs-lookup"><span data-stu-id="cc538-255">For more information, see [Group Manged Service Accounts](https://technet.microsoft.com/library/hh831782.aspx)</span></span>  
      
    > [!NOTE]  
    >  <span data-ttu-id="cc538-256">域管理员必须先在 Active Directory 中创建组托管服务帐户，然后 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序才能将其用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-256">The group managed service account must be created in the Active Directory by the domain administrator before [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup can use it for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services.</span></span> 
  
-   <a name="VA_Desc"></a><span data-ttu-id="cc538-257">**虚拟帐户**</span><span class="sxs-lookup"><span data-stu-id="cc538-257">**Virtual Accounts**</span></span>  
  
     <span data-ttu-id="cc538-258">虚拟帐户（从 Windows Server 2008 R2 和 Windows 7 开始）是“托管的本地帐户”  ，此类帐户提供以下功能，可简化服务管理。</span><span class="sxs-lookup"><span data-stu-id="cc538-258">Virtual accounts (beginning with Windows Server 2008 R2 and Windows 7) are *managed local accounts* that provide the following features to simplify service administration.</span></span> <span data-ttu-id="cc538-259">虚拟帐户是自动管理的，并且虚拟帐户可以访问域环境中的网络。</span><span class="sxs-lookup"><span data-stu-id="cc538-259">The virtual account is auto-managed, and the virtual account can access the network in a domain environment.</span></span> <span data-ttu-id="cc538-260">如果在安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 期间对服务帐户使用默认值，则会使用将实例名称用作服务名称的虚拟帐户，格式为 NT SERVICE\\ _\<SERVICENAME>_ 。</span><span class="sxs-lookup"><span data-stu-id="cc538-260">If the default value is used for the service accounts during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup, a virtual account using the instance name as the service name is used, in the format **NT SERVICE\\**_\<SERVICENAME>_.</span></span> <span data-ttu-id="cc538-261">以虚拟帐户身份运行的服务通过使用计算机帐户的凭据（格式为 _<domain_name>_ **\\** _<computer_name>_ **$** ）访问网络资源。</span><span class="sxs-lookup"><span data-stu-id="cc538-261">Services that run as virtual accounts access network resources by using the credentials of the computer account in the format _<domain_name>_**\\**_<computer_name>_**$**.</span></span>  <span data-ttu-id="cc538-262">当指定一个虚拟帐户以启动 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 时，应将密码留空。</span><span class="sxs-lookup"><span data-stu-id="cc538-262">When specifying a virtual account to start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], leave the password blank.</span></span> <span data-ttu-id="cc538-263">如果虚拟帐户无法注册服务主体名称 (SPN)，则手动注册该 SPN。</span><span class="sxs-lookup"><span data-stu-id="cc538-263">If the virtual account fails to register the Service Principal Name (SPN), register the SPN manually.</span></span> <span data-ttu-id="cc538-264">有关手动注册 SPN 的详细信息，请参阅 [手动注册 SPN](register-a-service-principal-name-for-kerberos-connections.md#Manual)。</span><span class="sxs-lookup"><span data-stu-id="cc538-264">For more information on registering a SPN manually, see [Manual SPN Registration](register-a-service-principal-name-for-kerberos-connections.md#Manual).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="cc538-265">虚拟帐户不能用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 故障转移群集实例，因为虚拟帐户在群集的每个节点不会有相同 SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-265">Virtual accounts cannot be used for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Failover Cluster Instance, because the virtual account would not have the same SID on each node of the cluster.</span></span>  
  
     <span data-ttu-id="cc538-266">下表列出了虚拟帐户名称的示例。</span><span class="sxs-lookup"><span data-stu-id="cc538-266">The following table lists examples of virtual account names.</span></span>  
  
    |<span data-ttu-id="cc538-267">服务</span><span class="sxs-lookup"><span data-stu-id="cc538-267">Service</span></span>|<span data-ttu-id="cc538-268">虚拟帐户名称</span><span class="sxs-lookup"><span data-stu-id="cc538-268">Virtual Account Name</span></span>|  
    |-------------|--------------------------|  
    |<span data-ttu-id="cc538-269">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 服务的默认实例</span><span class="sxs-lookup"><span data-stu-id="cc538-269">Default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service</span></span>|<span data-ttu-id="cc538-270">**NT SERVICE\MSSQLSERVER**</span><span class="sxs-lookup"><span data-stu-id="cc538-270">**NT SERVICE\MSSQLSERVER**</span></span>|  
    |<span data-ttu-id="cc538-271">名为 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 的 **的**服务的命名实例</span><span class="sxs-lookup"><span data-stu-id="cc538-271">Named instance of a [!INCLUDE[ssDE](../../includes/ssde-md.md)] service named **PAYROLL**</span></span>|<span data-ttu-id="cc538-272">**NT SERVICE\MSSQL$PAYROLL**</span><span class="sxs-lookup"><span data-stu-id="cc538-272">**NT SERVICE\MSSQL$PAYROLL**</span></span>|  
    |[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-273">代理服务，位于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="cc538-273">Agent service on the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|<span data-ttu-id="cc538-274">**NT SERVICE\SQLSERVERAGENT**</span><span class="sxs-lookup"><span data-stu-id="cc538-274">**NT SERVICE\SQLSERVERAGENT**</span></span>|  
    |[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-275">代理服务，位于名为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PAYROLL **的**</span><span class="sxs-lookup"><span data-stu-id="cc538-275">Agent service on an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] named **PAYROLL**</span></span>|<span data-ttu-id="cc538-276">**NT SERVICE\SQLAGENT$PAYROLL**</span><span class="sxs-lookup"><span data-stu-id="cc538-276">**NT SERVICE\SQLAGENT$PAYROLL**</span></span>|  
  
 <span data-ttu-id="cc538-277">有关托管服务帐户和虚拟帐户的详细信息，请参阅 **服务帐户分步指南** 的 [托管服务和虚拟帐户概念](https://technet.microsoft.com/library/dd548356\(WS.10\).aspx) 部分以及 [托管服务帐户常见问题解答 (FAQ)](https://technet.microsoft.com/library/ff641729\(WS.10\).aspx)。</span><span class="sxs-lookup"><span data-stu-id="cc538-277">For more information on Managed Service Accounts and Virtual Accounts, see the **Managed service account and virtual account concepts** section of [Service Accounts Step-by-Step Guide](https://technet.microsoft.com/library/dd548356\(WS.10\).aspx) and [Managed Service Accounts Frequently Asked Questions (FAQ)](https://technet.microsoft.com/library/ff641729\(WS.10\).aspx).</span></span>  
  
 <span data-ttu-id="cc538-278">**安全说明：** 只要可能，[!INCLUDE[ssNoteLowRights](../../includes/ssnotelowrights-md.md)] 就会使用 [MSA](#MSA) 或[虚拟帐户](#VA_Desc)。</span><span class="sxs-lookup"><span data-stu-id="cc538-278">**Security Note:** [!INCLUDE[ssNoteLowRights](../../includes/ssnotelowrights-md.md)] Use a [MSA](#MSA) or [virtual account](#VA_Desc) when possible.</span></span> <span data-ttu-id="cc538-279">当无法使用 MSA 和虚拟帐户时，将使用特定的低特权用户帐户或域帐户，而不将共享帐户用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-279">When MSA and virtual accounts are not possible, use a specific low-privilege user account or domain account instead of a shared account for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services.</span></span> <span data-ttu-id="cc538-280">对不同的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务使用单独的帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-280">Use separate accounts for different [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services.</span></span> <span data-ttu-id="cc538-281">不要向 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务帐户或服务组授予其他权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-281">Do not grant additional permissions to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account or the service groups.</span></span> <span data-ttu-id="cc538-282">在支持服务 SID 的情况下，将通过组成员身份或直接将权限授予服务 SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-282">Permissions will be granted through group membership or granted directly to a service SID, where a service SID is supported.</span></span>  
  
###  <a name="automatic-startup"></a><a name="Auto_Start"></a><span data-ttu-id="cc538-283">自动启动</span><span class="sxs-lookup"><span data-stu-id="cc538-283">Automatic Startup</span></span>  
 <span data-ttu-id="cc538-284">除了具有用户帐户外，每项服务还有用户可控制的三种可能的启动状态：</span><span class="sxs-lookup"><span data-stu-id="cc538-284">In addition to having user accounts, every service has three possible startup states that users can control:</span></span>  
  
-   <span data-ttu-id="cc538-285">**已禁用** 服务已安装但当前未运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-285">**Disabled** The service is installed but not currently running.</span></span>  
  
-   <span data-ttu-id="cc538-286">**手动** 服务已安装，但仅当另一个服务或应用程序需要该服务的功能时才启动。</span><span class="sxs-lookup"><span data-stu-id="cc538-286">**Manual** The service is installed, but will start only when another service or application needs its functionality.</span></span>  
  
-   <span data-ttu-id="cc538-287">**自动** 服务由操作系统自动启动。</span><span class="sxs-lookup"><span data-stu-id="cc538-287">**Automatic** The service is automatically started by the operating system.</span></span>  
  
 <span data-ttu-id="cc538-288">在安装过程中，启动状态处于选中状态。</span><span class="sxs-lookup"><span data-stu-id="cc538-288">The startup state is selected during setup.</span></span> <span data-ttu-id="cc538-289">当安装命名实例时， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服务应设置为自动启动。</span><span class="sxs-lookup"><span data-stu-id="cc538-289">When installing a named instance, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service should be set to start automatically.</span></span>  
  
###  <a name="configuring-services-during-unattended-installation"></a><a name="Configure_services"></a><span data-ttu-id="cc538-290">在无人参与安装过程中配置服务</span><span class="sxs-lookup"><span data-stu-id="cc538-290">Configuring Services During Unattended Installation</span></span>  
 <span data-ttu-id="cc538-291">下表显示了可以在安装过程中配置的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-291">The following table shows the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services that can be configured during installation.</span></span> <span data-ttu-id="cc538-292">对于无人参与的安装，可以在配置文件中或在命令提示符下使用开关。</span><span class="sxs-lookup"><span data-stu-id="cc538-292">For unattended installations, you can use the switches in a configuration file or at a command prompt.</span></span>  
  
|<span data-ttu-id="cc538-293">SQL Server 服务名称</span><span class="sxs-lookup"><span data-stu-id="cc538-293">SQL Server service name</span></span>|<span data-ttu-id="cc538-294">用于无人参与安装的开关<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-294">Switches for unattended installations<sup>1</sup></span></span>|  
|-----------------------------|-------------------------------------------------------|  
|<span data-ttu-id="cc538-295">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="cc538-295">MSSQLSERVER</span></span>|<span data-ttu-id="cc538-296">SQLSVCACCOUNT、SQLSVCPASSWORD、SQLSVCSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="cc538-296">SQLSVCACCOUNT, SQLSVCPASSWORD, SQLSVCSTARTUPTYPE</span></span>|  
|<span data-ttu-id="cc538-297">SQLServerAgent<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-297">SQLServerAgent<sup>2</sup></span></span>|<span data-ttu-id="cc538-298">AGTSVCACCOUNT、AGTSVCPASSWORD、AGTSVCSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="cc538-298">AGTSVCACCOUNT, AGTSVCPASSWORD, AGTSVCSTARTUPTYPE</span></span>|  
|<span data-ttu-id="cc538-299">MSSQLServerOLAPService</span><span class="sxs-lookup"><span data-stu-id="cc538-299">MSSQLServerOLAPService</span></span>|<span data-ttu-id="cc538-300">ASSVCACCOUNT、ASSVCPASSWORD、ASSVCSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="cc538-300">ASSVCACCOUNT, ASSVCPASSWORD, ASSVCSTARTUPTYPE</span></span>|  
|<span data-ttu-id="cc538-301">ReportServer</span><span class="sxs-lookup"><span data-stu-id="cc538-301">ReportServer</span></span>|<span data-ttu-id="cc538-302">RSSVCACCOUNT、RSSVCPASSWORD、RSSVCSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="cc538-302">RSSVCACCOUNT, RSSVCPASSWORD, RSSVCSTARTUPTYPE</span></span>|  
|[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]|<span data-ttu-id="cc538-303">ISSVCACCOUNT、ISSVCPASSWORD、ISSVCSTARTUPTYPE</span><span class="sxs-lookup"><span data-stu-id="cc538-303">ISSVCACCOUNT, ISSVCPASSWORD, ISSVCSTARTUPTYPE</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-304">Distributed Replay 控制器</span><span class="sxs-lookup"><span data-stu-id="cc538-304">Distributed Replay Controller</span></span>|<span data-ttu-id="cc538-305">DRU_CTLR、CTLRSVCACCOUNT、CTLRSVCPASSWORD、CTLRSTARTUPTYPE、CTLRUSERS</span><span class="sxs-lookup"><span data-stu-id="cc538-305">DRU_CTLR, CTLRSVCACCOUNT,CTLRSVCPASSWORD, CTLRSTARTUPTYPE, CTLRUSERS</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-306">Distributed Replay 客户端</span><span class="sxs-lookup"><span data-stu-id="cc538-306">Distributed Replay Client</span></span>|<span data-ttu-id="cc538-307">DRU_CLT、CLTSVCACCOUNT、CLTSVCPASSWORD、CLTSTARTUPTYPE、CLTCTLRNAME、CLTWORKINGDIR、CLTRESULTDIR</span><span class="sxs-lookup"><span data-stu-id="cc538-307">DRU_CLT, CLTSVCACCOUNT, CLTSVCPASSWORD, CLTSTARTUPTYPE, CLTCTLRNAME, CLTWORKINGDIR, CLTRESULTDIR</span></span>|  
  
 <span data-ttu-id="cc538-308"><sup>1</sup>有关无人参与安装的详细信息和示例语法，请参阅[从命令提示符安装 SQL Server 2014](../install-windows/install-sql-server-from-the-command-prompt.md)。</span><span class="sxs-lookup"><span data-stu-id="cc538-308"><sup>1</sup>For more information and sample syntax for unattended installations, see [Install SQL Server 2014 from the Command Prompt](../install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
 <span data-ttu-id="cc538-309"><sup>2</sup>[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]在 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 具有高级服务的实例上禁用代理服务 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="cc538-309"><sup>2</sup>The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is disabled on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] and [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] with Advanced Services.</span></span>  
  
###  <a name="firewall-port"></a><a name="Firewall"></a> <span data-ttu-id="cc538-310">防火墙端口</span><span class="sxs-lookup"><span data-stu-id="cc538-310">Firewall Port</span></span>  
 <span data-ttu-id="cc538-311">在大多数情况下，首次安装时，可以通过与 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 安装在相同计算机上的 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 等此类工具连接 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="cc538-311">In most cases, when initially installed, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] can be connected to by tools such as [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] installed on the same computer as [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-312">安装程序不会在 Windows 防火墙中打开端口。</span><span class="sxs-lookup"><span data-stu-id="cc538-312">Setup does not open ports in the Windows firewall.</span></span> <span data-ttu-id="cc538-313">在将 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 配置为侦听 TCP 端口，并且在 Windows 防火墙中打开适当的端口进行连接之前，将无法从其他计算机建立连接。</span><span class="sxs-lookup"><span data-stu-id="cc538-313">Connections from other computers may not be possible until the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is configured to listen on a TCP port, and the appropriate port is opened for connections in the Windows firewall.</span></span> <span data-ttu-id="cc538-314">有关详细信息，请参阅 [配置 Windows 防火墙以允许 SQL Server 访问](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md)。</span><span class="sxs-lookup"><span data-stu-id="cc538-314">For more information, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span>  
  
##  <a name="service-permissions"></a><a name="Serv_Perm"></a> <span data-ttu-id="cc538-315">服务权限</span><span class="sxs-lookup"><span data-stu-id="cc538-315">Service Permissions</span></span>  
 <span data-ttu-id="cc538-316">此部分介绍 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务的 Per-service SID 配置的权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-316">This section describes the permissions that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup configures for the per-service SID's of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services.</span></span>  
  
-   [<span data-ttu-id="cc538-317">服务配置和访问控制</span><span class="sxs-lookup"><span data-stu-id="cc538-317">Service Configuration and Access Control</span></span>](#Serv_SID)  
  
-   [<span data-ttu-id="cc538-318">Windows 特权和权限</span><span class="sxs-lookup"><span data-stu-id="cc538-318">Windows Privileges and Rights</span></span>](#Windows)  
  
-   [<span data-ttu-id="cc538-319">授予 SQL Server Per-service SID 或 SQL Server 本地 Windows 组的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-319">File System Permissions Granted to SQL Server Per-service SIDs or SQL Server Local Windows Groups</span></span>](#Reviewing_ACLs)  
  
-   [<span data-ttu-id="cc538-320">授予其他 Windows 用户帐户或组的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-320">File System Permissions Granted to Other Windows User Accounts or Groups</span></span>](#File_System_Other)  
  
-   [<span data-ttu-id="cc538-321">与非寻常磁盘位置相关的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-321">File System Permissions Related to Unusual Disk Locations</span></span>](#Unusual_Locations)  
  
-   [<span data-ttu-id="cc538-322">查看其他注意事项</span><span class="sxs-lookup"><span data-stu-id="cc538-322">Reviewing Additional Considerations</span></span>](#Review_additional_considerations)  
  
-   [<span data-ttu-id="cc538-323">注册表权限</span><span class="sxs-lookup"><span data-stu-id="cc538-323">Registry Permissions</span></span>](#Registry)  
  
-   [<span data-ttu-id="cc538-324">WMI</span><span class="sxs-lookup"><span data-stu-id="cc538-324">WMI</span></span>](#WMI)  
  
-   [<span data-ttu-id="cc538-325">命名管道</span><span class="sxs-lookup"><span data-stu-id="cc538-325">Named Pipes</span></span>](#Pipes)  
  
###  <a name="service-configuration-and-access-control"></a><a name="Serv_SID"></a> <span data-ttu-id="cc538-326">服务配置和访问控制</span><span class="sxs-lookup"><span data-stu-id="cc538-326">Service Configuration and Access Control</span></span>  
 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="cc538-327">会为其每项服务启用 Per-service SID，以提供深层服务隔离与防御。</span><span class="sxs-lookup"><span data-stu-id="cc538-327">enables per-service SID for each of its services to provide service isolation and defense in depth.</span></span> <span data-ttu-id="cc538-328">Per-service SID 从服务名称派生得到，对该服务是唯一的。</span><span class="sxs-lookup"><span data-stu-id="cc538-328">The per-service SID is derived from the service name and is unique to that service.</span></span> <span data-ttu-id="cc538-329">例如，[!INCLUDE[ssDE](../../includes/ssde-md.md)] 服务的服务 SID 名称可能为 NT Service\MSSQL$ _\<InstanceName>_ 。</span><span class="sxs-lookup"><span data-stu-id="cc538-329">For example, a service SID name for the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service might be **NT Service\MSSQL$**_\<InstanceName>_.</span></span> <span data-ttu-id="cc538-330">通过服务隔离，可直接访问特定的对象，而无需运行高特权帐户，也不会削弱为对象提供的安全保护水平。</span><span class="sxs-lookup"><span data-stu-id="cc538-330">Service isolation enables access to specific objects without the need to run a high-privilege account or weaken the security protection of the object.</span></span> <span data-ttu-id="cc538-331">通过使用包含服务 SID 的访问控制项， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务可限制对其资源的访问。</span><span class="sxs-lookup"><span data-stu-id="cc538-331">By using an access control entry that contains a service SID, a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service can restrict access to its resources.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cc538-332">在 Windows 7 和 [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] R2（及更高版本）上，Per-service SID 可以是服务使用的虚拟帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-332">On Windows 7 and [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] R2 (and later) the per-service SID can be the virtual account used by the service.</span></span>  
  
 <span data-ttu-id="cc538-333">对于大多数组件， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 直接为 Per-service 帐户配置 ACL，因此，无需重复资源 ACL 过程即可更改此服务帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-333">For most components [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] configures the ACL for the per-service account directly, so changing the service account can be done without having to repeat the resource ACL process.</span></span>  
  
 <span data-ttu-id="cc538-334">当安装 [!INCLUDE[ssAS](../../includes/ssas-md.md)]时，将创建 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务的 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-334">When installing [!INCLUDE[ssAS](../../includes/ssas-md.md)], a per-service SID for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service is created.</span></span> <span data-ttu-id="cc538-335">创建了本地 Windows 组，其命名格式为 **SQLServerMSASUser$** _computer_name_ **$** _instance_name_。</span><span class="sxs-lookup"><span data-stu-id="cc538-335">A local Windows group is created, named in the format **SQLServerMSASUser$**_computer_name_**$**_instance_name_.</span></span> <span data-ttu-id="cc538-336">Per-service SID **NT SERVICE\MSSQLServerOLAPService** 已被授予本地 Windows 组中的成员资格，而本地 Windows 组在 ACL 中被授予了适当的权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-336">The per-service SID **NT SERVICE\MSSQLServerOLAPService** is granted membership in the local Windows group, and the local Windows group is granted the appropriate permissions in the ACL.</span></span> <span data-ttu-id="cc538-337">如果更改了用来启动 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务的帐户， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 配置管理器必须更改某些 Windows 权限（如作为服务登录的权限），但分配给本地 Windows 组的权限将仍可用且没有任何更新，因为 Per-service SID 没发生变化。</span><span class="sxs-lookup"><span data-stu-id="cc538-337">If the account used to start the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service is changed, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager must change some Windows permissions (such as the right to log on as a service), but the permissions assigned to the local Windows group will still be available without any updating, because the per-service SID has not changed.</span></span> <span data-ttu-id="cc538-338">此方法允许在升级过程中重命名 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-338">This method allows the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service to be renamed during upgrades.</span></span>  
  
 <span data-ttu-id="cc538-339">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装过程中， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序为 [!INCLUDE[ssAS](../../includes/ssas-md.md)] 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服务创建一个本地 Windows 组。</span><span class="sxs-lookup"><span data-stu-id="cc538-339">During [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup creates a local Windows groups for [!INCLUDE[ssAS](../../includes/ssas-md.md)] and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service.</span></span> <span data-ttu-id="cc538-340">对于这些服务， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 将为此本地 Windows 组配置 ACL。</span><span class="sxs-lookup"><span data-stu-id="cc538-340">For these services, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] configures the ACL for the local Windows groups.</span></span>  
  
 <span data-ttu-id="cc538-341">在安装或升级期间，系统可能会将服务或服务 SID 的服务帐户添加为服务组的成员，具体取决于服务配置。</span><span class="sxs-lookup"><span data-stu-id="cc538-341">Depending on the service configuration, the service account for a service or service SID is added as a member of the service group during install or upgrade.</span></span>  
  
###  <a name="windows-privileges-and-rights"></a><a name="Windows"></a> <span data-ttu-id="cc538-342">Windows 特权和权限</span><span class="sxs-lookup"><span data-stu-id="cc538-342">Windows Privileges and Rights</span></span>  
 <span data-ttu-id="cc538-343">为启动服务分配的帐户需要对于服务的 **启动、停止和暂停权限** 。</span><span class="sxs-lookup"><span data-stu-id="cc538-343">The account assigned to start a service needs the **Start, stop and pause permission** for the service.</span></span> <span data-ttu-id="cc538-344">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序将自动分配此权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-344">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup program automatically assigns this.</span></span>  <span data-ttu-id="cc538-345">首先，安装远程服务器管理工具 (RSAT)。</span><span class="sxs-lookup"><span data-stu-id="cc538-345">First install Remote Server Administration Tools (RSAT).</span></span> <span data-ttu-id="cc538-346">请参阅 [Remote Server Administration Tools for Windows 7](https://www.microsoft.com/download/details.aspx?id=7887)（Windows 7 的远程服务器管理工具）。</span><span class="sxs-lookup"><span data-stu-id="cc538-346">See [Remote Server Administration Tools for Windows 7](https://www.microsoft.com/download/details.aspx?id=7887).</span></span>  
  
 <span data-ttu-id="cc538-347">下表说明 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 组件使用的 Per-service SID 或本地 Windows 组请求的权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-347">The following table shows permissions that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup requests for the per-service SIDs or local Windows groups used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>  
  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-348">服务</span><span class="sxs-lookup"><span data-stu-id="cc538-348">Service</span></span>|<span data-ttu-id="cc538-349">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序授予的权限</span><span class="sxs-lookup"><span data-stu-id="cc538-349">Permissions granted by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup</span></span>|  
|---------------------------------------|------------------------------------------------------------|  
|<span data-ttu-id="cc538-350">**[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]:**</span><span class="sxs-lookup"><span data-stu-id="cc538-350">**[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]:**</span></span><br /><br /> <span data-ttu-id="cc538-351">（所有权限都将授予 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-351">(All rights are granted to the per-service SID.</span></span> <span data-ttu-id="cc538-352">默认实例：NT SERVICE\MSSQLSERVER。</span><span class="sxs-lookup"><span data-stu-id="cc538-352">Default instance: **NT SERVICE\MSSQLSERVER**.</span></span> <span data-ttu-id="cc538-353">命名实例： **NT SERVICE\MSSQL$** InstanceName。）</span><span class="sxs-lookup"><span data-stu-id="cc538-353">Named instance: **NT SERVICE\MSSQL$** InstanceName.)</span></span>|<span data-ttu-id="cc538-354">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-354">**Log on as a service** (SeServiceLogonRight)</span></span><br /><br /> <span data-ttu-id="cc538-355">**替换进程级别标记** (SeAssignPrimaryTokenPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-355">**Replace a process-level token** (SeAssignPrimaryTokenPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-356">**跳过遍历检查** (SeChangeNotifyPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-356">**Bypass traverse checking** (SeChangeNotifyPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-357">**调整进程的内存配额** (SeIncreaseQuotaPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-357">**Adjust memory quotas for a process** (SeIncreaseQuotaPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-358">启动 SQL 编写器的权限</span><span class="sxs-lookup"><span data-stu-id="cc538-358">Permission to start SQL Writer</span></span><br /><br /> <span data-ttu-id="cc538-359">读取事件日志服务的权限</span><span class="sxs-lookup"><span data-stu-id="cc538-359">Permission to read the Event Log service</span></span><br /><br /> <span data-ttu-id="cc538-360">读取远程过程调用服务的权限</span><span class="sxs-lookup"><span data-stu-id="cc538-360">Permission to read the Remote Procedure Call service</span></span>|  
|<span data-ttu-id="cc538-361">\*\* [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理：\*\* <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-361">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent:** <sup>1</sup></span></span><br /><br /> <span data-ttu-id="cc538-362">（所有权限都将授予 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-362">(All rights are granted to the per-service SID.</span></span> <span data-ttu-id="cc538-363">默认实例：NT Service\SQLSERVERAGENT。</span><span class="sxs-lookup"><span data-stu-id="cc538-363">Default instance: **NT Service\SQLSERVERAGENT**.</span></span> <span data-ttu-id="cc538-364">命名实例：NT Service\SQLAGENT$InstanceName。）</span><span class="sxs-lookup"><span data-stu-id="cc538-364">Named instance: **NT Service\SQLAGENT$**_InstanceName_.)</span></span>|<span data-ttu-id="cc538-365">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-365">**Log on as a service** (SeServiceLogonRight)</span></span><br /><br /> <span data-ttu-id="cc538-366">**替换进程级别标记** (SeAssignPrimaryTokenPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-366">**Replace a process-level token** (SeAssignPrimaryTokenPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-367">**跳过遍历检查** (SeChangeNotifyPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-367">**Bypass traverse checking** (SeChangeNotifyPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-368">**调整进程的内存配额** (SeIncreaseQuotaPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-368">**Adjust memory quotas for a process** (SeIncreaseQuotaPrivilege)</span></span>|  
|<span data-ttu-id="cc538-369">**[!INCLUDE[ssAS](../../includes/ssas-md.md)]:**</span><span class="sxs-lookup"><span data-stu-id="cc538-369">**[!INCLUDE[ssAS](../../includes/ssas-md.md)]:**</span></span><br /><br /> <span data-ttu-id="cc538-370">（所有权限都授予本地 Windows 组。</span><span class="sxs-lookup"><span data-stu-id="cc538-370">(All rights are granted to a local Windows group.</span></span> <span data-ttu-id="cc538-371">默认实例：SQLServerMSASUser$ComputerName$MSSQLSERVER。</span><span class="sxs-lookup"><span data-stu-id="cc538-371">Default instance: **SQLServerMSASUser$**_ComputerName_**$MSSQLSERVER**.</span></span> <span data-ttu-id="cc538-372">命名实例：SQLServerMSASUser$ComputerName$InstanceName。</span><span class="sxs-lookup"><span data-stu-id="cc538-372">Named instance: **SQLServerMSASUser$**_ComputerName_**$**_InstanceName_.</span></span> [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] <span data-ttu-id="cc538-373">实例：SQLServerMSASUser$ComputerName$PowerPivot。）</span><span class="sxs-lookup"><span data-stu-id="cc538-373">instance: **SQLServerMSASUser$**_ComputerName_**$**_PowerPivot_.)</span></span>|<span data-ttu-id="cc538-374">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-374">**Log on as a service** (SeServiceLogonRight)</span></span><br /><br /> <span data-ttu-id="cc538-375">仅适用于表格：</span><span class="sxs-lookup"><span data-stu-id="cc538-375">For tabular only:</span></span><br /><br /> <span data-ttu-id="cc538-376">**增加进程工作集** (SeIncreaseWorkingSetPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-376">**Increase a process working set** (SeIncreaseWorkingSetPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-377">**调整进程的内存配额** (SeIncreaseQuotaSizePrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-377">**Adjust memory quotas for a process** (SeIncreaseQuotaSizePrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-378">“锁定内存页”(SeLockMemoryPrivilege) - 仅当完全关闭分页时才需要。</span><span class="sxs-lookup"><span data-stu-id="cc538-378">**Lock pages in memory** (SeLockMemoryPrivilege) - this is needed only when paging is turned off entirely.</span></span><br /><br /> <span data-ttu-id="cc538-379">仅适用于故障转移群集安装：</span><span class="sxs-lookup"><span data-stu-id="cc538-379">For failover cluster installations only:</span></span><br /><br /> <span data-ttu-id="cc538-380">**提高计划优先级** (SeIncreaseBasePriorityPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-380">**Increase scheduling priority** (SeIncreaseBasePriorityPrivilege)</span></span>|  
|<span data-ttu-id="cc538-381">**[!INCLUDE[ssRS](../../includes/ssrs.md)]:**</span><span class="sxs-lookup"><span data-stu-id="cc538-381">**[!INCLUDE[ssRS](../../includes/ssrs.md)]:**</span></span><br /><br /> <span data-ttu-id="cc538-382">（所有权限都将授予 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-382">(All rights are granted to the per-service SID.</span></span> <span data-ttu-id="cc538-383">默认实例：NT SERVICE\ReportServer。</span><span class="sxs-lookup"><span data-stu-id="cc538-383">Default instance: **NT SERVICE\ReportServer**.</span></span> <span data-ttu-id="cc538-384">命名实例： \*\*NT SERVICE \\ $ \*\*_InstanceName_. ) </span><span class="sxs-lookup"><span data-stu-id="cc538-384">Named instance: **NT SERVICE\\$**_InstanceName_.)</span></span>|<span data-ttu-id="cc538-385">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-385">**Log on as a service** (SeServiceLogonRight)</span></span>|  
|<span data-ttu-id="cc538-386">**[!INCLUDE[ssIS](../../includes/ssis-md.md)]:**</span><span class="sxs-lookup"><span data-stu-id="cc538-386">**[!INCLUDE[ssIS](../../includes/ssis-md.md)]:**</span></span><br /><br /> <span data-ttu-id="cc538-387">（所有权限都将授予 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-387">(All rights are granted to the per-service SID.</span></span> <span data-ttu-id="cc538-388">默认实例和命名实例： **NT SERVICE\MsDtsServer120**。</span><span class="sxs-lookup"><span data-stu-id="cc538-388">Default instance and named instance: **NT SERVICE\MsDtsServer120**.</span></span> [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="cc538-389">没有针对命名实例的单独进程。）</span><span class="sxs-lookup"><span data-stu-id="cc538-389">does not have a separate process for a named instance.)</span></span>|<span data-ttu-id="cc538-390">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-390">**Log on as a service** (SeServiceLogonRight)</span></span><br /><br /> <span data-ttu-id="cc538-391">应用程序事件日志的写入权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-391">Permission to write to application event log.</span></span><br /><br /> <span data-ttu-id="cc538-392">**跳过遍历检查** (SeChangeNotifyPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-392">**Bypass traverse checking** (SeChangeNotifyPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-393">**身份验证后模拟客户端** (SeImpersonatePrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-393">**Impersonate a client after authentication** (SeImpersonatePrivilege)</span></span>|  
|<span data-ttu-id="cc538-394">**全文搜索：**</span><span class="sxs-lookup"><span data-stu-id="cc538-394">**Full-text search:**</span></span><br /><br /> <span data-ttu-id="cc538-395">（所有权限都将授予 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-395">(All rights are granted to the per-service SID.</span></span> <span data-ttu-id="cc538-396">默认实例：NT Service\MSSQLFDLauncher。</span><span class="sxs-lookup"><span data-stu-id="cc538-396">Default instance: **NT Service\MSSQLFDLauncher**.</span></span> <span data-ttu-id="cc538-397">命名实例：NT Service\ MSSQLFDLauncher$InstanceName。）</span><span class="sxs-lookup"><span data-stu-id="cc538-397">Named instance: **NT Service\ MSSQLFDLauncher$**_InstanceName_.)</span></span>|<span data-ttu-id="cc538-398">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-398">**Log on as a service** (SeServiceLogonRight)</span></span><br /><br /> <span data-ttu-id="cc538-399">**调整进程的内存配额** (SeIncreaseQuotaPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-399">**Adjust memory quotas for a process** (SeIncreaseQuotaPrivilege)</span></span><br /><br /> <span data-ttu-id="cc538-400">**跳过遍历检查** (SeChangeNotifyPrivilege)</span><span class="sxs-lookup"><span data-stu-id="cc538-400">**Bypass traverse checking** (SeChangeNotifyPrivilege)</span></span>|  
|<span data-ttu-id="cc538-401">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser：**</span><span class="sxs-lookup"><span data-stu-id="cc538-401">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser:**</span></span><br /><br /> <span data-ttu-id="cc538-402">（所有权限都授予本地 Windows 组。</span><span class="sxs-lookup"><span data-stu-id="cc538-402">(All rights are granted to a local Windows group.</span></span> <span data-ttu-id="cc538-403">默认实例或命名实例：SQLServer2005SQLBrowserUser$ComputerName。</span><span class="sxs-lookup"><span data-stu-id="cc538-403">Default or named instance: **SQLServer2005SQLBrowserUser**_$ComputerName_.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-404">Browser 没有针对命名实例的单独进程。）</span><span class="sxs-lookup"><span data-stu-id="cc538-404">Browser does not have a separate process for a named instance.)</span></span>|<span data-ttu-id="cc538-405">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-405">**Log on as a service** (SeServiceLogonRight)</span></span>|  
|<span data-ttu-id="cc538-406">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] VSS 编写器：**</span><span class="sxs-lookup"><span data-stu-id="cc538-406">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] VSS Writer:**</span></span><br /><br /> <span data-ttu-id="cc538-407">（所有权限都将授予 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-407">(All rights are granted to the per-service SID.</span></span> <span data-ttu-id="cc538-408">默认实例或命名实例：NT Service\SQLWriter。</span><span class="sxs-lookup"><span data-stu-id="cc538-408">Default or named instance: **NT Service\SQLWriter**.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-409">VSS 编写器没有针对命名实例的单独进程。）</span><span class="sxs-lookup"><span data-stu-id="cc538-409">VSS Writer does not have a separate process for a named instance.)</span></span>|<span data-ttu-id="cc538-410">SQLWriter 服务在具有所需的所有权限的 LOCAL SYSTEM 帐户下运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-410">The SQLWriter service runs under the LOCAL SYSTEM account which has all the required permissions.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-411">安装程序不检查此服务或为其授予权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-411">setup does not check or grant permissions for this service.</span></span>|  
|<span data-ttu-id="cc538-412">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay 控制器：**</span><span class="sxs-lookup"><span data-stu-id="cc538-412">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay Controller:**</span></span>|<span data-ttu-id="cc538-413">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-413">**Log on as a service** (SeServiceLogonRight)</span></span>|  
|<span data-ttu-id="cc538-414">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay 客户端：**</span><span class="sxs-lookup"><span data-stu-id="cc538-414">**[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay Client:**</span></span>|<span data-ttu-id="cc538-415">**以服务身份登录** (SeServiceLogonRight)</span><span class="sxs-lookup"><span data-stu-id="cc538-415">**Log on as a service** (SeServiceLogonRight)</span></span>|  
  
 <span data-ttu-id="cc538-416"><sup>1</sup>[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]代理服务在的实例上处于禁用状态 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="cc538-416"><sup>1</sup>The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is disabled on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span>  
  
###  <a name="file-system-permissions-granted-to-sql-server-per-service-sids-or-local-windows-groups"></a><a name="Reviewing_ACLs"></a> <span data-ttu-id="cc538-417">授予 SQL Server Per-service SID 或本地 Windows 组的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-417">File System Permissions Granted to SQL Server Per-service SIDs or Local Windows Groups</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-418">服务帐户必须具有对资源的访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-418">service accounts must have access to resources.</span></span> <span data-ttu-id="cc538-419">为 Per-service SID 或本地 Windows 组设置了访问控制列表。</span><span class="sxs-lookup"><span data-stu-id="cc538-419">Access control lists are set for the per-service SID or the local Windows group.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="cc538-420">对于故障转移群集安装，必须为本地帐户的 ACL 设置共享磁盘上的资源。</span><span class="sxs-lookup"><span data-stu-id="cc538-420">For failover cluster installations, resources on shared disks must be set to an ACL for a local account.</span></span>  
  
 <span data-ttu-id="cc538-421">下表显示了 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序设置的 ACL：</span><span class="sxs-lookup"><span data-stu-id="cc538-421">The following table shows the ACLs that are set by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup:</span></span>  
  
|<span data-ttu-id="cc538-422">服务帐户针对</span><span class="sxs-lookup"><span data-stu-id="cc538-422">Service account for</span></span>|<span data-ttu-id="cc538-423">文件和文件夹</span><span class="sxs-lookup"><span data-stu-id="cc538-423">Files and folders</span></span>|<span data-ttu-id="cc538-424">访问</span><span class="sxs-lookup"><span data-stu-id="cc538-424">Access</span></span>|  
|-------------------------|-----------------------|------------|  
|<span data-ttu-id="cc538-425">MSSQLServer</span><span class="sxs-lookup"><span data-stu-id="cc538-425">MSSQLServer</span></span>|<span data-ttu-id="cc538-426">Instid\MSSQL\backup</span><span class="sxs-lookup"><span data-stu-id="cc538-426">Instid\MSSQL\backup</span></span>|<span data-ttu-id="cc538-427">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-427">Full control</span></span>|  
||<span data-ttu-id="cc538-428">Instid\MSSQL\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-428">Instid\MSSQL\binn</span></span>|<span data-ttu-id="cc538-429">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-429">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-430">Instid\MSSQL\data</span><span class="sxs-lookup"><span data-stu-id="cc538-430">Instid\MSSQL\data</span></span>|<span data-ttu-id="cc538-431">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-431">Full control</span></span>|  
||<span data-ttu-id="cc538-432">Instid\MSSQL\FTData</span><span class="sxs-lookup"><span data-stu-id="cc538-432">Instid\MSSQL\FTData</span></span>|<span data-ttu-id="cc538-433">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-433">Full control</span></span>|  
||<span data-ttu-id="cc538-434">Instid\MSSQL\Install</span><span class="sxs-lookup"><span data-stu-id="cc538-434">Instid\MSSQL\Install</span></span>|<span data-ttu-id="cc538-435">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-435">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-436">Instid\MSSQL\Log</span><span class="sxs-lookup"><span data-stu-id="cc538-436">Instid\MSSQL\Log</span></span>|<span data-ttu-id="cc538-437">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-437">Full control</span></span>|  
||<span data-ttu-id="cc538-438">Instid\MSSQL\Repldata</span><span class="sxs-lookup"><span data-stu-id="cc538-438">Instid\MSSQL\Repldata</span></span>|<span data-ttu-id="cc538-439">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-439">Full control</span></span>|  
||<span data-ttu-id="cc538-440">120\shared</span><span class="sxs-lookup"><span data-stu-id="cc538-440">120\shared</span></span>|<span data-ttu-id="cc538-441">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-441">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-442">Instid\MSSQL\Template Data（仅限[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] ）</span><span class="sxs-lookup"><span data-stu-id="cc538-442">Instid\MSSQL\Template Data ([!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] only)</span></span>|<span data-ttu-id="cc538-443">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-443">Read</span></span>|  
|<span data-ttu-id="cc538-444">SQLServerAgent<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-444">SQLServerAgent<sup>1</sup></span></span>|<span data-ttu-id="cc538-445">Instid\MSSQL\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-445">Instid\MSSQL\binn</span></span>|<span data-ttu-id="cc538-446">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-446">Full control</span></span>|  
||<span data-ttu-id="cc538-447">Instid\MSSQL\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-447">Instid\MSSQL\binn</span></span>|<span data-ttu-id="cc538-448">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-448">Full control</span></span>|  
||<span data-ttu-id="cc538-449">Instid\MSSQL\Log</span><span class="sxs-lookup"><span data-stu-id="cc538-449">Instid\MSSQL\Log</span></span>|<span data-ttu-id="cc538-450">读取、写入、删除和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-450">Read, Write, Delete, Execute</span></span>|  
||<span data-ttu-id="cc538-451">120\com</span><span class="sxs-lookup"><span data-stu-id="cc538-451">120\com</span></span>|<span data-ttu-id="cc538-452">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-452">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-453">120\shared</span><span class="sxs-lookup"><span data-stu-id="cc538-453">120\shared</span></span>|<span data-ttu-id="cc538-454">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-454">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-455">120\shared\Errordumps</span><span class="sxs-lookup"><span data-stu-id="cc538-455">120\shared\Errordumps</span></span>|<span data-ttu-id="cc538-456">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-456">Read, Write</span></span>|  
||<span data-ttu-id="cc538-457">ServerName\EventLog</span><span class="sxs-lookup"><span data-stu-id="cc538-457">ServerName\EventLog</span></span>|<span data-ttu-id="cc538-458">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-458">Full control</span></span>|  
|<span data-ttu-id="cc538-459">FTS</span><span class="sxs-lookup"><span data-stu-id="cc538-459">FTS</span></span>|<span data-ttu-id="cc538-460">Instid\MSSQL\FTData</span><span class="sxs-lookup"><span data-stu-id="cc538-460">Instid\MSSQL\FTData</span></span>|<span data-ttu-id="cc538-461">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-461">Full control</span></span>|  
||<span data-ttu-id="cc538-462">Instid\MSSQL\FTRef</span><span class="sxs-lookup"><span data-stu-id="cc538-462">Instid\MSSQL\FTRef</span></span>|<span data-ttu-id="cc538-463">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-463">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-464">120\shared</span><span class="sxs-lookup"><span data-stu-id="cc538-464">120\shared</span></span>|<span data-ttu-id="cc538-465">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-465">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-466">120\shared\Errordumps</span><span class="sxs-lookup"><span data-stu-id="cc538-466">120\shared\Errordumps</span></span>|<span data-ttu-id="cc538-467">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-467">Read, Write</span></span>|  
||<span data-ttu-id="cc538-468">Instid\MSSQL\Install</span><span class="sxs-lookup"><span data-stu-id="cc538-468">Instid\MSSQL\Install</span></span>|<span data-ttu-id="cc538-469">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-469">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-470">Instid\MSSQL\jobs</span><span class="sxs-lookup"><span data-stu-id="cc538-470">Instid\MSSQL\jobs</span></span>|<span data-ttu-id="cc538-471">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-471">Read, Write</span></span>|  
|<span data-ttu-id="cc538-472">MSSQLServerOLAPService</span><span class="sxs-lookup"><span data-stu-id="cc538-472">MSSQLServerOLAPservice</span></span>|<span data-ttu-id="cc538-473">120\shared\ASConfig</span><span class="sxs-lookup"><span data-stu-id="cc538-473">120\shared\ASConfig</span></span>|<span data-ttu-id="cc538-474">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-474">Full control</span></span>|  
||<span data-ttu-id="cc538-475">Instid\OLAP</span><span class="sxs-lookup"><span data-stu-id="cc538-475">Instid\OLAP</span></span>|<span data-ttu-id="cc538-476">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-476">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-477">Instid\Olap\Data</span><span class="sxs-lookup"><span data-stu-id="cc538-477">Instid\Olap\Data</span></span>|<span data-ttu-id="cc538-478">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-478">Full control</span></span>|  
||<span data-ttu-id="cc538-479">Instid\Olap\Log</span><span class="sxs-lookup"><span data-stu-id="cc538-479">Instid\Olap\Log</span></span>|<span data-ttu-id="cc538-480">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-480">Read, Write</span></span>|  
||<span data-ttu-id="cc538-481">Instid\OLAP\Backup</span><span class="sxs-lookup"><span data-stu-id="cc538-481">Instid\OLAP\Backup</span></span>|<span data-ttu-id="cc538-482">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-482">Read, Write</span></span>|  
||<span data-ttu-id="cc538-483">Instid\OLAP\Temp</span><span class="sxs-lookup"><span data-stu-id="cc538-483">Instid\OLAP\Temp</span></span>|<span data-ttu-id="cc538-484">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-484">Read, Write</span></span>|  
||<span data-ttu-id="cc538-485">120\shared\Errordumps</span><span class="sxs-lookup"><span data-stu-id="cc538-485">120\shared\Errordumps</span></span>|<span data-ttu-id="cc538-486">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-486">Read, Write</span></span>|  
|<span data-ttu-id="cc538-487">ReportServer</span><span class="sxs-lookup"><span data-stu-id="cc538-487">ReportServer</span></span>|<span data-ttu-id="cc538-488">Instid\Reporting Services\Log Files</span><span class="sxs-lookup"><span data-stu-id="cc538-488">Instid\Reporting Services\Log Files</span></span>|<span data-ttu-id="cc538-489">读取、写入、删除</span><span class="sxs-lookup"><span data-stu-id="cc538-489">Read, Write, Delete</span></span>|  
||<span data-ttu-id="cc538-490">Instid\Reporting Services\ReportServer</span><span class="sxs-lookup"><span data-stu-id="cc538-490">Instid\Reporting Services\ReportServer</span></span>|<span data-ttu-id="cc538-491">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-491">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-492">Instid\Reporting Services\ReportServer\global.asax</span><span class="sxs-lookup"><span data-stu-id="cc538-492">Instid\Reporting Services\ReportServer\global.asax</span></span>|<span data-ttu-id="cc538-493">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-493">Full control</span></span>|  
||<span data-ttu-id="cc538-494">Instid\Reporting Services\ReportServer\rsreportserver.config</span><span class="sxs-lookup"><span data-stu-id="cc538-494">Instid\Reporting Services\ReportServer\rsreportserver.config</span></span>|<span data-ttu-id="cc538-495">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-495">Read</span></span>|  
||<span data-ttu-id="cc538-496">Instid\Reporting Services\reportManager</span><span class="sxs-lookup"><span data-stu-id="cc538-496">Instid\Reporting Services\ReportManager</span></span>|<span data-ttu-id="cc538-497">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-497">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-498">Instid\Reporting Services\RSTempfiles</span><span class="sxs-lookup"><span data-stu-id="cc538-498">Instid\Reporting Services\RSTempfiles</span></span>|<span data-ttu-id="cc538-499">读取、写入、执行、删除</span><span class="sxs-lookup"><span data-stu-id="cc538-499">Read, Write, Execute, Delete</span></span>|  
||<span data-ttu-id="cc538-500">120\shared</span><span class="sxs-lookup"><span data-stu-id="cc538-500">120\shared</span></span>|<span data-ttu-id="cc538-501">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-501">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-502">120\shared\Errordumps</span><span class="sxs-lookup"><span data-stu-id="cc538-502">120\shared\Errordumps</span></span>|<span data-ttu-id="cc538-503">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-503">Read, Write</span></span>|  
|<span data-ttu-id="cc538-504">MSDTSServer100</span><span class="sxs-lookup"><span data-stu-id="cc538-504">MSDTSServer100</span></span>|<span data-ttu-id="cc538-505">120\dts\binn\MsDtsSrvr.ini.xml</span><span class="sxs-lookup"><span data-stu-id="cc538-505">120\dts\binn\MsDtsSrvr.ini.xml</span></span>|<span data-ttu-id="cc538-506">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-506">Read</span></span>|  
||<span data-ttu-id="cc538-507">120\dts\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-507">120\dts\binn</span></span>|<span data-ttu-id="cc538-508">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-508">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-509">120\shared</span><span class="sxs-lookup"><span data-stu-id="cc538-509">120\shared</span></span>|<span data-ttu-id="cc538-510">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-510">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-511">120\shared\Errordumps</span><span class="sxs-lookup"><span data-stu-id="cc538-511">120\shared\Errordumps</span></span>|<span data-ttu-id="cc538-512">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-512">Read, Write</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-513">Browser</span><span class="sxs-lookup"><span data-stu-id="cc538-513">Browser</span></span>|<span data-ttu-id="cc538-514">120\shared\ASConfig</span><span class="sxs-lookup"><span data-stu-id="cc538-514">120\shared\ASConfig</span></span>|<span data-ttu-id="cc538-515">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-515">Read</span></span>|  
||<span data-ttu-id="cc538-516">120\shared</span><span class="sxs-lookup"><span data-stu-id="cc538-516">120\shared</span></span>|<span data-ttu-id="cc538-517">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-517">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-518">120\shared\Errordumps</span><span class="sxs-lookup"><span data-stu-id="cc538-518">120\shared\Errordumps</span></span>|<span data-ttu-id="cc538-519">读取和写入</span><span class="sxs-lookup"><span data-stu-id="cc538-519">Read, Write</span></span>|  
|<span data-ttu-id="cc538-520">SQLWriter</span><span class="sxs-lookup"><span data-stu-id="cc538-520">SQLWriter</span></span>|<span data-ttu-id="cc538-521">不适用（以 Local System 身份运行）</span><span class="sxs-lookup"><span data-stu-id="cc538-521">N/A (Runs as local system)</span></span>||  
|<span data-ttu-id="cc538-522">用户</span><span class="sxs-lookup"><span data-stu-id="cc538-522">User</span></span>|<span data-ttu-id="cc538-523">Instid\MSSQL\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-523">Instid\MSSQL\binn</span></span>|<span data-ttu-id="cc538-524">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-524">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-525">Instid\Reporting Services\ReportServer</span><span class="sxs-lookup"><span data-stu-id="cc538-525">Instid\Reporting Services\ReportServer</span></span>|<span data-ttu-id="cc538-526">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-526">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-527">Instid\Reporting Services\ReportServer\global.asax</span><span class="sxs-lookup"><span data-stu-id="cc538-527">Instid\Reporting Services\ReportServer\global.asax</span></span>|<span data-ttu-id="cc538-528">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-528">Read</span></span>|  
||<span data-ttu-id="cc538-529">Instid\Reporting Services\reportManager</span><span class="sxs-lookup"><span data-stu-id="cc538-529">Instid\Reporting Services\ReportManager</span></span>|<span data-ttu-id="cc538-530">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-530">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-531">Instid\Reporting Services\ReportManager\pages</span><span class="sxs-lookup"><span data-stu-id="cc538-531">Instid\Reporting Services\ReportManager\pages</span></span>|<span data-ttu-id="cc538-532">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-532">Read</span></span>|  
||<span data-ttu-id="cc538-533">Instid\Reporting Services\ReportManager\Styles</span><span class="sxs-lookup"><span data-stu-id="cc538-533">Instid\Reporting Services\ReportManager\Styles</span></span>|<span data-ttu-id="cc538-534">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-534">Read</span></span>|  
||<span data-ttu-id="cc538-535">120\dts</span><span class="sxs-lookup"><span data-stu-id="cc538-535">120\dts</span></span>|<span data-ttu-id="cc538-536">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-536">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-537">120\tools</span><span class="sxs-lookup"><span data-stu-id="cc538-537">120\tools</span></span>|<span data-ttu-id="cc538-538">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-538">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-539">100\tools</span><span class="sxs-lookup"><span data-stu-id="cc538-539">100\tools</span></span>|<span data-ttu-id="cc538-540">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-540">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-541">90\tools</span><span class="sxs-lookup"><span data-stu-id="cc538-541">90\tools</span></span>|<span data-ttu-id="cc538-542">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-542">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-543">80\tools</span><span class="sxs-lookup"><span data-stu-id="cc538-543">80\tools</span></span>|<span data-ttu-id="cc538-544">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-544">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-545">120\sdk</span><span class="sxs-lookup"><span data-stu-id="cc538-545">120\sdk</span></span>|<span data-ttu-id="cc538-546">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-546">Read</span></span>|  
||<span data-ttu-id="cc538-547">Microsoft SQL Server\120\Setup Bootstrap</span><span class="sxs-lookup"><span data-stu-id="cc538-547">Microsoft SQL Server\120\Setup Bootstrap</span></span>|<span data-ttu-id="cc538-548">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-548">Read, Execute</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-549">Distributed Replay 控制器</span><span class="sxs-lookup"><span data-stu-id="cc538-549">Distributed Replay Controller</span></span>|<span data-ttu-id="cc538-550">\<ToolsDir>\DReplayController\Log\（空目录）</span><span class="sxs-lookup"><span data-stu-id="cc538-550">\<ToolsDir>\DReplayController\Log\ (empty directory)</span></span>|<span data-ttu-id="cc538-551">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-551">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-552">\<ToolsDir>\DReplayController\DReplayController.exe</span><span class="sxs-lookup"><span data-stu-id="cc538-552">\<ToolsDir>\DReplayController\DReplayController.exe</span></span>|<span data-ttu-id="cc538-553">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-553">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-554">\<ToolsDir>\DReplayController\resources\|读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-554">\<ToolsDir>\DReplayController\resources\|Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-555">\<ToolsDir>\DReplayController\\{所有 DLL}</span><span class="sxs-lookup"><span data-stu-id="cc538-555">\<ToolsDir>\DReplayController\\{all dlls}</span></span>|<span data-ttu-id="cc538-556">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-556">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-557">\<ToolsDir>\DReplayController\DReplayController.config</span><span class="sxs-lookup"><span data-stu-id="cc538-557">\<ToolsDir>\DReplayController\DReplayController.config</span></span>|<span data-ttu-id="cc538-558">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-558">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-559">\<ToolsDir>\DReplayController\IRTemplate.tdf</span><span class="sxs-lookup"><span data-stu-id="cc538-559">\<ToolsDir>\DReplayController\IRTemplate.tdf</span></span>|<span data-ttu-id="cc538-560">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-560">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-561">\<ToolsDir>\DReplayController\IRDefinition.xml</span><span class="sxs-lookup"><span data-stu-id="cc538-561">\<ToolsDir>\DReplayController\IRDefinition.xml</span></span>|<span data-ttu-id="cc538-562">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-562">Read, Execute, List Folder Contents</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-563">Distributed Replay 客户端</span><span class="sxs-lookup"><span data-stu-id="cc538-563">Distributed Replay Client</span></span>|<span data-ttu-id="cc538-564">\<ToolsDir>\DReplayClient\Log\|读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-564">\<ToolsDir>\DReplayClient\Log\|Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-565">\<ToolsDir>\DReplayClient\DReplayClient.exe</span><span class="sxs-lookup"><span data-stu-id="cc538-565">\<ToolsDir>\DReplayClient\DReplayClient.exe</span></span>|<span data-ttu-id="cc538-566">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-566">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-567">\<ToolsDir>\DReplayClient\resources\|读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-567">\<ToolsDir>\DReplayClient\resources\|Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-568">\<ToolsDir>\DReplayClient\（所有 DLL）</span><span class="sxs-lookup"><span data-stu-id="cc538-568">\<ToolsDir>\DReplayClient\ (all dlls)</span></span>|<span data-ttu-id="cc538-569">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-569">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-570">\<ToolsDir>\DReplayClient\DReplayClient.config</span><span class="sxs-lookup"><span data-stu-id="cc538-570">\<ToolsDir>\DReplayClient\DReplayClient.config</span></span>|<span data-ttu-id="cc538-571">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-571">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-572">\<ToolsDir>\DReplayClient\IRTemplate.tdf</span><span class="sxs-lookup"><span data-stu-id="cc538-572">\<ToolsDir>\DReplayClient\IRTemplate.tdf</span></span>|<span data-ttu-id="cc538-573">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-573">Read, Execute, List Folder Contents</span></span>|  
||<span data-ttu-id="cc538-574">\<ToolsDir>\DReplayClient\IRDefinition.xml</span><span class="sxs-lookup"><span data-stu-id="cc538-574">\<ToolsDir>\DReplayClient\IRDefinition.xml</span></span>|<span data-ttu-id="cc538-575">读取、执行和列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-575">Read, Execute, List Folder Contents</span></span>|  
  
 <span data-ttu-id="cc538-576"><sup>1</sup>[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]在 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 具有高级服务的实例上禁用代理服务 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="cc538-576"><sup>1</sup>The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is disabled on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] and [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] with Advanced Services.</span></span>  
  
 <span data-ttu-id="cc538-577">当数据库文件存储在用户定义的位置时，您必须授予每个服务 SID 访问该位置的权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-577">When database files are stored in a user-defined location, you must grant the per-service SID access to that location.</span></span> <span data-ttu-id="cc538-578">有关将文件系统权限授予 Per-service SID 的详细信息，请参阅 [配置数据库引擎访问的文件系统权限](configure-file-system-permissions-for-database-engine-access.md)。</span><span class="sxs-lookup"><span data-stu-id="cc538-578">For more information about granting file system permissions to a per-service SID, see [Configure File System Permissions for Database Engine Access](configure-file-system-permissions-for-database-engine-access.md).</span></span>  
  
###  <a name="file-system-permissions-granted-to-other-windows-user-accounts-or-groups"></a><a name="File_System_Other"></a> <span data-ttu-id="cc538-579">授予其他 Windows 用户帐户或组的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-579">File System Permissions Granted to Other Windows User Accounts or Groups</span></span>  
 <span data-ttu-id="cc538-580">可能还必须向内置帐户或其他 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务帐户授予某些访问控制权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-580">Some access control permissions might have to be granted to built-in accounts or other [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service accounts.</span></span> <span data-ttu-id="cc538-581">下表列出了 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序设置的其他 ACL。</span><span class="sxs-lookup"><span data-stu-id="cc538-581">The following table lists additional ACLs that are set by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
|<span data-ttu-id="cc538-582">请求组件</span><span class="sxs-lookup"><span data-stu-id="cc538-582">Requesting component</span></span>|<span data-ttu-id="cc538-583">帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-583">Account</span></span>|<span data-ttu-id="cc538-584">资源</span><span class="sxs-lookup"><span data-stu-id="cc538-584">Resource</span></span>|<span data-ttu-id="cc538-585">权限</span><span class="sxs-lookup"><span data-stu-id="cc538-585">Permissions</span></span>|  
|--------------------------|-------------|--------------|-----------------|  
|<span data-ttu-id="cc538-586">MSSQLServer</span><span class="sxs-lookup"><span data-stu-id="cc538-586">MSSQLServer</span></span>|<span data-ttu-id="cc538-587">性能日志用户</span><span class="sxs-lookup"><span data-stu-id="cc538-587">Performance Log Users</span></span>|<span data-ttu-id="cc538-588">Instid\MSSQL\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-588">Instid\MSSQL\binn</span></span>|<span data-ttu-id="cc538-589">列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-589">List folder contents</span></span>|  
||<span data-ttu-id="cc538-590">性能监视器用户</span><span class="sxs-lookup"><span data-stu-id="cc538-590">Performance Monitor Users</span></span>|<span data-ttu-id="cc538-591">Instid\MSSQL\binn</span><span class="sxs-lookup"><span data-stu-id="cc538-591">Instid\MSSQL\binn</span></span>|<span data-ttu-id="cc538-592">列出文件夹内容</span><span class="sxs-lookup"><span data-stu-id="cc538-592">List folder contents</span></span>|  
||<span data-ttu-id="cc538-593">性能日志用户、性能监视器用户</span><span class="sxs-lookup"><span data-stu-id="cc538-593">Performance Log Users, Performance Monitor Users</span></span>|<span data-ttu-id="cc538-594">\WINNT\system32\sqlctr120.dll</span><span class="sxs-lookup"><span data-stu-id="cc538-594">\WINNT\system32\sqlctr120.dll</span></span>|<span data-ttu-id="cc538-595">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-595">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-596">仅限于管理员</span><span class="sxs-lookup"><span data-stu-id="cc538-596">Administrator only</span></span>|<span data-ttu-id="cc538-597">\\\\.\root\Microsoft\SqlServer\ServerEvents \\<sql_instance_name><sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-597">\\\\.\root\Microsoft\SqlServer\ServerEvents\\<sql_instance_name><sup>1</sup></span></span>|<span data-ttu-id="cc538-598">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-598">Full control</span></span>|  
||<span data-ttu-id="cc538-599">管理员和系统</span><span class="sxs-lookup"><span data-stu-id="cc538-599">Administrators, System</span></span>|<span data-ttu-id="cc538-600">\tools\binn\schemas\sqlserver\2004\07\showplan</span><span class="sxs-lookup"><span data-stu-id="cc538-600">\tools\binn\schemas\sqlserver\2004\07\showplan</span></span>|<span data-ttu-id="cc538-601">完全控制</span><span class="sxs-lookup"><span data-stu-id="cc538-601">Full control</span></span>|  
||<span data-ttu-id="cc538-602">用户</span><span class="sxs-lookup"><span data-stu-id="cc538-602">Users</span></span>|<span data-ttu-id="cc538-603">\tools\binn\schemas\sqlserver\2004\07\showplan</span><span class="sxs-lookup"><span data-stu-id="cc538-603">\tools\binn\schemas\sqlserver\2004\07\showplan</span></span>|<span data-ttu-id="cc538-604">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-604">Read, Execute</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]|<span data-ttu-id="cc538-605">报表服务器 Windows 服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-605">Report Server Windows Service Account</span></span>|<span data-ttu-id="cc538-606">*\<install>* \Reporting Services\LogFiles</span><span class="sxs-lookup"><span data-stu-id="cc538-606">*\<install>* \Reporting Services\LogFiles</span></span>|<span data-ttu-id="cc538-607">DELETE</span><span class="sxs-lookup"><span data-stu-id="cc538-607">DELETE</span></span><br /><br /> <span data-ttu-id="cc538-608">READ_CONTROL</span><span class="sxs-lookup"><span data-stu-id="cc538-608">READ_CONTROL</span></span><br /><br /> <span data-ttu-id="cc538-609">SYNCHRONIZE</span><span class="sxs-lookup"><span data-stu-id="cc538-609">SYNCHRONIZE</span></span><br /><br /> <span data-ttu-id="cc538-610">FILE_GENERIC_READ</span><span class="sxs-lookup"><span data-stu-id="cc538-610">FILE_GENERIC_READ</span></span><br /><br /> <span data-ttu-id="cc538-611">FILE_GENERIC_WRITE</span><span class="sxs-lookup"><span data-stu-id="cc538-611">FILE_GENERIC_WRITE</span></span><br /><br /> <span data-ttu-id="cc538-612">FILE_READ_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-612">FILE_READ_DATA</span></span><br /><br /> <span data-ttu-id="cc538-613">FILE_WRITE_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-613">FILE_WRITE_DATA</span></span><br /><br /> <span data-ttu-id="cc538-614">FILE_APPEND_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-614">FILE_APPEND_DATA</span></span><br /><br /> <span data-ttu-id="cc538-615">FILE_READ_EA</span><span class="sxs-lookup"><span data-stu-id="cc538-615">FILE_READ_EA</span></span><br /><br /> <span data-ttu-id="cc538-616">FILE_WRITE_EA</span><span class="sxs-lookup"><span data-stu-id="cc538-616">FILE_WRITE_EA</span></span><br /><br /> <span data-ttu-id="cc538-617">FILE_READ_ATTRIBUTES</span><span class="sxs-lookup"><span data-stu-id="cc538-617">FILE_READ_ATTRIBUTES</span></span><br /><br /> <span data-ttu-id="cc538-618">FILE_WRITE_ATTRIBUTES</span><span class="sxs-lookup"><span data-stu-id="cc538-618">FILE_WRITE_ATTRIBUTES</span></span>|  
||<span data-ttu-id="cc538-619">报表服务器 Windows 服务帐户，每个人</span><span class="sxs-lookup"><span data-stu-id="cc538-619">Report Server Windows Service Account, Everyone</span></span>|<span data-ttu-id="cc538-620">*\<install>* \Reporting Services\ReportManager， *\<install>* \Reporting Services\ReportManager\Pages \\ \* . \* ，\Reporting services\reportmanager\styles. *\<install>* \\ \* \* ，\Reporting 实例 id>\reporting services\reportmanager\ *\<install>* webctrl_client \ 1_0 \\ \*。\*</span><span class="sxs-lookup"><span data-stu-id="cc538-620">*\<install>* \Reporting Services\ReportManager, *\<install>* \Reporting Services\ReportManager\Pages\\\*.\*, *\<install>* \Reporting Services\ReportManager\Styles\\\*.\*, *\<install>* \Reporting Services\ReportManager\webctrl_client\1_0\\*.\*</span></span>|<span data-ttu-id="cc538-621">读取和执行</span><span class="sxs-lookup"><span data-stu-id="cc538-621">Read, Execute</span></span>|  
||<span data-ttu-id="cc538-622">报表服务器 Windows 服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-622">Report Server Windows Service Account</span></span>|<span data-ttu-id="cc538-623">*\<install>* \Reporting Services\ReportServer</span><span class="sxs-lookup"><span data-stu-id="cc538-623">*\<install>* \Reporting Services\ReportServer</span></span>|<span data-ttu-id="cc538-624">读取</span><span class="sxs-lookup"><span data-stu-id="cc538-624">Read</span></span>|  
||<span data-ttu-id="cc538-625">报表服务器 Windows 服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-625">Report Server Windows Service Account</span></span>|<span data-ttu-id="cc538-626">*\<install>* \Reporting Services\ReportServer\global.asax</span><span class="sxs-lookup"><span data-stu-id="cc538-626">*\<install>* \Reporting Services\ReportServer\global.asax</span></span>|<span data-ttu-id="cc538-627">完全</span><span class="sxs-lookup"><span data-stu-id="cc538-627">Full</span></span>|  
||<span data-ttu-id="cc538-628">所有人</span><span class="sxs-lookup"><span data-stu-id="cc538-628">Everyone</span></span>|<span data-ttu-id="cc538-629">*\<install>* \Reporting Services\ReportServer\global.asax</span><span class="sxs-lookup"><span data-stu-id="cc538-629">*\<install>* \Reporting Services\ReportServer\global.asax</span></span>|<span data-ttu-id="cc538-630">READ_CONTROL</span><span class="sxs-lookup"><span data-stu-id="cc538-630">READ_CONTROL</span></span><br /><br /> <span data-ttu-id="cc538-631">FILE_READ_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-631">FILE_READ_DATA</span></span><br /><br /> <span data-ttu-id="cc538-632">FILE_READ_EA</span><span class="sxs-lookup"><span data-stu-id="cc538-632">FILE_READ_EA</span></span><br /><br /> <span data-ttu-id="cc538-633">FILE_READ_ATTRIBUTES</span><span class="sxs-lookup"><span data-stu-id="cc538-633">FILE_READ_ATTRIBUTES</span></span>|  
||<span data-ttu-id="cc538-634">报表服务器 Windows 服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-634">Report Server Windows Services Account</span></span>|<span data-ttu-id="cc538-635">*\<install>* \Reporting Services\ReportServer\rsreportserver.config</span><span class="sxs-lookup"><span data-stu-id="cc538-635">*\<install>* \Reporting Services\ReportServer\rsreportserver.config</span></span>|<span data-ttu-id="cc538-636">DELETE</span><span class="sxs-lookup"><span data-stu-id="cc538-636">DELETE</span></span><br /><br /> <span data-ttu-id="cc538-637">READ_CONTROL</span><span class="sxs-lookup"><span data-stu-id="cc538-637">READ_CONTROL</span></span><br /><br /> <span data-ttu-id="cc538-638">SYNCHRONIZE</span><span class="sxs-lookup"><span data-stu-id="cc538-638">SYNCHRONIZE</span></span><br /><br /> <span data-ttu-id="cc538-639">FILE_GENERIC_READ</span><span class="sxs-lookup"><span data-stu-id="cc538-639">FILE_GENERIC_READ</span></span><br /><br /> <span data-ttu-id="cc538-640">FILE_GENERIC_WRITE</span><span class="sxs-lookup"><span data-stu-id="cc538-640">FILE_GENERIC_WRITE</span></span><br /><br /> <span data-ttu-id="cc538-641">FILE_READ_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-641">FILE_READ_DATA</span></span><br /><br /> <span data-ttu-id="cc538-642">FILE_WRITE_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-642">FILE_WRITE_DATA</span></span><br /><br /> <span data-ttu-id="cc538-643">FILE_APPEND_DATA</span><span class="sxs-lookup"><span data-stu-id="cc538-643">FILE_APPEND_DATA</span></span><br /><br /> <span data-ttu-id="cc538-644">FILE_READ_EA</span><span class="sxs-lookup"><span data-stu-id="cc538-644">FILE_READ_EA</span></span><br /><br /> <span data-ttu-id="cc538-645">FILE_WRITE_EA</span><span class="sxs-lookup"><span data-stu-id="cc538-645">FILE_WRITE_EA</span></span><br /><br /> <span data-ttu-id="cc538-646">FILE_READ_ATTRIBUTES</span><span class="sxs-lookup"><span data-stu-id="cc538-646">FILE_READ_ATTRIBUTES</span></span><br /><br /> <span data-ttu-id="cc538-647">FILE_WRITE_ATTRIBUTES</span><span class="sxs-lookup"><span data-stu-id="cc538-647">FILE_WRITE_ATTRIBUTES</span></span>|  
||<span data-ttu-id="cc538-648">所有人</span><span class="sxs-lookup"><span data-stu-id="cc538-648">Everyone</span></span>|<span data-ttu-id="cc538-649">报表服务器密钥（Instid 配置单元）</span><span class="sxs-lookup"><span data-stu-id="cc538-649">Report Server keys (Instid hive)</span></span>|<span data-ttu-id="cc538-650">查询值</span><span class="sxs-lookup"><span data-stu-id="cc538-650">Query Value</span></span><br /><br /> <span data-ttu-id="cc538-651">枚举子项</span><span class="sxs-lookup"><span data-stu-id="cc538-651">Enumerate SubKeys</span></span><br /><br /> <span data-ttu-id="cc538-652">通知</span><span class="sxs-lookup"><span data-stu-id="cc538-652">Notify</span></span><br /><br /> <span data-ttu-id="cc538-653">读取控制</span><span class="sxs-lookup"><span data-stu-id="cc538-653">Read Control</span></span>|  
||<span data-ttu-id="cc538-654">终端服务用户</span><span class="sxs-lookup"><span data-stu-id="cc538-654">Terminal Services User</span></span>|<span data-ttu-id="cc538-655">报表服务器密钥（Instid 配置单元）</span><span class="sxs-lookup"><span data-stu-id="cc538-655">Report Server keys (Instid hive)</span></span>|<span data-ttu-id="cc538-656">查询值</span><span class="sxs-lookup"><span data-stu-id="cc538-656">Query Value</span></span><br /><br /> <span data-ttu-id="cc538-657">设置值</span><span class="sxs-lookup"><span data-stu-id="cc538-657">Set Value</span></span><br /><br /> <span data-ttu-id="cc538-658">创建子项</span><span class="sxs-lookup"><span data-stu-id="cc538-658">Create SubKey</span></span><br /><br /> <span data-ttu-id="cc538-659">枚举子项</span><span class="sxs-lookup"><span data-stu-id="cc538-659">Enumerate SubKey</span></span><br /><br /> <span data-ttu-id="cc538-660">通知</span><span class="sxs-lookup"><span data-stu-id="cc538-660">Notify</span></span><br /><br /> <span data-ttu-id="cc538-661">删除</span><span class="sxs-lookup"><span data-stu-id="cc538-661">Delete</span></span><br /><br /> <span data-ttu-id="cc538-662">读取控制</span><span class="sxs-lookup"><span data-stu-id="cc538-662">Read Control</span></span>|  
||<span data-ttu-id="cc538-663">超级用户</span><span class="sxs-lookup"><span data-stu-id="cc538-663">Power Users</span></span>|<span data-ttu-id="cc538-664">报表服务器密钥（Instid 配置单元）</span><span class="sxs-lookup"><span data-stu-id="cc538-664">Report Server keys (Instid hive)</span></span>|<span data-ttu-id="cc538-665">查询值</span><span class="sxs-lookup"><span data-stu-id="cc538-665">Query Value</span></span><br /><br /> <span data-ttu-id="cc538-666">设置值</span><span class="sxs-lookup"><span data-stu-id="cc538-666">Set Value</span></span><br /><br /> <span data-ttu-id="cc538-667">创建子项</span><span class="sxs-lookup"><span data-stu-id="cc538-667">Create Subkey</span></span><br /><br /> <span data-ttu-id="cc538-668">枚举子项</span><span class="sxs-lookup"><span data-stu-id="cc538-668">Enumerate Subkeys</span></span><br /><br /> <span data-ttu-id="cc538-669">通知</span><span class="sxs-lookup"><span data-stu-id="cc538-669">Notify</span></span><br /><br /> <span data-ttu-id="cc538-670">删除</span><span class="sxs-lookup"><span data-stu-id="cc538-670">Delete</span></span><br /><br /> <span data-ttu-id="cc538-671">读取控制</span><span class="sxs-lookup"><span data-stu-id="cc538-671">Read Control</span></span>|  
  
 <span data-ttu-id="cc538-672"><sup>1</sup>这是 WMI 提供程序命名空间。</span><span class="sxs-lookup"><span data-stu-id="cc538-672"><sup>1</sup>This is the WMI provider namespace.</span></span>  
  
###  <a name="file-system-permissions-related-to-unusual-disk-locations"></a><a name="Unusual_Locations"></a> <span data-ttu-id="cc538-673">与非寻常磁盘位置相关的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="cc538-673">File System Permissions Related to Unusual Disk Locations</span></span>  
 <span data-ttu-id="cc538-674">当安装 tempdb 或用户数据库时，默认的安装位置驱动器为 **systemdrive**，通常是驱动器 C。</span><span class="sxs-lookup"><span data-stu-id="cc538-674">The default drive for locations for installation is **systemdrive**, normally drive C. When tempdb or user databases are installed</span></span>  
  
 <span data-ttu-id="cc538-675">**非默认的驱动器**</span><span class="sxs-lookup"><span data-stu-id="cc538-675">**Non-default Drive**</span></span>  
  
 <span data-ttu-id="cc538-676">当安装到不是默认驱动器的本地驱动器时，Per-service SID 必须对文件位置具有访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-676">When installed to a local drive that is not the default drive, the per-service SID must have access to the file location.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-677">安装程序将预配所需的访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-677">Setup will provision the required access.</span></span>  
  
 <span data-ttu-id="cc538-678">**网络共享**</span><span class="sxs-lookup"><span data-stu-id="cc538-678">**Network Share**</span></span>  
  
 <span data-ttu-id="cc538-679">当数据库安装到网络共享时，服务帐户必须对用户数据库和 tempdb 数据库的文件位置具有访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-679">When databases are installed to a network share, the service account must have access to the file location of the user and tempdb databases.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-680">安装程序无法设置对于网络共享的访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-680">Setup cannot provision access to a network share.</span></span> <span data-ttu-id="cc538-681">用户必须为服务帐户设置对 tempdb 位置的访问权限，然后才能运行安装程序。</span><span class="sxs-lookup"><span data-stu-id="cc538-681">The user must provision access to a tempdb location for the service account before running setup.</span></span> <span data-ttu-id="cc538-682">用户必须设置对用户数据库位置的访问权限，然后才能创建数据库。</span><span class="sxs-lookup"><span data-stu-id="cc538-682">The user must provision access to the user database location before creating the database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cc538-683">虚拟帐户无法通过身份验证，因而无法访问远程位置。</span><span class="sxs-lookup"><span data-stu-id="cc538-683">Virtual accounts cannot be authenticated to a remote location.</span></span> <span data-ttu-id="cc538-684">所有虚拟帐户均使用计算机帐户的权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-684">All virtual accounts use the permission of machine account.</span></span> <span data-ttu-id="cc538-685">以 _<domain_name>_ **\\** _<computer_name>_ **$** 格式设置计算机帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-685">Provision the machine account in the format _<domain_name>_**\\**_<computer_name>_**$**.</span></span>  
  
###  <a name="reviewing-additional-considerations"></a><a name="Review_additional_considerations"></a><span data-ttu-id="cc538-686">查看其他注意事项</span><span class="sxs-lookup"><span data-stu-id="cc538-686">Reviewing Additional Considerations</span></span>  
 <span data-ttu-id="cc538-687">下表显示了 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务提供其他功能时所需的权限：</span><span class="sxs-lookup"><span data-stu-id="cc538-687">The following table shows the permissions that are required for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services to provide additional functionality.</span></span>  
  
|<span data-ttu-id="cc538-688">服务/应用程序</span><span class="sxs-lookup"><span data-stu-id="cc538-688">Service/Application</span></span>|<span data-ttu-id="cc538-689">功能</span><span class="sxs-lookup"><span data-stu-id="cc538-689">Functionality</span></span>|<span data-ttu-id="cc538-690">必需的权限</span><span class="sxs-lookup"><span data-stu-id="cc538-690">Required permission</span></span>|  
|--------------------------|-------------------|-------------------------|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-691">(MSSQLSERVER)</span><span class="sxs-lookup"><span data-stu-id="cc538-691">(MSSQLSERVER)</span></span>|<span data-ttu-id="cc538-692">使用 xp_sendmail 写入邮件槽。</span><span class="sxs-lookup"><span data-stu-id="cc538-692">Write to a mail slot using xp_sendmail.</span></span>|<span data-ttu-id="cc538-693">网络写入权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-693">Network write permissions.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-694">(MSSQLSERVER)</span><span class="sxs-lookup"><span data-stu-id="cc538-694">(MSSQLSERVER)</span></span>|<span data-ttu-id="cc538-695">运行用户的而不是 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 管理员的 xp_cmdshell。</span><span class="sxs-lookup"><span data-stu-id="cc538-695">Run xp_cmdshell for a user other than a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] administrator.</span></span>|<span data-ttu-id="cc538-696">充当操作系统的一部分以及替换进程级别标记。</span><span class="sxs-lookup"><span data-stu-id="cc538-696">Act as part of operating system and replace a process-level token.</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-697">代理 (MSSQLSERVER)</span><span class="sxs-lookup"><span data-stu-id="cc538-697">Agent (MSSQLSERVER)</span></span>|<span data-ttu-id="cc538-698">使用自动重新启动功能。</span><span class="sxs-lookup"><span data-stu-id="cc538-698">Use the autorestart feature.</span></span>|<span data-ttu-id="cc538-699">必须是本地 Administrators 组的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-699">Must be a member of the Administrators local group.</span></span>|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="cc538-700">优化顾问</span><span class="sxs-lookup"><span data-stu-id="cc538-700">Tuning Advisor</span></span>|<span data-ttu-id="cc538-701">优化数据库以获得最佳查询性能。</span><span class="sxs-lookup"><span data-stu-id="cc538-701">Tunes databases for optimal query performance.</span></span>|<span data-ttu-id="cc538-702">第一次使用时，拥有系统管理员权限的用户必须初始化该应用程序。</span><span class="sxs-lookup"><span data-stu-id="cc538-702">On first use, a user who has system administrative credentials must initialize the application.</span></span> <span data-ttu-id="cc538-703">初始化后，dbo 用户可使用 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 优化顾问仅优化他们拥有的那些表。</span><span class="sxs-lookup"><span data-stu-id="cc538-703">After initialization, dbo users can use the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor to tune only those tables that they own.</span></span> <span data-ttu-id="cc538-704">有关详细信息，请参阅 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 联机丛书中的“在第一次使用时初始化 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 优化顾问”。</span><span class="sxs-lookup"><span data-stu-id="cc538-704">For more information, see "Initializing [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor on First Use" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="cc538-705">升级到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]之前，请先为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理启用 Windows 身份验证，并验证所需的默认配置： [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理服务帐户是否为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]sysadmin 组的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-705">Before you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], enable Windows Authentication for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent and verify the required default configuration: that the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account is a member of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]sysadmin group.</span></span>  
  
###  <a name="registry-permissions"></a><a name="Registry"></a><span data-ttu-id="cc538-706">注册表权限</span><span class="sxs-lookup"><span data-stu-id="cc538-706">Registry Permissions</span></span>  
 <span data-ttu-id="cc538-707">将在 **HKLM\Software\Microsoft\Microsoft SQL Server\\** _<Instance_ID>_ 下为识别实例的组件创建注册表配置单元。</span><span class="sxs-lookup"><span data-stu-id="cc538-707">The registry hive is created under **HKLM\Software\Microsoft\Microsoft SQL Server\\**_<Instance_ID>_ for instance-aware components.</span></span> <span data-ttu-id="cc538-708">例如：</span><span class="sxs-lookup"><span data-stu-id="cc538-708">For example</span></span>  
  
-   <span data-ttu-id="cc538-709">**HKLM\Software\Microsoft\Microsoft SQL Server\MSSQL12.MyInstance**</span><span class="sxs-lookup"><span data-stu-id="cc538-709">**HKLM\Software\Microsoft\Microsoft SQL Server\MSSQL12.MyInstance**</span></span>  
  
-   <span data-ttu-id="cc538-710">**HKLM\Software\Microsoft\Microsoft SQL Server\MSASSQL12.MyInstance**</span><span class="sxs-lookup"><span data-stu-id="cc538-710">**HKLM\Software\Microsoft\Microsoft SQL Server\MSASSQL12.MyInstance**</span></span>  
  
-   <span data-ttu-id="cc538-711">**HKLM\Software\Microsoft\Microsoft SQL Server\MSSQL.120**</span><span class="sxs-lookup"><span data-stu-id="cc538-711">**HKLM\Software\Microsoft\Microsoft SQL Server\MSSQL.120**</span></span>  
  
 <span data-ttu-id="cc538-712">注册表还维护实例 ID 到实例名的映射。</span><span class="sxs-lookup"><span data-stu-id="cc538-712">The registry also maintains a mapping of instance ID to instance name.</span></span> <span data-ttu-id="cc538-713">实例 ID 到实例名的映射按如下方式维护：</span><span class="sxs-lookup"><span data-stu-id="cc538-713">Instance ID to instance name mapping is maintained as follows:</span></span>  
  
-   <span data-ttu-id="cc538-714">**[HKEY_LOCAL_MACHINE\Software\Microsoft\Microsoft SQL Server\Instance Names\SQL] "InstanceName"="MSSQL12"**</span><span class="sxs-lookup"><span data-stu-id="cc538-714">**[HKEY_LOCAL_MACHINE\Software\Microsoft\Microsoft SQL Server\Instance Names\SQL] "InstanceName"="MSSQL12"**</span></span>  
  
-   <span data-ttu-id="cc538-715">**[HKEY_LOCAL_MACHINE\Software\Microsoft\Microsoft SQL Server\Instance Names\OLAP] "InstanceName"="MSASSQL12"**</span><span class="sxs-lookup"><span data-stu-id="cc538-715">**[HKEY_LOCAL_MACHINE\Software\Microsoft\Microsoft SQL Server\Instance Names\OLAP] "InstanceName"="MSASSQL12"**</span></span>  
  
-   <span data-ttu-id="cc538-716">**[HKEY_LOCAL_MACHINE\Software\Microsoft\Microsoft SQL Server\Instance Names\RS] "InstanceName"="MSRSSQL12"**</span><span class="sxs-lookup"><span data-stu-id="cc538-716">**[HKEY_LOCAL_MACHINE\Software\Microsoft\Microsoft SQL Server\Instance Names\RS] "InstanceName"="MSRSSQL12"**</span></span>  
  
###  <a name="wmi"></a><a name="WMI"></a> <span data-ttu-id="cc538-717">WMI</span><span class="sxs-lookup"><span data-stu-id="cc538-717">WMI</span></span>  
 <span data-ttu-id="cc538-718">Windows Management Instrumentation (WMI) 必须能够连接到 [!INCLUDE[ssDE](../../includes/ssde-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="cc538-718">Windows Management Instrumentation (WMI) must be able to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="cc538-719">为了支持这一点，需在**中预配 Windows WMI 提供程序 (** NT SERVICE\winmgmt [!INCLUDE[ssDE](../../includes/ssde-md.md)]) 的 per-service SID。</span><span class="sxs-lookup"><span data-stu-id="cc538-719">To support this, the per-service SID of the Windows WMI provider (**NT SERVICE\winmgmt**) is provisioned in the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="cc538-720">SQL WMI 提供程序需要以下权限：</span><span class="sxs-lookup"><span data-stu-id="cc538-720">The SQL WMI provider requires the following permissions:</span></span>  
  
-   <span data-ttu-id="cc538-721">msdb 数据库的 **db_ddladmin** 或 **db_owner** 固定服务器角色中的成员资格。</span><span class="sxs-lookup"><span data-stu-id="cc538-721">Membership in the **db_ddladmin** or **db_owner** fixed database roles in the msdb database.</span></span>  
  
-   <span data-ttu-id="cc538-722">服务器中的**CREATE DDL EVENT NOTIFICATION** 权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-722">**CREATE DDL EVENT NOTIFICATION** permission in the server.</span></span>  
  
-   <span data-ttu-id="cc538-723">**中的** CREATE TRACE EVENT NOTIFICATION [!INCLUDE[ssDE](../../includes/ssde-md.md)]权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-723">**CREATE TRACE EVENT NOTIFICATION** permission in the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="cc538-724">**VIEW ANY DATABASE** 服务器级别权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-724">**VIEW ANY DATABASE** server-level permission.</span></span>  
  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-725">安装程序会创建一个 SQL WMI 命名空间，并向 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理服务 SID 授予读取权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-725">setup creates a SQL WMI namespace and grants read permission to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service-SID.</span></span>  
  
###  <a name="named-pipes"></a><a name="Pipes"></a> <span data-ttu-id="cc538-726">命名管道</span><span class="sxs-lookup"><span data-stu-id="cc538-726">Named Pipes</span></span>  
 <span data-ttu-id="cc538-727">在所有安装中， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序都通过共享内存协议（这是一种本地命名管道）提供针对 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 的访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-727">In all installation, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup provides access to the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] through the shared memory protocol, which is a local named pipe.</span></span>  
  
##  <a name="provisioning"></a><a name="Provisioning"></a> <span data-ttu-id="cc538-728">预配</span><span class="sxs-lookup"><span data-stu-id="cc538-728">Provisioning</span></span>  
 <span data-ttu-id="cc538-729">此部分介绍如何在各种 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 组件内设置帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-729">This section describes how accounts are provisioned inside the various [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] components.</span></span>  
  
-   [<span data-ttu-id="cc538-730">数据库引擎预配</span><span class="sxs-lookup"><span data-stu-id="cc538-730">Database Engine Provisioning</span></span>](#DE_Prov)  
  
    -   [<span data-ttu-id="cc538-731">Windows 主体</span><span class="sxs-lookup"><span data-stu-id="cc538-731">Windows Principals</span></span>](#Win_Principals)  
  
    -   [<span data-ttu-id="cc538-732">sa 帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-732">sa Account</span></span>](#sa)  
  
    -   [<span data-ttu-id="cc538-733">SQL Server Per-service SID 登录名和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-733">SQL Server Per-service SID Login and Privileges</span></span>](#Logins)  
  
    -   [<span data-ttu-id="cc538-734">SQL Server 代理登录名和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-734">SQL Server Agent Login and Privileges</span></span>](#Agent)  
  
    -   [<span data-ttu-id="cc538-735">HADRON 和 SQL 故障转移群集实例和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-735">HADRON and SQL Failover Cluster Instance and Privileges</span></span>](#Hadron)  
  
    -   [<span data-ttu-id="cc538-736">SQL 编写器和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-736">SQL Writer and Privileges</span></span>](#Writer)  
  
    -   [<span data-ttu-id="cc538-737">SQL WMI 和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-737">SQL WMI and Privileges</span></span>](#SQLWMI)  
  
-   [<span data-ttu-id="cc538-738">SSAS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-738">SSAS Provisioning</span></span>](#SSAS)  
  
-   [<span data-ttu-id="cc538-739">SSRS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-739">SSRS Provisioning</span></span>](#SSRS)  
  
###  <a name="database-engine-provisioning"></a><a name="DE_Prov"></a> <span data-ttu-id="cc538-740">数据库引擎预配</span><span class="sxs-lookup"><span data-stu-id="cc538-740">Database Engine Provisioning</span></span>  
 <span data-ttu-id="cc538-741">以下帐户将作为登录名添加到 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]中。</span><span class="sxs-lookup"><span data-stu-id="cc538-741">The following accounts are added as logins in the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span>  
  
####  <a name="windows-principals"></a><a name="Win_Principals"></a> <span data-ttu-id="cc538-742">Windows 主体</span><span class="sxs-lookup"><span data-stu-id="cc538-742">Windows Principals</span></span>  
 <span data-ttu-id="cc538-743">在安装过程中， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序要求至少将一个用户帐户命名为 **sysadmin** 固定服务器角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-743">During setup, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup requires at least one user account to be named as a member of the **sysadmin** fixed server role.</span></span>  
  
####  <a name="sa-account"></a><a name="sa"></a> <span data-ttu-id="cc538-744">sa 帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-744">sa Account</span></span>  
 <span data-ttu-id="cc538-745">**sa** 帐户始终作为 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 登录名存在，它是 **sysadmin** 固定服务器角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-745">The **sa** account is always present as a [!INCLUDE[ssDE](../../includes/ssde-md.md)] login and is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="cc538-746">当仅使用 Windows 身份验证安装 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 时（也即，当未启用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 身份验证时）， **sa** 登录名仍然存在，但处于禁用状态。</span><span class="sxs-lookup"><span data-stu-id="cc538-746">When the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is installed using only Windows Authentication (that is when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication is not enabled), the **sa** login is still present but is disabled.</span></span> <span data-ttu-id="cc538-747">有关启用 **sa** 帐户的信息，请参阅 [更改服务器身份验证模式](change-server-authentication-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="cc538-747">For information about enabling the **sa** account, see [Change Server Authentication Mode](change-server-authentication-mode.md).</span></span>  
  
####  <a name="sql-server-per-service-sid-login-and-privileges"></a><a name="Logins"></a> <span data-ttu-id="cc538-748">SQL Server Per-service SID 登录名和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-748">SQL Server Per-service SID Login and Privileges</span></span>  
 <span data-ttu-id="cc538-749">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务的 Per-service SID 设置为一个 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 登录名。</span><span class="sxs-lookup"><span data-stu-id="cc538-749">The per-service SID of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service is provisioned as a [!INCLUDE[ssDE](../../includes/ssde-md.md)] login.</span></span> <span data-ttu-id="cc538-750">Per-service SID 登录名是 **sysadmin** 固定服务器角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-750">The per-service SID login is a member of the **sysadmin** fixed server role.</span></span>  
  
####  <a name="sql-server-agent-login-and-privileges"></a><a name="Agent"></a> <span data-ttu-id="cc538-751">SQL Server 代理登录名和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-751">SQL Server Agent Login and Privileges</span></span>  
 <span data-ttu-id="cc538-752">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理服务的 Per-service SID 设置为一个 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 登录名。</span><span class="sxs-lookup"><span data-stu-id="cc538-752">The per-service SID of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is provisioned as a [!INCLUDE[ssDE](../../includes/ssde-md.md)] login.</span></span> <span data-ttu-id="cc538-753">Per-service SID 登录名是 **sysadmin** 固定服务器角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-753">The per-service SID login is a member of the **sysadmin** fixed server role.</span></span>  
  
####  <a name="sshadrc-and-sql-failover-cluster-instance-and-privileges"></a><a name="Hadron"></a> <span data-ttu-id="cc538-754">[!INCLUDE[ssHADRc](../../includes/sshadrc-md.md)] 和 SQL 故障转移群集实例和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-754">[!INCLUDE[ssHADRc](../../includes/sshadrc-md.md)] and SQL Failover Cluster Instance and Privileges</span></span>  
 <span data-ttu-id="cc538-755">当将 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 安装为 [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] 或 SQL 故障转移群集实例 (SQL FCI) 时，将在 **中设置** LOCAL SYSTEM [!INCLUDE[ssDE](../../includes/ssde-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="cc538-755">When installing the [!INCLUDE[ssDE](../../includes/ssde-md.md)] as a [!INCLUDE[ssHADR](../../includes/sshadr-md.md)] or SQL Failover Cluster Instance (SQL FCI), **LOCAL SYSTEM** is provisioned in the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span> <span data-ttu-id="cc538-756">**LOCAL SYSTEM** 登录名被授予 **ALTER ANY AVAILABILITY GROUP** 权限（对于 [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]）以及 **VIEW SERVER STATE** 权限（对于 SQL FCI）。</span><span class="sxs-lookup"><span data-stu-id="cc538-756">The **LOCAL SYSTEM** login is granted the **ALTER ANY AVAILABILITY GROUP** permission (for [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]) and the **VIEW SERVER STATE** permission (for SQL FCI).</span></span>  
  
####  <a name="sql-writer-and-privileges"></a><a name="Writer"></a> <span data-ttu-id="cc538-757">SQL 编写器和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-757">SQL Writer and Privileges</span></span>  
 <span data-ttu-id="cc538-758">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] VSS 编写器服务的 Per-service SID 设置为一个 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 登录名。</span><span class="sxs-lookup"><span data-stu-id="cc538-758">The per-service SID of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] VSS Writer service is provisioned as a [!INCLUDE[ssDE](../../includes/ssde-md.md)] login.</span></span> <span data-ttu-id="cc538-759">Per-service SID 登录名是 **sysadmin** 固定服务器角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-759">The per-service SID login is a member of the **sysadmin** fixed server role.</span></span>  
  
####  <a name="sql-wmi-and-privileges"></a><a name="SQLWMI"></a> <span data-ttu-id="cc538-760">SQL WMI 和特权</span><span class="sxs-lookup"><span data-stu-id="cc538-760">SQL WMI and Privileges</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-761">安装程序将 **NT SERVICE\Winmgmt** 帐户设置为 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 登录名，并将其添加到 **sysadmin** 固定服务器角色中。</span><span class="sxs-lookup"><span data-stu-id="cc538-761">Setup provisions the **NT SERVICE\Winmgmt** account as a [!INCLUDE[ssDE](../../includes/ssde-md.md)] login and adds it to the **sysadmin** fixed server role.</span></span>  
  
#### <a name="ssrs-provisioning"></a><span data-ttu-id="cc538-762">SSRS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-762">SSRS Provisioning</span></span>  
 <span data-ttu-id="cc538-763">在安装过程中指定的帐户将设置为 **RSExecRole** 数据库角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-763">The account specified during setup is provisioned as a member of the **RSExecRole** database role.</span></span> <span data-ttu-id="cc538-764">有关详细信息，请参阅 [配置报表服务器服务帐户（SSRS 配置管理器）](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="cc538-764">For more information, see [Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md).</span></span>  
  
###  <a name="ssas-provisioning"></a><a name="SSAS"></a><span data-ttu-id="cc538-765">SSAS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-765">SSAS Provisioning</span></span>  
 [!INCLUDE[ssAS](../../includes/ssas-md.md)] <span data-ttu-id="cc538-766">服务帐户要求各不相同，具体取决于服务器的部署方式。</span><span class="sxs-lookup"><span data-stu-id="cc538-766">service account requirements vary depending on how you deploy the server.</span></span> <span data-ttu-id="cc538-767">如果您正在安装 [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)]， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序会要求您将 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务配置在域帐户下运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-767">If you are installing [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup requires that you configure the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service to run under a domain account.</span></span> <span data-ttu-id="cc538-768">为了支持 SharePoint 中内置的托管帐户功能，需要域帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-768">Domain accounts are required to support the managed account facility that is built into SharePoint.</span></span> <span data-ttu-id="cc538-769">为此， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序没有为 [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 安装提供默认服务帐户，如虚拟帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-769">For this reason, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup does not provide a default service account, such as a virtual account, for a [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] installation.</span></span> <span data-ttu-id="cc538-770">有关设置 PowerPivot for SharePoint 的详细信息，请参阅[配置 PowerPivot 服务帐户](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/configure-power-pivot-service-accounts)。</span><span class="sxs-lookup"><span data-stu-id="cc538-770">For more information about provisioning PowerPivot for SharePoint, see [Configure PowerPivot Service Accounts](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/configure-power-pivot-service-accounts).</span></span>  
  
 <span data-ttu-id="cc538-771">对于所有其他独立 [!INCLUDE[ssAS](../../includes/ssas-md.md)] 安装，您可以将服务设置为在域帐户、内置系统帐户、托管帐户或虚拟帐户下运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-771">For all other standalone [!INCLUDE[ssAS](../../includes/ssas-md.md)] installations, you can provision the service to run under a domain account, built-in system account, managed account, or virtual account.</span></span> <span data-ttu-id="cc538-772">有关帐户设置的详细信息，请参阅[配置服务帐户 (Analysis Services)](https://docs.microsoft.com/analysis-services/instances/configure-service-accounts-analysis-services)。</span><span class="sxs-lookup"><span data-stu-id="cc538-772">For more information about account provisioning, see [Configure Service Accounts &#40;Analysis Services&#41;](https://docs.microsoft.com/analysis-services/instances/configure-service-accounts-analysis-services).</span></span>  
  
 <span data-ttu-id="cc538-773">对于群集安装，您必须指定一个域帐户或一个内置系统帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-773">For clustered installations, you must specify a domain account or a built-in system account.</span></span> <span data-ttu-id="cc538-774">[!INCLUDE[ssAS](../../includes/ssas-md.md)] 故障转移群集既不支持托管帐户，也不支持虚拟帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-774">Neither managed accounts nor virtual accounts are supported for [!INCLUDE[ssAS](../../includes/ssas-md.md)] failover clusters.</span></span>  
  
 <span data-ttu-id="cc538-775">所有 [!INCLUDE[ssAS](../../includes/ssas-md.md)] 安装均要求您指定 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例的系统管理员。</span><span class="sxs-lookup"><span data-stu-id="cc538-775">All [!INCLUDE[ssAS](../../includes/ssas-md.md)] installations require that you specify a system administrator of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="cc538-776">管理员特权在 Analysis Services 的 **“服务器”** 角色中设置。</span><span class="sxs-lookup"><span data-stu-id="cc538-776">Administrator privileges are provisioned in the Analysis Services **Server** role.</span></span>  
  
###  <a name="ssrs-provisioning"></a><a name="SSRS"></a> <span data-ttu-id="cc538-777">SSRS 预配</span><span class="sxs-lookup"><span data-stu-id="cc538-777">SSRS Provisioning</span></span>  
 <span data-ttu-id="cc538-778">在安装过程中指定的帐户将在 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 中设置为 **RSExecRole** 数据库角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-778">The account specified during setup is provisioned in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] as a member of the **RSExecRole** database role.</span></span> <span data-ttu-id="cc538-779">有关详细信息，请参阅 [配置报表服务器服务帐户（SSRS 配置管理器）](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="cc538-779">For more information, see [Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md).</span></span>  
  
##  <a name="upgrading-from-previous-versions"></a><a name="Upgrade"></a><span data-ttu-id="cc538-780">从早期版本升级</span><span class="sxs-lookup"><span data-stu-id="cc538-780">Upgrading From Previous Versions</span></span>  
 <span data-ttu-id="cc538-781">此部分介绍在从先前版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]升级的过程中进行的更改。</span><span class="sxs-lookup"><span data-stu-id="cc538-781">This section describes the changes made during upgrade from a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="cc538-782">要求 [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] R2 SP1、Windows Server 2012、Windows 8.0、Windows Server 2012 R2 或 Windows 8.1。</span><span class="sxs-lookup"><span data-stu-id="cc538-782">requires [!INCLUDE[nextref_longhorn](../../includes/nextref-longhorn-md.md)] R2 SP1, Windows Server 2012, Windows 8.0, Windows Server 2012 R2, or Windows 8.1, .</span></span> <span data-ttu-id="cc538-783">任何在更低操作系统版本上运行的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 先前版本在升级 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]之前，都必须升级操作系统。</span><span class="sxs-lookup"><span data-stu-id="cc538-783">Any previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] running on a lower operating system version must have the operating system upgraded before upgrading [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="cc538-784">在将 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] 升级到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]的过程中， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序将按以下方式配置 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="cc538-784">During upgrade of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup will configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in the following way.</span></span>  
  
    -   <span data-ttu-id="cc538-785">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 使用 Per-service SID 的安全上下文运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-785">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] runs with the security context of the per-service SID.</span></span> <span data-ttu-id="cc538-786">将向 Per-service SID 授予针对 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的文件夹（如 DATA）和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 注册表项的访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-786">The per-service SID is granted access to the file folders of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance (such as DATA), and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] registry keys.</span></span>  
  
    -   <span data-ttu-id="cc538-787">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 的 Per-service SID 在 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 中设置为 **sysadmin** 固定服务器角色的成员。</span><span class="sxs-lookup"><span data-stu-id="cc538-787">The per-service SID of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is provisioned in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] as a member of the **sysadmin** fixed server role.</span></span>  
  
    -   <span data-ttu-id="cc538-788">Per-service SID 将添加到本地 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Windows 组中，除非 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 是故障转移群集实例。</span><span class="sxs-lookup"><span data-stu-id="cc538-788">The per-service SID's are added to the local [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Windows groups, unless [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is a Failover Cluster Instance.</span></span>  
  
    -   <span data-ttu-id="cc538-789">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 资源保持设置为本地 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Windows 组。</span><span class="sxs-lookup"><span data-stu-id="cc538-789">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resources remain provisioned to the local [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Windows groups.</span></span>  
  
    -   <span data-ttu-id="cc538-790">服务的本地 Windows 组已从 **SQLServer2005MSSQLUser$** _<computer_name>_ **$** _<instance_name>_ 重命名为 **SQLServerMSSQLUser$** _<computer_name>_ **$** _<instance_name>_ 。</span><span class="sxs-lookup"><span data-stu-id="cc538-790">The local Windows group for services is renamed from **SQLServer2005MSSQLUser$**_<computer_name>_**$**_<instance_name>_ to **SQLServerMSSQLUser$**_<computer_name>_**$**_<instance_name>_.</span></span> <span data-ttu-id="cc538-791">已迁移的数据库的文件位置将具有本地 Windows 组的访问控制项 (ACE)。</span><span class="sxs-lookup"><span data-stu-id="cc538-791">File locations for migrated databases will have Access Control Entries (ACE) for the local Windows groups.</span></span> <span data-ttu-id="cc538-792">新数据库的文件位置将具有 Per-service SID 的 ACE。</span><span class="sxs-lookup"><span data-stu-id="cc538-792">The file locations for new databases will have ACE's for the per-service SID.</span></span>  
  
-   <span data-ttu-id="cc538-793">从 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 进行升级的过程中，[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序将保留 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] Per-service SID 的 ACE。</span><span class="sxs-lookup"><span data-stu-id="cc538-793">During upgrade from [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup will be preserve the ACE's for the [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] per-service SID.</span></span>  
  
-   <span data-ttu-id="cc538-794">对于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 故障转移群集实例，将保留为服务配置的域帐户的 ACE。</span><span class="sxs-lookup"><span data-stu-id="cc538-794">For a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Failover Cluster Instance, the ACE for the domain account configured for the service will be retained.</span></span>  
  
##  <a name="appendix"></a><a name="Appendix"></a> <span data-ttu-id="cc538-795">附录</span><span class="sxs-lookup"><span data-stu-id="cc538-795">Appendix</span></span>  
 <span data-ttu-id="cc538-796">本节包含有关 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的其他信息。</span><span class="sxs-lookup"><span data-stu-id="cc538-796">This section contains additional information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services.</span></span>  
  
-   [<span data-ttu-id="cc538-797">服务帐户的描述</span><span class="sxs-lookup"><span data-stu-id="cc538-797">Description of Service Accounts</span></span>](#Serv_Accts)  
  
-   [<span data-ttu-id="cc538-798">辨别识别实例的服务和不识别实例的服务</span><span class="sxs-lookup"><span data-stu-id="cc538-798">Identifying Instance-Aware and Instance-Unaware Services</span></span>](#Identify_instance_aware_and_unaware)  
  
-   [<span data-ttu-id="cc538-799">本地化的服务名称</span><span class="sxs-lookup"><span data-stu-id="cc538-799">Localized Service Names</span></span>](#Localized_service_names)  
  
###  <a name="description-of-service-accounts"></a><a name="Serv_Accts"></a> <span data-ttu-id="cc538-800">服务帐户的描述</span><span class="sxs-lookup"><span data-stu-id="cc538-800">Description of Service Accounts</span></span>  
 <span data-ttu-id="cc538-801">服务帐户是用来启动 Windows 服务的帐户，如 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="cc538-801">The service account is the account used to start a Windows service, such as the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span>  
  
####  <a name="accounts-available-with-any-operating-system"></a><a name="Any_OS"></a> <span data-ttu-id="cc538-802">可用于任何操作系统的帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-802">Accounts Available With Any Operating System</span></span>  
 <span data-ttu-id="cc538-803">除了前面介绍的新的 [MSA](#MSA) 和 [虚拟帐户](#VA_Desc) 之外，还可以使用以下帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-803">In addition to the new [MSA](#MSA) and [virtual accounts](#VA_Desc) described earlier, the following accounts can be used.</span></span>  
  
 <a name="Domain_User"></a> <span data-ttu-id="cc538-804">域用户帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-804">**Domain User Account**</span></span>  
  
 <span data-ttu-id="cc538-805">如果服务必须与网络服务进行交互，则访问类似于文件共享的域资源；如果服务使用到运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的其他计算机的链接服务器连接，则可以使用具有最低特权的域帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-805">If the service must interact with network services, access domain resources like file shares or if it uses linked server connections to other computers running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you might use a minimally-privileged domain account.</span></span> <span data-ttu-id="cc538-806">许多服务器到服务器的活动只能使用域用户帐户来执行。</span><span class="sxs-lookup"><span data-stu-id="cc538-806">Many server-to-server activities can be performed only with a domain user account.</span></span> <span data-ttu-id="cc538-807">此帐户应由域管理员在您的环境内预先创建。</span><span class="sxs-lookup"><span data-stu-id="cc538-807">This account should be pre-created by domain administration in your environment.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cc538-808">如果您将应用程序配置为使用域帐户，则可以隔离应用程序的特权，但必须手动管理密码或创建自定义解决方案以管理这些密码。</span><span class="sxs-lookup"><span data-stu-id="cc538-808">If you configure the application to use a domain account, you can isolate the privileges for the application, but must manually manage passwords or create a custom solution for managing these passwords.</span></span> <span data-ttu-id="cc538-809">许多服务器应用程序使用此策略以增强安全性，但此策略要求额外的管理和复杂性。</span><span class="sxs-lookup"><span data-stu-id="cc538-809">Many server applications use this strategy to enhance security, but this strategy requires additional administration and complexity.</span></span> <span data-ttu-id="cc538-810">在这些部署中，服务管理员将在维护任务方面花费大量时间，如管理服务密码和服务主体名称 (SPN)，但这些维护服务是 Kerberos 身份验证所必需的。</span><span class="sxs-lookup"><span data-stu-id="cc538-810">In these deployments, service administrators spend a considerable amount of time on maintenance tasks such as managing service passwords and service principal names (SPNs), which are required for Kerberos authentication.</span></span> <span data-ttu-id="cc538-811">此外，这些维护任务可能会中断服务。</span><span class="sxs-lookup"><span data-stu-id="cc538-811">In addition, these maintenance tasks can disrupt service.</span></span>  
  
 <a name="Local_User"></a> <span data-ttu-id="cc538-812">本地用户帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-812">**Local User Accounts**</span></span>  
  
 <span data-ttu-id="cc538-813">如果计算机不在域中，则建议您使用不具有 Windows 管理员权限的本地用户帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-813">If the computer is not part of a domain, a local user account without Windows administrator permissions is recommended.</span></span>  
  
 <a name="Local_Service"></a> <span data-ttu-id="cc538-814">本地服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-814">**Local Service Account**</span></span>  
  
 <span data-ttu-id="cc538-815">Local Service 帐户是一个内置帐户，与 Users 组的成员具有相同级别的资源和对象访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-815">The Local Service account is a built-in account that has the same level of access to resources and objects as members of the Users group.</span></span> <span data-ttu-id="cc538-816">如果有个别服务或进程的安全性受到威胁，则此有限访问权限有助于保护系统的安全性。</span><span class="sxs-lookup"><span data-stu-id="cc538-816">This limited access helps safeguard the system if individual services or processes are compromised.</span></span> <span data-ttu-id="cc538-817">以 Local Service 帐户身份运行的服务将以一个没有凭据的 Null 会话形式访问网络资源。</span><span class="sxs-lookup"><span data-stu-id="cc538-817">Services that run as the Local Service account access network resources as a null session without credentials.</span></span> <span data-ttu-id="cc538-818">请注意， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理服务不支持 Local Service 帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-818">Be aware that the Local Service account is not supported for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent services.</span></span> <span data-ttu-id="cc538-819">不支持将 Local Service 作为运行这些服务的帐户，因为该服务是一个共享服务，并且任何在 Local Service 下运行的其他服务都对 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]具有系统管理员访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-819">Local Service is not supported as the account running those services because it is a shared service and any other services running under local service would have system administrator access to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="cc538-820">该帐户的实际名称为 **NT AUTHORITY\LOCAL SERVICE**。</span><span class="sxs-lookup"><span data-stu-id="cc538-820">The actual name of the account is **NT AUTHORITY\LOCAL SERVICE**.</span></span>  
  
 <a name="Network_Service"></a> <span data-ttu-id="cc538-821">网络服务帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-821">**Network Service Account**</span></span>  
  
 <span data-ttu-id="cc538-822">Network Service 帐户是一个内置帐户，比 Users 组的成员拥有更多的对资源和对象的访问权限。</span><span class="sxs-lookup"><span data-stu-id="cc538-822">The Network Service account is a built-in account that has more access to resources and objects than members of the Users group.</span></span> <span data-ttu-id="cc538-823">以网络服务帐户身份运行的服务通过使用计算机帐户的凭据（格式为 _<domain_name>_ **\\** _<computer_name>_ **$** ）访问网络资源。</span><span class="sxs-lookup"><span data-stu-id="cc538-823">Services that run as the Network Service account access network resources by using the credentials of the computer account in the format _<domain_name>_**\\**_<computer_name>_**$**.</span></span> <span data-ttu-id="cc538-824">该帐户的实际名称为 **NT AUTHORITY\NETWORK SERVICE**。</span><span class="sxs-lookup"><span data-stu-id="cc538-824">The actual name of the account is **NT AUTHORITY\NETWORK SERVICE**.</span></span>  
  
 <a name="Local_System"></a> <span data-ttu-id="cc538-825">本地系统帐户</span><span class="sxs-lookup"><span data-stu-id="cc538-825">**Local System Account**</span></span>  
  
 <span data-ttu-id="cc538-826">Local System 是一个具有高特权的内置帐户。</span><span class="sxs-lookup"><span data-stu-id="cc538-826">Local System is a very high-privileged built-in account.</span></span> <span data-ttu-id="cc538-827">它对本地系统拥有许多特权并作为网络上的计算机。</span><span class="sxs-lookup"><span data-stu-id="cc538-827">It has extensive privileges on the local system and acts as the computer on the network.</span></span> <span data-ttu-id="cc538-828">该帐户的实际名称为 **NT AUTHORITY\SYSTEM**。</span><span class="sxs-lookup"><span data-stu-id="cc538-828">The actual name of the account is **NT AUTHORITY\SYSTEM**.</span></span>  
  
###  <a name="identifying-instance-aware-and-instance-unaware-services"></a><a name="Identify_instance_aware_and_unaware"></a> <span data-ttu-id="cc538-829">辨别识别实例的服务和不识别实例的服务</span><span class="sxs-lookup"><span data-stu-id="cc538-829">Identifying Instance-Aware and Instance-Unaware Services</span></span>  
 <span data-ttu-id="cc538-830">识别实例的服务与特定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例相关联，并具有自己的注册表配置单元。</span><span class="sxs-lookup"><span data-stu-id="cc538-830">Instance-aware services are associated with a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and have their own registry hives.</span></span> <span data-ttu-id="cc538-831">通过为每个组件或服务运行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序，可以安装识别实例的服务的多个副本。</span><span class="sxs-lookup"><span data-stu-id="cc538-831">You can install multiple copies of instance-aware services by running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup for each component or service.</span></span> <span data-ttu-id="cc538-832">不识别实例的服务由所有已安装的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例共享。</span><span class="sxs-lookup"><span data-stu-id="cc538-832">Instance-unaware services are shared among all installed [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instances.</span></span> <span data-ttu-id="cc538-833">它们不与特定实例相关联，仅安装一次且不能并行安装。</span><span class="sxs-lookup"><span data-stu-id="cc538-833">They are not associated with a specific instance, are installed only once, and cannot be installed side-by-side.</span></span>  
  
 <span data-ttu-id="cc538-834">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中识别实例的服务包括：</span><span class="sxs-lookup"><span data-stu-id="cc538-834">Instance-aware services in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] include the following:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-835">代理</span><span class="sxs-lookup"><span data-stu-id="cc538-835">Agent</span></span>  
  
     <span data-ttu-id="cc538-836">请注意，在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例和 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] with Advanced Services 实例上 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 代理服务已禁用。</span><span class="sxs-lookup"><span data-stu-id="cc538-836">Be aware that the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is disabled on instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] and [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] with Advanced Services.</span></span>  
  
-   [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]<span data-ttu-id="cc538-837"><sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="cc538-837"><sup>1</sup></span></span>  
  
-   [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]  
  
-   <span data-ttu-id="cc538-838">全文搜索</span><span class="sxs-lookup"><span data-stu-id="cc538-838">Full-text search</span></span>  
  
 <span data-ttu-id="cc538-839">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中不识别实例的服务包括：</span><span class="sxs-lookup"><span data-stu-id="cc538-839">Instance-unaware services in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] include the following:</span></span>  
  
-   [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="cc538-840">Browser</span><span class="sxs-lookup"><span data-stu-id="cc538-840">Browser</span></span>  
  
-   <span data-ttu-id="cc538-841">SQL 编写器</span><span class="sxs-lookup"><span data-stu-id="cc538-841">SQL Writer</span></span>  
  
 <span data-ttu-id="cc538-842"><sup>1</sup>SharePoint 集成模式下的 Analysis Services 作为单个命名实例以 "PowerPivot" 运行。</span><span class="sxs-lookup"><span data-stu-id="cc538-842"><sup>1</sup>Analysis Services in SharePoint integrated mode runs as 'PowerPivot' as a single, named instance.</span></span> <span data-ttu-id="cc538-843">实例名称是固定不变的。</span><span class="sxs-lookup"><span data-stu-id="cc538-843">The instance name is fixed.</span></span> <span data-ttu-id="cc538-844">您不能指定其他名称。</span><span class="sxs-lookup"><span data-stu-id="cc538-844">You cannot specify a different name.</span></span> <span data-ttu-id="cc538-845">您可以在每台物理服务器上安装作为 PowerPivot 运行的一个 Analysis Services 实例。</span><span class="sxs-lookup"><span data-stu-id="cc538-845">You can install only one instance of Analysis Services running as 'PowerPivot' on each physical server.</span></span>  
  
###  <a name="localized-service-names"></a><a name="Localized_service_names"></a> <span data-ttu-id="cc538-846">本地化的服务名称</span><span class="sxs-lookup"><span data-stu-id="cc538-846">Localized Service Names</span></span>  
 <span data-ttu-id="cc538-847">下表列出了 Windows 的本地化版本所显示的服务名称。</span><span class="sxs-lookup"><span data-stu-id="cc538-847">The following table shows service names that are displayed by localized versions of Windows.</span></span>  
  
|<span data-ttu-id="cc538-848">语言</span><span class="sxs-lookup"><span data-stu-id="cc538-848">Language</span></span>|<span data-ttu-id="cc538-849">Local Service 的名称</span><span class="sxs-lookup"><span data-stu-id="cc538-849">Name for Local Service</span></span>|<span data-ttu-id="cc538-850">Network Service 的名称</span><span class="sxs-lookup"><span data-stu-id="cc538-850">Name for Network Service</span></span>|<span data-ttu-id="cc538-851">Local System 的名称</span><span class="sxs-lookup"><span data-stu-id="cc538-851">Name for Local System</span></span>|<span data-ttu-id="cc538-852">Admin Group 的名称</span><span class="sxs-lookup"><span data-stu-id="cc538-852">Name for Admin Group</span></span>|  
|--------------|----------------------------|------------------------------|---------------------------|--------------------------|  
|<span data-ttu-id="cc538-853">英语</span><span class="sxs-lookup"><span data-stu-id="cc538-853">English</span></span><br /><br /> <span data-ttu-id="cc538-854">简体中文</span><span class="sxs-lookup"><span data-stu-id="cc538-854">Simplified Chinese</span></span><br /><br /> <span data-ttu-id="cc538-855">繁体中文</span><span class="sxs-lookup"><span data-stu-id="cc538-855">Traditional Chinese</span></span><br /><br /> <span data-ttu-id="cc538-856">韩语</span><span class="sxs-lookup"><span data-stu-id="cc538-856">Korean</span></span><br /><br /> <span data-ttu-id="cc538-857">日语</span><span class="sxs-lookup"><span data-stu-id="cc538-857">Japanese</span></span>|<span data-ttu-id="cc538-858">NT AUTHORITY\LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-858">NT AUTHORITY\LOCAL SERVICE</span></span>|<span data-ttu-id="cc538-859">NT AUTHORITY\NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-859">NT AUTHORITY\NETWORK SERVICE</span></span>|<span data-ttu-id="cc538-860">NT AUTHORITY\SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-860">NT AUTHORITY\SYSTEM</span></span>|<span data-ttu-id="cc538-861">BUILTIN\Administrators</span><span class="sxs-lookup"><span data-stu-id="cc538-861">BUILTIN\Administrators</span></span>|  
|<span data-ttu-id="cc538-862">德语</span><span class="sxs-lookup"><span data-stu-id="cc538-862">German</span></span>|<span data-ttu-id="cc538-863">NT-AUTORITÄT\LOKALER DIENST</span><span class="sxs-lookup"><span data-stu-id="cc538-863">NT-AUTORITÄT\LOKALER DIENST</span></span>|<span data-ttu-id="cc538-864">NT-AUTORITÄT\NETZWERKDIENST</span><span class="sxs-lookup"><span data-stu-id="cc538-864">NT-AUTORITÄT\NETZWERKDIENST</span></span>|<span data-ttu-id="cc538-865">NT-AUTORITÄT\SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-865">NT-AUTORITÄT\SYSTEM</span></span>|<span data-ttu-id="cc538-866">VORDEFINIERT\Administratoren</span><span class="sxs-lookup"><span data-stu-id="cc538-866">VORDEFINIERT\Administratoren</span></span>|  
|<span data-ttu-id="cc538-867">法语</span><span class="sxs-lookup"><span data-stu-id="cc538-867">French</span></span>|<span data-ttu-id="cc538-868">AUTORITE NT\SERVICE LOCAL</span><span class="sxs-lookup"><span data-stu-id="cc538-868">AUTORITE NT\SERVICE LOCAL</span></span>|<span data-ttu-id="cc538-869">AUTORITE NT\SERVICE RÉAU</span><span class="sxs-lookup"><span data-stu-id="cc538-869">AUTORITE NT\SERVICE RÉSEAU</span></span>|<span data-ttu-id="cc538-870">AUTORITE NT\SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-870">AUTORITE NT\SYSTEM</span></span>|<span data-ttu-id="cc538-871">BUILTIN\Administrators</span><span class="sxs-lookup"><span data-stu-id="cc538-871">BUILTIN\Administrators</span></span>|  
|<span data-ttu-id="cc538-872">意大利语</span><span class="sxs-lookup"><span data-stu-id="cc538-872">Italian</span></span>|<span data-ttu-id="cc538-873">NT AUTHORITY\SERVIZIO LOCALE</span><span class="sxs-lookup"><span data-stu-id="cc538-873">NT AUTHORITY\SERVIZIO LOCALE</span></span>|<span data-ttu-id="cc538-874">NT AUTHORITY\SERVIZIO DI RETE</span><span class="sxs-lookup"><span data-stu-id="cc538-874">NT AUTHORITY\SERVIZIO DI RETE</span></span>|<span data-ttu-id="cc538-875">NT AUTHORITY\SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-875">NT AUTHORITY\SYSTEM</span></span>|<span data-ttu-id="cc538-876">BUILTIN\Administrators</span><span class="sxs-lookup"><span data-stu-id="cc538-876">BUILTIN\Administrators</span></span>|  
|<span data-ttu-id="cc538-877">西班牙语</span><span class="sxs-lookup"><span data-stu-id="cc538-877">Spanish</span></span>|<span data-ttu-id="cc538-878">NT AUTHORITY\SERVICIO LOC</span><span class="sxs-lookup"><span data-stu-id="cc538-878">NT AUTHORITY\SERVICIO LOC</span></span>|<span data-ttu-id="cc538-879">NT AUTHORITY\SERVICIO DE RED</span><span class="sxs-lookup"><span data-stu-id="cc538-879">NT AUTHORITY\SERVICIO DE RED</span></span>|<span data-ttu-id="cc538-880">NT AUTHORITY\SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-880">NT AUTHORITY\SYSTEM</span></span>|<span data-ttu-id="cc538-881">BUILTIN\Administradores</span><span class="sxs-lookup"><span data-stu-id="cc538-881">BUILTIN\Administradores</span></span>|  
|<span data-ttu-id="cc538-882">俄语</span><span class="sxs-lookup"><span data-stu-id="cc538-882">Russian</span></span>|<span data-ttu-id="cc538-883">NT AUTHORITY\LOCAL SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-883">NT AUTHORITY\LOCAL SERVICE</span></span>|<span data-ttu-id="cc538-884">NT AUTHORITY\NETWORK SERVICE</span><span class="sxs-lookup"><span data-stu-id="cc538-884">NT AUTHORITY\NETWORK SERVICE</span></span>|<span data-ttu-id="cc538-885">NT AUTHORITY\SYSTEM</span><span class="sxs-lookup"><span data-stu-id="cc538-885">NT AUTHORITY\SYSTEM</span></span>|<span data-ttu-id="cc538-886">BUILTIN\Администраторы</span><span class="sxs-lookup"><span data-stu-id="cc538-886">BUILTIN\Администраторы</span></span>|  
  
## <a name="related-content"></a><span data-ttu-id="cc538-887">相关内容</span><span class="sxs-lookup"><span data-stu-id="cc538-887">Related Content</span></span>  
 [<span data-ttu-id="cc538-888">安装 SQL Server 的安全注意事项</span><span class="sxs-lookup"><span data-stu-id="cc538-888">Security Considerations for a SQL Server Installation</span></span>](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)  
  
 [<span data-ttu-id="cc538-889">SQL Server 的默认实例和命名实例的文件位置</span><span class="sxs-lookup"><span data-stu-id="cc538-889">File Locations for Default and Named Instances of SQL Server</span></span>](../../sql-server/install/file-locations-for-default-and-named-instances-of-sql-server.md)  
  
 [<span data-ttu-id="cc538-890">安装 Master Data Services</span><span class="sxs-lookup"><span data-stu-id="cc538-890">Install Master Data Services</span></span>](../../master-data-services/install-windows/install-master-data-services.md)  
  
  
