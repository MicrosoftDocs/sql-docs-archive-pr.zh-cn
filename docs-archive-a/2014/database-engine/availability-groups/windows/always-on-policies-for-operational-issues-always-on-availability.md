---
title: Always On Always On 可用性组的操作问题的策略 (SQL Server) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], troubleshooting
- Availability Groups [SQL Server], policies
ms.assetid: afa5289c-641a-4c03-8749-44862384ec5f
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 2c89997a94128ccaf78028c50e78e50d721db87f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87591597"
---
# <a name="always-on-policies-for-operational-issues-with-always-on-availability-groups-sql-server"></a><span data-ttu-id="cf3fe-102">针对 AlwaysOn 可用性组运行问题的 AlwaysOn 策略 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-102">Always On Policies for Operational Issues with Always On Availability Groups (SQL Server)</span></span>
  <span data-ttu-id="cf3fe-103">[!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] 运行状况模型评估一组基于预定义策略的管理 (PBM) 策略。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-103">The [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] health model evaluates a set of predefined policy based management (PBM) policies.</span></span> <span data-ttu-id="cf3fe-104">可以使用这些策略查看 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]中可用性组及其可用性副本和数据库的运行状况。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-104">You can use theses for viewing the health of an availability group and its availability replicas and databases in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
 
  
##  <a name="terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="cf3fe-105">术语和定义</span><span class="sxs-lookup"><span data-stu-id="cf3fe-105">Terms and Definitions</span></span>  
 <span data-ttu-id="cf3fe-106">AlwaysOn 预定义策略</span><span class="sxs-lookup"><span data-stu-id="cf3fe-106">AlwaysOn predefined policies</span></span>  
 <span data-ttu-id="cf3fe-107">利用一组内置策略，数据库管理员可以检查可用性组及其可用性副本和数据库是否与由 AlwaysOn 策略定义的状态兼容。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-107">A set of built-in policies that allow a database administrator to check an availability group and its availability replicas and databases for compliance with the states that are defined by the AlwaysOn policies.</span></span>  
  
 <span data-ttu-id="cf3fe-108">[AlwaysOn 可用性组](always-on-availability-groups-sql-server.md)一种高可用性和灾难恢复解决方案，可为数据库镜像提供企业级替代方法。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-108">[AlwaysOn Availability Groups](always-on-availability-groups-sql-server.md) A high-availability and disaster-recovery solution that provides an enterprise-level alternative to database mirroring.</span></span>  
  
 <span data-ttu-id="cf3fe-109">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-109">availability group</span></span>  
 <span data-ttu-id="cf3fe-110">一个容器，用于一组共同实现故障转移的离散用户数据库（被称为可用性数据库）\*\*。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-110">A container for a discrete set of user databases, known as *availability databases*, that fail over together.</span></span>  
  
 <span data-ttu-id="cf3fe-111">可用性副本</span><span class="sxs-lookup"><span data-stu-id="cf3fe-111">availability replica</span></span>  
 <span data-ttu-id="cf3fe-112">可用性组的实例化，该可用性组由特定的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例承载，该实例维护属于该可用性组的每个可用性数据库的本地副本。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-112">An instantiation of an availability group that is hosted by a specific instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and that maintains a local copy of each availability database that belongs to the availability group.</span></span> <span data-ttu-id="cf3fe-113">\*\* 存在两种类型的可用性副本：一个“主副本” \*\* 和一至四个“辅助副本”。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-113">Two types of availability replicas exist: a single *primary replica* and one to four *secondary replicas*.</span></span> <span data-ttu-id="cf3fe-114">承载给定可用性组的可用性副本的服务器实例必须位于单个 Windows Server 故障转移群集 (WSFC) 群集的不同节点上。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-114">The server instances that host the availability replicas for a given availability group must reside on different nodes of a single Windows Server Failover Clustering (WSFC) cluster.</span></span>  
  
 <span data-ttu-id="cf3fe-115">可用性数据库 (availability database)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-115">availability database</span></span>  
 <span data-ttu-id="cf3fe-116">属于可用性组的数据库。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-116">A database that belongs to an availability group.</span></span> <span data-ttu-id="cf3fe-117">对于每个可用性数据库，可用性组将保留一个读写副本（主数据库**）和一个到四个只读副本（辅助数据库**）。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-117">For each availability database, the availability group maintains a single read-write copy (the *primary database*) and one to four read-only copies (*secondary databases*).</span></span>  
  
 <span data-ttu-id="cf3fe-118">AlwaysOn 面板</span><span class="sxs-lookup"><span data-stu-id="cf3fe-118">AlwaysOn Dashboard</span></span>  
 <span data-ttu-id="cf3fe-119">一个 [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] 面板，该面板针对可用性组的运行状况提供了一目了然的视图。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-119">A [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] dashboard that provides an at-a-glance view of the health of an availability group.</span></span> <span data-ttu-id="cf3fe-120">有关详细信息，请参阅本主题后面的 [AlwaysOn 面板](#Dashboard)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-120">For more information, see [AlwaysOn Dashboard](#Dashboard), later in this topic.</span></span>  
  
##  <a name="predefined-policies-and-issues"></a><a name="AlwaysOnPBM"></a> <span data-ttu-id="cf3fe-121">预定义策略和问题</span><span class="sxs-lookup"><span data-stu-id="cf3fe-121">Predefined Policies and Issues</span></span>  
 <span data-ttu-id="cf3fe-122">下表概述了预定义策略。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-122">The following table summarizes the predefined policies.</span></span>  
  
|<span data-ttu-id="cf3fe-123">策略名称</span><span class="sxs-lookup"><span data-stu-id="cf3fe-123">Policy name</span></span>|<span data-ttu-id="cf3fe-124">问题</span><span class="sxs-lookup"><span data-stu-id="cf3fe-124">Issue</span></span>|<span data-ttu-id="cf3fe-125">类别**<sup>\*</sup>**</span><span class="sxs-lookup"><span data-stu-id="cf3fe-125">Category**<sup>\*</sup>**</span></span>|<span data-ttu-id="cf3fe-126">方面</span><span class="sxs-lookup"><span data-stu-id="cf3fe-126">Facet</span></span>|  
|-----------------|-----------|------------------------------|-----------|  
|<span data-ttu-id="cf3fe-127">WSFC 群集状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-127">WSFC Cluster State</span></span>|<span data-ttu-id="cf3fe-128">[WSFC 群集服务处于脱机状态](wsfc-cluster-service-is-offline.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-128">[WSFC cluster service is offline](wsfc-cluster-service-is-offline.md).</span></span>|<span data-ttu-id="cf3fe-129">严重</span><span class="sxs-lookup"><span data-stu-id="cf3fe-129">Critical</span></span>|<span data-ttu-id="cf3fe-130">SQL Server 实例</span><span class="sxs-lookup"><span data-stu-id="cf3fe-130">Instance of SQL Server</span></span>|  
|<span data-ttu-id="cf3fe-131">可用性组联机状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-131">Availability Group Online State</span></span>|<span data-ttu-id="cf3fe-132">[可用性组处于脱机状态](availability-group-is-offline.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-132">[Availability group is offline](availability-group-is-offline.md).</span></span>|<span data-ttu-id="cf3fe-133">严重</span><span class="sxs-lookup"><span data-stu-id="cf3fe-133">Critical</span></span>|<span data-ttu-id="cf3fe-134">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-134">Availability group</span></span>|  
|<span data-ttu-id="cf3fe-135">可用性组自动故障转移就绪</span><span class="sxs-lookup"><span data-stu-id="cf3fe-135">Availability Group Automatic Failover Readiness</span></span>|<span data-ttu-id="cf3fe-136">[可用性组未准备好进行自动故障转移](availability-group-is-not-ready-for-automatic-failover.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-136">[Availability group is not ready for automatic failover](availability-group-is-not-ready-for-automatic-failover.md).</span></span>|<span data-ttu-id="cf3fe-137">严重</span><span class="sxs-lookup"><span data-stu-id="cf3fe-137">Critical</span></span>|<span data-ttu-id="cf3fe-138">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-138">Availability group</span></span>|  
|<span data-ttu-id="cf3fe-139">可用性副本数据同步状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-139">Availability Replicas Data Synchronization State</span></span>|<span data-ttu-id="cf3fe-140">[某些可用性副本未同步数据](some-availability-replicas-are-not-synchronizing-data.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-140">[Some availability replicas are not synchronizing data](some-availability-replicas-are-not-synchronizing-data.md).</span></span>|<span data-ttu-id="cf3fe-141">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-141">Warning</span></span>|<span data-ttu-id="cf3fe-142">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-142">Availability group</span></span>|  
|<span data-ttu-id="cf3fe-143">同步副本数据同步状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-143">Synchronous Replicas Data Synchronization State</span></span>|<span data-ttu-id="cf3fe-144">[一些同步副本不同步](some-synchronous-replicas-are-not-synchronized.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-144">[Some synchronous replicas are not synchronized](some-synchronous-replicas-are-not-synchronized.md).</span></span>|<span data-ttu-id="cf3fe-145">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-145">Warning</span></span>|<span data-ttu-id="cf3fe-146">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-146">Availability group</span></span>|  
|<span data-ttu-id="cf3fe-147">可用性副本角色状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-147">Availability Replicas Role State</span></span>|<span data-ttu-id="cf3fe-148">[某些可用性副本不具有正常运行的角色](some-availability-replicas-do-not-have-a-healthy-role.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-148">[Some availability replicas do not have a healthy role](some-availability-replicas-do-not-have-a-healthy-role.md).</span></span>|<span data-ttu-id="cf3fe-149">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-149">Warning</span></span>|<span data-ttu-id="cf3fe-150">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-150">Availability group</span></span>|  
|<span data-ttu-id="cf3fe-151">可用性副本连接状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-151">Availability Replicas Connection State</span></span>|<span data-ttu-id="cf3fe-152">[某些可用性副本已断开连接](some-availability-replicas-are-disconnected.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-152">[Some availability replicas are disconnected](some-availability-replicas-are-disconnected.md).</span></span>|<span data-ttu-id="cf3fe-153">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-153">Warning</span></span>|<span data-ttu-id="cf3fe-154">可用性组 (availability group)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-154">Availability group</span></span>|  
|<span data-ttu-id="cf3fe-155">可用性副本角色状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-155">Availability Replica Role State</span></span>|<span data-ttu-id="cf3fe-156">[可用性副本不具有正常运行的角色](availability-replica-does-not-have-a-healthy-role.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-156">[Availability replica does not have a healthy role](availability-replica-does-not-have-a-healthy-role.md).</span></span>|<span data-ttu-id="cf3fe-157">严重</span><span class="sxs-lookup"><span data-stu-id="cf3fe-157">Critical</span></span>|<span data-ttu-id="cf3fe-158">可用性副本</span><span class="sxs-lookup"><span data-stu-id="cf3fe-158">Availability replica</span></span>|  
|<span data-ttu-id="cf3fe-159">可用性副本连接状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-159">Availability Replica Connection State</span></span>|<span data-ttu-id="cf3fe-160">[可用性副本已断开连接](availability-replica-is-disconnected.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-160">[Availability replica is disconnected](availability-replica-is-disconnected.md).</span></span>|<span data-ttu-id="cf3fe-161">严重</span><span class="sxs-lookup"><span data-stu-id="cf3fe-161">Critical</span></span>|<span data-ttu-id="cf3fe-162">可用性副本</span><span class="sxs-lookup"><span data-stu-id="cf3fe-162">Availability replica</span></span>|  
|<span data-ttu-id="cf3fe-163">可用性副本联接状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-163">Availability Replica Join State</span></span>|<span data-ttu-id="cf3fe-164">[可用性副本未联接](availability-replica-is-not-joined.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-164">[Availability replica is not joined](availability-replica-is-not-joined.md).</span></span>|<span data-ttu-id="cf3fe-165">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-165">Warning</span></span>|<span data-ttu-id="cf3fe-166">可用性副本</span><span class="sxs-lookup"><span data-stu-id="cf3fe-166">Availability replica</span></span>|  
|<span data-ttu-id="cf3fe-167">可用性副本数据同步状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-167">Availability Replica Data Synchronization State</span></span>|<span data-ttu-id="cf3fe-168">[某个可用性数据库的数据同步状态不正常](data-synchronization-state-of-some-availability-database-is-not-healthy.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-168">[Data synchronization state of some availability database is not healthy](data-synchronization-state-of-some-availability-database-is-not-healthy.md).</span></span>|<span data-ttu-id="cf3fe-169">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-169">Warning</span></span>|<span data-ttu-id="cf3fe-170">可用性副本</span><span class="sxs-lookup"><span data-stu-id="cf3fe-170">Availability replica</span></span>|  
|<span data-ttu-id="cf3fe-171">可用性数据库挂起状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-171">Availability Database Suspension State</span></span>|<span data-ttu-id="cf3fe-172">[可用性数据库被挂起](availability-database-is-suspended.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-172">[Availability database is suspended](availability-database-is-suspended.md).</span></span>|<span data-ttu-id="cf3fe-173">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-173">Warning</span></span>|<span data-ttu-id="cf3fe-174">可用性数据库</span><span class="sxs-lookup"><span data-stu-id="cf3fe-174">Availability database</span></span>|  
|<span data-ttu-id="cf3fe-175">可用性数据库联接状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-175">Availability Database Join State</span></span>|<span data-ttu-id="cf3fe-176">[辅助数据库未联接](secondary-database-is-not-joined.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-176">[Secondary database is not joined](secondary-database-is-not-joined.md).</span></span>|<span data-ttu-id="cf3fe-177">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-177">Warning</span></span>|<span data-ttu-id="cf3fe-178">可用性数据库</span><span class="sxs-lookup"><span data-stu-id="cf3fe-178">Availability database</span></span>|  
|<span data-ttu-id="cf3fe-179">可用性数据库数据同步状态</span><span class="sxs-lookup"><span data-stu-id="cf3fe-179">Availability Database Data Synchronization State</span></span>|<span data-ttu-id="cf3fe-180">[可用性数据库的数据同步状态不正常](data-synchronization-state-of-availability-database-is-not-healthy.md)。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-180">[Data synchronization state of availability database is not healthy](data-synchronization-state-of-availability-database-is-not-healthy.md).</span></span>|<span data-ttu-id="cf3fe-181">警告</span><span class="sxs-lookup"><span data-stu-id="cf3fe-181">Warning</span></span>|<span data-ttu-id="cf3fe-182">可用性数据库</span><span class="sxs-lookup"><span data-stu-id="cf3fe-182">Availability database</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="cf3fe-183">**<sup>\*</sup>** 对于 AlwaysOn 策略，类别名称用作 Id。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-183">**<sup>\*</sup>**  For AlwaysOn policies, the category names are used as IDs.</span></span> <span data-ttu-id="cf3fe-184">更改 AlwaysOn 类别的名称将会破坏其运行状况评价功能。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-184">Changing the name of an AlwaysOn category would break its health-evaluation functionality.</span></span> <span data-ttu-id="cf3fe-185">因此，请不要修改 AlwaysOn 类别的名称。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-185">Therefore, do not modify the names of AlwaysOn categories.</span></span>  
  
##  <a name="alwayson-dashboard"></a><a name="Dashboard"></a><span data-ttu-id="cf3fe-186">AlwaysOn 面板</span><span class="sxs-lookup"><span data-stu-id="cf3fe-186">AlwaysOn Dashboard</span></span>  
 <span data-ttu-id="cf3fe-187">AlwaysOn 面板为您提供了针对可用性组的运行状况的一目了然的视图。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-187">The AlwaysOn Dashboard gives you an at-a-glance view of the health of an availability group.</span></span> <span data-ttu-id="cf3fe-188">AlwaysOn 面板包括以下功能：</span><span class="sxs-lookup"><span data-stu-id="cf3fe-188">The AlwaysOn Dashboard includes the following features:</span></span>  
  
-   <span data-ttu-id="cf3fe-189">使您能够轻松显示有关给定的可用性组、其可用性副本以及其数据库的详细信息。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-189">Enables you to easily display details about a given availability group, its availability replicas, and its databases.</span></span>  
  
-   <span data-ttu-id="cf3fe-190">显示关键状态的可视化表示以帮助数据库管理员快速决定执行哪些操作。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-190">Displays visual indications of key states to help database administrators make quick operational decisions.</span></span>  
  
-   <span data-ttu-id="cf3fe-191">提供故障排除方案的启动点。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-191">Provides launch points for troubleshooting scenarios.</span></span>  
  
-   <span data-ttu-id="cf3fe-192">对于给定的操作问题，在 **“策略评估结果”** 对话框中填入有关特定的 AlwaysOn 运行状况策略违反情况的信息和指向更新帮助的链接。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-192">For a given operational issue, populates the **Policy Evaluation Result** dialog box with information about specific AlwaysOn health policy violations and with links to remediation help.</span></span>  
  
-   <span data-ttu-id="cf3fe-193">提供一个运行状况扩展事件查看器，用于显示以前的特定于 AlwaysOn 的问题的事件。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-193">Provides an health extended event viewer to show previous events for AlwaysOn-specific issues.</span></span>  
  
-   <span data-ttu-id="cf3fe-194">如果可用性组的故障转移可以纠正问题，则提供[故障转移可用性组向导](use-the-fail-over-availability-group-wizard-sql-server-management-studio.md)链接的启动点。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-194">If failing over the availability group is a possible remediation for an issue, provides a launch point for the links[Fail Over Availability Group Wizard](use-the-fail-over-availability-group-wizard-sql-server-management-studio.md).</span></span> <span data-ttu-id="cf3fe-195">此向导将指导数据库管理员完成手动故障转移过程。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-195">This wizard takes a database administrator through the manual failover process.</span></span>  
  
##  <a name="extending-the-alwayson-health-model"></a><a name="ExtendHealthModel"></a><span data-ttu-id="cf3fe-196">扩展 AlwaysOn 运行状况模型</span><span class="sxs-lookup"><span data-stu-id="cf3fe-196">Extending the AlwaysOn Health Model</span></span>  
 <span data-ttu-id="cf3fe-197">扩展 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] 运行状况模型只是创建您自己的用户定义策略，并基于您正在监视的对象类型将其放入特定类别。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-197">Extending the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] health model is simply a matter of creating your own user-defined policies and putting them into certain categories based on the type of object that you are monitoring.</span></span>  <span data-ttu-id="cf3fe-198">在更改了一些设置后，AlwaysOn 面板将自动评估您自己的用户定义策略以及 AlwaysOn 预定义策略。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-198">After you a alter few settings, the AlwaysOn dashboard will automatically evaluate your own user-defined policies, as well as the AlwaysOn predefined policies.</span></span>  
  
 <span data-ttu-id="cf3fe-199">用户定义策略可以使用任何可用的 PBM 方面，包括那些由 AlwaysOn 预定义策略使用的方面（请参阅本主题前面的[预定义策略和问题](#AlwaysOnPBM)）。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-199">A user-defined policy can use any of the available PBM facets, including those used by the AlwaysOn predefined policies (see [Predefined Policies and Issues](#AlwaysOnPBM), earlier in this topic).</span></span> <span data-ttu-id="cf3fe-200">服务器方面提供了下列用于监视 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]运行状况的属性：（`IsHadrEnabled` 和 `HadrManagerStatus`）。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-200">The Server facet provides the following properties for monitoring [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] health: (`IsHadrEnabled` and `HadrManagerStatus`).</span></span> <span data-ttu-id="cf3fe-201">服务器方面还提供了下列用于监视 WSFC 群集配置的策略：`ClusterQuorumType` 和 `ClusterQuorumState`。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-201">The Server facet also provides properties the following policies for monitoring the WSFC cluster configuration: `ClusterQuorumType`, and `ClusterQuorumState`.</span></span>  
  
 <span data-ttu-id="cf3fe-202">有关详细信息，请参阅 [AlwaysOn 运行状况模型第二部分 -- 扩展运行状况模型](https://docs.microsoft.com/archive/blogs/sqlalwayson/the-alwayson-health-model-part-2-extending-the-health-model)（SQL Server AlwaysOn 团队博客）。</span><span class="sxs-lookup"><span data-stu-id="cf3fe-202">For more information, see [The AlwaysOn Health Model Part 2 -- Extending the Health Model](https://docs.microsoft.com/archive/blogs/sqlalwayson/the-alwayson-health-model-part-2-extending-the-health-model) (a SQL Server AlwaysOn Team blog).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="cf3fe-203">相关任务</span><span class="sxs-lookup"><span data-stu-id="cf3fe-203">Related Tasks</span></span>  
  
-   [<span data-ttu-id="cf3fe-204">使用 AlwaysOn 策略查看可用性组的运行状况 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="cf3fe-204">Use AlwaysOn Policies to View the Health of an Availability Group &#40;SQL Server&#41;</span></span>](use-always-on-policies-to-view-the-health-of-an-availability-group-sql-server.md)  
  
-   [<span data-ttu-id="cf3fe-205">使用 AlwaysOn 面板 (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-205">Use the AlwaysOn Dashboard &#40;SQL Server Management Studio&#41;</span></span>](use-the-always-on-dashboard-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="cf3fe-206">通过强制仲裁进行 WSFC 灾难恢复 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-206">WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;</span></span>](../../../sql-server/failover-clusters/windows/wsfc-disaster-recovery-through-forced-quorum-sql-server.md)  
  
-   [<span data-ttu-id="cf3fe-207">在无仲裁情况下强制启动 WSFC 群集</span><span class="sxs-lookup"><span data-stu-id="cf3fe-207">Force a WSFC Cluster to Start Without a Quorum</span></span>](../../../sql-server/failover-clusters/windows/force-a-wsfc-cluster-to-start-without-a-quorum.md)  
  
-   [<span data-ttu-id="cf3fe-208">执行可用性组的强制手动故障转移 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-208">Perform a Forced Manual Failover of an Availability Group &#40;SQL Server&#41;</span></span>](perform-a-forced-manual-failover-of-an-availability-group-sql-server.md)  
  
-   [<span data-ttu-id="cf3fe-209">排除失败的添加文件操作 &#40;AlwaysOn 可用性组&#41;</span><span class="sxs-lookup"><span data-stu-id="cf3fe-209">Troubleshoot a Failed Add-File Operation &#40;AlwaysOn Availability Groups&#41;</span></span>](troubleshoot-a-failed-add-file-operation-always-on-availability-groups.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="cf3fe-210">相关内容</span><span class="sxs-lookup"><span data-stu-id="cf3fe-210">Related Content</span></span>  
  
-   [<span data-ttu-id="cf3fe-211">AlwaysOn 运行状况模型第一部分 — — 运行状况模型体系结构</span><span class="sxs-lookup"><span data-stu-id="cf3fe-211">The AlwaysOn Health Model Part 1 -- Health Model Architecture</span></span>](https://docs.microsoft.com/archive/blogs/sqlalwayson/monitoring-alwayson-health-with-powershell-part-1-basic-cmdlet-overview)  
  
-   [<span data-ttu-id="cf3fe-212">AlwaysOn 运行状况模型第二部分 — — 扩展运行状况模型</span><span class="sxs-lookup"><span data-stu-id="cf3fe-212">The AlwaysOn Health Model Part 2 -- Extending the Health Model</span></span>](https://docs.microsoft.com/archive/blogs/sqlalwayson/the-alwayson-health-model-part-2-extending-the-health-model)  
  
-   [<span data-ttu-id="cf3fe-213">用于高可用性和灾难恢复的 Microsoft SQL Server AlwaysOn 解决方案指南</span><span class="sxs-lookup"><span data-stu-id="cf3fe-213">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
## <a name="see-also"></a><span data-ttu-id="cf3fe-214">另请参阅</span><span class="sxs-lookup"><span data-stu-id="cf3fe-214">See Also</span></span>  
 <span data-ttu-id="cf3fe-215">[AlwaysOn 可用性组 (SQL Server) ](always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="cf3fe-215">[AlwaysOn Availability Groups (SQL Server)](always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="cf3fe-216">[AlwaysOn 可用性组 &#40;SQL Server 概述&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="cf3fe-216">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="cf3fe-217">[管理可用性组 &#40;SQL Server&#41;](administration-of-an-availability-group-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="cf3fe-217">[Administration of an Availability Group &#40;SQL Server&#41;](administration-of-an-availability-group-sql-server.md) </span></span>  
 [<span data-ttu-id="cf3fe-218">监视可用性组 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="cf3fe-218">Monitoring of Availability Groups &#40;SQL Server&#41;</span></span>](monitoring-of-availability-groups-sql-server.md)  
  
  
