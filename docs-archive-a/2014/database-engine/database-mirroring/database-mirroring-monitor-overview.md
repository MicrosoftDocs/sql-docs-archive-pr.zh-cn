---
title: 数据库镜像监视器概述 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.dbmmonitor.main.f1
helpviewer_keywords:
- Database Mirroring Monitor [SQL Server], interface
ms.assetid: 8ebbdcd6-565a-498f-b674-289c84b985eb
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d19f9a2aa66aaee30bcf623e254d6f24aa690277
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690134"
---
# <a name="database-mirroring-monitor-overview"></a><span data-ttu-id="4d318-102">数据库镜像监视器概述</span><span class="sxs-lookup"><span data-stu-id="4d318-102">Database Mirroring Monitor Overview</span></span>
  <span data-ttu-id="4d318-103">如果有适当的权限，您可以使用数据库镜像监视器来监视服务器实例上的镜像数据库的任何子集。</span><span class="sxs-lookup"><span data-stu-id="4d318-103">If you have the correct permissions, you can use Database Mirroring Monitor to monitor any subset of the mirrored databases on a server instance.</span></span> <span data-ttu-id="4d318-104">通过监视可以验证数据库镜像会话中是否有数据流动以及数据流动的方式。</span><span class="sxs-lookup"><span data-stu-id="4d318-104">Monitoring enables you to verify whether and how well data is flowing in the database mirroring session.</span></span> <span data-ttu-id="4d318-105">数据库镜像监视还有助于排查数据流减少的原因。</span><span class="sxs-lookup"><span data-stu-id="4d318-105">Database Mirroring Monitor is also useful for troubleshooting the cause of reduced data flow.</span></span>  
  
 <span data-ttu-id="4d318-106">可以在每个故障转移伙伴上分别注册要监视的镜像数据库。</span><span class="sxs-lookup"><span data-stu-id="4d318-106">You can register any of your mirrored databases for monitoring on each of the failover partners individually.</span></span> <span data-ttu-id="4d318-107">注册数据库时，数据库镜像监视器将缓存有关数据库的以下信息：</span><span class="sxs-lookup"><span data-stu-id="4d318-107">When you register a database, Database Mirroring Monitor caches the following information about the database:</span></span>  
  
-   <span data-ttu-id="4d318-108">数据库名称</span><span class="sxs-lookup"><span data-stu-id="4d318-108">Database name</span></span>  
  
-   <span data-ttu-id="4d318-109">两个伙伴服务器实例的名称</span><span class="sxs-lookup"><span data-stu-id="4d318-109">The names of the two partner server instances</span></span>  
  
-   <span data-ttu-id="4d318-110">每个伙伴的上一个已知角色（主体或镜像）</span><span class="sxs-lookup"><span data-stu-id="4d318-110">The last known roles of each partner (principal or mirror)</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="4d318-111">权限</span><span class="sxs-lookup"><span data-stu-id="4d318-111">Permissions</span></span>  
 <span data-ttu-id="4d318-112">若要监视数据库镜像，必须是 **sysadmin** 固定服务器角色的成员，或是服务器实例上 **msdb** 数据库的 **dbm_monitor** 固定数据库角色的成员。</span><span class="sxs-lookup"><span data-stu-id="4d318-112">To monitor database mirroring, you must be a member of either the **sysadmin** fixed server role or the **dbm_monitor** fixed database role in the **msdb** database on the server instance.</span></span> <span data-ttu-id="4d318-113">如果你只是某一个伙伴服务器实例中的 **sysadmin** 或 **dbm_monitor** 的成员，则监视器只能连接到该伙伴；监视器不能从其他伙伴中检索信息。</span><span class="sxs-lookup"><span data-stu-id="4d318-113">If you are a member of **sysadmin** or **dbm_monitor** on only one of the partner server instances, the monitor can connect only to that partner; the monitor cannot retrieve information from the other partner.</span></span>  
  
 <span data-ttu-id="4d318-114">如果你只是服务器实例上的 **dbm_monitor** 的成员，你对该服务器实例只具有有限的权限。</span><span class="sxs-lookup"><span data-stu-id="4d318-114">If you are a member of just **dbm_monitor** on a server instance, you will have limited permissions on that server instance.</span></span> <span data-ttu-id="4d318-115">您只能查看最新的状态行。</span><span class="sxs-lookup"><span data-stu-id="4d318-115">You will only be able to view the most recent status row.</span></span> <span data-ttu-id="4d318-116">如果使用 **dbm_monitor** 权限连接到服务器实例，数据库镜像监视器将提示你的权限有限。</span><span class="sxs-lookup"><span data-stu-id="4d318-116">If you connect to a server instance using **dbm_monitor** permissions, Database Mirroring Monitor informs you that you have limited permissions.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="4d318-117">在数据库镜像监视器中注册第一个数据库时，将在 **msdb** 数据库中创建 **dbm_monitor** 固定数据库角色。</span><span class="sxs-lookup"><span data-stu-id="4d318-117">The **dbm_monitor** fixed database role is created in the **msdb** database when the first database is registered in Database Mirroring Monitor.</span></span> <span data-ttu-id="4d318-118">在系统管理员为新的 **dbm_monitor** 角色分配用户之前，该角色没有任何成员。</span><span class="sxs-lookup"><span data-stu-id="4d318-118">The new **dbm_monitor** role has no members until a system administrator assigns users to the role.</span></span>  
  
## <a name="navigation-tree"></a><span data-ttu-id="4d318-119">导航树</span><span class="sxs-lookup"><span data-stu-id="4d318-119">Navigation Tree</span></span>  
 <span data-ttu-id="4d318-120">如果已经注册要由数据库镜像监视器监视的任何数据库，则导航树中将显示已注册数据库的列表。</span><span class="sxs-lookup"><span data-stu-id="4d318-120">If any databases have been registered for monitoring by the Database Mirroring Monitor, a list of registered databases is displayed in the navigation tree.</span></span> <span data-ttu-id="4d318-121">该树每隔 30 秒自动刷新一次。</span><span class="sxs-lookup"><span data-stu-id="4d318-121">The tree automatically refreshes every 30 seconds.</span></span> <span data-ttu-id="4d318-122">若要查看注册数据库的状态，请将其选中。</span><span class="sxs-lookup"><span data-stu-id="4d318-122">To see the status of a registered database, select it.</span></span> <span data-ttu-id="4d318-123">有关详细信息，请参阅本主题后面的“详细信息窗格”。</span><span class="sxs-lookup"><span data-stu-id="4d318-123">For more information, see "Detail Pane," later in this topic.</span></span>  
  
 <span data-ttu-id="4d318-124">对于每个注册数据库，都将显示以下信息：</span><span class="sxs-lookup"><span data-stu-id="4d318-124">For each registered database, the following information is displayed:</span></span>  
  
 <span data-ttu-id="4d318-125"><Database_name> ( \<Status> , <PRINCIPAL_SERVER> -> <MIRROR_SERVER> )</span><span class="sxs-lookup"><span data-stu-id="4d318-125">_<Database_name>_ **(** _\<Status>_ **,** _<PRINCIPAL_SERVER>_ **->** _<MIRROR_SERVER>_ **)**</span></span>  
  
 <span data-ttu-id="4d318-126">*<Database_name>*</span><span class="sxs-lookup"><span data-stu-id="4d318-126">*<Database_name>*</span></span>  
 <span data-ttu-id="4d318-127">向数据库镜像监视器注册的镜像数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="4d318-127">The name of a mirrored database that is registered with the Database Mirroring Monitor.</span></span>  
  
 *\<Status>*  
 <span data-ttu-id="4d318-128">可能的状态及其相关图标如下所示：</span><span class="sxs-lookup"><span data-stu-id="4d318-128">The possible statuses and their associated icons are as follows:</span></span>  
  
|<span data-ttu-id="4d318-129">图标</span><span class="sxs-lookup"><span data-stu-id="4d318-129">Icon</span></span>|<span data-ttu-id="4d318-130">状态</span><span class="sxs-lookup"><span data-stu-id="4d318-130">Status</span></span>|<span data-ttu-id="4d318-131">说明</span><span class="sxs-lookup"><span data-stu-id="4d318-131">Description</span></span>|  
|----------|------------|-----------------|  
|<span data-ttu-id="4d318-132">警告图标</span><span class="sxs-lookup"><span data-stu-id="4d318-132">Warning icon</span></span>|<span data-ttu-id="4d318-133">**Unknown**</span><span class="sxs-lookup"><span data-stu-id="4d318-133">**Unknown**</span></span>|<span data-ttu-id="4d318-134">监视器未与任一伙伴建立连接。</span><span class="sxs-lookup"><span data-stu-id="4d318-134">The monitor is not connected to either partner.</span></span> <span data-ttu-id="4d318-135">唯一可用的信息是监视器缓存的内容。</span><span class="sxs-lookup"><span data-stu-id="4d318-135">The only available information is what has been cached by the monitor.</span></span>|  
|<span data-ttu-id="4d318-136">警告图标</span><span class="sxs-lookup"><span data-stu-id="4d318-136">Warning icon</span></span>|<span data-ttu-id="4d318-137">**正在同步**</span><span class="sxs-lookup"><span data-stu-id="4d318-137">**Synchronizing**</span></span>|<span data-ttu-id="4d318-138">镜像数据库的内容滞后于主体数据库的内容。</span><span class="sxs-lookup"><span data-stu-id="4d318-138">The contents of the mirror database are lagging behind the contents of the principal database.</span></span> <span data-ttu-id="4d318-139">主体服务器实例正在向镜像服务器实例发送日志记录，这会对镜像数据库应用更改，使其前滚。</span><span class="sxs-lookup"><span data-stu-id="4d318-139">The principal server instance is sending log records to the mirror server instance, which is applying the changes to the mirror database to roll it forward.</span></span><br /><br /> <span data-ttu-id="4d318-140">在数据库镜像会话开始时，镜像数据库和主体数据库处于此状态。</span><span class="sxs-lookup"><span data-stu-id="4d318-140">At the start of a database mirroring session, the mirror and principal databases are in this state.</span></span>|  
|<span data-ttu-id="4d318-141">标准数据库柱状</span><span class="sxs-lookup"><span data-stu-id="4d318-141">Standard database cylinder</span></span>|<span data-ttu-id="4d318-142">**已同步**</span><span class="sxs-lookup"><span data-stu-id="4d318-142">**Synchronized**</span></span>|<span data-ttu-id="4d318-143">当镜像服务器与主体服务器几乎保持同步时，数据库状态将改为 **“已同步”** 。</span><span class="sxs-lookup"><span data-stu-id="4d318-143">When the mirror server becomes sufficiently caught up to the principal server, the database state changes to **Synchronized**.</span></span> <span data-ttu-id="4d318-144">只要主体服务器继续向镜像服务器发送更改，并且镜像服务器继续将更改应用于镜像数据库，数据库就会保持此状态。</span><span class="sxs-lookup"><span data-stu-id="4d318-144">The database remains in this state as long as the principal server continues to send changes to the mirror server and the mirror server continues to apply changes to the mirror database.</span></span><br /><br /> <span data-ttu-id="4d318-145">对于高安全模式，自动故障转移和手动故障转移都可以使用，并且不会造成任何数据丢失。</span><span class="sxs-lookup"><span data-stu-id="4d318-145">For high-safety mode, automatic failover and manual failover are both possible, without any data loss.</span></span><br /><br /> <span data-ttu-id="4d318-146">对于高性能模式，可能总会有些数据丢失，即使在 **已同步** 状态中也是如此。</span><span class="sxs-lookup"><span data-stu-id="4d318-146">For high-performance mode, some data loss is always possible, even in the **Synchronized** state.</span></span>|  
|<span data-ttu-id="4d318-147">警告图标</span><span class="sxs-lookup"><span data-stu-id="4d318-147">Warning icon</span></span>|<span data-ttu-id="4d318-148">**已挂起**</span><span class="sxs-lookup"><span data-stu-id="4d318-148">**Suspended**</span></span>|<span data-ttu-id="4d318-149">主体数据库可用，但没有向镜像服务器发送任何日志。</span><span class="sxs-lookup"><span data-stu-id="4d318-149">The principal database is available but is not sending any logs to the mirror server.</span></span>|  
|<span data-ttu-id="4d318-150">错误图标</span><span class="sxs-lookup"><span data-stu-id="4d318-150">Error icon</span></span>|<span data-ttu-id="4d318-151">**已断开连接**</span><span class="sxs-lookup"><span data-stu-id="4d318-151">**Disconnected**</span></span>|<span data-ttu-id="4d318-152">服务器实例无法与其伙伴建立连接。</span><span class="sxs-lookup"><span data-stu-id="4d318-152">The server instance cannot connect to its partner.</span></span>|  
  
 <span data-ttu-id="4d318-153">*<PRINCIPAL_SERVER>*</span><span class="sxs-lookup"><span data-stu-id="4d318-153">*<PRINCIPAL_SERVER>*</span></span>  
 <span data-ttu-id="4d318-154">当前作为主体服务器实例的伙伴的名称。</span><span class="sxs-lookup"><span data-stu-id="4d318-154">The name of the partner that is currently the principal server instance.</span></span> <span data-ttu-id="4d318-155">该名称采用以下格式：</span><span class="sxs-lookup"><span data-stu-id="4d318-155">The name is in the following format:</span></span>  
  
 <span data-ttu-id="4d318-156"><SYSTEM_NAME>[ **\\** <instance_name>]</span><span class="sxs-lookup"><span data-stu-id="4d318-156">*<SYSTEM_NAME>*[**\\**_<instance_name>_]</span></span>  
  
 <span data-ttu-id="4d318-157">其中，<SYSTEM_NAME> 是服务器实例所在系统的名称。</span><span class="sxs-lookup"><span data-stu-id="4d318-157">where *<SYSTEM_NAME>* is the name of the system on which the server instance resides.</span></span> <span data-ttu-id="4d318-158">对于非默认服务器实例，实例名也显示为：<SYSTEM_NAME> **\\** <instance_name>。</span><span class="sxs-lookup"><span data-stu-id="4d318-158">For a non-default server instance, the instance name is also displayed: _<SYSTEM_NAME>_**\\**_<instance_name>_.</span></span>  
  
 <span data-ttu-id="4d318-159">*<MIRROR_SERVER>*</span><span class="sxs-lookup"><span data-stu-id="4d318-159">*<MIRROR_SERVER>*</span></span>  
 <span data-ttu-id="4d318-160">当前作为镜像服务器实例的伙伴的名称。</span><span class="sxs-lookup"><span data-stu-id="4d318-160">The name of the partner that is currently the mirror server instance.</span></span> <span data-ttu-id="4d318-161">格式与主体服务器的格式相同。</span><span class="sxs-lookup"><span data-stu-id="4d318-161">The format is the same as for the principal server.</span></span>  
  
## <a name="detail-pane"></a><span data-ttu-id="4d318-162">“详细信息”窗格</span><span class="sxs-lookup"><span data-stu-id="4d318-162">Detail Pane</span></span>  
 <span data-ttu-id="4d318-163">监视器的外观取决于是否选中数据库。</span><span class="sxs-lookup"><span data-stu-id="4d318-163">The appearance of the monitor depends on whether a database is selected.</span></span> <span data-ttu-id="4d318-164">打开监视器时，“详细信息”窗格会显示 **“注册镜像数据库”** 链接。</span><span class="sxs-lookup"><span data-stu-id="4d318-164">When you open the monitor, the detail pane displays a **Register mirrored database** link.</span></span> <span data-ttu-id="4d318-165">单击此链接可注册数据库。</span><span class="sxs-lookup"><span data-stu-id="4d318-165">Click this to register a database.</span></span> <span data-ttu-id="4d318-166">导航树的 **“数据库镜像监视器”** 节点下会列出注册数据库。</span><span class="sxs-lookup"><span data-stu-id="4d318-166">Registered databases are listed below the **Database Mirroring Monitor** node in the navigation tree.</span></span> <span data-ttu-id="4d318-167">数据库镜像监视器总是试图连接到它已为其存储凭据的每个服务器实例。</span><span class="sxs-lookup"><span data-stu-id="4d318-167">Database Mirroring Monitor always tries to connect to every server instance for which it has stored credentials.</span></span>  
  
 <span data-ttu-id="4d318-168">选定一个数据库后，“详细信息”窗格的 **“状态”** 选项卡式页面中将显示该数据库的状态。</span><span class="sxs-lookup"><span data-stu-id="4d318-168">When you select a database, its status is displayed on the **Status** tabbed page in the detail pane.</span></span> <span data-ttu-id="4d318-169">该页的内容来自主体和镜像服务器实例。</span><span class="sxs-lookup"><span data-stu-id="4d318-169">The content of this page comes from both the principal and mirror server instances.</span></span> <span data-ttu-id="4d318-170">通过与主体服务器实例和镜像服务器实例的单独连接收集状态时，会异步填充该页。</span><span class="sxs-lookup"><span data-stu-id="4d318-170">The page is filled asynchronously as status is gathered through separate connections to the principal and mirror server instances.</span></span> <span data-ttu-id="4d318-171">该状态每隔 30 秒自动刷新一次。</span><span class="sxs-lookup"><span data-stu-id="4d318-171">The status automatically refreshes at 30-second intervals.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4d318-172">你不能更改监视器的刷新速率，但可以通过“数据库镜像历史记录”对话框刷新状态表。</span><span class="sxs-lookup"><span data-stu-id="4d318-172">You cannot change the monitor's refresh rate, but you can refresh the status table from the **Database Mirroring History** dialog box.</span></span>  
  
 <span data-ttu-id="4d318-173">通过选择 **“警告”** 选项卡式页面，系统管理员可以查看数据库的当前警告配置。</span><span class="sxs-lookup"><span data-stu-id="4d318-173">A system administrator can view the current configuration of warnings for the database by selecting the **Warnings** tabbed page.</span></span> <span data-ttu-id="4d318-174">在此，管理员可以启动 **“设置警告阈值”** 对话框，以启用并配置一个或多个警告阈值。</span><span class="sxs-lookup"><span data-stu-id="4d318-174">From there, the administrator can launch the **Set Warning Thresholds** dialog box to enable and configure one or more warning thresholds.</span></span>  
  
 <span data-ttu-id="4d318-175">在选项卡上方的标题中，"详细信息" 窗格将监视器上次刷新状态信息的时间显示为 **：上次刷新：** _\<date>_ *\<time>* 。</span><span class="sxs-lookup"><span data-stu-id="4d318-175">In the banner above the tabs, the detail pane displays the last time the monitor refreshed the status information as, **Last refresh:**_\<date>_*\<time>*.</span></span> <span data-ttu-id="4d318-176">通常，数据库镜像监视器会在不同时间从主体和镜像服务器实例中检索状态信息。</span><span class="sxs-lookup"><span data-stu-id="4d318-176">Usually, the Database Mirroring Monitor retrieves status information from the principal and mirror server instances at different times.</span></span> <span data-ttu-id="4d318-177">将显示两次刷新时间中较早的时间。</span><span class="sxs-lookup"><span data-stu-id="4d318-177">The older of these two refresh times is displayed.</span></span>  
  
## <a name="action-menu"></a><span data-ttu-id="4d318-178">“操作”菜单</span><span class="sxs-lookup"><span data-stu-id="4d318-178">Action Menu</span></span>  
 <span data-ttu-id="4d318-179">**“操作”** 菜单总是包含以下命令：</span><span class="sxs-lookup"><span data-stu-id="4d318-179">The **Action** menu always contains the following commands:</span></span>  
  
|<span data-ttu-id="4d318-180">Command</span><span class="sxs-lookup"><span data-stu-id="4d318-180">Command</span></span>|<span data-ttu-id="4d318-181">说明</span><span class="sxs-lookup"><span data-stu-id="4d318-181">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="4d318-182">**注册镜像数据库...**</span><span class="sxs-lookup"><span data-stu-id="4d318-182">**Register Mirrored Database...**</span></span>|<span data-ttu-id="4d318-183">打开 **“注册镜像数据库”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="4d318-183">Opens the **Register Mirrored Database** dialog box.</span></span> <span data-ttu-id="4d318-184">使用此对话框，通过向数据库镜像监视器添加一个或多个数据库，可在给定的服务器实例中注册一个或多个镜像数据库。</span><span class="sxs-lookup"><span data-stu-id="4d318-184">Use this dialog box to register one or more mirrored databases on a given server instance by adding the database or databases to the Database Mirroring Monitor.</span></span> <span data-ttu-id="4d318-185">添加数据库时，数据库镜像监视器会在本地缓存有关数据库及其伙伴的信息，以及如何将数据库连接到伙伴的信息。</span><span class="sxs-lookup"><span data-stu-id="4d318-185">When a database is added, Database Mirroring Monitor locally caches information about the database, its partners, and how to connect to the partners.</span></span>|  
|<span data-ttu-id="4d318-186">**管理服务器实例连接...**</span><span class="sxs-lookup"><span data-stu-id="4d318-186">**Manage Server Instance Connections...**</span></span>|<span data-ttu-id="4d318-187">选择该命令时，将打开 **“管理服务器连接”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="4d318-187">When you select this command, the **Manage Server Connections** dialog box opens.</span></span> <span data-ttu-id="4d318-188">在此，您可以选择要指定凭据的服务器实例，以便监视器在连接到给定伙伴时使用该凭据。</span><span class="sxs-lookup"><span data-stu-id="4d318-188">There, you can choose a server instance for which you want to specify credentials for the monitor to use when connecting to a given partner.</span></span><br /><br /> <span data-ttu-id="4d318-189">若要编辑伙伴的凭据，请在 **“服务器实例”** 网格中找到对应条目，并在该行中单击 **“编辑”** 。</span><span class="sxs-lookup"><span data-stu-id="4d318-189">To edit the credentials for a partner, locate its entry in the **Server instances** grid, and click **Edit** on that row.</span></span> <span data-ttu-id="4d318-190">此时将显示 **“连接到服务器”** 对话框，其中固定了服务器实例名称并且将凭据控制初始化为当前的缓存值。</span><span class="sxs-lookup"><span data-stu-id="4d318-190">The **Connect to Server** dialog box appears with the server instance name fixed and the credential controls initialized to the current cached value.</span></span> <span data-ttu-id="4d318-191">根据需要更改身份验证信息，并单击 **“连接”** 。</span><span class="sxs-lookup"><span data-stu-id="4d318-191">Change the authentication information as necessary and click **Connect**.</span></span> <span data-ttu-id="4d318-192">如果凭据有足够的权限，则会以新凭据更新 **“连接方式”** 列。</span><span class="sxs-lookup"><span data-stu-id="4d318-192">If the credentials have sufficient privileges, the **Connect Using** column is updated with the new credentials.</span></span>|  
  
 <span data-ttu-id="4d318-193">如果选定了一个数据库， **“操作”** 菜单还将包含以下命令。</span><span class="sxs-lookup"><span data-stu-id="4d318-193">If you select a database, the **Action** menu also contains the following commands.</span></span>  
  
|<span data-ttu-id="4d318-194">Command</span><span class="sxs-lookup"><span data-stu-id="4d318-194">Command</span></span>|<span data-ttu-id="4d318-195">说明</span><span class="sxs-lookup"><span data-stu-id="4d318-195">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="4d318-196">**撤消注册此数据库**</span><span class="sxs-lookup"><span data-stu-id="4d318-196">**Unregister This Database**</span></span>|<span data-ttu-id="4d318-197">从数据库镜像监视器中删除选定的数据库。</span><span class="sxs-lookup"><span data-stu-id="4d318-197">Removes the selected database from Database Mirroring Monitor.</span></span>|  
|<span data-ttu-id="4d318-198">**设置警告阈值...**</span><span class="sxs-lookup"><span data-stu-id="4d318-198">**Set Warning Thresholds...**</span></span>|<span data-ttu-id="4d318-199">打开 **“设置警告阈值”** 对话框。</span><span class="sxs-lookup"><span data-stu-id="4d318-199">Opens the **Set Warning Thresholds** dialog box.</span></span> <span data-ttu-id="4d318-200">在此，系统管理员可以在每个伙伴上启用或禁用数据库警告，并可更改每个警告的阈值。</span><span class="sxs-lookup"><span data-stu-id="4d318-200">There a system administrator can enable or disable warnings for the database on each of the partners and change the threshold of each warning.</span></span> <span data-ttu-id="4d318-201">建议您在两个伙伴上都为给定警告设置阈值，以确保数据库进行故障转移时，警告仍然存在。</span><span class="sxs-lookup"><span data-stu-id="4d318-201">We recommend setting a threshold for a given warning on both partners to ensure that the warning persists if the database fails over.</span></span> <span data-ttu-id="4d318-202">每个伙伴的相应阈值取决于伙伴系统的性能。</span><span class="sxs-lookup"><span data-stu-id="4d318-202">The appropriate threshold for each partner depends on the performance capabilities of that partner's system.</span></span><br /><br /> <span data-ttu-id="4d318-203">更新状态表时，只有在性能值处于或高于阈值的情况下，才会将事件写入性能的事件日志。</span><span class="sxs-lookup"><span data-stu-id="4d318-203">An event is written to the event log for a performance only if its value is at or above its threshold when the status table is being updated.</span></span> <span data-ttu-id="4d318-204">如果峰值在两次状态更新之间瞬间达到阈值，峰值将丢失。</span><span class="sxs-lookup"><span data-stu-id="4d318-204">If a peak value reaches the threshold momentarily between status updates that peak is missed.</span></span>|  
  
 <span data-ttu-id="4d318-205">**使用 SQL Server Management Studio 监视数据库镜像**</span><span class="sxs-lookup"><span data-stu-id="4d318-205">**To monitor database mirroring by using SQL Server Management Studio to**</span></span>  
  
-   [<span data-ttu-id="4d318-206">启动数据库镜像监视器 (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="4d318-206">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="see-also"></a><span data-ttu-id="4d318-207">另请参阅</span><span class="sxs-lookup"><span data-stu-id="4d318-207">See Also</span></span>  
 <span data-ttu-id="4d318-208">[监视数据库镜像 (SQL Server)](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="4d318-208">[Monitoring Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="4d318-209">启动配置数据库镜像安全向导 (SQL Server Management Studio)</span><span class="sxs-lookup"><span data-stu-id="4d318-209">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
  
