---
title: SSIS 教程：部署包 |Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- deployment tutorial [Integration Services]
- deploying packages [Integration Services]
- SSIS, tutorials
- Integration Services, tutorials
- deploying packages [Integration Services], installing
- SQL Server Integration Services, tutorials
- walkthroughs [Integration Services]
- deployment utility [Integration Services]
- deploying packages [Integration Services], configurations
ms.assetid: de18468c-cff3-48f4-99ec-6863610e5886
author: chugugrace
ms.author: chugu
ms.openlocfilehash: b6cb9ad6cc0932473ded07554f9f13d57879ccd9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87590310"
---
# <a name="ssis-tutorial-deploying-packages"></a><span data-ttu-id="d7ece-102">SSIS 教程：部署包</span><span class="sxs-lookup"><span data-stu-id="d7ece-102">SSIS Tutorial: Deploying Packages</span></span>
  [!INCLUDE[msCoName](../includes/msconame-md.md)] <span data-ttu-id="d7ece-103">[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 提供将包轻松部署到其他计算机的工具。</span><span class="sxs-lookup"><span data-stu-id="d7ece-103">[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] provides tools that make it easy to deploy packages to another computer.</span></span> <span data-ttu-id="d7ece-104">部署工具还管理任何依赖项，如包需要的配置和文件。</span><span class="sxs-lookup"><span data-stu-id="d7ece-104">The deployment tools also manage any dependencies, such as configurations and files that the package needs.</span></span> <span data-ttu-id="d7ece-105">在本教程中，您将了解如何使用这些工具在目标计算机上安装包及其依赖项。</span><span class="sxs-lookup"><span data-stu-id="d7ece-105">In this tutorial, you will learn how to use these tools to install packages and their dependencies on a target computer.</span></span>

 <span data-ttu-id="d7ece-106">首先，您将执行任务为部署做好准备。</span><span class="sxs-lookup"><span data-stu-id="d7ece-106">First, you will perform tasks to prepare for deployment.</span></span> <span data-ttu-id="d7ece-107">您将在 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 中创建一个新的 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] 项目，再将现有的包和数据文件添加到该项目。</span><span class="sxs-lookup"><span data-stu-id="d7ece-107">You will create a new [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] project in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] and add existing packages and data files to the project.</span></span> <span data-ttu-id="d7ece-108">不是从头开始创建任何新包，而是仅使用专为本教程创建的已完成包。</span><span class="sxs-lookup"><span data-stu-id="d7ece-108">You will not create any new packages from scratch; instead, you will work only with completed packages that were created just for this tutorial.</span></span> <span data-ttu-id="d7ece-109">将不修改本教程中包的功能；但是，在将包添加到项目后，您可能会发现在 [!INCLUDE[ssIS](../includes/ssis-md.md)] 设计器中打开包并查看每个包的内容是很有用的。</span><span class="sxs-lookup"><span data-stu-id="d7ece-109">You will not modify the functionality of the packages in this tutorial; however, after you have added the packages to the project, you might find it useful to open the packages in [!INCLUDE[ssIS](../includes/ssis-md.md)] Designer and review the contents of each package.</span></span> <span data-ttu-id="d7ece-110">通过检查包，您将了解有关包依赖项（如日志文件）的信息和有关包的其他有趣功能的信息。</span><span class="sxs-lookup"><span data-stu-id="d7ece-110">By examining the packages, you will learn about package dependencies such as log files and about other interesting features of the packages.</span></span>

 <span data-ttu-id="d7ece-111">在为部署做准备时，您还将更新包以使用配置。</span><span class="sxs-lookup"><span data-stu-id="d7ece-111">In preparation for deployment, you will also update the packages to use configurations.</span></span> <span data-ttu-id="d7ece-112">配置使得包属性和包对象在运行时是可更新的。</span><span class="sxs-lookup"><span data-stu-id="d7ece-112">Configurations make the properties of packages and package objects updatable at run time.</span></span> <span data-ttu-id="d7ece-113">在本教程中，您将使用配置来更新日志文件和文本文件的连接字符串以及包所用的 XML 和 XSD 文件的位置。</span><span class="sxs-lookup"><span data-stu-id="d7ece-113">In this tutorial, you will use configurations to update the connection strings of log and text files and the locations of the XML and XSD files that the package uses.</span></span> <span data-ttu-id="d7ece-114">有关详细信息，请参阅 [包配置](../../2014/integration-services/package-configurations.md) 和 [创建包配置](../../2014/integration-services/create-package-configurations.md)。</span><span class="sxs-lookup"><span data-stu-id="d7ece-114">For more information, see [Package Configurations](../../2014/integration-services/package-configurations.md) and [Create Package Configurations](../../2014/integration-services/create-package-configurations.md).</span></span>

 <span data-ttu-id="d7ece-115">在验证包是否在 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]中成功运行后，将创建用来安装包的部署捆绑。</span><span class="sxs-lookup"><span data-stu-id="d7ece-115">After you have verified that the packages run successfully in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], you will create the deployment bundle to use to install the packages.</span></span> <span data-ttu-id="d7ece-116">部署捆绑将包括包文件和您添加到 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 项目的其他项、 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 自动包括的包依赖项以及您生成的部署实用工具。</span><span class="sxs-lookup"><span data-stu-id="d7ece-116">The deployment bundle will consist of the package files and other items that you added to the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] project, the package dependencies that [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] automatically includes, and the deployment utility that you built.</span></span> <span data-ttu-id="d7ece-117">有关详细信息，请参阅 [Create a Deployment Utility](../../2014/integration-services/create-a-deployment-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="d7ece-117">For more information, see [Create a Deployment Utility](../../2014/integration-services/create-a-deployment-utility.md).</span></span>

 <span data-ttu-id="d7ece-118">然后，将部署捆绑复制到目标计算机，并运行包安装向导以安装包和包依赖项。</span><span class="sxs-lookup"><span data-stu-id="d7ece-118">You will then copy the deployment bundle to the target computer and run the Package Installation Wizard to install the packages and package dependencies.</span></span> <span data-ttu-id="d7ece-119">包将安装在 msdb SQL Server 数据库中，支持文件和辅助文件将安装在文件系统中。</span><span class="sxs-lookup"><span data-stu-id="d7ece-119">The packages will be installed in the msdb SQL Server database, and the supporting and ancillary files will be installed in the file system.</span></span> <span data-ttu-id="d7ece-120">由于已部署的包使用配置，因此将配置更新为使用新的值，这样包就可以在新环境中成功运行。</span><span class="sxs-lookup"><span data-stu-id="d7ece-120">Because the deployed packages use configurations, you will update the configuration to use new values that enable packages to run successfully in the new environment.</span></span>

 <span data-ttu-id="d7ece-121">最后，通过使用执行包实用工具在 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] 中运行包。</span><span class="sxs-lookup"><span data-stu-id="d7ece-121">Finally, you will run the packages in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] by using the Execute Package Utility.</span></span>

 <span data-ttu-id="d7ece-122">本教程的目的是模拟实际部署中您可能遇到的问题的复杂性。</span><span class="sxs-lookup"><span data-stu-id="d7ece-122">It is the goal of this tutorial to simulate the complexity of real-life deployment issues that you may encounter.</span></span> <span data-ttu-id="d7ece-123">但是，如果不可能将包部署到其他计算机，仍可以学习本教程，方法是将包安装在 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]的本地实例上的 msdb 数据库中，再从同一实例上的 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] 运行包。</span><span class="sxs-lookup"><span data-stu-id="d7ece-123">However, if it is not possible for you to deploy the packages to a different computer, you can still do this tutorial by installing the packages in the msdb database on a local instance of [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], and then running the packages from [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] on the same instance.</span></span>

## <a name="what-you-will-learn"></a><span data-ttu-id="d7ece-124">学习内容</span><span class="sxs-lookup"><span data-stu-id="d7ece-124">What You Will Learn</span></span>
 <span data-ttu-id="d7ece-125">熟悉中提供的新工具、控件和功能的最佳方式 [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 是使用它们。</span><span class="sxs-lookup"><span data-stu-id="d7ece-125">The best way to become acquainted with the new tools, controls, and features available in [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] is to use them.</span></span> <span data-ttu-id="d7ece-126">本教程将引导您完成创建 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 项目再将包和其他所需文件添加到项目的步骤。</span><span class="sxs-lookup"><span data-stu-id="d7ece-126">This tutorial walks you through the steps to create an [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] project and then add the packages and other necessary files to the project.</span></span> <span data-ttu-id="d7ece-127">完成项目后，将创建部署捆绑，将该捆绑复制到目标计算机，然后在目标计算机上安装包。</span><span class="sxs-lookup"><span data-stu-id="d7ece-127">After the project is complete, you will create a deployment bundle, copy the bundle to the destination computer, and then install the packages on the destination computer.</span></span>

## <a name="requirements"></a><span data-ttu-id="d7ece-128">要求</span><span class="sxs-lookup"><span data-stu-id="d7ece-128">Requirements</span></span>
 <span data-ttu-id="d7ece-129">本教程适用于已经熟悉基本文件系统操作的用户，但对中提供的新功能的影响有限 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="d7ece-129">This tutorial is intended for users who are already familiar with fundamental file system operations, but who have limited exposure to the new features available in [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span></span> <span data-ttu-id="d7ece-130">为了更好地了解 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 你将在本教程中使用的基本概念，你可能会发现先完成以下教程很有用 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] ：[运行 SQL Server 导入和导出向导](import-export-data/start-the-sql-server-import-and-export-wizard.md)和[SSIS 教程：创建简单的 ETL 包](../integration-services/ssis-how-to-create-an-etl-package.md)。</span><span class="sxs-lookup"><span data-stu-id="d7ece-130">To better understand basic [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] concepts that you will put to use in this tutorial, you might find it useful to first complete the following [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] tutorials: [Run the SQL Server Import and Export Wizard](import-export-data/start-the-sql-server-import-and-export-wizard.md) and [SSIS Tutorial: Creating a Simple ETL Package](../integration-services/ssis-how-to-create-an-etl-package.md).</span></span>

 <span data-ttu-id="d7ece-131">**源计算机。**</span><span class="sxs-lookup"><span data-stu-id="d7ece-131">**Source computer.**</span></span> <span data-ttu-id="d7ece-132">将在其上创建部署捆绑的计算机必须安装下列组件：</span><span class="sxs-lookup"><span data-stu-id="d7ece-132">The computer on which you will create the deployment bundle must have the following components installed:</span></span>

-   <span data-ttu-id="d7ece-133">带有 AdventureWorks 数据库的 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d7ece-133">[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] with the AdventureWorks database.</span></span> <span data-ttu-id="d7ece-134">为了增强安全性，默认情况下不会安装示例数据库。</span><span class="sxs-lookup"><span data-stu-id="d7ece-134">To enhance security, the sample databases are not installed by default.</span></span> <span data-ttu-id="d7ece-135">可以从[CodePlex](https://msftdbprodsamples.codeplex.com/releases/view/125550)下载示例数据库。</span><span class="sxs-lookup"><span data-stu-id="d7ece-135">You can download the sample database from [CodePlex](https://msftdbprodsamples.codeplex.com/releases/view/125550).</span></span>

-   <span data-ttu-id="d7ece-136">您必须具有在 AdventureWorks 中创建和删除表的权限。</span><span class="sxs-lookup"><span data-stu-id="d7ece-136">You must have permission to create and drop tables in AdventureWorks.</span></span>

-   <span data-ttu-id="d7ece-137">本教程还要求有示例数据、已完成的包、配置和自述文件。</span><span class="sxs-lookup"><span data-stu-id="d7ece-137">This tutorial also requires sample data, completed packages, configurations, and a Readme.</span></span> <span data-ttu-id="d7ece-138">这些项的文件与示例一起安装。</span><span class="sxs-lookup"><span data-stu-id="d7ece-138">The files for these items are installed together with the samples.</span></span> <span data-ttu-id="d7ece-139">如果无法找到示例数据，请返回以上过程，按说明完成安装。</span><span class="sxs-lookup"><span data-stu-id="d7ece-139">If you cannot find the sample data, return to the procedure above and complete installation as described.</span></span>

-   <span data-ttu-id="d7ece-140">商业智能开发环境 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d7ece-140">The business intelligence development environment, [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)].</span></span>

 <span data-ttu-id="d7ece-141">**目标计算机。**</span><span class="sxs-lookup"><span data-stu-id="d7ece-141">**Destination computer.**</span></span> <span data-ttu-id="d7ece-142">向其部署程序包的计算机必须安装下列组件：</span><span class="sxs-lookup"><span data-stu-id="d7ece-142">The computer to which you deploy packages must have the following components installed:</span></span>

-   <span data-ttu-id="d7ece-143">带有 AdventureWorks 数据库的 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d7ece-143">[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] with the AdventureWorks database.</span></span>

-   [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]<span data-ttu-id="d7ece-144">.</span><span class="sxs-lookup"><span data-stu-id="d7ece-144">.</span></span>

-   [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="d7ece-145">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d7ece-145">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)].</span></span>

-   <span data-ttu-id="d7ece-146">必须具有在 AdventureWorks 中创建和删除表的权限以及在 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]中运行包的权限。</span><span class="sxs-lookup"><span data-stu-id="d7ece-146">You must have permission to create and drop tables in AdventureWorksand to run packages in [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)].</span></span>

-   <span data-ttu-id="d7ece-147">您必须具有对 msdb 系统数据库中 sysssispackages 表的读取和写入权限 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="d7ece-147">You must have read and write permission on the sysssispackages table in the msdb[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] system database.</span></span>

 <span data-ttu-id="d7ece-148">如果您计划将包部署到在其上创建部署捆绑的计算机，则该计算机必须同时满足源计算机和目标计算机的要求。</span><span class="sxs-lookup"><span data-stu-id="d7ece-148">If you plan to deploy packages to the same computer as the one on which you create the deployment bundle, that computer must meet requirements for both the source and destination computers.</span></span>

 <span data-ttu-id="d7ece-149">**学完本教程的估计时间：** 2 小时</span><span class="sxs-lookup"><span data-stu-id="d7ece-149">**Estimated time to complete this tutorial:** 2 hours</span></span>

## <a name="lessons-in-this-tutorial"></a><span data-ttu-id="d7ece-150">本教程中的课程</span><span class="sxs-lookup"><span data-stu-id="d7ece-150">Lessons in This Tutorial</span></span>
 <span data-ttu-id="d7ece-151">[第1课：准备创建部署捆绑](../integration-services/lesson-1-preparing-to-create-the-deployment-bundle.md)在本课中，您将准备好部署 ETL 解决方案，方法是创建一个新 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 项目，然后将包和其他所需文件添加到该项目中。</span><span class="sxs-lookup"><span data-stu-id="d7ece-151">[Lesson 1: Preparing to Create the Deployment Bundle](../integration-services/lesson-1-preparing-to-create-the-deployment-bundle.md) In this lesson, you will get ready to deploy an ETL solution by creating a new [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] project and adding the packages and other required files to the project.</span></span>

 <span data-ttu-id="d7ece-152">[第2课：创建部署捆绑](../integration-services/lesson-2-create-the-deployment-bundle-in-ssis.md)在本课中，您将生成一个部署实用工具，并验证部署捆绑是否包括所需的文件。</span><span class="sxs-lookup"><span data-stu-id="d7ece-152">[Lesson 2: Creating the Deployment Bundle](../integration-services/lesson-2-create-the-deployment-bundle-in-ssis.md) In this lesson, you will build a deployment utility and verify that the deployment bundle includes the necessary files.</span></span>

 <span data-ttu-id="d7ece-153">[第3课：安装包](../integration-services/lesson-3-install-ssis-package.md)在本课中，将部署捆绑复制到目标计算机，安装包，然后运行包。</span><span class="sxs-lookup"><span data-stu-id="d7ece-153">[Lesson 3: Installing Packages](../integration-services/lesson-3-install-ssis-package.md) In this lesson, you will copy the deployment bundle to the target computer, install the packages, and then run the packages.</span></span>

<span data-ttu-id="d7ece-154">![Integration Services 图标 (小型) ](media/dts-16.gif "集成服务图标（小）")  **随时保持最新 Integration Services**</span><span class="sxs-lookup"><span data-stu-id="d7ece-154">![Integration Services icon (small)](media/dts-16.gif "Integration Services icon (small)")  **Stay Up to Date with Integration Services**</span></span><br /> <span data-ttu-id="d7ece-155">若要从 Microsoft 获得最新的下载内容、文章、示例和视频，以及从社区获得所选解决方案，请访问 MSDN 上的 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 页：</span><span class="sxs-lookup"><span data-stu-id="d7ece-155">For the latest downloads, articles, samples, and videos from Microsoft, as well as selected solutions from the community, visit the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] page on MSDN:</span></span><br /><br /> [<span data-ttu-id="d7ece-156">访问 MSDN 上的 Integration Services 页</span><span class="sxs-lookup"><span data-stu-id="d7ece-156">Visit the Integration Services page on MSDN</span></span>](https://go.microsoft.com/fwlink/?LinkId=136655)<br /><br /> <span data-ttu-id="d7ece-157">若要获得有关这些更新的自动通知，请订阅该页上提供的 RSS 源。</span><span class="sxs-lookup"><span data-stu-id="d7ece-157">For automatic notification of these updates, subscribe to the RSS feeds available on the page.</span></span>

