---
title: Integration Services 角色（SSIS 服务）| Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- security [Integration Services], roles
- db_ssisoperator role
- db_ssisadmin role
- fixed database roles [Integration Services]
- packages [Integration Services], security
- roles [Integration Services]
- db_ssisltduser role
ms.assetid: 9702e90c-fada-4978-a473-1b1423017d80
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5bc65a7a3ff30deb429ceeb8458ac477432a758c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87579615"
---
# <a name="integration-services-roles-ssis-service"></a><span data-ttu-id="dd802-102">Integration Services 角色（SSIS 服务）</span><span class="sxs-lookup"><span data-stu-id="dd802-102">Integration Services Roles (SSIS Service)</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="dd802-103">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]包括三个固定数据库级角色， `db_ssisadmin` **db_ssisltduser**和**db_ssisoperator**，用于控制对包的访问。</span><span class="sxs-lookup"><span data-stu-id="dd802-103">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] includes the three fixed database-level roles, `db_ssisadmin`, **db_ssisltduser**, and **db_ssisoperator**, for controlling access to packages.</span></span> <span data-ttu-id="dd802-104">角色只能在保存到中的数据库的包上实现 `msdb` [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="dd802-104">Roles can be implemented only on packages that are saved to the `msdb` database in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="dd802-105">可以使用 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]将角色分配给包。</span><span class="sxs-lookup"><span data-stu-id="dd802-105">You assign roles to a package using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="dd802-106">角色分配将保存到 `msdb` 数据库中。</span><span class="sxs-lookup"><span data-stu-id="dd802-106">The role assignments are saved to the `msdb` database.</span></span>  
  
## <a name="read-and-write-actions"></a><span data-ttu-id="dd802-107">读取和写入操作</span><span class="sxs-lookup"><span data-stu-id="dd802-107">Read and Write Actions</span></span>  
 <span data-ttu-id="dd802-108">下表介绍了 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]中 Windows 和固定数据库级角色的读写操作。</span><span class="sxs-lookup"><span data-stu-id="dd802-108">The following table describes the read and write actions of Windows and fixed database-level roles in [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="dd802-109">角色</span><span class="sxs-lookup"><span data-stu-id="dd802-109">Role</span></span>|<span data-ttu-id="dd802-110">读操作</span><span class="sxs-lookup"><span data-stu-id="dd802-110">Read action</span></span>|<span data-ttu-id="dd802-111">写操作</span><span class="sxs-lookup"><span data-stu-id="dd802-111">Write action</span></span>|  
|----------|-----------------|------------------|  
|`db_ssisadmin`<br /><br /> <span data-ttu-id="dd802-112">或</span><span class="sxs-lookup"><span data-stu-id="dd802-112">or</span></span><br /><br /> `sysadmin`|<span data-ttu-id="dd802-113">枚举自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-113">Enumerate own packages.</span></span><br /><br /> <span data-ttu-id="dd802-114">枚举所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-114">Enumerate all packages.</span></span><br /><br /> <span data-ttu-id="dd802-115">查看自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-115">View own packages.</span></span><br /><br /> <span data-ttu-id="dd802-116">查看所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-116">View all packages.</span></span><br /><br /> <span data-ttu-id="dd802-117">执行自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-117">Execute own packages.</span></span><br /><br /> <span data-ttu-id="dd802-118">执行所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-118">Execute all packages.</span></span><br /><br /> <span data-ttu-id="dd802-119">导出自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-119">Export own packages.</span></span><br /><br /> <span data-ttu-id="dd802-120">导出所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-120">Export all packages.</span></span><br /><br /> <span data-ttu-id="dd802-121">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理中执行所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-121">Execute all packages in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span></span>|<span data-ttu-id="dd802-122">导入包。</span><span class="sxs-lookup"><span data-stu-id="dd802-122">Import packages.</span></span><br /><br /> <span data-ttu-id="dd802-123">删除自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-123">Delete own packages.</span></span><br /><br /> <span data-ttu-id="dd802-124">删除所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-124">Delete all packages.</span></span><br /><br /> <span data-ttu-id="dd802-125">更改自己的包角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-125">Change own package roles.</span></span><br /><br /> <span data-ttu-id="dd802-126">更改所有包角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-126">Change all package roles.</span></span><br /><br /> <br /><br /> <span data-ttu-id="dd802-127">Db_ssisadmin 角色和 dc_admin 角色的\*\* \* \* 重要 \* \* \*\*成员可以将其特权提升为 sysadmin。</span><span class="sxs-lookup"><span data-stu-id="dd802-127">**\*\* Important \*\*** Members of the db_ssisadmin role and the dc_admin role may be able to elevate their privileges to sysadmin.</span></span> <span data-ttu-id="dd802-128">因为这些角色可以修改 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 包，而 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理的 sysadmin 安全上下文可以执行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 包，所以可以实现特权提升。</span><span class="sxs-lookup"><span data-stu-id="dd802-128">This elevation of privilege can occur because these roles can modify [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages and [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages can be executed by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using the sysadmin security context of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span></span> <span data-ttu-id="dd802-129">若要在运行维护计划、数据收集组和其他 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 包时防止此权限提升，请将运行包的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理作业配置为使用具有有限权限的代理帐户，或只将 sysadmin 成员添加到 db_ssisadmin 和 dc_admin 角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-129">To guard against this elevation of privilege when running maintenance plans, data collection sets, and other [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] packages, configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs that run packages to use a proxy account with limited privileges or only add sysadmin members to the db_ssisadmin and dc_admin roles.</span></span>|  
|<span data-ttu-id="dd802-130">**db_ssisltduser**</span><span class="sxs-lookup"><span data-stu-id="dd802-130">**db_ssisltduser**</span></span>|<span data-ttu-id="dd802-131">枚举自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-131">Enumerate own packages.</span></span><br /><br /> <span data-ttu-id="dd802-132">枚举所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-132">Enumerate all packages.</span></span><br /><br /> <span data-ttu-id="dd802-133">查看自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-133">View own packages.</span></span><br /><br /> <span data-ttu-id="dd802-134">执行自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-134">Execute own packages.</span></span><br /><br /> <span data-ttu-id="dd802-135">导出自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-135">Export own packages.</span></span>|<span data-ttu-id="dd802-136">导入包。</span><span class="sxs-lookup"><span data-stu-id="dd802-136">Import packages.</span></span><br /><br /> <span data-ttu-id="dd802-137">删除自己的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-137">Delete own packages.</span></span><br /><br /> <span data-ttu-id="dd802-138">更改自己的包角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-138">Change own package roles.</span></span>|  
|<span data-ttu-id="dd802-139">**db_ssisoperator**</span><span class="sxs-lookup"><span data-stu-id="dd802-139">**db_ssisoperator**</span></span>|<span data-ttu-id="dd802-140">枚举所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-140">Enumerate all packages.</span></span><br /><br /> <span data-ttu-id="dd802-141">查看所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-141">View all packages.</span></span><br /><br /> <span data-ttu-id="dd802-142">执行所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-142">Execute all packages.</span></span><br /><br /> <span data-ttu-id="dd802-143">导出所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-143">Export all packages.</span></span><br /><br /> <span data-ttu-id="dd802-144">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 代理中执行所有包。</span><span class="sxs-lookup"><span data-stu-id="dd802-144">Execute all packages in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent.</span></span>|<span data-ttu-id="dd802-145">无</span><span class="sxs-lookup"><span data-stu-id="dd802-145">None</span></span>|  
|<span data-ttu-id="dd802-146">**Windows 管理员**</span><span class="sxs-lookup"><span data-stu-id="dd802-146">**Windows administrators**</span></span>|<span data-ttu-id="dd802-147">查看所有正在运行的包的详细执行信息。</span><span class="sxs-lookup"><span data-stu-id="dd802-147">View execution details of all running packages.</span></span>|<span data-ttu-id="dd802-148">停止所有当前正在运行的包。</span><span class="sxs-lookup"><span data-stu-id="dd802-148">Stop all currently running packages.</span></span>|  
  
## <a name="sysssispackages-table"></a><span data-ttu-id="dd802-149">Sysssispackages 表</span><span class="sxs-lookup"><span data-stu-id="dd802-149">Sysssispackages Table</span></span>  
 <span data-ttu-id="dd802-150">中的**sysssispackages**表 `msdb` 包含保存到中的包 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="dd802-150">The **sysssispackages** table in `msdb` contains the packages that are saved to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="dd802-151">有关详细信息，请参阅 [sysssispackages (Transact-SQL)](/sql/relational-databases/system-tables/sysssispackages-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="dd802-151">For more information, see [sysssispackages &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysssispackages-transact-sql).</span></span>  
  
 <span data-ttu-id="dd802-152">**sysssispackages** 表的列中包含关于分配给包的角色的信息。</span><span class="sxs-lookup"><span data-stu-id="dd802-152">The **sysssispackages** table includes columns that contain information about the roles that are assigned to packages.</span></span>  
  
-   <span data-ttu-id="dd802-153">**readerrole** 列指定对包具有读访问权限的角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-153">The **readerrole** column specifies the role that has read access to the package.</span></span>  
  
-   <span data-ttu-id="dd802-154">**writerrole** 列指定对包具有写访问权限的角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-154">The **writerrole** column specifies the role that has write access to the package.</span></span>  
  
-   <span data-ttu-id="dd802-155">**ownersid** 列包含创建包的用户的唯一安全标识符。</span><span class="sxs-lookup"><span data-stu-id="dd802-155">The **ownersid** column contains the unique security identifier of the user who created the package.</span></span> <span data-ttu-id="dd802-156">此列定义包的所有者。</span><span class="sxs-lookup"><span data-stu-id="dd802-156">This column defines the owner of the package.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="dd802-157">权限</span><span class="sxs-lookup"><span data-stu-id="dd802-157">Permissions</span></span>  
 <span data-ttu-id="dd802-158">默认情况下， `db_ssisadmin` 和**db_ssisoperator**固定数据库级角色的权限以及创建包的用户的唯一安全标识符适用于包的读取者角色，角色的权限 `db_ssisadmin` 以及创建包的用户的唯一安全标识符适用于写入者角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-158">By default, the permissions of the `db_ssisadmin` and **db_ssisoperator** fixed database-level roles and the unique security identifier of the user who created the package apply to the reader role for packages, and the permissions of the `db_ssisadmin` role and the unique security identifier of the user who created the package apply to the writer role.</span></span> <span data-ttu-id="dd802-159">用户必须是 `db_ssisadmin` 、 **db_ssisltduser**或**db_ssisoperator**角色的成员，才能拥有对包的读访问权限。</span><span class="sxs-lookup"><span data-stu-id="dd802-159">A user must be a member of the `db_ssisadmin`, **db_ssisltduser**, or **db_ssisoperator** role to have read access to the package.</span></span> <span data-ttu-id="dd802-160">用户必须是 `db_ssisadmin` 具有写访问权限的角色的成员。</span><span class="sxs-lookup"><span data-stu-id="dd802-160">A user must be a member of the `db_ssisadmin` role to have write access.</span></span>  
  
## <a name="access-to-packages"></a><span data-ttu-id="dd802-161">对包的访问</span><span class="sxs-lookup"><span data-stu-id="dd802-161">Access to Packages</span></span>  
 <span data-ttu-id="dd802-162">固定数据库级角色可以与用户定义的角色结合使用。</span><span class="sxs-lookup"><span data-stu-id="dd802-162">The fixed database-level roles work in conjunction with user-defined roles.</span></span> <span data-ttu-id="dd802-163">用户定义的角色就是你在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 中创建的、随后用来为包分配权限的角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-163">The user-defined roles are the roles that you create in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and then use to assign permissions to packages.</span></span> <span data-ttu-id="dd802-164">若要访问包，用户必须是用户定义的角色和相关的 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 固定数据库级角色的成员。</span><span class="sxs-lookup"><span data-stu-id="dd802-164">To access a package, a user must be a member of the user-defined role and the pertinent [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] fixed database-level role.</span></span> <span data-ttu-id="dd802-165">例如，如果用户是分配给包的**AuditUsers**用户定义角色的成员，则他们还必须是 `db_ssisadmin` 、 **db_ssisltduser**或**db_ssisoperator**角色的成员，才能拥有对包的读访问权限。</span><span class="sxs-lookup"><span data-stu-id="dd802-165">For example, if users are members of the **AuditUsers** user-defined role that is assigned to a package, they must also be members of `db_ssisadmin`, **db_ssisltduser**, or **db_ssisoperator** role to have read access to the package.</span></span>  
  
 <span data-ttu-id="dd802-166">如果不为包分配用户定义角色，则对包的访问权限由固定数据库级角色确定。</span><span class="sxs-lookup"><span data-stu-id="dd802-166">If you do not assign user-defined roles to packages, access to packages is determined by the fixed database-level roles.</span></span>  
  
 <span data-ttu-id="dd802-167">如果要使用用户定义的角色，则必须先将其添加到 `msdb` 数据库，然后才能将其分配给包。</span><span class="sxs-lookup"><span data-stu-id="dd802-167">If you want to use user-defined roles, you must add them to the `msdb` database before you can assign them to packages.</span></span> <span data-ttu-id="dd802-168">您可以在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中创建新的数据库角色。</span><span class="sxs-lookup"><span data-stu-id="dd802-168">You can create new database roles in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="dd802-169">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 数据库级角色可授予 msdb 数据库中的 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 系统表的权限。</span><span class="sxs-lookup"><span data-stu-id="dd802-169">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] database-level roles grant rights on the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] system tables in the msdb database.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="dd802-170">(必须先启动 MSSQLSERVER service) ，然后才能连接到数据库引擎并访问 `msdb` 数据库。</span><span class="sxs-lookup"><span data-stu-id="dd802-170">(the MSSQLSERVER service) must be started before you can connect to the Database Engine and access the `msdb` database.</span></span>  
  
 <span data-ttu-id="dd802-171">为了向包分配角色，您需要完成以下任务。</span><span class="sxs-lookup"><span data-stu-id="dd802-171">To assign roles to packages, you need to complete the following tasks.</span></span>  
  
-   <span data-ttu-id="dd802-172">**打开对象资源管理器并连接到 Integration Services**</span><span class="sxs-lookup"><span data-stu-id="dd802-172">**Open Object Explorer and Connect to Integration Services**</span></span>  
  
     <span data-ttu-id="dd802-173">在使用 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]将角色分配给包之前，必须在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 中打开对象资源管理器，并连接到 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="dd802-173">Before you can assign roles to packages by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], you must open Object Explorer in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and connect to [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span>  
  
     <span data-ttu-id="dd802-174">必须启动 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 服务才能连接到 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="dd802-174">The [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] service must be started before you can connect to [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="dd802-175">**将读取者角色和写入者角色分配给包**</span><span class="sxs-lookup"><span data-stu-id="dd802-175">**Assign Reader and Writer Roles to Packages**</span></span>  
  
     <span data-ttu-id="dd802-176">可以将读取者角色和写入者角色分配给每个包。</span><span class="sxs-lookup"><span data-stu-id="dd802-176">You can assign a reader and a writer role to each package.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="dd802-177">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="dd802-177">Related Tasks</span></span>  
  
-   [<span data-ttu-id="dd802-178">将读取者角色和写入者角色分配给包</span><span class="sxs-lookup"><span data-stu-id="dd802-178">Assign a Reader and Writer Role to a Package</span></span>](../assign-a-reader-and-writer-role-to-a-package.md)  
  
-   [<span data-ttu-id="dd802-179">创建用户定义的角色</span><span class="sxs-lookup"><span data-stu-id="dd802-179">Create a User-Defined Role</span></span>](../create-a-user-defined-role.md)  
  
-   [<span data-ttu-id="dd802-180">连接到 Integration Services</span><span class="sxs-lookup"><span data-stu-id="dd802-180">Connect to Integration Services</span></span>](../connect-to-integration-services.md)  
  
  
