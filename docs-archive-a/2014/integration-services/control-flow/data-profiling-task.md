---
title: 数据事件探查任务 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.dataprofilingtask.f1
helpviewer_keywords:
- Data Profiling task [Integration Services], about Data Profiling task
- data profiling
- profiling data
ms.assetid: 248ce233-4342-42c5-bf26-f4387ea152cf
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6020e667f149417864a17ec9ef558e35fd870f6f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87578996"
---
# <a name="data-profiling-task"></a><span data-ttu-id="dff47-102">数据事件探查任务</span><span class="sxs-lookup"><span data-stu-id="dff47-102">Data Profiling Task</span></span>
  <span data-ttu-id="dff47-103">数据事件探查任务计算的各种配置文件可帮助您熟悉数据源并找出数据中要修复的问题。</span><span class="sxs-lookup"><span data-stu-id="dff47-103">The Data Profiling task computes various profiles that help you become familiar with a data source and identify problems in the data that have to be fixed.</span></span>  
  
 <span data-ttu-id="dff47-104">可以在 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 包中使用数据事件探查任务对 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中存储的数据进行事件探查并标识潜在的数据质量问题。</span><span class="sxs-lookup"><span data-stu-id="dff47-104">You can use the Data Profiling task inside an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package to profile data that is stored in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and to identify potential problems with data quality.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dff47-105">本主题只介绍数据事件探查任务的功能和要求。</span><span class="sxs-lookup"><span data-stu-id="dff47-105">This topic only describes the features and requirements of the Data Profiling task.</span></span> <span data-ttu-id="dff47-106">有关如何使用数据事件探查任务的演练，请参阅 [数据事件探查任务和查看器](data-profiling-task-and-viewer.md)。</span><span class="sxs-lookup"><span data-stu-id="dff47-106">For a walkthrough of how to use the Data Profiling task, see the section, [Data Profiling Task and Viewer](data-profiling-task-and-viewer.md).</span></span>  
  
## <a name="requirements-and-limitations"></a><span data-ttu-id="dff47-107">要求和限制</span><span class="sxs-lookup"><span data-stu-id="dff47-107">Requirements and Limitations</span></span>  
 <span data-ttu-id="dff47-108">数据事件探查任务仅适用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中存储的数据。</span><span class="sxs-lookup"><span data-stu-id="dff47-108">The Data Profiling task works only with data that is stored in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="dff47-109">此任务不适用于第三方或基于文件的数据源。</span><span class="sxs-lookup"><span data-stu-id="dff47-109">This task does not work with third-party or file-based data sources.</span></span>  
  
 <span data-ttu-id="dff47-110">而且，若要运行包含数据事件探查任务的包，必须使用对 tempdb 数据库具有读/写权限（包括 CREATE TABLE 权限）的帐户。</span><span class="sxs-lookup"><span data-stu-id="dff47-110">Furthermore, to run a package that contains the Data Profiling task, you must use an account that has read/write permissions, including CREATE TABLE permissions, on the tempdb database.</span></span>  
  
## <a name="data-profiler-viewer"></a><span data-ttu-id="dff47-111">数据配置文件查看器</span><span class="sxs-lookup"><span data-stu-id="dff47-111">Data Profiler Viewer</span></span>  
 <span data-ttu-id="dff47-112">在使用该任务计算了数据配置文件并将它们保存在文件中之后，可以使用独立的数据配置文件查看器来查看配置文件输出。</span><span class="sxs-lookup"><span data-stu-id="dff47-112">After using the task to compute data profiles and save them in a file, you can use the stand-alone Data Profile Viewer to review the profile output.</span></span> <span data-ttu-id="dff47-113">数据配置文件查看器还支持明细功能，以帮助您了解在配置文件输出中标识的数据质量问题。</span><span class="sxs-lookup"><span data-stu-id="dff47-113">The Data Profile Viewer also supports drilldown capability to help you understand data quality issues tha are identified in the profile output.</span></span> <span data-ttu-id="dff47-114">有关详细信息，请参阅 [数据配置文件查看器](data-profile-viewer.md)。</span><span class="sxs-lookup"><span data-stu-id="dff47-114">For more information, see [Data Profile Viewer](data-profile-viewer.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="dff47-115">输出文件可能包含有关数据库的敏感数据和数据库所包含的数据。</span><span class="sxs-lookup"><span data-stu-id="dff47-115">The output file might contain sensitive data about your database and the data that the database contains.</span></span> <span data-ttu-id="dff47-116">有关如何使此文件更加安全的建议，请参阅 [对包使用的文件的访问](../access-to-files-used-by-packages.md)。</span><span class="sxs-lookup"><span data-stu-id="dff47-116">For suggestions about how to make this file more secure, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
>   
>  <span data-ttu-id="dff47-117">数据配置文件查看器中提供的明细功能会将实时查询发送到原始数据源。</span><span class="sxs-lookup"><span data-stu-id="dff47-117">The drilldown capability, that is available in the Data Profile Viewer, sends live queries to the original data source.</span></span>  
  
## <a name="available-profiles"></a><span data-ttu-id="dff47-118">可用的配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-118">Available Profiles</span></span>  
 <span data-ttu-id="dff47-119">数据事件探查任务可以计算 8 个不同的数据配置文件。</span><span class="sxs-lookup"><span data-stu-id="dff47-119">The Data Profiling Task can compute eight different data profiles.</span></span> <span data-ttu-id="dff47-120">其中的 5 个配置文件分析单列，其余的 3 个则分析多列或列和表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="dff47-120">Five of these profiles analyze individual columns, and the remaining three analyze multiple columns or relationships between columns and tables.</span></span>  
  
 <span data-ttu-id="dff47-121">以下五个配置文件分析单个列。</span><span class="sxs-lookup"><span data-stu-id="dff47-121">The following five profiles analyze individual columns.</span></span>  
  
|<span data-ttu-id="dff47-122">分析单个列的配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-122">Profiles that analyze individual columns</span></span>|<span data-ttu-id="dff47-123">说明</span><span class="sxs-lookup"><span data-stu-id="dff47-123">Description</span></span>|  
|----------------------------------------------|-----------------|  
|<span data-ttu-id="dff47-124">列长度分布配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-124">Column Length Distribution Profile</span></span>|<span data-ttu-id="dff47-125">报告所选列中各个字符串值的不同长度，以及每个长度表示的行在表中的百分比。</span><span class="sxs-lookup"><span data-stu-id="dff47-125">Reports all the distinct lengths of string values in the selected column and the percentage of rows in the table that each length represents.</span></span><br /><br /> <span data-ttu-id="dff47-126">此配置文件可以帮助您识别数据中存在的问题，如无效的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-126">This profile helps you identify problems in your data, such as values that are not valid.</span></span> <span data-ttu-id="dff47-127">例如，美国州代码列应以两个字符来表示，但在对其进行事件探查时却发现有超过两个字符的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-127">For example, you profile a column of United States state codes that should be two characters and discover values longer than two characters.</span></span>|  
|<span data-ttu-id="dff47-128">列 Null 比率配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-128">Column Null Ratio Profile</span></span>|<span data-ttu-id="dff47-129">报告所选列中 Null 值的百分比。</span><span class="sxs-lookup"><span data-stu-id="dff47-129">Reports the percentage of null values in the selected column.</span></span><br /><br /> <span data-ttu-id="dff47-130">此配置文件可以帮助您识别数据中存在的问题，如列中 null 值的比率意外偏高。</span><span class="sxs-lookup"><span data-stu-id="dff47-130">This profile helps you identify problems in your data, such as an unexpectedly high ratio of null values in a column.</span></span> <span data-ttu-id="dff47-131">例如，您对邮政编码列进行事件探查，却发现缺失的邮政编码所占的比例超出允许的范围。</span><span class="sxs-lookup"><span data-stu-id="dff47-131">For example, you profile a Zip Code/Postal Code column and discover an unacceptably high percentage of missing codes.</span></span>|  
|<span data-ttu-id="dff47-132">列模式配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-132">Column Pattern Profile</span></span>|<span data-ttu-id="dff47-133">报告一组正则表达式，其中涵盖字符串列中指定百分比的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-133">Reports a set of regular expressions that cover the specified percentage of values in a string column.</span></span><br /><br /> <span data-ttu-id="dff47-134">此配置文件可以帮助您识别数据中存在的问题，如无效的字符串。</span><span class="sxs-lookup"><span data-stu-id="dff47-134">This profile helps you identify problems in your data, such as string that are not valid.</span></span> <span data-ttu-id="dff47-135">它还可以建议可用于以后验证新值的正则表达式。</span><span class="sxs-lookup"><span data-stu-id="dff47-135">This profile can also suggest regular expressions that can be used in the future to validate new values.</span></span> <span data-ttu-id="dff47-136">例如，美国邮政编码列的模式配置文件可能会生成正则表达式：\d{5}-\d{4}、\d{5} 和 \d{9}。</span><span class="sxs-lookup"><span data-stu-id="dff47-136">For example, a pattern profile of a United States Zip Code column might produce the regular expressions: \d{5}-\d{4}, \d{5}, and \d{9}.</span></span> <span data-ttu-id="dff47-137">如果看到其他正则表达式，则数据可能包含无效或格式不正确的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-137">If you see other regular expressions, your data likely contains values that are not valid or in an incorrect format.</span></span>|  
|<span data-ttu-id="dff47-138">列统计信息配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-138">Column Statistics Profile</span></span>|<span data-ttu-id="dff47-139">报告各种统计信息，例如数值列的最小值、最大值、平均值和标准偏差，以及 `datetime` 列的最小值和最大值。</span><span class="sxs-lookup"><span data-stu-id="dff47-139">Reports statistics, such as minimum, maximum, average, and standard deviation for numeric columns, and minimum and maximum for `datetime` columns.</span></span><br /><br /> <span data-ttu-id="dff47-140">此配置文件可以帮助您识别数据中存在的问题，如无效的日期。</span><span class="sxs-lookup"><span data-stu-id="dff47-140">This profile helps you identify problems in your data, such as dates that are not valid.</span></span> <span data-ttu-id="dff47-141">例如，您对历史日期列进行事件探查，却发现最近的日期是一个将来的日期。</span><span class="sxs-lookup"><span data-stu-id="dff47-141">For example, you profile a column of historical dates and discover a maximum date that is in the future.</span></span>|  
|<span data-ttu-id="dff47-142">列值分布配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-142">Column Value Distribution Profile</span></span>|<span data-ttu-id="dff47-143">报告选定列中所有的非重复值以及每个值所表示的行在表中的百分比。</span><span class="sxs-lookup"><span data-stu-id="dff47-143">Reports all the distinct values in the selected column and the percentage of rows in the table that each value represents.</span></span> <span data-ttu-id="dff47-144">还可以报告一些表示该表中的行超过指定百分比的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-144">Can also report values that represent more than a specified percentage of rows in the table.</span></span><br /><br /> <span data-ttu-id="dff47-145">此配置文件可以帮助您识别数据中存在的问题，例如列中非重复值的数目不正确。</span><span class="sxs-lookup"><span data-stu-id="dff47-145">This profile helps you identify problems in your data, such as an incorrect number of distinct values in a column.</span></span> <span data-ttu-id="dff47-146">例如，您对应该包含美国的各州的列进行事件探查，却发现 50 多个非重复值。</span><span class="sxs-lookup"><span data-stu-id="dff47-146">For example, you profile a column that is supposed to contain states in the United States and discover more than 50 distinct values.</span></span>|  
  
 <span data-ttu-id="dff47-147">以下三个配置文件分析多个列或列与表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="dff47-147">The following three profiles analyze multiple columns or relationships between columns and tables.</span></span>  
  
|<span data-ttu-id="dff47-148">分析多个列的配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-148">Profiles that analyze multiple columns</span></span>|<span data-ttu-id="dff47-149">说明</span><span class="sxs-lookup"><span data-stu-id="dff47-149">Description</span></span>|  
|--------------------------------------------|-----------------|  
|<span data-ttu-id="dff47-150">候选键配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-150">Candidate Key Profile</span></span>|<span data-ttu-id="dff47-151">报告某个列或列集是选定表的键还是近似键。</span><span class="sxs-lookup"><span data-stu-id="dff47-151">Reports whether a column or set of columns is a key, or an approximate key, for the selected table.</span></span><br /><br /> <span data-ttu-id="dff47-152">此配置文件还可以帮助您识别数据中存在的问题，如可能的键列中存在重复值。</span><span class="sxs-lookup"><span data-stu-id="dff47-152">This profile also helps you identify problems in your data, such as duplicate values in a potential key column.</span></span>|  
|<span data-ttu-id="dff47-153">函数依赖关系配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-153">Functional Dependency Profile</span></span>|<span data-ttu-id="dff47-154">报告某列（依赖列）中的值对另一列或一组列（决定列）中的值的依赖程度。</span><span class="sxs-lookup"><span data-stu-id="dff47-154">Reports the extent to which the values in one column (the dependent column) depend on the values in another column or set of columns (the determinant column).</span></span><br /><br /> <span data-ttu-id="dff47-155">此配置文件也可以帮助您识别数据中存在的问题，如无效的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-155">This profile also helps you identify problems in your data, such as values that are not valid.</span></span> <span data-ttu-id="dff47-156">例如，您对包含美国邮政编码的列和包含美国各州的列之间的依赖关系进行事件探查。</span><span class="sxs-lookup"><span data-stu-id="dff47-156">For example, you profile the dependency between a column that contains United States Zip Codes and a column that contains states in the United States.</span></span> <span data-ttu-id="dff47-157">同一邮政编码应始终对应同一州，但配置文件却发现有违反此依赖关系的情况。</span><span class="sxs-lookup"><span data-stu-id="dff47-157">The same Zip Code should always have the same state, but the profile discovers violations of this dependency.</span></span>|  
|<span data-ttu-id="dff47-158">值包含配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-158">Value Inclusion Profile</span></span>|<span data-ttu-id="dff47-159">计算两列或两个列集之间的重叠值。</span><span class="sxs-lookup"><span data-stu-id="dff47-159">Computes the overlap in the values between two columns or sets of columns.</span></span> <span data-ttu-id="dff47-160">此配置文件还可以确定列或列集是否适合用作选定表间的外键。</span><span class="sxs-lookup"><span data-stu-id="dff47-160">This profile can determine whether a column or set of columns is appropriate to serve as a foreign key between the selected tables.</span></span><br /><br /> <span data-ttu-id="dff47-161">此配置文件也可以帮助您识别数据中存在的问题，如无效的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-161">This profile also helps you identify problems in your data, such as values that are not valid.</span></span> <span data-ttu-id="dff47-162">例如，您对某个 Sales 表的 ProductID 列进行事件探查，却发现该列包含在产品表的 ProductID 列中找不到的值。</span><span class="sxs-lookup"><span data-stu-id="dff47-162">For example, you profile the ProductID column of a Sales table and discover that the column contains values that are not found in the ProductID column of the Products table.</span></span>|  
  
## <a name="prerequisites-for-a-valid-profile"></a><span data-ttu-id="dff47-163">有效配置文件的必备条件</span><span class="sxs-lookup"><span data-stu-id="dff47-163">Prerequisites for a Valid Profile</span></span>  
 <span data-ttu-id="dff47-164">除非选择的表和列不为空并且这些列包含对该配置文件有效的数据类型，否则配置文件无效。</span><span class="sxs-lookup"><span data-stu-id="dff47-164">A profile is not valid unless you select tables and columns that are not empty, and the columns contain data types that are valid for the profile.</span></span>  
  
### <a name="valid-data-types"></a><span data-ttu-id="dff47-165">有效的数据类型</span><span class="sxs-lookup"><span data-stu-id="dff47-165">Valid Data Types</span></span>  
 <span data-ttu-id="dff47-166">某些可用的配置文件仅对于特定的数据类型有效。</span><span class="sxs-lookup"><span data-stu-id="dff47-166">Some of the available profiles are meaningful only for certain data types.</span></span> <span data-ttu-id="dff47-167">例如，对包含 numeric 或 `datetime` 值的列计算列模式配置文件是没有意义的。</span><span class="sxs-lookup"><span data-stu-id="dff47-167">For example, computing a Column Pattern profile for a column that contains numeric or `datetime` values is not meaningful.</span></span> <span data-ttu-id="dff47-168">因此，这样的配置文件无效。</span><span class="sxs-lookup"><span data-stu-id="dff47-168">Therefore, such a profile is not valid.</span></span>  
  
|<span data-ttu-id="dff47-169">配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-169">Profile</span></span>|<span data-ttu-id="dff47-170">有效的数据类型\*</span><span class="sxs-lookup"><span data-stu-id="dff47-170">Valid Data Types\*</span></span>|  
|-------------|------------------------|  
|<span data-ttu-id="dff47-171">列统计信息配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-171">ColumnStatisticsProfile</span></span>|<span data-ttu-id="dff47-172">numeric 类型或 `datetime` 类型的列（`mean` 列无 `stddev` 和 `datetime`）</span><span class="sxs-lookup"><span data-stu-id="dff47-172">Columns of numeric type or `datetime` type (no `mean` and `stddev` for `datetime` column)</span></span>|  
|<span data-ttu-id="dff47-173">列 Null 比率配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-173">ColumnNullRatioProfile</span></span>|<span data-ttu-id="dff47-174">所有列\*\*</span><span class="sxs-lookup"><span data-stu-id="dff47-174">All columns\*\*</span></span>|  
|<span data-ttu-id="dff47-175">列值分布配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-175">ColumnValueDistributionProfile</span></span>|<span data-ttu-id="dff47-176">`integer` 类型、`char` 类型和 `datetime` 类型的列</span><span class="sxs-lookup"><span data-stu-id="dff47-176">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
|<span data-ttu-id="dff47-177">列长度分布配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-177">ColumnLengthDistributionProfile</span></span>|<span data-ttu-id="dff47-178">`char` 类型的列</span><span class="sxs-lookup"><span data-stu-id="dff47-178">Columns of `char` type</span></span>|  
|<span data-ttu-id="dff47-179">列模式配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-179">ColumnPatternProfile</span></span>|<span data-ttu-id="dff47-180">`char` 类型的列</span><span class="sxs-lookup"><span data-stu-id="dff47-180">Columns of `char` type</span></span>|  
|<span data-ttu-id="dff47-181">候选键配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-181">CandidateKeyProfile</span></span>|<span data-ttu-id="dff47-182">`integer` 类型、`char` 类型和 `datetime` 类型的列</span><span class="sxs-lookup"><span data-stu-id="dff47-182">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
|<span data-ttu-id="dff47-183">函数依赖关系配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-183">FunctionalDependencyProfile</span></span>|<span data-ttu-id="dff47-184">`integer` 类型、`char` 类型和 `datetime` 类型的列</span><span class="sxs-lookup"><span data-stu-id="dff47-184">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
|<span data-ttu-id="dff47-185">包含配置文件</span><span class="sxs-lookup"><span data-stu-id="dff47-185">InclusionProfile</span></span>|<span data-ttu-id="dff47-186">`integer` 类型、`char` 类型和 `datetime` 类型的列</span><span class="sxs-lookup"><span data-stu-id="dff47-186">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
  
 <span data-ttu-id="dff47-187">\*在以前的有效数据类型表中， `integer` 、、 `char` `datetime` 和 `numeric` 类型包括以下特定的数据类型：</span><span class="sxs-lookup"><span data-stu-id="dff47-187">\* In the previous table of valid data types, the `integer`, `char`, `datetime`, and `numeric` types include the following specific data types:</span></span>  
  
 <span data-ttu-id="dff47-188">Integer 类型包括 `bit`、`tinyint`、`smallint`、`int` 和 `bigint`。</span><span class="sxs-lookup"><span data-stu-id="dff47-188">Integer types include `bit`, `tinyint`, `smallint`, `int`, and `bigint`.</span></span>  
  
 <span data-ttu-id="dff47-189">Character 类型包括 `char`、`nchar`、`varchar` 和 `nvarchar,`，但不包括 `varchar(max)` 和 `nvarchar(max)`。</span><span class="sxs-lookup"><span data-stu-id="dff47-189">Character types include `char`, `nchar`, `varchar`, and `nvarchar,` but do not include `varchar(max)` and `nvarchar(max)`.</span></span>  
  
 <span data-ttu-id="dff47-190">Date 和 time 类型包括 `datetime`、`smalldatetime` 和 `timestamp`。</span><span class="sxs-lookup"><span data-stu-id="dff47-190">Date and time types include `datetime`, `smalldatetime`, and `timestamp`.</span></span>  
  
 <span data-ttu-id="dff47-191">Numeric 类型包括 `integer`（`bit` 除外）、`money`、`smallmoney`、`decimal`、`float`、`real` 和 `numeric`。</span><span class="sxs-lookup"><span data-stu-id="dff47-191">Numeric types include `integer` types (except `bit`), `money`, `smallmoney`, `decimal`, `float`, `real`, and `numeric`.</span></span>  
  
 <span data-ttu-id="dff47-192">\*\*`image` `text` `XML` `udt` `variant` 除列 Null 比率配置文件之外的配置文件不支持、、、和类型。</span><span class="sxs-lookup"><span data-stu-id="dff47-192">\*\* `image`, `text`, `XML`, `udt`, and `variant` types are not supported for profiles other than the Column Null Ratio Profile.</span></span>  
  
### <a name="valid-tables-and-columns"></a><span data-ttu-id="dff47-193">有效的表和列</span><span class="sxs-lookup"><span data-stu-id="dff47-193">Valid Tables and Columns</span></span>  
 <span data-ttu-id="dff47-194">如果表或列为空，则数据事件探查将执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="dff47-194">If the table or column is empty, the Data Profiling takes the following actions:</span></span>  
  
-   <span data-ttu-id="dff47-195">当所选表或视图为空时，数据事件探查任务不会计算任何配置文件。</span><span class="sxs-lookup"><span data-stu-id="dff47-195">When the selected table or view is empty, the Data Profiling task does not compute any profiles.</span></span>  
  
-   <span data-ttu-id="dff47-196">当所选列中的所有值为 null 值时，数据事件探查任务只计算列 Null 比率配置文件。</span><span class="sxs-lookup"><span data-stu-id="dff47-196">When all the values in the selected column are null, the Data Profiling task computes only the Column Null Ratio profile.</span></span> <span data-ttu-id="dff47-197">此任务不计算类长度分布配置文件、列模式配置文件、列统计信息配置文件或列值分布配置文件。</span><span class="sxs-lookup"><span data-stu-id="dff47-197">The task does not compute the Column Length Distribution profile, Column Pattern profile, Column Statistics profile, or Column Value Distribution profile.</span></span>  
  
## <a name="features-of-the-data-profiling-task"></a><span data-ttu-id="dff47-198">数据事件探查任务的功能</span><span class="sxs-lookup"><span data-stu-id="dff47-198">Features of the Data Profiling Task</span></span>  
 <span data-ttu-id="dff47-199">数据事件探查任务具有以下便利的配置选项：</span><span class="sxs-lookup"><span data-stu-id="dff47-199">The Data Profiling task has these convenient configuration options:</span></span>  
  
-   <span data-ttu-id="dff47-200">**通配符列** 在配置配置文件请求时，该任务接受用 **(\*)** 通配符代替列名称。</span><span class="sxs-lookup"><span data-stu-id="dff47-200">**Wildcard columns** When you are configuring a profile request, the task accepts the **(\*)** wildcard in place of a column name.</span></span> <span data-ttu-id="dff47-201">这简化了配置并更易于发现不熟悉的数据的特征。</span><span class="sxs-lookup"><span data-stu-id="dff47-201">This simplifies the configuration and makes it easier to discover the characteristics of unfamiliar data.</span></span> <span data-ttu-id="dff47-202">当任务运行时，该任务对具有适当的数据类型的各列进行事件探查。</span><span class="sxs-lookup"><span data-stu-id="dff47-202">When the task runs, the task profiles every column that has an appropriate data type.</span></span>  
  
-   <span data-ttu-id="dff47-203">**“快速配置文件”** You can select “快速配置文件” to configure the task quickly.</span><span class="sxs-lookup"><span data-stu-id="dff47-203">**Quick Profile** You can select Quick Profile to configure the task quickly.</span></span> <span data-ttu-id="dff47-204">快速配置文件使用所有默认配置文件和默认设置对表或视图进行事件探查。</span><span class="sxs-lookup"><span data-stu-id="dff47-204">A Quick Profile profiles a table or view by using all the default profiles and default settings.</span></span>  
  
## <a name="custom-logging-messages-available-on-the-data-profililng-task"></a><span data-ttu-id="dff47-205">数据事件探查任务可用的自定义日志记录消息</span><span class="sxs-lookup"><span data-stu-id="dff47-205">Custom Logging Messages Available on the Data Profililng Task</span></span>  
 <span data-ttu-id="dff47-206">下表列出了数据事件探查任务的自定义日志项。</span><span class="sxs-lookup"><span data-stu-id="dff47-206">The following table lists the custom log entries for the Data Profiling task.</span></span> <span data-ttu-id="dff47-207">有关详细信息，请参阅 [Integration Services (SSIS) 日志记录](../performance/integration-services-ssis-logging.md)和[日志记录的自定义消息](../custom-messages-for-logging.md)。</span><span class="sxs-lookup"><span data-stu-id="dff47-207">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="dff47-208">日志项</span><span class="sxs-lookup"><span data-stu-id="dff47-208">Log entry</span></span>|<span data-ttu-id="dff47-209">说明</span><span class="sxs-lookup"><span data-stu-id="dff47-209">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="dff47-210">**DataProfilingTaskTrace**</span><span class="sxs-lookup"><span data-stu-id="dff47-210">**DataProfilingTaskTrace**</span></span>|<span data-ttu-id="dff47-211">提供有关任务状态的说明性信息。</span><span class="sxs-lookup"><span data-stu-id="dff47-211">Provides descriptive information about the status of the task.</span></span> <span data-ttu-id="dff47-212">日志记录消息包含以下信息：</span><span class="sxs-lookup"><span data-stu-id="dff47-212">Messages include the following information:</span></span><br /><br /> <span data-ttu-id="dff47-213">开始处理请求</span><span class="sxs-lookup"><span data-stu-id="dff47-213">Start Processing Requests</span></span><br /><br /> <span data-ttu-id="dff47-214">查询开始</span><span class="sxs-lookup"><span data-stu-id="dff47-214">Query Start</span></span><br /><br /> <span data-ttu-id="dff47-215">查询结束</span><span class="sxs-lookup"><span data-stu-id="dff47-215">Query End</span></span><br /><br /> <span data-ttu-id="dff47-216">完成计算请求</span><span class="sxs-lookup"><span data-stu-id="dff47-216">Finish Computing Request</span></span>|  
  
## <a name="output-and-its-schema"></a><span data-ttu-id="dff47-217">输出及其架构</span><span class="sxs-lookup"><span data-stu-id="dff47-217">Output and Its Schema</span></span>  
 <span data-ttu-id="dff47-218">数据事件探查任务将所选的配置文件输出到根据 DataProfile.xsd 架构进行组织的 XML。</span><span class="sxs-lookup"><span data-stu-id="dff47-218">The Data Profiling task outputs the selected profiles into XML that is structured according to the DataProfile.xsd schema.</span></span> <span data-ttu-id="dff47-219">可以指定是将此 XML 输出保存到文件还是保存到包变量。</span><span class="sxs-lookup"><span data-stu-id="dff47-219">You can specify whether this XML output is saved in a file or in a package variable.</span></span> <span data-ttu-id="dff47-220">可以在 [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/) 中在线查看此架构。</span><span class="sxs-lookup"><span data-stu-id="dff47-220">You can view this schema online at [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/).</span></span> <span data-ttu-id="dff47-221">可以从网页上保存该架构的副本。</span><span class="sxs-lookup"><span data-stu-id="dff47-221">From the webpage, you can save a local copy of the schema.</span></span> <span data-ttu-id="dff47-222">然后，可以在 Microsoft [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] 或其他架构编辑器、在 XML 编辑器或在文本编辑器（如记事本）中查看该架构的本地副本。</span><span class="sxs-lookup"><span data-stu-id="dff47-222">You can then view the local copy of the schema in Microsoft [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] or another schema editor, in an XML editor, or in a text editor such as Notepad.</span></span>  
  
 <span data-ttu-id="dff47-223">此数据质量信息架构可能对以下操作有用：</span><span class="sxs-lookup"><span data-stu-id="dff47-223">This schema for data quality information could be useful for:</span></span>  
  
-   <span data-ttu-id="dff47-224">在组织内和跨组织交换数据质量信息。</span><span class="sxs-lookup"><span data-stu-id="dff47-224">Exchanging data quality information within and across organizations.</span></span>  
  
-   <span data-ttu-id="dff47-225">生成处理数据质量信息的自定义工具。</span><span class="sxs-lookup"><span data-stu-id="dff47-225">Building custom tools that work with data quality information.</span></span>  
  
 <span data-ttu-id="dff47-226">目标命名空间在架构中被标识为 [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/)。</span><span class="sxs-lookup"><span data-stu-id="dff47-226">The target namespace is identified in the schema as [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/).</span></span>  
  
## <a name="output-in-the-conditional-workflow-of-a-package"></a><span data-ttu-id="dff47-227">在包的条件工作流中的输出</span><span class="sxs-lookup"><span data-stu-id="dff47-227">Output in the Conditional Workflow of a Package</span></span>  
 <span data-ttu-id="dff47-228">数据事件探查组件不包含内置功能，无法根据数据事件探查任务的输出在 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 包的工作流中实现条件逻辑。</span><span class="sxs-lookup"><span data-stu-id="dff47-228">The data profiling components do not include built-in functionality to implement conditional logic in the workflow of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package based on the output of the Data Profiling task.</span></span> <span data-ttu-id="dff47-229">但是，您只要在脚本任务中进行少量的编程工作即可轻松地添加此逻辑。</span><span class="sxs-lookup"><span data-stu-id="dff47-229">However, you can easily add this logic, with a minimal amount of programming, in a Script task.</span></span> <span data-ttu-id="dff47-230">此代码将对 XML 输出执行 XPath 查询，然后将结果保存在包变量中。</span><span class="sxs-lookup"><span data-stu-id="dff47-230">This code would perform an XPath query against the XML output, and then save the result in a package variable.</span></span> <span data-ttu-id="dff47-231">用于将脚本任务连接到后续任务的优先约束可以使用表达式来确定工作流。</span><span class="sxs-lookup"><span data-stu-id="dff47-231">Precedence constraints that connect the Script task to subsequent tasks can use an expression to determine the workflow.</span></span> <span data-ttu-id="dff47-232">例如，脚本任务检测某一列中 null 值超过阈值的百分比。</span><span class="sxs-lookup"><span data-stu-id="dff47-232">For example, the Script task detects that the percentage of null values in a column exceeds a certain threshold.</span></span> <span data-ttu-id="dff47-233">如果此条件为 true，则可能需要中断包并解决此问题，然后再继续执行。</span><span class="sxs-lookup"><span data-stu-id="dff47-233">When this condition is true, you might want to interrupt the package and resolve the problem before continuing.</span></span>  
  
## <a name="configuration-of-the-data-profiling-task"></a><span data-ttu-id="dff47-234">数据事件探查任务的配置</span><span class="sxs-lookup"><span data-stu-id="dff47-234">Configuration of the Data Profiling Task</span></span>  
 <span data-ttu-id="dff47-235">使用 **“数据事件探查任务编辑器”** 配置数据事件探查任务。</span><span class="sxs-lookup"><span data-stu-id="dff47-235">You configure the Data Profiling task by using the **Data Profiling Task Editor**.</span></span> <span data-ttu-id="dff47-236">此编辑器有以下两页：</span><span class="sxs-lookup"><span data-stu-id="dff47-236">The editor has two pages:</span></span>  
  
 [<span data-ttu-id="dff47-237">“常规”页</span><span class="sxs-lookup"><span data-stu-id="dff47-237">General Page</span></span>](../general-page-of-integration-services-designers-options.md)  
 <span data-ttu-id="dff47-238">在“常规”  页上，可指定输出文件或变量。</span><span class="sxs-lookup"><span data-stu-id="dff47-238">On the **General** page, you specify the output file or variable.</span></span> <span data-ttu-id="dff47-239">还可以选择 **“快速配置文件”** 对任务进行快速配置，以便使用默认的设置来计算配置文件。</span><span class="sxs-lookup"><span data-stu-id="dff47-239">You can also select **Quick Profile** to configure the task quickly to compute profiles by using the default settings.</span></span> <span data-ttu-id="dff47-240">有关详细信息，请参阅 [单个表快速配置文件窗体（数据事件探查任务）](data-profiling-task.md)。</span><span class="sxs-lookup"><span data-stu-id="dff47-240">For more information, see [Single Table Quick Profile Form &#40;Data Profiling Task&#41;](data-profiling-task.md).</span></span>  
  
 [<span data-ttu-id="dff47-241">“配置文件请求”页</span><span class="sxs-lookup"><span data-stu-id="dff47-241">Profile Requests Page</span></span>](data-profiling-task-editor-profile-requests-page.md)  
 <span data-ttu-id="dff47-242">在“配置文件请求”  页上，可指定数据源，选择要计算的数据配置文件并对其进行配置。</span><span class="sxs-lookup"><span data-stu-id="dff47-242">On the **Profile Requests** page, you specify the data source, and select and configure the data profiles that you want to compute.</span></span> <span data-ttu-id="dff47-243">有关可以配置的各种配置文件的详细信息，请参阅以下主题：</span><span class="sxs-lookup"><span data-stu-id="dff47-243">For more information about the various profiles that you can configure, see the following topics:</span></span>  
  
-   [<span data-ttu-id="dff47-244">候选键配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-244">Candidate Key Profile Request Options &#40;Data Profiling Task&#41;</span></span>](candidate-key-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-245">列长度分布配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-245">Column Length Distribution Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-length-distribution-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-246">列 Null 比率配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-246">Column Null Ratio Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-null-ratio-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-247">列模式配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-247">Column Pattern Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-pattern-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-248">列统计信息配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-248">Column Statistics Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-statistics-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-249">列值分布配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-249">Column Value Distribution Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-value-distribution-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-250">函数依赖关系配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-250">Functional Dependency Profile Request Options &#40;Data Profiling Task&#41;</span></span>](functional-dependency-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="dff47-251">值包含配置文件请求选项（数据事件探查任务）</span><span class="sxs-lookup"><span data-stu-id="dff47-251">Value Inclusion Profile Request Options &#40;Data Profiling Task&#41;</span></span>](value-inclusion-profile-request-options-data-profiling-task.md)  
  
  
