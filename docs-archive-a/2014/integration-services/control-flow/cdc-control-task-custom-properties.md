---
title: CDC 控制任务自定义属性 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 2a073699-79a2-4ea1-a68e-fc17a80b74ba
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 8ff589000d1c4d2af1ec2d9a372f7e93bd495386
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87693010"
---
# <a name="cdc-control-task-custom-properties"></a><span data-ttu-id="76b31-102">CDC 控制任务自定义属性</span><span class="sxs-lookup"><span data-stu-id="76b31-102">CDC Control Task Custom Properties</span></span>
  <span data-ttu-id="76b31-103">下表描述了 CDC 控制任务的自定义属性。</span><span class="sxs-lookup"><span data-stu-id="76b31-103">The following table describes the custom properties of the CDC Control task.</span></span> <span data-ttu-id="76b31-104">所有属性均可读/写。</span><span class="sxs-lookup"><span data-stu-id="76b31-104">All properties are read/write.</span></span>  
  
|<span data-ttu-id="76b31-105">属性名称</span><span class="sxs-lookup"><span data-stu-id="76b31-105">Property name</span></span>|<span data-ttu-id="76b31-106">数据类型</span><span class="sxs-lookup"><span data-stu-id="76b31-106">Data Type</span></span>|<span data-ttu-id="76b31-107">说明</span><span class="sxs-lookup"><span data-stu-id="76b31-107">Description</span></span>|  
|-------------------|---------------|-----------------|  
|<span data-ttu-id="76b31-108">连接</span><span class="sxs-lookup"><span data-stu-id="76b31-108">Connection</span></span>|<span data-ttu-id="76b31-109">ADO.NET 连接</span><span class="sxs-lookup"><span data-stu-id="76b31-109">ADO.NET Connection</span></span>|<span data-ttu-id="76b31-110">与 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] CDC 数据库的 ADO.NET 连接，用于访问更改表和 CDC 状态（如果存储于相同数据库中）。</span><span class="sxs-lookup"><span data-stu-id="76b31-110">An ADO.NET connection to the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] CDC database for access to the change tables and to the CDC State if stored in the same database.</span></span><br /><br /> <span data-ttu-id="76b31-111">该连接必须是指向为 CDC 启用的并且所选更改表位于其中的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库的连接。</span><span class="sxs-lookup"><span data-stu-id="76b31-111">The connection must be to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database that is enabled for CDC and where the selected change table is located.</span></span>|  
|<span data-ttu-id="76b31-112">TaskOperation</span><span class="sxs-lookup"><span data-stu-id="76b31-112">TaskOperation</span></span>|<span data-ttu-id="76b31-113">Integer（枚举）</span><span class="sxs-lookup"><span data-stu-id="76b31-113">Integer (enumeration)</span></span>|<span data-ttu-id="76b31-114">CDC 控制任务的所选操作。</span><span class="sxs-lookup"><span data-stu-id="76b31-114">The selected operation for the CDC control task.</span></span> <span data-ttu-id="76b31-115">可能值为 **“标记初始加载开始”** 、 **“标记初始加载结束”** 、 **“标记 CDC 状态”** 、 **“获取正在处理范围”** 、 **“标记已处理范围”** 和 **“重置 CDC 状态”** 。</span><span class="sxs-lookup"><span data-stu-id="76b31-115">The possible values are **Mark Initial Load Start**, **Mark Initial Load End**, **Mark CDC Start**, **Get Processing Range**, **Mark Processed Range**, and **Reset CDC State**.</span></span><br /><br /> <span data-ttu-id="76b31-116">如果在 **CDC（即，不是 Oracle）上工作时选择**MarkCdcStart **、** MarkInitialLoadStart **或** MarkInitialLoadEnd [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，则在连接管理器中指定的用户必须是  **db_owner** 或 **sysadmin**。</span><span class="sxs-lookup"><span data-stu-id="76b31-116">If you select **MarkCdcStart**, **MarkInitialLoadStart**, or **MarkInitialLoadEnd** when working on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] CDC (that is, not Oracle) the user specified in the connection manager must be either  **db_owner** or **sysadmin**.</span></span><br /><br /> <span data-ttu-id="76b31-117">有关这些操作的详细信息，请参阅 [CDC Control Task Editor](../cdc-control-task-editor.md) 和 [CDC Control Task](cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="76b31-117">For more information about these operations, see [CDC Control Task Editor](../cdc-control-task-editor.md) and [CDC Control Task](cdc-control-task.md).</span></span>|  
|<span data-ttu-id="76b31-118">OperationParameter</span><span class="sxs-lookup"><span data-stu-id="76b31-118">OperationParameter</span></span>|<span data-ttu-id="76b31-119">String</span><span class="sxs-lookup"><span data-stu-id="76b31-119">String</span></span>|<span data-ttu-id="76b31-120">目前用于 **MarkCdcStart** 操作。</span><span class="sxs-lookup"><span data-stu-id="76b31-120">Currently used with the **MarkCdcStart** operation.</span></span> <span data-ttu-id="76b31-121">此参数允许特定操作所需的附加输入。</span><span class="sxs-lookup"><span data-stu-id="76b31-121">This parameter allows additional input required for the specific operation.</span></span> <span data-ttu-id="76b31-122">例如， **MarkCdcStart** 操作所需的 LSN 编号</span><span class="sxs-lookup"><span data-stu-id="76b31-122">For example, the LSN number required for the **MarkCdcStart** operation</span></span>|  
|<span data-ttu-id="76b31-123">StateVariable</span><span class="sxs-lookup"><span data-stu-id="76b31-123">StateVariable</span></span>|<span data-ttu-id="76b31-124">String</span><span class="sxs-lookup"><span data-stu-id="76b31-124">String</span></span>|<span data-ttu-id="76b31-125">存储当前 CDC 上下文的 CDC 状态的 SSIS 包变量。</span><span class="sxs-lookup"><span data-stu-id="76b31-125">An SSIS package variable that stores the CDC state of the current CDC context.</span></span> <span data-ttu-id="76b31-126">该 CDC 控制任务将状态读取和写入到 **StateVariable** ，并且不会加载它或将它存储到持久性存储区，除非选择了 **AutomaticStatePersistence** 。</span><span class="sxs-lookup"><span data-stu-id="76b31-126">The CDC Control task reads and writes the state to the **StateVariable** and does not load it or store it to a persistent storage unless **AutomaticStatePersistence** is selected.</span></span> <span data-ttu-id="76b31-127">请参阅 [定义状态变量](../data-flow/define-a-state-variable.md)。</span><span class="sxs-lookup"><span data-stu-id="76b31-127">See [Define a State Variable](../data-flow/define-a-state-variable.md).</span></span>|  
|<span data-ttu-id="76b31-128">AutomaticStatePersistence</span><span class="sxs-lookup"><span data-stu-id="76b31-128">AutomaticStatePersistence</span></span>|<span data-ttu-id="76b31-129">Boolean</span><span class="sxs-lookup"><span data-stu-id="76b31-129">Boolean</span></span>|<span data-ttu-id="76b31-130">该 CDC 控制任务从 CDC 状态包变量读取 CDC 状态。</span><span class="sxs-lookup"><span data-stu-id="76b31-130">The CDC Control task reads the CDC State from the CDC State package variable.</span></span> <span data-ttu-id="76b31-131">执行某一操作后，该 CDC 控制任务将更新 CDC 状态包变量的值。</span><span class="sxs-lookup"><span data-stu-id="76b31-131">Following an operation, the CDC Control task updates the value of the CDC State package variable.</span></span> <span data-ttu-id="76b31-132">**AutomaticStatePersistence** 属性向 CDC 控制任务指出谁在两次运行 SSIS 包之间负责持久化 CDC 状态值。</span><span class="sxs-lookup"><span data-stu-id="76b31-132">The **AutomaticStatePersistence** property tells the CDC Control task who is responsible for persisting the CDC State value between runs of the SSIS package.</span></span><br /><br /> <span data-ttu-id="76b31-133">在此属性为 **true**时，该 CDC 控制任务自动从状态表加载 CDC 状态变量的值。</span><span class="sxs-lookup"><span data-stu-id="76b31-133">When this property is **true**, the CDC Control task automatically loads the value of the CDC State variable from a state table.</span></span> <span data-ttu-id="76b31-134">在该 CDC 控制任务更新 CDC 状态变量的值时，它还在相同的状态 **table.stores**中更新其值、在特殊表中更新该状态并且更新状态变量。</span><span class="sxs-lookup"><span data-stu-id="76b31-134">When the CDC Control task updates the value of the CDC State variable it also updates its value in the same state **table.stores**, the state in a special table and updates the State Variable.</span></span> <span data-ttu-id="76b31-135">开发人员可以控制哪些 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库包含该状态表及其名称。</span><span class="sxs-lookup"><span data-stu-id="76b31-135">The developer can control which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database contains that state table and its name.</span></span> <span data-ttu-id="76b31-136">此状态表的结构是预定义的。</span><span class="sxs-lookup"><span data-stu-id="76b31-136">The structure of this state table is predefined.</span></span><br /><br /> <span data-ttu-id="76b31-137">在为 **false**时，该 CDC 控制任务不持久化其值。</span><span class="sxs-lookup"><span data-stu-id="76b31-137">When **false**, the CDC Control task does not deal with persisting its value.</span></span> <span data-ttu-id="76b31-138">在为 true 时，该 CDC 控制任务在一个特殊的表中存储状态并更新 StateVariable。</span><span class="sxs-lookup"><span data-stu-id="76b31-138">When true, the CDC Control task stores the state in a special table and updates the StateVariable.</span></span><br /><br /> <span data-ttu-id="76b31-139">默认值是 **true**，指示会自动更新状态持久化。</span><span class="sxs-lookup"><span data-stu-id="76b31-139">The default value is **true**, indicating that state persistence is updated automatically.</span></span>|  
|<span data-ttu-id="76b31-140">StateConnection</span><span class="sxs-lookup"><span data-stu-id="76b31-140">StateConnection</span></span>|<span data-ttu-id="76b31-141">ADO.NET 连接</span><span class="sxs-lookup"><span data-stu-id="76b31-141">ADO.NET Connection</span></span>|<span data-ttu-id="76b31-142">一个 ADO.NET 连接，它指向在使用 **AutomaticStatePersistence**时状态表驻留在其中的数据库。</span><span class="sxs-lookup"><span data-stu-id="76b31-142">An ADO.NET connection to the database where the state table resides when using **AutomaticStatePersistence**.</span></span> <span data-ttu-id="76b31-143">默认值与 **“连接”** 的默认值相同。</span><span class="sxs-lookup"><span data-stu-id="76b31-143">The default value is the same value for **Connection**.</span></span>|  
|<span data-ttu-id="76b31-144">StateName</span><span class="sxs-lookup"><span data-stu-id="76b31-144">StateName</span></span>|<span data-ttu-id="76b31-145">String</span><span class="sxs-lookup"><span data-stu-id="76b31-145">String</span></span>|<span data-ttu-id="76b31-146">与持久状态关联的名称。</span><span class="sxs-lookup"><span data-stu-id="76b31-146">The name associated with the persistent state.</span></span> <span data-ttu-id="76b31-147">使用相同 CDC 上下文的完整负载和 CDC 包指定一个公共的 CDC 上下文名称。</span><span class="sxs-lookup"><span data-stu-id="76b31-147">The full load and CDC packages that work with the same CDC context specify a common CDC context name.</span></span> <span data-ttu-id="76b31-148">此名称用于查找状态表中的状态行。</span><span class="sxs-lookup"><span data-stu-id="76b31-148">This name is used for looking up the state row in the state table.</span></span><br /><br /> <span data-ttu-id="76b31-149">此属性仅在 **AutomaticStatePersistence** 设置为 **true**时适用。</span><span class="sxs-lookup"><span data-stu-id="76b31-149">This property is applicable only when **AutomaticStatePersistence** is set to **true**.</span></span>|  
|<span data-ttu-id="76b31-150">StateTable</span><span class="sxs-lookup"><span data-stu-id="76b31-150">StateTable</span></span>|<span data-ttu-id="76b31-151">String</span><span class="sxs-lookup"><span data-stu-id="76b31-151">String</span></span>|<span data-ttu-id="76b31-152">指定存储 CDC 上下文状态的表的名称。</span><span class="sxs-lookup"><span data-stu-id="76b31-152">Specifies the name of the table where the CDC context state is stored.</span></span> <span data-ttu-id="76b31-153">使用为此组件配置的连接必须可以访问此表。</span><span class="sxs-lookup"><span data-stu-id="76b31-153">This table must be accessible using the connection configured for this component.</span></span> <span data-ttu-id="76b31-154">此表必须包含名为 **name** 和 **state**的 varchar 列。</span><span class="sxs-lookup"><span data-stu-id="76b31-154">This table must include varchar columns called **name** and **state**.</span></span> <span data-ttu-id="76b31-155">（ **状态** 列必须具有至少 256 个字符）。</span><span class="sxs-lookup"><span data-stu-id="76b31-155">(The **state** column must have at least 256 characters).</span></span><br /><br /> <span data-ttu-id="76b31-156">此属性仅在 **AutomaticStatePersistence** 设置为 **true**时适用。</span><span class="sxs-lookup"><span data-stu-id="76b31-156">This property is applicable only when **AutomaticStatePersistence** is set to **true**.</span></span>|  
|<span data-ttu-id="76b31-157">CommandTimeout</span><span class="sxs-lookup"><span data-stu-id="76b31-157">CommandTimeout</span></span>|<span data-ttu-id="76b31-158">integer</span><span class="sxs-lookup"><span data-stu-id="76b31-158">integer</span></span>|<span data-ttu-id="76b31-159">该值指定在与 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库通信时要使用的超时值（秒）。</span><span class="sxs-lookup"><span data-stu-id="76b31-159">This value indicates the timeout (in seconds) to use when communicating with the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="76b31-160">在来自数据库的响应时间非常慢并且默认值（30 秒）不足够时使用该值。</span><span class="sxs-lookup"><span data-stu-id="76b31-160">This value is used where the response time from the database is very slow and the default value (30 seconds) is not enough.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="76b31-161">另请参阅</span><span class="sxs-lookup"><span data-stu-id="76b31-161">See Also</span></span>  
 <span data-ttu-id="76b31-162">[CDC Control Task](cdc-control-task.md) </span><span class="sxs-lookup"><span data-stu-id="76b31-162">[CDC Control Task](cdc-control-task.md) </span></span>  
 [<span data-ttu-id="76b31-163">CDC 控制任务编辑器</span><span class="sxs-lookup"><span data-stu-id="76b31-163">CDC Control Task Editor</span></span>](../cdc-control-task-editor.md)  
  
  
