---
title: 合并联接转换 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.mergejointrans.f1
helpviewer_keywords:
- datasets [Integration Services]
- Merge Join transformation
- datasets [Integration Services], joining
- joining datasets [Integration Services]
- joins [SQL Server], SSIS
ms.assetid: cd8b0412-f83b-4bd2-b227-e53dcfd941a8
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 262fba82293a630e410a8f24f4aec19f6f4423aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87693006"
---
# <a name="merge-join-transformation"></a><span data-ttu-id="3b57c-102">Merge Join Transformation</span><span class="sxs-lookup"><span data-stu-id="3b57c-102">Merge Join Transformation</span></span>
  <span data-ttu-id="3b57c-103">合并联接转换提供了一个输出，该输出是通过使用 FULL、LEFT 或 INNER 联接将两个已排序数据集进行联接而生成的。</span><span class="sxs-lookup"><span data-stu-id="3b57c-103">The Merge Join transformation provides an output that is generated by joining two sorted datasets using a FULL, LEFT, or INNER join.</span></span> <span data-ttu-id="3b57c-104">例如，可使用 LEFT 联接来联接包含产品信息的表与列出产品的制造国家/地区的表。</span><span class="sxs-lookup"><span data-stu-id="3b57c-104">For example, you can use a LEFT join to join a table that includes product information with a table that lists the country/region in which a product was manufactured.</span></span> <span data-ttu-id="3b57c-105">结果是一个列出所有产品及其产地国家/地区的表。</span><span class="sxs-lookup"><span data-stu-id="3b57c-105">The result is a table that lists all products and their country/region of origin.</span></span>  
  
 <span data-ttu-id="3b57c-106">可以按照下列方法来配置合并联接转换：</span><span class="sxs-lookup"><span data-stu-id="3b57c-106">You can configure the Merge Join transformation in the following ways:</span></span>  
  
-   <span data-ttu-id="3b57c-107">指定联接是 FULL、LEFT 联接，还是 INNER 联接。</span><span class="sxs-lookup"><span data-stu-id="3b57c-107">Specify the join is a FULL, LEFT, or INNER join.</span></span>  
  
-   <span data-ttu-id="3b57c-108">指定联接所使用的列。</span><span class="sxs-lookup"><span data-stu-id="3b57c-108">Specify the columns the join uses.</span></span>  
  
-   <span data-ttu-id="3b57c-109">指定转换是否将空值处理为等于其他空值。</span><span class="sxs-lookup"><span data-stu-id="3b57c-109">Specify whether the transformation handles null values as equal to other nulls.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="3b57c-110">如果不将空值处理为相等的值，则转换将如同 SQL Server 数据库引擎那样处理空值。</span><span class="sxs-lookup"><span data-stu-id="3b57c-110">If null values are not treated as equal values, the transformation handles null values like the SQL Server Database Engine does.</span></span>  
  
 <span data-ttu-id="3b57c-111">此转换有两个输入和一个输出。</span><span class="sxs-lookup"><span data-stu-id="3b57c-111">This transformation has two inputs and one output.</span></span> <span data-ttu-id="3b57c-112">它不支持错误输出。</span><span class="sxs-lookup"><span data-stu-id="3b57c-112">It does not support an error output.</span></span>  
  
## <a name="input-requirements"></a><span data-ttu-id="3b57c-113">输入要求</span><span class="sxs-lookup"><span data-stu-id="3b57c-113">Input Requirements</span></span>  
 <span data-ttu-id="3b57c-114">合并联接转换要求输入已排序的数据。</span><span class="sxs-lookup"><span data-stu-id="3b57c-114">The Merge Join Transformation requires sorted data for its inputs.</span></span> <span data-ttu-id="3b57c-115">有关此重要要求的详细信息，请参阅 [为合并转换和合并联接转换排序数据](sort-data-for-the-merge-and-merge-join-transformations.md)。</span><span class="sxs-lookup"><span data-stu-id="3b57c-115">For more information about this important requirement, see [Sort Data for the Merge and Merge Join Transformations](sort-data-for-the-merge-and-merge-join-transformations.md).</span></span>  
  
## <a name="join-requirements"></a><span data-ttu-id="3b57c-116">联接要求</span><span class="sxs-lookup"><span data-stu-id="3b57c-116">Join Requirements</span></span>  
 <span data-ttu-id="3b57c-117">合并联接转换要求被联接的列具有匹配的元数据。</span><span class="sxs-lookup"><span data-stu-id="3b57c-117">The Merge Join transformation requires that the joined columns have matching metadata.</span></span> <span data-ttu-id="3b57c-118">例如，不能将具有数值数据类型的列和具有字符数据类型的列相联接。</span><span class="sxs-lookup"><span data-stu-id="3b57c-118">For example, you cannot join a column that has a numeric data type with a column that has a character data type.</span></span> <span data-ttu-id="3b57c-119">如果数据为字符串数据类型，第二个输入中列的长度必须小于或等于被合并的第一个输入中列的长度。</span><span class="sxs-lookup"><span data-stu-id="3b57c-119">If the data has a string data type, the length of the column in the second input must be less than or equal to the length of the column in the first input with which it is merged.</span></span>  
  
## <a name="buffer-throttling"></a><span data-ttu-id="3b57c-120">缓冲区中止</span><span class="sxs-lookup"><span data-stu-id="3b57c-120">Buffer Throttling</span></span>  
 <span data-ttu-id="3b57c-121">您不再必须配置 `MaxBuffersPerInput` 属性的值，因为 Microsoft 已进行了更改，减少了合并联接转换将占用过多内存的风险。</span><span class="sxs-lookup"><span data-stu-id="3b57c-121">You no longer have to configure the value of the `MaxBuffersPerInput` property because Microsoft has made changes that reduce the risk that the Merge Join transformation will consume excessive memory.</span></span> <span data-ttu-id="3b57c-122">在合并联接的多个输入以不相等速率生成数据时，有时候可能会发生此问题。</span><span class="sxs-lookup"><span data-stu-id="3b57c-122">This problem sometimes occurred when the multiple inputs of the Merge Join produced data at uneven rates.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="3b57c-123">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="3b57c-123">Related Tasks</span></span>  
 <span data-ttu-id="3b57c-124">可以通过 [!INCLUDE[ssIS](../../../includes/ssis-md.md)] 设计器或以编程方式来设置属性。</span><span class="sxs-lookup"><span data-stu-id="3b57c-124">You can set properties through the [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="3b57c-125">有关如何设置此转换的属性的信息，请单击下列主题之一：</span><span class="sxs-lookup"><span data-stu-id="3b57c-125">For information about how to set properties of this transformation, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="3b57c-126">使用合并联接转换扩展数据集</span><span class="sxs-lookup"><span data-stu-id="3b57c-126">Extend a Dataset by Using the Merge Join Transformation</span></span>](merge-join-transformation.md)  
  
-   [<span data-ttu-id="3b57c-127">设置数据流组件的属性</span><span class="sxs-lookup"><span data-stu-id="3b57c-127">Set the Properties of a Data Flow Component</span></span>](../set-the-properties-of-a-data-flow-component.md)  
  
-   [<span data-ttu-id="3b57c-128">为合并转换和合并联接转换排序数据</span><span class="sxs-lookup"><span data-stu-id="3b57c-128">Sort Data for the Merge and Merge Join Transformations</span></span>](sort-data-for-the-merge-and-merge-join-transformations.md)  
  
## <a name="see-also"></a><span data-ttu-id="3b57c-129">另请参阅</span><span class="sxs-lookup"><span data-stu-id="3b57c-129">See Also</span></span>  
 <span data-ttu-id="3b57c-130">[合并联接转换编辑器](../../merge-join-transformation-editor.md) </span><span class="sxs-lookup"><span data-stu-id="3b57c-130">[Merge Join Transformation Editor](../../merge-join-transformation-editor.md) </span></span>  
 <span data-ttu-id="3b57c-131">[合并转换](merge-transformation.md) </span><span class="sxs-lookup"><span data-stu-id="3b57c-131">[Merge Transformation](merge-transformation.md) </span></span>  
 <span data-ttu-id="3b57c-132">[Union All 转换](union-all-transformation.md) </span><span class="sxs-lookup"><span data-stu-id="3b57c-132">[Union All Transformation](union-all-transformation.md) </span></span>  
 [<span data-ttu-id="3b57c-133">Integration Services 转换</span><span class="sxs-lookup"><span data-stu-id="3b57c-133">Integration Services Transformations</span></span>](integration-services-transformations.md)  
  
  
