---
title: 项目和包的部署 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: bea8ce8d-cf63-4257-840a-fc9adceade8c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: fc225cf962a127cbce91051a83d3c80cb20003eb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690742"
---
# <a name="deployment-of-projects-and-packages"></a><span data-ttu-id="11644-102">项目和包的部署</span><span class="sxs-lookup"><span data-stu-id="11644-102">Deployment of Projects and Packages</span></span>
  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="11644-103">支持两种部署模型：项目部署模型和包部署模型。</span><span class="sxs-lookup"><span data-stu-id="11644-103">supports two deployment models, the project deployment model and the package deployment model.</span></span> <span data-ttu-id="11644-104">项目部署模型使您可以将项目部署到 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 服务器。</span><span class="sxs-lookup"><span data-stu-id="11644-104">The project deployment model enables you to deploy your projects to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server.</span></span>  
  
 <span data-ttu-id="11644-105">有关将项目部署到 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 服务器的详细信息，请参阅 [将项目部署到 Integration Services 服务器](../deploy-projects-to-integration-services-server.md)。</span><span class="sxs-lookup"><span data-stu-id="11644-105">For more information about deploying projects to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server, see [Deploy Projects to Integration Services Server](../deploy-projects-to-integration-services-server.md).</span></span>  
  
 <span data-ttu-id="11644-106">有关包部署模型的详细信息，请参阅[包部署 &#40;SSIS&#41;](legacy-package-deployment-ssis.md)。</span><span class="sxs-lookup"><span data-stu-id="11644-106">For more information about the package deployment model, see [Package Deployment &#40;SSIS&#41;](legacy-package-deployment-ssis.md).</span></span>  
  
## <a name="compare-project-deployment-and-package-deployment"></a><span data-ttu-id="11644-107">比较项目部署和包部署</span><span class="sxs-lookup"><span data-stu-id="11644-107">Compare Project Deployment and Package Deployment</span></span>  
 <span data-ttu-id="11644-108">您为项目选择的部署模型的类型将决定可用于该项目的开发和管理选项。</span><span class="sxs-lookup"><span data-stu-id="11644-108">The type of deployment model that you choose for a project determines which development and administrative options are available for that project.</span></span> <span data-ttu-id="11644-109">下表显示使用项目部署模型和使用包部署模型之间的差异和相似之处。</span><span class="sxs-lookup"><span data-stu-id="11644-109">The following table shows the differences and similarities between using the project deployment model and using the package deployment model.</span></span>  
  
|<span data-ttu-id="11644-110">在使用项目部署模型时</span><span class="sxs-lookup"><span data-stu-id="11644-110">When Using the Project Deployment Model</span></span>|<span data-ttu-id="11644-111">使用包部署模型时</span><span class="sxs-lookup"><span data-stu-id="11644-111">When Using the Package Deployment Model</span></span>|  
|---------------------------------------------|---------------------------------------------|  
|<span data-ttu-id="11644-112">项目是部署单元。</span><span class="sxs-lookup"><span data-stu-id="11644-112">A project is the unit of deployment.</span></span>|<span data-ttu-id="11644-113">包是部署单元。</span><span class="sxs-lookup"><span data-stu-id="11644-113">A package is the unit of deployment.</span></span>|  
|<span data-ttu-id="11644-114">参数用于向包属性赋值。</span><span class="sxs-lookup"><span data-stu-id="11644-114">Parameters are used to assign values to package properties.</span></span>|<span data-ttu-id="11644-115">配置用于向包属性赋值。</span><span class="sxs-lookup"><span data-stu-id="11644-115">Configurations are used to assign values to package properties.</span></span>|  
|<span data-ttu-id="11644-116">将包含包和参数的项目生成为一个项目部署文件（.ispac 扩展名）。</span><span class="sxs-lookup"><span data-stu-id="11644-116">A project, containing packages and parameters, is built to a project deployment file (.ispac extension).</span></span>|<span data-ttu-id="11644-117">包（.dtsx 扩展名）和配置（.dtsConfig 扩展名）单独保存到文件系统中。</span><span class="sxs-lookup"><span data-stu-id="11644-117">Packages (.dtsx extension) and configurations (.dtsConfig extension) are saved individually to the file system.</span></span>|  
|<span data-ttu-id="11644-118">将包含包和参数的项目部署到 SQL Server 实例上的 SSISDB 目录中。</span><span class="sxs-lookup"><span data-stu-id="11644-118">A project, containing packages and parameters, is deployed to the SSISDB catalog on an instance of SQL Server.</span></span>|<span data-ttu-id="11644-119">包和配置复制到另一台计算机上的文件系统中。</span><span class="sxs-lookup"><span data-stu-id="11644-119">Packages and configurations are copied to the file system on another computer.</span></span> <span data-ttu-id="11644-120">包也可以保存到 SQL Server 实例上的 MSDB 数据库中。</span><span class="sxs-lookup"><span data-stu-id="11644-120">Packages can also be saved to the MSDB database on an instance of SQL Server.</span></span>|  
|<span data-ttu-id="11644-121">数据库引擎需要 CLR 集成。</span><span class="sxs-lookup"><span data-stu-id="11644-121">CLR integration is required on the database engine.</span></span>|<span data-ttu-id="11644-122">数据库引擎不需要 CLR 集成。</span><span class="sxs-lookup"><span data-stu-id="11644-122">CLR integration is not required on the database engine.</span></span>|  
|<span data-ttu-id="11644-123">特定于环境的参数值存储于环境变量中。</span><span class="sxs-lookup"><span data-stu-id="11644-123">Environment-specific parameter values are stored in environment variables.</span></span>|<span data-ttu-id="11644-124">特定于环境的配置值存储于配置文件中。</span><span class="sxs-lookup"><span data-stu-id="11644-124">Environment-specific configuration values are stored in configuration files.</span></span>|  
|<span data-ttu-id="11644-125">可在执行前在服务器上验证目录中的项目和包。</span><span class="sxs-lookup"><span data-stu-id="11644-125">Projects and packages in the catalog can be validated on the server before execution.</span></span> <span data-ttu-id="11644-126">可以使用 SQL Server Management Studio、存储过程或托管代码执行该验证。</span><span class="sxs-lookup"><span data-stu-id="11644-126">You can use SQL Server Management Studio, stored procedures, or managed code to perform the validation.</span></span>|<span data-ttu-id="11644-127">恰好在执行之前对包进行验证。</span><span class="sxs-lookup"><span data-stu-id="11644-127">Packages are validated just before execution.</span></span> <span data-ttu-id="11644-128">还可以使用 dtExec 或托管代码验证包。</span><span class="sxs-lookup"><span data-stu-id="11644-128">You can also validate a package with dtExec or managed code.</span></span>|  
|<span data-ttu-id="11644-129">通过对数据库引擎启动执行，来执行包。</span><span class="sxs-lookup"><span data-stu-id="11644-129">Packages are executed by starting an execution on the database engine.</span></span> <span data-ttu-id="11644-130">在开始执行前，将项目标识符、显式参数值（可选）和环境引用（可选）分配给某一执行。</span><span class="sxs-lookup"><span data-stu-id="11644-130">A project identifier, explicit parameter values (optional), and environment references (optional) are assigned to an execution before it is started.</span></span><br /><br /> <span data-ttu-id="11644-131">还可以使用 `dtExec` 执行包。</span><span class="sxs-lookup"><span data-stu-id="11644-131">You can also execute packages using `dtExec`.</span></span>|<span data-ttu-id="11644-132">使用 `dtExec` 和 `DTExecUI` 执行实用工具执行包。</span><span class="sxs-lookup"><span data-stu-id="11644-132">Packages are executed using the `dtExec` and `DTExecUI` execution utilities.</span></span> <span data-ttu-id="11644-133">适用配置是通过命令提示符参数（可选）来标识的。</span><span class="sxs-lookup"><span data-stu-id="11644-133">Applicable configurations are identified by command-prompt arguments (optional).</span></span>|  
|<span data-ttu-id="11644-134">在执行过程中，包生成的事件将自动捕获并保存到目录中。</span><span class="sxs-lookup"><span data-stu-id="11644-134">During execution, events that are produced by the package are captured automatically and saved to the catalog.</span></span> <span data-ttu-id="11644-135">您可以使用 TRANSACT-SQL 视图查询这些事件。</span><span class="sxs-lookup"><span data-stu-id="11644-135">You can query these events with Transact-SQL views.</span></span>|<span data-ttu-id="11644-136">在执行过程中，包生成的事件不自动捕获。</span><span class="sxs-lookup"><span data-stu-id="11644-136">During execution, events that are produced by a package are not captured automatically.</span></span> <span data-ttu-id="11644-137">日志提供程序必须添加到包以便捕获事件。</span><span class="sxs-lookup"><span data-stu-id="11644-137">A log provider must be added to the package to capture events.</span></span>|  
|<span data-ttu-id="11644-138">包在单独的 Windows 进程中运行。</span><span class="sxs-lookup"><span data-stu-id="11644-138">Packages are run in a separate Windows process.</span></span>|<span data-ttu-id="11644-139">包在单独的 Windows 进程中运行。</span><span class="sxs-lookup"><span data-stu-id="11644-139">Packages are run in a separate Windows process.</span></span>|  
|<span data-ttu-id="11644-140">SQL Server 代理用于计划包执行。</span><span class="sxs-lookup"><span data-stu-id="11644-140">SQL Server Agent is used to schedule package execution.</span></span>|<span data-ttu-id="11644-141">SQL Server 代理用于计划包执行。</span><span class="sxs-lookup"><span data-stu-id="11644-141">SQL Server Agent is used to schedule package execution.</span></span>|  
  
## <a name="features-of-project-deployment-model"></a><span data-ttu-id="11644-142">项目部署模型的功能</span><span class="sxs-lookup"><span data-stu-id="11644-142">Features of Project Deployment Model</span></span>  
 <span data-ttu-id="11644-143">下表列出的功能仅可用于为项目部署模型开发的项目。</span><span class="sxs-lookup"><span data-stu-id="11644-143">The following table lists the features that are available to projects developed only for the project deployment model.</span></span>  
  
|<span data-ttu-id="11644-144">功能</span><span class="sxs-lookup"><span data-stu-id="11644-144">Feature</span></span>|<span data-ttu-id="11644-145">说明</span><span class="sxs-lookup"><span data-stu-id="11644-145">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="11644-146">参数</span><span class="sxs-lookup"><span data-stu-id="11644-146">Parameters</span></span>|<span data-ttu-id="11644-147">参数指定包将使用的数据。</span><span class="sxs-lookup"><span data-stu-id="11644-147">A parameter specifies the data that will be used by a package.</span></span> <span data-ttu-id="11644-148">您可以分别使用包参数和项目参数将参数范围限定在包级别或项目级别。</span><span class="sxs-lookup"><span data-stu-id="11644-148">You can scope parameters to the package level or project level with package parameters and project parameters, respectively.</span></span> <span data-ttu-id="11644-149">参数可用于表达式或任务中。</span><span class="sxs-lookup"><span data-stu-id="11644-149">Parameters can be used in expressions or tasks.</span></span> <span data-ttu-id="11644-150">在将项目部署到目录时，可为每个参数分配文字值，或者使用在设计时分配的默认值。</span><span class="sxs-lookup"><span data-stu-id="11644-150">When the project is deployed to the catalog, you can assign a literal value for each parameter or use the default value that was assigned at design time.</span></span> <span data-ttu-id="11644-151">还可以引用环境变量来代替文字值。</span><span class="sxs-lookup"><span data-stu-id="11644-151">In place of a literal value, you can also reference an environment variable.</span></span> <span data-ttu-id="11644-152">在包执行时解析环境变量值。</span><span class="sxs-lookup"><span data-stu-id="11644-152">Environment variable values are resolved at the time of package execution.</span></span>|  
|<span data-ttu-id="11644-153">环境</span><span class="sxs-lookup"><span data-stu-id="11644-153">Environments</span></span>|<span data-ttu-id="11644-154">环境是可由 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 项目引用的变量的容器。</span><span class="sxs-lookup"><span data-stu-id="11644-154">An environment is a container of variables that can be referenced by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] projects.</span></span> <span data-ttu-id="11644-155">每个项目可以具有多个环境引用，但包执行的单个实例只能引用来自单个环境的变量。</span><span class="sxs-lookup"><span data-stu-id="11644-155">Each project can have multiple environment references, but a single instance of package execution can only reference variables from a single environment.</span></span> <span data-ttu-id="11644-156">环境允许您对分配给包的值进行组织。</span><span class="sxs-lookup"><span data-stu-id="11644-156">Environments allow you to organize the values that you assign to a package.</span></span> <span data-ttu-id="11644-157">例如，您可以具有名为“开发”、“测试”和“生产”的环境。</span><span class="sxs-lookup"><span data-stu-id="11644-157">For example, you might have environments named "Dev", "test", and "Production".</span></span>|  
|<span data-ttu-id="11644-158">环境变量</span><span class="sxs-lookup"><span data-stu-id="11644-158">Environment variables</span></span>|<span data-ttu-id="11644-159">环境变量定义可在包执行过程中赋给参数的文字值。</span><span class="sxs-lookup"><span data-stu-id="11644-159">An environment variable defines a literal value that can be assigned to a parameter during package execution.</span></span> <span data-ttu-id="11644-160">若要使用某一环境变量，请创建环境引用（在与具有参数的环境相对应的项目中），向该环境变量的名称分配某一参数值，并且在配置执行实例时指定相应的环境引用。</span><span class="sxs-lookup"><span data-stu-id="11644-160">To use an environment variable, create an environment reference (in the project that corresponds to the environment having the parameter), assign a parameter value to the name of the environment variable, and specify the corresponding environment reference when you configure an instance of execution.</span></span>|  
|<span data-ttu-id="11644-161">SSISDB 目录</span><span class="sxs-lookup"><span data-stu-id="11644-161">SSISDB catalog</span></span>|<span data-ttu-id="11644-162">所有 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 对象都在某一 SQL Server 实例上称作 SSISDB 目录的数据库中进行存储和管理。</span><span class="sxs-lookup"><span data-stu-id="11644-162">All [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] objects are stored and managed on an instance of SQL Server in a database referred to as the SSISDB catalog.</span></span> <span data-ttu-id="11644-163">通过该目录，您可以使用文件夹组织您的项目和环境。</span><span class="sxs-lookup"><span data-stu-id="11644-163">The catalog allows you to use folders to organize your projects and environments.</span></span> <span data-ttu-id="11644-164">每个 SQL Server 实例可具有一个目录。</span><span class="sxs-lookup"><span data-stu-id="11644-164">Each instance of SQL Server can have one catalog.</span></span> <span data-ttu-id="11644-165">每个目录中可具有零个或多个文件夹。</span><span class="sxs-lookup"><span data-stu-id="11644-165">Each catalog can have zero or more folders.</span></span> <span data-ttu-id="11644-166">每个文件夹可具有零个或多个项目以及零个或多个环境。</span><span class="sxs-lookup"><span data-stu-id="11644-166">Each folder can have zero or more projects and zero or more environments.</span></span> <span data-ttu-id="11644-167">该目录中的文件夹也可以用作针对 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 对象的权限的边界。</span><span class="sxs-lookup"><span data-stu-id="11644-167">A folder in the catalog can also be used as a boundary for permissions to [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] objects.</span></span>|  
|<span data-ttu-id="11644-168">目录存储过程和视图</span><span class="sxs-lookup"><span data-stu-id="11644-168">Catalog stored procedures and views</span></span>|<span data-ttu-id="11644-169">可以使用大量存储过程和视图来管理该目录中的 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 对象。</span><span class="sxs-lookup"><span data-stu-id="11644-169">A large number of stored procedures and views can be used to manage [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] objects in the catalog.</span></span> <span data-ttu-id="11644-170">例如，您可以指定参数和环境变量值，创建和启动执行，以及监视目录操作。</span><span class="sxs-lookup"><span data-stu-id="11644-170">For example, you can specify values to parameters and environment variables, create and start executions, and monitor catalog operations.</span></span> <span data-ttu-id="11644-171">您甚至可以精确看到在执行开始前将由包使用的值。</span><span class="sxs-lookup"><span data-stu-id="11644-171">You can even see exactly which values will be used by a package before execution starts.</span></span>|  
  
## <a name="project-deployment"></a><span data-ttu-id="11644-172">项目部署</span><span class="sxs-lookup"><span data-stu-id="11644-172">Project Deployment</span></span>  
 <span data-ttu-id="11644-173">项目部署模型的中心是项目部署文件（.ispac 扩展名）。</span><span class="sxs-lookup"><span data-stu-id="11644-173">At the center of the project deployment model is the project deployment file (.ispac extension).</span></span> <span data-ttu-id="11644-174">该项目部署文件是自包含的部署单元，仅包含与项目中的包和参数有关的基本信息。</span><span class="sxs-lookup"><span data-stu-id="11644-174">The project deployment file is a self-contained unit of deployment that includes only the essential information about the packages and parameters in the project.</span></span> <span data-ttu-id="11644-175">该项目部署文件不捕获在 Integration Services 项目文件（.dtproj 扩展名）中包含的所有信息。</span><span class="sxs-lookup"><span data-stu-id="11644-175">The project deployment file does not capture all of the information contained in the Integration Services project file (.dtproj extension).</span></span> <span data-ttu-id="11644-176">例如，您用于撰写备注的附加文本文件不存储于该项目部署文件中，因此不部署到目录中。</span><span class="sxs-lookup"><span data-stu-id="11644-176">For example, additional text files that you use for writing notes are not stored in the project deployment file and thus are not deployed to the catalog.</span></span>  
  
## <a name="required-tasks"></a><span data-ttu-id="11644-177">所需磁盘数</span><span class="sxs-lookup"><span data-stu-id="11644-177">Required Tasks</span></span>  
  
-   [<span data-ttu-id="11644-178">Deploy Projects to Integration Services Server</span><span class="sxs-lookup"><span data-stu-id="11644-178">Deploy Projects to Integration Services Server</span></span>](../deploy-projects-to-integration-services-server.md)  
  
## <a name="related-content"></a><span data-ttu-id="11644-179">相关内容</span><span class="sxs-lookup"><span data-stu-id="11644-179">Related Content</span></span>  
 <span data-ttu-id="11644-180">mattmasson.com 上的博客文章 [考虑一下针对 SSIS 项目的分支策略](https://go.microsoft.com/fwlink/?LinkId=245739)。</span><span class="sxs-lookup"><span data-stu-id="11644-180">Blog entry, [Thoughts on Branching Strategies for SSIS Projects](https://go.microsoft.com/fwlink/?LinkId=245739), on mattmasson.com.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="11644-181">另请参阅</span><span class="sxs-lookup"><span data-stu-id="11644-181">See Also</span></span>  
 [<span data-ttu-id="11644-182">dtexec 实用工具</span><span class="sxs-lookup"><span data-stu-id="11644-182">dtexec Utility</span></span>](dtexec-utility.md)  
  
  
