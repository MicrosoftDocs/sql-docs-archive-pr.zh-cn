---
title: Change Data Capture Service for Oracle by Attunity 系统体系结构 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 1db6c737-3c60-4066-a0a3-3611e1c83e4e
author: chugugrace
ms.author: chugu
ms.openlocfilehash: c78cf38f64abf31fe22392ab7c7bafe90a2e6b11
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87587562"
---
# <a name="change-data-capture-service-for-oracle-by-attunity-system-architecture"></a><span data-ttu-id="34e1c-102">Change Data Capture Service for Oracle by Attunity 系统体系结构</span><span class="sxs-lookup"><span data-stu-id="34e1c-102">Change Data Capture Service for Oracle by Attunity System Architecture</span></span>
  <span data-ttu-id="34e1c-103">Oracle CDC 服务将对一个或多个源 Oracle 数据库中所选表的更改捕获到 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例上的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC 数据库中。</span><span class="sxs-lookup"><span data-stu-id="34e1c-103">The CDC Service for Oracle captures changes made to selected tables in one or more source Oracle databases into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC databases located on a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="34e1c-104">下面的关系图显示构成 Oracle CDC 服务的各组件。</span><span class="sxs-lookup"><span data-stu-id="34e1c-104">The following diagram shows the components that make up the CDC Service for Oracle.</span></span>  
  
 <span data-ttu-id="34e1c-105">![服务体系结构](../media/service-architecture.gif "服务体系结构")</span><span class="sxs-lookup"><span data-stu-id="34e1c-105">![Service Architecture](../media/service-architecture.gif "Service Architecture")</span></span>  
  
 <span data-ttu-id="34e1c-106">下图阐释使用的四个平台。</span><span class="sxs-lookup"><span data-stu-id="34e1c-106">This figure illustrates four platforms that are used.</span></span> <span data-ttu-id="34e1c-107">在许多情况下，这些平台可以重叠，但此关系图表示一个标准用例。</span><span class="sxs-lookup"><span data-stu-id="34e1c-107">In many cases, these platforms can overlap, however this diagram represents a standard use case.</span></span> <span data-ttu-id="34e1c-108">例如，Oracle 和 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 数据库分别运行在单独的计算机上并且不与 Oracle CDC 服务平台或用于设计 CDC 服务的平台共享是有意义的。</span><span class="sxs-lookup"><span data-stu-id="34e1c-108">For example, it makes sense that the Oracle and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases each run on a separate computer and are not shared with the Oracle CDC Service platform or the platform from which the CDC Service is designed.</span></span> <span data-ttu-id="34e1c-109">在此图中阐释的平台是：</span><span class="sxs-lookup"><span data-stu-id="34e1c-109">The platforms illustrated in this figure are:</span></span>  
  
-   <span data-ttu-id="34e1c-110">Oracle CDC 服务：可以是安装和运行了 Oracle CDC 服务的任何支持的 Windows 计算机。</span><span class="sxs-lookup"><span data-stu-id="34e1c-110">The Oracle CDC Service: This can be any supported Windows computer where the Oracle CDC Service is installed and run.</span></span> <span data-ttu-id="34e1c-111">此平台还可以表示 Microsoft 故障转移群集中的某一群集节点（在本文档的后面将论述高可用性配置）。</span><span class="sxs-lookup"><span data-stu-id="34e1c-111">This platform may also represent a cluster node in a Microsoft failover cluster (high availability configurations are discussed later in this document).</span></span>  
  
-   <span data-ttu-id="34e1c-112">Oracle 数据库：可以是运行支持的 Oracle 数据库版本的任何计算机。</span><span class="sxs-lookup"><span data-stu-id="34e1c-112">The Oracle Database: This can be any computer where a supported version of the Oracle database runs.</span></span> <span data-ttu-id="34e1c-113">这包括运行 Windows、Linux 或所安装的 Oracle 数据库版本支持的任何其他操作系统的任何计算机。</span><span class="sxs-lookup"><span data-stu-id="34e1c-113">This includes any computer running Windows, Linux, or any other operating system supported by the version of the Oracle database installed.</span></span> <span data-ttu-id="34e1c-114">请注意，该关系图以复数形式显示此平台，因为单个 Oracle CDC 服务可以从多个源 Oracle 数据库捕获更改。</span><span class="sxs-lookup"><span data-stu-id="34e1c-114">Note that the diagram shows this platform in plural because a single Oracle CDC Service can capture changes from multiple source Oracle databases.</span></span>  
  
-   <span data-ttu-id="34e1c-115">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]：可以是运行目标 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 数据库（ [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]的支持的 SKU）的任何计算机。</span><span class="sxs-lookup"><span data-stu-id="34e1c-115">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]: This can be any computer where the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database (a supported SKU of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]) runs.</span></span> <span data-ttu-id="34e1c-116">一个 Oracle CDC 服务支持用于存储更改表和服务配置的一个 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 目标。</span><span class="sxs-lookup"><span data-stu-id="34e1c-116">An Oracle CDC Service supports one [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] target where it stores change tables and service configuration.</span></span> <span data-ttu-id="34e1c-117">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 平台还可以表示 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 的群集实例或使用 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] AlwaysOn **功能的** 的镜像实例。</span><span class="sxs-lookup"><span data-stu-id="34e1c-117">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Platform may also represent a clustered instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] or a mirrored instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] using the **AlwaysOn** feature.</span></span>  
  
-   <span data-ttu-id="34e1c-118">Oracle CDC 设计器：可以是能够访问源 Oracle 数据库和目标 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 数据库的任何支持的 Windows 计算机。</span><span class="sxs-lookup"><span data-stu-id="34e1c-118">The Oracle CDC Designer: This can be any supported Windows computer that can access the source Oracle database and the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="34e1c-119">下表描述了在上述四个平台上运行的组件。</span><span class="sxs-lookup"><span data-stu-id="34e1c-119">The following table describes the components that run on the four platforms described above.</span></span>  
  
|<span data-ttu-id="34e1c-120">组件/说明</span><span class="sxs-lookup"><span data-stu-id="34e1c-120">Component/Description</span></span>|<span data-ttu-id="34e1c-121">组件由以下项构成：</span><span class="sxs-lookup"><span data-stu-id="34e1c-121">Component consists of:</span></span>|  
|----------------------------|----------------------------|  
|<span data-ttu-id="34e1c-122">Oracle CDC 服务：这是发生了变更数据捕获活动的 Windows 服务。</span><span class="sxs-lookup"><span data-stu-id="34e1c-122">Oracle CDC Service: This is a Windows service where the change data capture activity takes place.</span></span>|<span data-ttu-id="34e1c-123">Oracle CDC 实例：Oracle CDC 服务的子进程，用来处理单个源 Oracle 数据库（每个源 Oracle 数据库有一个 Oracle CDC 实例）的变更数据捕获活动。</span><span class="sxs-lookup"><span data-stu-id="34e1c-123">Oracle CDC Instance: A sub-process of the Oracle CDC Service that handles change data capture activity for a single source Oracle database (there is one Oracle CDC instance per source Oracle database).</span></span><br /><br /> <span data-ttu-id="34e1c-124">Oracle 日志读取器：使用 Oracle 客户端读取 Oracle 事务日志。</span><span class="sxs-lookup"><span data-stu-id="34e1c-124">Oracle Log Reader: Reads Oracle transaction logs using the Oracle Client.</span></span><br /><br /> <span data-ttu-id="34e1c-125">Oracle 客户端：用于与 Oracle 进行通信的 Oracle 即时客户端。</span><span class="sxs-lookup"><span data-stu-id="34e1c-125">Oracle Client: The Oracle Instant Client used for communication with Oracle.</span></span> <span data-ttu-id="34e1c-126">这是应从 Oracle 获取并在安装 Oracle CDC 服务之前安装的必备组件。</span><span class="sxs-lookup"><span data-stu-id="34e1c-126">This is a prerequisite that should be obtained from Oracle and installed before installing the Oracle CDC Service.</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="34e1c-127">更改编写器：它将对捕获的 Oracle 表的提交的更改写入 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]更改表。</span><span class="sxs-lookup"><span data-stu-id="34e1c-127">Change Writer: This writes committed changes made to the captured Oracle table to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]change tables.</span></span> <span data-ttu-id="34e1c-128">此组件还在目标 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 数据库中维护该捕获状态。</span><span class="sxs-lookup"><span data-stu-id="34e1c-128">This component also maintains that capture state within the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database.</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="34e1c-129">ODBC 客户端：用于 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]的 Microsoft Native Client。</span><span class="sxs-lookup"><span data-stu-id="34e1c-129">ODBC Client: The Microsoft Native Client for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="34e1c-130">这是应从 Microsoft 获取并在安装 Oracle CDC 服务之前安装的必备组件。</span><span class="sxs-lookup"><span data-stu-id="34e1c-130">This is a prerequisite component that should be obtained from Microsoft and installed before installing the Oracle CDC Service.</span></span>|  
|<span data-ttu-id="34e1c-131">Oracle CDC 服务配置：这是一种 Microsoft 管理控制台管理单元，它创建 Windows 服务并且设置其配置。</span><span class="sxs-lookup"><span data-stu-id="34e1c-131">Oracle CDC Service Configuration: This is a Microsoft Management Console snap-in that creates the Windows service and sets up its configuration.</span></span>|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="34e1c-132">客户端：.NET framework 的版本 4 随附的 SQL ADO.NET 客户端。</span><span class="sxs-lookup"><span data-stu-id="34e1c-132">Client: The SQL ADO.NET client that ships with version 4 of the .NET framework.</span></span>|  
|<span data-ttu-id="34e1c-133">Oracle 数据库：从其捕获对所选表的更改的源 Oracle 数据库。</span><span class="sxs-lookup"><span data-stu-id="34e1c-133">Oracle Database: A source Oracle database from which changes to select tables are captured.</span></span>|<span data-ttu-id="34e1c-134">日志挖掘器：通过其读取 Oracle 事务日志的一种 Oracle 组件。</span><span class="sxs-lookup"><span data-stu-id="34e1c-134">Log Miner: An Oracle component through which the Oracle transaction logs are read.</span></span><br /><br /> <span data-ttu-id="34e1c-135">事务日志：联机并存档的 Oracle 重做日志，Oracle 使用这些日志来确保数据库可以回滚事务并且从失败中恢复（在该情况下，Oracle 数据库必须在存档日志模式下操作）。</span><span class="sxs-lookup"><span data-stu-id="34e1c-135">Transaction Logs: The online and archived Oracle Redo Logs that are used by Oracle to ensure that the database can roll back transactions and recover from failures (in this case, the Oracle database must operate in archive-log mode).</span></span>|  
|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="34e1c-136">实例：承载 CDC 数据库的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例。</span><span class="sxs-lookup"><span data-stu-id="34e1c-136">Instance: A [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance where the CDC databases are hosted.</span></span> <span data-ttu-id="34e1c-137">该实例可以是群集 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例（故障转移群集）或镜像数据库 (AlwaysOn)。</span><span class="sxs-lookup"><span data-stu-id="34e1c-137">This may be a clustered [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance (failover cluster) or a mirrored database (AlwaysOn).</span></span>|<span data-ttu-id="34e1c-138">MSXDBCDC 数据库：一种数据库，使用此 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例的 CDC 服务的有关信息保存在此数据库中。</span><span class="sxs-lookup"><span data-stu-id="34e1c-138">The MSXDBCDC Database: A database where information about the CDC Services working with this [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance is kept.</span></span> <span data-ttu-id="34e1c-139">它还保存与每个 CDC 服务处理的 Oracle CDC 实例有关的信息。</span><span class="sxs-lookup"><span data-stu-id="34e1c-139">It also keeps information on the Oracle CDC Instances handled by each CDC Service.</span></span> <span data-ttu-id="34e1c-140">该数据库作为 CDC 服务创建进程的一部分创建。</span><span class="sxs-lookup"><span data-stu-id="34e1c-140">This database is created as part of the CDC Service creation process.</span></span><br /><br /> <span data-ttu-id="34e1c-141">CDC 数据库：存储对源 Oracle 数据库之一进行的更改的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 数据库。</span><span class="sxs-lookup"><span data-stu-id="34e1c-141">The CDC Databases: [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases that store changes made to one of the source Oracle databases.</span></span> <span data-ttu-id="34e1c-142">将为 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC 启用 CDC 数据库，以便它们具有 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC 表和函数，从而轻松地使用来自 Oracle 的更改。</span><span class="sxs-lookup"><span data-stu-id="34e1c-142">The CDC Databases are enabled for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC so they have the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC tables and functions, making it easy to consume changes originating from Oracle.</span></span>|  
|<span data-ttu-id="34e1c-143">Oracle CDC 设计器：可帮助创建 Oracle CDC 实例的一种 Microsoft 管理控制台管理单元。</span><span class="sxs-lookup"><span data-stu-id="34e1c-143">Oracle CDC Designer: A Microsoft Management Console snap-in that helps create Oracle CDC Instances.</span></span> <span data-ttu-id="34e1c-144">使用此管理单元可以选择要捕获的表和列，提供 Oracle 连接信息以及管理 CDC 实例的生命周期。</span><span class="sxs-lookup"><span data-stu-id="34e1c-144">Use this to select the tables and columns to be captured, provide Oracle connection information and manage the life cycle of CDC Instances.</span></span>|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="34e1c-145">客户端：.NET framework 的版本 4 随附的 SQL ADO.NET 客户端。</span><span class="sxs-lookup"><span data-stu-id="34e1c-145">Client: The SQL ADO.NET client that ships with version 4 of the .NET framework.</span></span><br /><br /> <span data-ttu-id="34e1c-146">Oracle 客户端：用于与 Oracle 进行通信的 Oracle 即时客户端。</span><span class="sxs-lookup"><span data-stu-id="34e1c-146">Oracle Client: The Oracle Instant Client used for communication with Oracle.</span></span> <span data-ttu-id="34e1c-147">这是应从 Oracle 获取并在安装 Oracle CDC 服务之前安装的必备组件。</span><span class="sxs-lookup"><span data-stu-id="34e1c-147">This is a prerequisite component that should be obtained from Oracle and installed before installing the Oracle CDC Service.</span></span>|  
  
 <span data-ttu-id="34e1c-148">Oracle CDC 服务及其子 Oracle CDC 实例只能与作为客户端的源 Oracle 数据库和目标 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 实例通信。</span><span class="sxs-lookup"><span data-stu-id="34e1c-148">The Oracle CDC Service and its child Oracle CDC Instances can communicate only with the source Oracle database(s) and the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance as clients.</span></span> <span data-ttu-id="34e1c-149">它们不主动侦听任何网络和其他协议。</span><span class="sxs-lookup"><span data-stu-id="34e1c-149">They do not actively listen on any network and other protocols.</span></span> <span data-ttu-id="34e1c-150">Oracle CDC 服务监视 CDC 数据库中是否有配置更改，并且基于更新的配置更新其操作。</span><span class="sxs-lookup"><span data-stu-id="34e1c-150">The Oracle CDC Service monitors the CDC databases for configuration changes and updates its operation based on the updated configuration.</span></span>  
  
  
