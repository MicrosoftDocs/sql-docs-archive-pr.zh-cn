---
title: 部署清单：通过将 PowerPivot 服务器添加到 SharePoint 2010 场进行扩展 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 2dbddcc7-427a-4537-a8e2-56d99b9d967d
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 91a0ff978020c29ecc5c52a336f8b7aab065fc1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588890"
---
# <a name="deployment-checklist-scale-out-by-adding-powerpivot-servers-to-a-sharepoint-2010-farm"></a><span data-ttu-id="28f59-102">部署清单：通过将 PowerPivot 服务器添加到 SharePoint 2010 场进行扩展</span><span class="sxs-lookup"><span data-stu-id="28f59-102">Deployment Checklist: Scale-out by adding PowerPivot Servers to a SharePoint 2010 farm</span></span>
  <span data-ttu-id="28f59-103">如果您预期在 SharePoint 场中对 PowerPivot 查询处理有大量请求，则可以通过添加额外的 PowerPivot for SharePoint 实例来无缝地添加新的查询和数据处理支持。</span><span class="sxs-lookup"><span data-stu-id="28f59-103">If you anticipate a high volume of requests for PowerPivot query processing in a SharePoint farm, you can add an extra PowerPivot for SharePoint instance to seamlessly add new query and data processing support.</span></span>  
  
 <span data-ttu-id="28f59-104">安装新的实例后，您就有了额外的容量进行 PowerPivot 数据查询或处理 PowerPivot 数据刷新作业。</span><span class="sxs-lookup"><span data-stu-id="28f59-104">After you install a new instance, you will have additional capacity for querying PowerPivot data or processing PowerPivot data refresh jobs.</span></span> <span data-ttu-id="28f59-105">此外，您也可以选择将每台服务器配置为只处理一种类型的请求：查询或数据刷新。</span><span class="sxs-lookup"><span data-stu-id="28f59-105">Optionally, you will have the choice of configuring each server to handle one type of request: query or data refresh.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="28f59-106">必备条件</span><span class="sxs-lookup"><span data-stu-id="28f59-106">Prerequisites</span></span>  
 <span data-ttu-id="28f59-107">已安装并已配置 SharePoint Server 2010。</span><span class="sxs-lookup"><span data-stu-id="28f59-107">SharePoint Server 2010 is installed and configured.</span></span>  
  
 <span data-ttu-id="28f59-108">已应用 SharePoint Server 2010 SP1，并且已升级场。</span><span class="sxs-lookup"><span data-stu-id="28f59-108">SharePoint Server 2010 SP1 is applied and the farm is upgraded.</span></span>  
  
 <span data-ttu-id="28f59-109">场中的现有 PowerPivot for SharePoint 实例为 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]（新安装或从 SQL Server 2008 R2 升级）。</span><span class="sxs-lookup"><span data-stu-id="28f59-109">The existing PowerPivot for SharePoint instance in the farm is [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] (either a new installation or upgraded from SQL Server 2008 R2).</span></span>  
  
 <span data-ttu-id="28f59-110">您要在其上安装新 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] PowerPivot for SharePoint 服务器的计算机已加入场中。</span><span class="sxs-lookup"><span data-stu-id="28f59-110">The computer on which you are installing the new [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] PowerPivot for SharePoint server is joined to the farm.</span></span> <span data-ttu-id="28f59-111">场中的计算机和其他服务器必须位于同一域中。</span><span class="sxs-lookup"><span data-stu-id="28f59-111">The computer and the other servers in the farm must be in the same domain.</span></span>  
  
 <span data-ttu-id="28f59-112">查看以下其他主题以了解系统和版本要求：</span><span class="sxs-lookup"><span data-stu-id="28f59-112">Review the following additional topics to understand system and version requirements:</span></span>  
  
-   [<span data-ttu-id="28f59-113">在 SharePoint 2010 场中使用 SQL Server BI 功能的指南</span><span class="sxs-lookup"><span data-stu-id="28f59-113">Guidance for Using SQL Server BI Features in a SharePoint 2010 Farm</span></span>](../../../2014/sql-server/install/guidance-for-using-sql-server-bi-features-in-a-sharepoint-2010-farm.md)  
  
> [!NOTE]  
>  <span data-ttu-id="28f59-114">在多服务器场中，所有 PowerPivot for SharePoint 实例必须具有相同的版本。</span><span class="sxs-lookup"><span data-stu-id="28f59-114">In a multi-server farm, all PowerPivot for SharePoint instances must be at the same version.</span></span> <span data-ttu-id="28f59-115">如果已对场中的其他 PowerPivot 服务器应用 Service Pack 或更新，则将要添加的新实例也必须进行相应的更新，使其版本与场中现有实例的版本一致。</span><span class="sxs-lookup"><span data-stu-id="28f59-115">If you applied service packs or updates to other PowerPivot servers that are already in the farm, the new instance you are adding must be updated to the same version as the existing instance that is already in the farm.</span></span> <span data-ttu-id="28f59-116">在应用更新之前，新实例将不可用。</span><span class="sxs-lookup"><span data-stu-id="28f59-116">The new instance will be unavailable until the updates have been applied.</span></span>  
  
## <a name="steps"></a><span data-ttu-id="28f59-117">步骤</span><span class="sxs-lookup"><span data-stu-id="28f59-117">Steps</span></span>  
 <span data-ttu-id="28f59-118">使用此核对清单将其他 PowerPivot 服务器添加到 SharePoint 场。</span><span class="sxs-lookup"><span data-stu-id="28f59-118">Use this checklist to add additional PowerPivot servers to a SharePoint farm.</span></span> <span data-ttu-id="28f59-119">这些说明假定您已在场中设置了一个 PowerPivot for SharePoint 服务器，并且正要添加第二个服务器以处理额外的处理负荷。</span><span class="sxs-lookup"><span data-stu-id="28f59-119">These instructions assume that you already have a PowerPivot for SharePoint server in the farm, and that you are adding a second server to handle additional processing load.</span></span> <span data-ttu-id="28f59-120">除了在安装要求、安装后配置和验证方面存在差异外，用于部署扩展解决方案的步骤与向现有场添加单个 PowerPivot 服务器的步骤完全相同。</span><span class="sxs-lookup"><span data-stu-id="28f59-120">Except for differences in installation requirements, post-install configuration, and verification, the steps for deploying a scale-out solution are identical to adding a single PowerPivot server to an existing farm.</span></span>  
  
|<span data-ttu-id="28f59-121">步骤</span><span class="sxs-lookup"><span data-stu-id="28f59-121">Step</span></span>|<span data-ttu-id="28f59-122">链接</span><span class="sxs-lookup"><span data-stu-id="28f59-122">Link</span></span>|  
|----------|----------|  
|<span data-ttu-id="28f59-123">确定已在场中的 Analysis Services 实例的服务帐户</span><span class="sxs-lookup"><span data-stu-id="28f59-123">Determine the service account of the Analysis Services instance that is already in the farm</span></span>|<span data-ttu-id="28f59-124">您安装的每个附加实例在运行时使用的帐户必须与第一个实例使用的帐户相同。</span><span class="sxs-lookup"><span data-stu-id="28f59-124">Each additional instance you install must run under the same account as the first instance.</span></span> <span data-ttu-id="28f59-125">使用以下两种方法之一可以确定服务帐户：</span><span class="sxs-lookup"><span data-stu-id="28f59-125">Use either approach to determine the service account:</span></span><br /><br /> <span data-ttu-id="28f59-126">在 "管理中心" 的 "安全性" 部分，单击 "**配置服务帐户**"。</span><span class="sxs-lookup"><span data-stu-id="28f59-126">In Central Administration, in the Security section, click **Configure Service Accounts**.</span></span> <span data-ttu-id="28f59-127">选择 " **Windows 服务-SQL Server Analysis Services**"。</span><span class="sxs-lookup"><span data-stu-id="28f59-127">Select **Windows Service - SQL Server Analysis Services**.</span></span> <span data-ttu-id="28f59-128">在选择该服务后，服务帐户名称将显示在页面中。</span><span class="sxs-lookup"><span data-stu-id="28f59-128">After you select the service, the service account name will appear in the page.</span></span><br /><br /> <span data-ttu-id="28f59-129">在已安装 PowerPivot 服务的服务器上，在 "管理工具" 中打开 "**服务**" 控制台应用程序。</span><span class="sxs-lookup"><span data-stu-id="28f59-129">On a server that already has a PowerPivot service installation, open the **Services** console application in Administrative Tools.</span></span> <span data-ttu-id="28f59-130">双击**SQL Server Analysis Services**。</span><span class="sxs-lookup"><span data-stu-id="28f59-130">Double-click **SQL Server Analysis Services**.</span></span> <span data-ttu-id="28f59-131">单击 "**登录**" 选项卡以查看服务帐户。</span><span class="sxs-lookup"><span data-stu-id="28f59-131">Click the **Log On** tab to view the service account.</span></span><br /><span data-ttu-id="28f59-132">\*\* \* \* 重要 \* 提示 \* ：\*\* 只使用管理中心更改服务帐户。</span><span class="sxs-lookup"><span data-stu-id="28f59-132">**\*\* Important \*\*** Only use Central Administration to change service accounts.</span></span> <span data-ttu-id="28f59-133">如果您使用其他工具或方法，将无法在场中正确更新权限。</span><span class="sxs-lookup"><span data-stu-id="28f59-133">If you use another tool or approach, permissions will not be updated correctly in the farm.</span></span>|  
|<span data-ttu-id="28f59-134">运行安装程序以安装 PowerPivot for SharePoint 的第二个实例</span><span class="sxs-lookup"><span data-stu-id="28f59-134">Run Setup to install a second instance of PowerPivot for SharePoint</span></span>|[<span data-ttu-id="28f59-135">安装 PowerPivot for SharePoint</span><span class="sxs-lookup"><span data-stu-id="28f59-135">Install PowerPivot for SharePoint 2010</span></span>](../../../2014/sql-server/install/install-powerpivot-for-sharepoint-2010.md)<br /><br /> <span data-ttu-id="28f59-136">选择已加入场中但在其上尚无 PowerPivot 实例的应用程序服务器。</span><span class="sxs-lookup"><span data-stu-id="28f59-136">Choose an application server that is joined to the farm, but does not have an existing PowerPivot instance on the server.</span></span><br /><br /> <span data-ttu-id="28f59-137">在安装过程中，当系统提示您指定服务帐户时，请输入上一步中的帐户。</span><span class="sxs-lookup"><span data-stu-id="28f59-137">During Setup, when prompted to specify a service account, enter the account from the previous step.</span></span> <span data-ttu-id="28f59-138">Analysis Services 服务的所有实例都必须在同一域帐户下运行。</span><span class="sxs-lookup"><span data-stu-id="28f59-138">All instances of the Analysis Services service must run under the same domain account.</span></span> <span data-ttu-id="28f59-139">为了遵循这一要求，您必须在 SharePoint 中使用托管帐户功能，以便在同一位置更新同一类型的所有服务实例的密码。</span><span class="sxs-lookup"><span data-stu-id="28f59-139">This requirement enables the use of the managed accounts feature in SharePoint that lets you update the password in one place for all service instances of the same type.</span></span>|  
|<span data-ttu-id="28f59-140">配置第二个实例</span><span class="sxs-lookup"><span data-stu-id="28f59-140">Configure the second instance</span></span>|<span data-ttu-id="28f59-141">您可以使用以下两种方法之一配置实例： [PowerPivot 配置工具](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-tools)或[使用 Windows PowerShell 的 powerpivot 配置](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-using-windows-powershell)</span><span class="sxs-lookup"><span data-stu-id="28f59-141">You can use either approach to configure the instance: [PowerPivot Configuration Tools](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-tools) or [PowerPivot Configuration using Windows PowerShell](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-configuration-using-windows-powershell)</span></span><br /><br /> <span data-ttu-id="28f59-142">配置第二个实例时，您只需要设置本地服务。</span><span class="sxs-lookup"><span data-stu-id="28f59-142">When configuring a second instance, you only need to provision the local services.</span></span> <span data-ttu-id="28f59-143">所有其他配置任务（例如创建服务应用程序或配置数据刷新）均在初始配置期间执行，并由您所安装的后续实例使用。</span><span class="sxs-lookup"><span data-stu-id="28f59-143">All other configuration tasks (such as creating service applications or configuring data refresh) are performed during the initial configuration, and used by subsequent instances that you install.</span></span>|  
|<span data-ttu-id="28f59-144">安装后任务</span><span class="sxs-lookup"><span data-stu-id="28f59-144">Post-installation tasks</span></span>|<span data-ttu-id="28f59-145">无需特别执行进一步的步骤。</span><span class="sxs-lookup"><span data-stu-id="28f59-145">No further steps are specifically required.</span></span> <span data-ttu-id="28f59-146">您不需要创建服务应用程序、激活功能、部署解决方案或更改服务应用程序标识。</span><span class="sxs-lookup"><span data-stu-id="28f59-146">You do not need to create service applications, activate features, deploy solutions, or change service application identity.</span></span> <span data-ttu-id="28f59-147">现有 Web 应用程序和服务应用程序将自动发现和使用新的服务器软件。</span><span class="sxs-lookup"><span data-stu-id="28f59-147">Existing Web applications and service applications will discover and use the new server software automatically.</span></span><br /><br /> <span data-ttu-id="28f59-148">（可选）如果您安装第二个服务器是为了将一个服务器用于查询而将另一个用于数据刷新，则现在可以配置服务器实例属性以指定由每个服务器处理的请求类型。</span><span class="sxs-lookup"><span data-stu-id="28f59-148">Optionally, if you installed a second server for the purpose of using one server for queries and one for data refresh, you can configure server instance properties now to specify the type of requests handled by each server.</span></span> <span data-ttu-id="28f59-149">有关详细信息，请参阅[配置专用数据刷新或仅限查询的处理 &#40;PowerPivot for SharePoint&#41;](../../analysis-services/configure-dedicated-data-refresh-query-only-processing-powerpivot-sharepoint.md)。</span><span class="sxs-lookup"><span data-stu-id="28f59-149">For more information, see [Configure Dedicated Data Refresh or Query-Only Processing &#40;PowerPivot for SharePoint&#41;](../../analysis-services/configure-dedicated-data-refresh-query-only-processing-powerpivot-sharepoint.md).</span></span>|  
|<span data-ttu-id="28f59-150">验证第二个实例的安装</span><span class="sxs-lookup"><span data-stu-id="28f59-150">Verify installation of the second instance</span></span>|<span data-ttu-id="28f59-151">您可以使用以下步骤来验证您刚安装的服务器上的 PowerPivot 查询处理。</span><span class="sxs-lookup"><span data-stu-id="28f59-151">You can use the following steps to verify PowerPivot query processing on the server you just installed.</span></span><br /><br /> <span data-ttu-id="28f59-152">1) 在 "管理中心" 中，打开 "管理服务器上的服务" 页，确认服务器及其服务是否出现。</span><span class="sxs-lookup"><span data-stu-id="28f59-152">1) In Central Administration, open the Manage services on server page to confirm that the server and its services appear.</span></span><br /><span data-ttu-id="28f59-153">-在 "服务器" 中，单击向下箭头，单击 "更改服务器"，然后选择具有新 PowerPivot for SharePoint 安装的服务器。</span><span class="sxs-lookup"><span data-stu-id="28f59-153">-In Server, click the down arrow, click Change Server, and then select the server that has the new PowerPivot for SharePoint installation.</span></span><br /><span data-ttu-id="28f59-154">-验证是否已启动 SQL Server Analysis Services 和 SQL Server PowerPivot 系统服务。</span><span class="sxs-lookup"><span data-stu-id="28f59-154">-Verify that SQL Server Analysis Services and SQL Server PowerPivot System Service are started.</span></span><br /><br /> <span data-ttu-id="28f59-155">2) 在管理中心，停止其他 PowerPivot for SharePoint 服务器，使刚刚安装的服务器是唯一可用的服务器。</span><span class="sxs-lookup"><span data-stu-id="28f59-155">2) In Central Administration, stop other PowerPivot for SharePoint servers so that the server you just installed is the only one available.</span></span> <span data-ttu-id="28f59-156">有关详细信息，请参阅[启动或停止 PowerPivot for SharePoint 服务器](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/start-or-stop-a-power-pivot-for-sharepoint-server)。</span><span class="sxs-lookup"><span data-stu-id="28f59-156">For more information, see [Start or Stop a PowerPivot for SharePoint Server](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/start-or-stop-a-power-pivot-for-sharepoint-server).</span></span><br /><br /> <span data-ttu-id="28f59-157">3) 单击某一 PowerPivot 工作簿可从库中打开它。</span><span class="sxs-lookup"><span data-stu-id="28f59-157">3) Click a PowerPivot workbook to open it from the library.</span></span><br /><br /> <span data-ttu-id="28f59-158">4) 单击切片器或数据透视以启动查询。</span><span class="sxs-lookup"><span data-stu-id="28f59-158">4) Click a slicer or pivot the data to initiate a query.</span></span> <span data-ttu-id="28f59-159">该服务器将在后台加载 PowerPivot 数据。</span><span class="sxs-lookup"><span data-stu-id="28f59-159">The server will load PowerPivot data in the background.</span></span> <span data-ttu-id="28f59-160">在下一步骤中，您将连接到该服务器以便确认数据已加载并且缓存。</span><span class="sxs-lookup"><span data-stu-id="28f59-160">In the next step, you will connect to the server to verify the data is loaded and cached.</span></span><br /><br /> <span data-ttu-id="28f59-161">5) 从 "开始" 菜单中的 Microsoft SQL Server 程序组开始 SQL Server Management Studio。</span><span class="sxs-lookup"><span data-stu-id="28f59-161">5) Start SQL Server Management Studio from the Microsoft SQL Server program group in the Start menu.</span></span> <span data-ttu-id="28f59-162">如果未在您的服务器上安装此工具，则可以跳到最后一步以便确认缓存文件是否存在。</span><span class="sxs-lookup"><span data-stu-id="28f59-162">If this tool is not installed on your server, you can skip to the last step to confirm the presence of cached files.</span></span><br /><br /> <span data-ttu-id="28f59-163">6) 在 "服务器类型" 中选择 " **Analysis Services**"。</span><span class="sxs-lookup"><span data-stu-id="28f59-163">6) In Server Type, select **Analysis Services**.</span></span><br /><br /> <span data-ttu-id="28f59-164">7) 在 "服务器名称" 中，输入\*\* \<server-name> \powerpivot\*\*，其中 **\<server-name>** 是安装了新 PowerPivot for SharePoint 的计算机的名称。</span><span class="sxs-lookup"><span data-stu-id="28f59-164">7) In Server Name, enter **\<server-name>\powerpivot**, where **\<server-name>** is the name of the computer that has the new PowerPivot for SharePoint installation.</span></span><br /><br /> <span data-ttu-id="28f59-165">8) 单击 "**连接**"。</span><span class="sxs-lookup"><span data-stu-id="28f59-165">8) Click **Connect**.</span></span><br /><br /> <span data-ttu-id="28f59-166">9) 在对象资源管理器中，单击 "**数据库**" 查看加载的 PowerPivot 数据文件的列表。</span><span class="sxs-lookup"><span data-stu-id="28f59-166">9) In Object Explorer, click **Databases** to view the list of PowerPivot data files that are loaded.</span></span><br /><br /> <span data-ttu-id="28f59-167">10) 在计算机文件系统上，检查以下文件夹以确定文件是否已缓存到磁盘。</span><span class="sxs-lookup"><span data-stu-id="28f59-167">10) On the computer file system, check the following folder to determine whether files are cached to disk.</span></span> <span data-ttu-id="28f59-168">存在缓存文件将进一步证实您的部署正常工作。</span><span class="sxs-lookup"><span data-stu-id="28f59-168">The presence of cached files is further verification that your deployment is operational.</span></span> <span data-ttu-id="28f59-169">若要查看文件缓存，请转到 \Program Files\Microsoft SQL Server\MSAS11.POWERPIVOT\OLAP\Backup 文件夹。</span><span class="sxs-lookup"><span data-stu-id="28f59-169">To view the file cache, go to the \Program Files\Microsoft SQL Server\MSAS11.POWERPIVOT\OLAP\Backup folder.</span></span><br /><br /> <span data-ttu-id="28f59-170">11) 重新启动之前停止的服务。</span><span class="sxs-lookup"><span data-stu-id="28f59-170">11) Restart the services that you stopped earlier.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="28f59-171">另请参阅</span><span class="sxs-lookup"><span data-stu-id="28f59-171">See Also</span></span>  
 <span data-ttu-id="28f59-172">[初始配置 &#40;PowerPivot for SharePoint&#41;](../../../2014/sql-server/install/initial-configuration-powerpivot-for-sharepoint.md) </span><span class="sxs-lookup"><span data-stu-id="28f59-172">[Initial Configuration &#40;PowerPivot for SharePoint&#41;](../../../2014/sql-server/install/initial-configuration-powerpivot-for-sharepoint.md) </span></span>  
 <span data-ttu-id="28f59-173">[PowerPivot for SharePoint 2010 安装](../../../2014/sql-server/install/powerpivot-for-sharepoint-2010-installation.md) </span><span class="sxs-lookup"><span data-stu-id="28f59-173">[PowerPivot for SharePoint 2010 Installation](../../../2014/sql-server/install/powerpivot-for-sharepoint-2010-installation.md) </span></span>  
 [<span data-ttu-id="28f59-174">在管理中心中管理和配置 PowerPivot 服务器</span><span class="sxs-lookup"><span data-stu-id="28f59-174">PowerPivot Server Administration and Configuration in Central Administration</span></span>](https://docs.microsoft.com/analysis-services/power-pivot-sharepoint/power-pivot-server-administration-and-configuration-in-central-administration)  
  
  
