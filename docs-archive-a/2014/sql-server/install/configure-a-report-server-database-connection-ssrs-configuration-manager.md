---
title: 配置报表服务器数据库连接（SSRS 配置管理器）| Microsoft Docs
ms.custom: ''
ms.date: 08/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- connections [Reporting Services], configuring
- connections [Reporting Services]
- report servers [Reporting Services], connections
- report server database
- databases [Reporting Services], connections
- security [Reporting Services], database connections
ms.assetid: 9759a9fb-35e9-4215-969b-a9f1fea18487
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 879bafb45a6603aae8920e599c464af10bf1022e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87591747"
---
# <a name="configure-a-report-server-database-connection--ssrs-configuration-manager"></a><span data-ttu-id="2394a-102">配置报表服务器数据库连接（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="2394a-102">Configure a Report Server Database Connection  (SSRS Configuration Manager)</span></span>
  <span data-ttu-id="2394a-103">每个报表服务器实例都需要连接到存储由服务器管理的报表、报表模型、共享数据源、资源和元数据的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-103">Each report server instance requires a connection to the report server database that stores reports, report models, shared data sources, resources, and metadata managed by the server.</span></span> <span data-ttu-id="2394a-104">如果要安装默认配置，则可以在报表服务器安装过程中创建初始连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-104">The initial connection can be created during a report server installation if you are installing the default configuration.</span></span> <span data-ttu-id="2394a-105">多数情况下，可以在安装程序完成之后使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具配置连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-105">In most cases, you will use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to configure the connection after Setup is complete.</span></span> <span data-ttu-id="2394a-106">您可以随时修改连接，以更改帐户类型或重置凭据。</span><span class="sxs-lookup"><span data-stu-id="2394a-106">You can modify the connection at any time to change the account type or reset credentials.</span></span> <span data-ttu-id="2394a-107">有关如何创建数据库并配置连接的分步说明，请参阅[创建本机模式报表服务器数据库（SSRS 配置管理器）](../../reporting-services/install-windows/ssrs-report-server-create-a-native-mode-report-server-database.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-107">For step-by-step instructions on how to create the database and configure the connection, see [Create a Native Mode Report Server Database  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-report-server-create-a-native-mode-report-server-database.md).</span></span>  
  
 <span data-ttu-id="2394a-108">如果出现下列情况，则必须配置报表服务器数据库连接：</span><span class="sxs-lookup"><span data-stu-id="2394a-108">You must configure a report server database connection in the following circumstances:</span></span>  
  
-   <span data-ttu-id="2394a-109">为首次使用配置报表服务器。</span><span class="sxs-lookup"><span data-stu-id="2394a-109">Configuring a report server for first use.</span></span>  
  
-   <span data-ttu-id="2394a-110">配置报表服务器以使用不同的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-110">Configuring a report server to use a different report server database.</span></span>  
  
-   <span data-ttu-id="2394a-111">更改数据库连接所使用的用户帐户或密码。</span><span class="sxs-lookup"><span data-stu-id="2394a-111">Changing the user account or password that is used for the database connection.</span></span> <span data-ttu-id="2394a-112">当帐户信息存储在 RSReportServer.config 文件中时，您只需要更新数据库连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-112">You only need to update the database connection when the account information is stored in the RSReportServer.config file.</span></span> <span data-ttu-id="2394a-113">如果使用服务帐户进行连接（该帐户使用 Windows 集成安全性作为凭据类型），则不会存储密码，从而无需更新连接信息。</span><span class="sxs-lookup"><span data-stu-id="2394a-113">If you are using the service account for the connection (which uses Windows integrated security as the credential type), the password is not stored, eliminating the need to update the connection information.</span></span> <span data-ttu-id="2394a-114">有关更改帐户的详细信息，请参阅 [配置报表服务器服务帐户（SSRS 配置管理器）](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-114">For more information about changing accounts, see [Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="2394a-115">配置报表服务器扩展部署。</span><span class="sxs-lookup"><span data-stu-id="2394a-115">Configuring a report server scale-out deployment.</span></span> <span data-ttu-id="2394a-116">配置扩展部署时，您需要创建多个到报表服务器数据库的连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-116">Configuring a scale-out deployment requires that you create multiple connections to a report server database.</span></span> <span data-ttu-id="2394a-117">有关如何执行此多步操作的详细信息，请参阅[配置本机模式报表服务器扩展部署（SSRS 配置管理器）](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-117">For more information about how to perform this multi-step operation, see [Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md).</span></span>  
  
## <a name="how-reporting-services-connects-to-the-database-engine"></a><span data-ttu-id="2394a-118">Reporting Services 如何连接到数据库引擎</span><span class="sxs-lookup"><span data-stu-id="2394a-118">How Reporting Services Connects to the Database Engine</span></span>  
 <span data-ttu-id="2394a-119">报表服务器根据凭据和连接信息以及对使用该数据库的报表服务器实例有效的加密密钥来访问报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-119">Report server access to a report server database depends on credentials and connection information, and on encryption keys that are valid for the report server instance that uses that database.</span></span> <span data-ttu-id="2394a-120">拥有有效的加密密钥对于存储和检索敏感数据是必要的。</span><span class="sxs-lookup"><span data-stu-id="2394a-120">Having valid encryption keys is necessary for storing and retrieving sensitive data.</span></span> <span data-ttu-id="2394a-121">首次配置数据库时，会自动创建加密密钥。</span><span class="sxs-lookup"><span data-stu-id="2394a-121">Encryption keys are created automatically when you configure the database for the first time.</span></span> <span data-ttu-id="2394a-122">创建密钥之后，如果更改报表服务器服务标识，则必须更新这些密钥。</span><span class="sxs-lookup"><span data-stu-id="2394a-122">After the keys are created, you must update them if you change the Report Server service identity.</span></span> <span data-ttu-id="2394a-123">有关使用加密密钥的详细信息，请参阅[配置和管理加密密钥（SSRS 配置管理器）](../../reporting-services/install-windows/ssrs-encryption-keys-manage-encryption-keys.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-123">For more information about working with encryption keys, see [Configure and Manage Encryption Keys &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-manage-encryption-keys.md).</span></span>  
  
 <span data-ttu-id="2394a-124">报表服务器数据库为内部组件，只有报表服务器可以访问。</span><span class="sxs-lookup"><span data-stu-id="2394a-124">The report server database is an internal component, accessed only by the report server.</span></span> <span data-ttu-id="2394a-125">为报表服务器数据库指定的凭据和连接信息专门由报表服务器使用。</span><span class="sxs-lookup"><span data-stu-id="2394a-125">The credentials and connection information you specify for the report server database are used exclusively by the report server.</span></span> <span data-ttu-id="2394a-126">请求报表的用户不需要拥有报表服务器数据库的数据库权限或数据库登录名。</span><span class="sxs-lookup"><span data-stu-id="2394a-126">Users who request reports do not require databases permissions or a database login for the report server database.</span></span>  
  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="2394a-127">使用 `System.Data.SqlClient` 连接到承载报表服务器数据库的[!INCLUDE[ssDE](../../includes/ssde-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="2394a-127">uses `System.Data.SqlClient` to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that hosts the report server database.</span></span> <span data-ttu-id="2394a-128">如果使用的是 [!INCLUDE[ssDE](../../includes/ssde-md.md)]的本地实例，报表服务器将使用共享内存建立连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-128">If you are using a local instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], the report server will establish the connection using shared memory.</span></span> <span data-ttu-id="2394a-129">如果使用的是报表服务器数据库的远程数据库服务器，则可能必须根据所使用的版本启用远程连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-129">If you are using a remote database server for the report server database, you might have to enable remote connections depending on the edition you are using.</span></span> <span data-ttu-id="2394a-130">如果使用的是 Enterprise Edition，则默认情况下会启用 TCP/IP 远程连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-130">If you are using the Enterprise edition, remote connections are enabled for TCP/IP by default.</span></span>  
  
 <span data-ttu-id="2394a-131">若要验证实例是否接受远程连接，请依次单击“开始”、“所有程序”、[!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)]、“配置工具”、“SQL Server 配置管理器”，然后确认为每个服务启用了 TCP/IP 协议     。</span><span class="sxs-lookup"><span data-stu-id="2394a-131">To verify that the instance accepts remote connections, click **Start**, click **All Programs**, click [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)], click **Configuration Tools**, click **SQL Server Configuration Manager**, and then verify that the TCP/IP protocol is enabled for each service.</span></span>  
  
 <span data-ttu-id="2394a-132">启用远程连接时，也会启用客户端协议和服务器协议。</span><span class="sxs-lookup"><span data-stu-id="2394a-132">When you enable remote connections, the client and server protocols will also be enabled.</span></span> <span data-ttu-id="2394a-133">若要确认协议已启用，请依次单击 **“开始”** 、 **“所有程序”** 、 [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)]、 **“配置工具”** 、 **“SQL Server 配置管理器”** 、 **“SQL Server 网络配置”** ，再单击 **“MSSQLSERVER 协议”** 。</span><span class="sxs-lookup"><span data-stu-id="2394a-133">To verify the protocols are enabled, click **Start**, click **All Programs**, click [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)], click **Configuration Tools**, click **SQL Server Configuration Manager**, click **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span> <span data-ttu-id="2394a-134">有关详细信息，请参阅 [联机丛书中的](../../database-engine/configure-windows/enable-or-disable-a-server-network-protocol.md) 启用或禁用服务器网络协议 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="2394a-134">For more information, see [Enable or Disable a Server Network Protocol](../../database-engine/configure-windows/enable-or-disable-a-server-network-protocol.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="defining-a-report-server-database-connection"></a><span data-ttu-id="2394a-135">定义报表服务器数据库连接</span><span class="sxs-lookup"><span data-stu-id="2394a-135">Defining a Report Server Database Connection</span></span>  
 <span data-ttu-id="2394a-136">若要配置连接，您必须使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器工具或 **rsconfig** 命令行实用工具。</span><span class="sxs-lookup"><span data-stu-id="2394a-136">To configure the connection, you must use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager tool or the **rsconfig** command line utility.</span></span> <span data-ttu-id="2394a-137">报表服务器需要以下连接信息：</span><span class="sxs-lookup"><span data-stu-id="2394a-137">A report server requires the following connection information:</span></span>  
  
-   <span data-ttu-id="2394a-138">承载报表服务器数据库的 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例的名称。</span><span class="sxs-lookup"><span data-stu-id="2394a-138">Name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance hosting the report server database..</span></span>  
  
-   <span data-ttu-id="2394a-139">报表服务器数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="2394a-139">Name of the report server database.</span></span> <span data-ttu-id="2394a-140">首次创建连接时，可以创建新的报表服务器数据库，或选择现有数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-140">When creating a connection for the first time, you can create a new report server database or select an existing database.</span></span> <span data-ttu-id="2394a-141">有关详细信息，请参阅 [创建报表服务器数据库（SSRS 配置管理器）](../../../2014/sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-141">For more information, see [Create a Report Server Database  &#40;SSRS Configuration Manager&#41;](../../../2014/sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="2394a-142">凭据类型。</span><span class="sxs-lookup"><span data-stu-id="2394a-142">Credential type.</span></span> <span data-ttu-id="2394a-143">可以使用服务帐户、Windows 域帐户或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库登录名。</span><span class="sxs-lookup"><span data-stu-id="2394a-143">You can use the service accounts, a Windows domain account, or a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database login.</span></span>  
  
-   <span data-ttu-id="2394a-144">用户名和密码（仅在使用 Windows 域帐户或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名时需要）。</span><span class="sxs-lookup"><span data-stu-id="2394a-144">User name and password (required only if you are using Windows domain account or a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login).</span></span>  
  
 <span data-ttu-id="2394a-145">必须为所提供的凭据授予访问报表服务器数据库的权限。</span><span class="sxs-lookup"><span data-stu-id="2394a-145">The credentials that you provide must be granted access to the report server database.</span></span> <span data-ttu-id="2394a-146">如果使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具，则此步骤会自动执行。</span><span class="sxs-lookup"><span data-stu-id="2394a-146">If you use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool, this step is performed automatically.</span></span> <span data-ttu-id="2394a-147">有关访问数据库所需权限的详细信息，请参阅本主题中的“数据库权限”一节。</span><span class="sxs-lookup"><span data-stu-id="2394a-147">For more information about the permissions required to access the database, see the "Database Permissions" section in this topic.</span></span>  
  
### <a name="storing-database-connection-information"></a><span data-ttu-id="2394a-148">存储数据库连接信息</span><span class="sxs-lookup"><span data-stu-id="2394a-148">Storing Database Connection Information</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="2394a-149">在下列 RSreportserver.config 设置中存储和加密连接信息。</span><span class="sxs-lookup"><span data-stu-id="2394a-149">stores and encrypts the connection information in the following RSreportserver.config settings.</span></span> <span data-ttu-id="2394a-150">必须使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具或 rsconfig 实用工具为这些设置创建加密值。</span><span class="sxs-lookup"><span data-stu-id="2394a-150">You must use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool or rsconfig utility to create encrypted values for these settings.</span></span>  
  
 <span data-ttu-id="2394a-151">并非所有的值都针对每一种连接类型进行了设置。</span><span class="sxs-lookup"><span data-stu-id="2394a-151">Not all of the values are set for every type of connection.</span></span> <span data-ttu-id="2394a-152">如果使用默认值配置连接 (即，使用服务帐户来使连接) ，则 <`LogonUser`>、<`LogonDomain`> 和 <> `LogonCred` 将为空，如下所示：</span><span class="sxs-lookup"><span data-stu-id="2394a-152">If you configure the connection using the default values (that is, using the service accounts to make the connection), <`LogonUser`>, <`LogonDomain`>, and <`LogonCred`> will be empty, as follows:</span></span>  
  
```  
<Dsn></Dsn>  
<ConnectionType></ConnectionType>  
<LogonUser></LogonUser>  
<LogonDomain></LogonDomain>  
<LogonCred></LogonCred>  
```  
  
 <span data-ttu-id="2394a-153">如果将连接配置为使用特定的 Windows 帐户或数据库登录名，则在随后更改帐户或登录名时必须更新已存储的值。</span><span class="sxs-lookup"><span data-stu-id="2394a-153">If you configure the connection to use a specific Windows account or database login, you must remember to update the values that are stored if you subsequently change the account or login.</span></span>  
  
### <a name="choosing-a-credential-type"></a><span data-ttu-id="2394a-154">选择凭据类型</span><span class="sxs-lookup"><span data-stu-id="2394a-154">Choosing a Credential Type</span></span>  
 <span data-ttu-id="2394a-155">可以在报表服务器数据库连接中使用三种类型的凭据：</span><span class="sxs-lookup"><span data-stu-id="2394a-155">There are three types of credentials that can be used in a connection to a report server database:</span></span>  
  
-   <span data-ttu-id="2394a-156">使用报表服务器服务帐户的 Windows 集成安全性。</span><span class="sxs-lookup"><span data-stu-id="2394a-156">Windows integrated security using the Report Server service account.</span></span> <span data-ttu-id="2394a-157">由于报表服务器作为单个服务实现，因此只有运行服务的帐户需要数据库访问。</span><span class="sxs-lookup"><span data-stu-id="2394a-157">Because the report server is implemented as a single service, only the account under which the service runs requires database access.</span></span>  
  
-   <span data-ttu-id="2394a-158">Windows 用户帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-158">A Windows user account.</span></span> <span data-ttu-id="2394a-159">如果报表服务器和报表服务器数据库安装在同一台计算机上，则可以使用本地帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-159">If the report server and the report server database are installed on the same computer, you can use a local account.</span></span> <span data-ttu-id="2394a-160">否则，必须使用域帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-160">Otherwise, you must use a domain account.</span></span>  
  
-   <span data-ttu-id="2394a-161">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名。</span><span class="sxs-lookup"><span data-stu-id="2394a-161">A [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2394a-162">不能使用自定义身份验证扩展插件来连接到报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-162">A custom authentication extension cannot be used to connect to a report server database.</span></span> <span data-ttu-id="2394a-163">自定义身份验证扩展插件只能用来对报表服务器的主体进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="2394a-163">Custom authentication extensions are used only to authenticate a principal to a report server.</span></span> <span data-ttu-id="2394a-164">它们不会影响报表服务器数据库的连接，也不会影响为报表提供内容的外部数据源的连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-164">They do not affect connections to the report server database or to external data sources that provide content to reports.</span></span>  
  
 <span data-ttu-id="2394a-165">如果 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例配置为使用 Windows 身份验证且与报表服务器计算机位于同一个域或可信域中，则可将连接配置为使用通过 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具作为连接属性进行管理的服务帐户或域用户帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-165">If the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is configured for Windows Authentication and is in the same domain or a trusted domain with the report server computer, you can configure the connection to use the service account or a domain user account that you manage as a connection property through the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool.</span></span> <span data-ttu-id="2394a-166">如果数据库服务器位于另一个域中，或者您使用的是工作组安全性，则必须将连接配置为使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库登录名。</span><span class="sxs-lookup"><span data-stu-id="2394a-166">If the database server is in a different domain or if you are using workgroup security, you must configure the connection to use a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database login.</span></span> <span data-ttu-id="2394a-167">在这种情况下，一定要对连接进行加密。</span><span class="sxs-lookup"><span data-stu-id="2394a-167">In this case, be sure to encrypt the connection.</span></span>  
  
##### <a name="using-service-accounts-and-integrated-security"></a><span data-ttu-id="2394a-168">使用服务帐户和集成安全性</span><span class="sxs-lookup"><span data-stu-id="2394a-168">Using Service Accounts and Integrated Security</span></span>  
 <span data-ttu-id="2394a-169">可以使用 Windows 集成安全性通过报表服务器服务帐户进行连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-169">You can use Windows integrated security to connect through the Report Server service account.</span></span> <span data-ttu-id="2394a-170">已为此帐户授予了登录报表服务器数据库的权限。</span><span class="sxs-lookup"><span data-stu-id="2394a-170">The account is granted login rights to the report server database.</span></span> <span data-ttu-id="2394a-171">如果以默认配置安装 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，这将是安装程序选择的默认凭据类型。</span><span class="sxs-lookup"><span data-stu-id="2394a-171">This is the default credential type chosen by Setup if you install [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] in the default configuration.</span></span>  
  
 <span data-ttu-id="2394a-172">此服务帐户为可信帐户，此帐户提供一种低维护方法来管理报表服务器数据库连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-172">The service account is a trusted account that provides a low-maintenance approach to managing a report server database connection.</span></span> <span data-ttu-id="2394a-173">由于此服务帐户使用 Windows 集成安全性来建立连接，因此无需存储凭据。</span><span class="sxs-lookup"><span data-stu-id="2394a-173">Because the service account uses Windows integrated security to make the connection, the credentials do not have to be stored.</span></span> <span data-ttu-id="2394a-174">但是，如果以后要更改服务帐户密码或标识（例如从内置帐户切换到域帐户），请确保使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具进行更改。</span><span class="sxs-lookup"><span data-stu-id="2394a-174">However, if you subsequently change the service account password or identity (for example, switching from a built-in account to a domain account), be sure to use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to make the change.</span></span> <span data-ttu-id="2394a-175">该工具会将数据库权限自动更新为使用修改后的帐户信息。</span><span class="sxs-lookup"><span data-stu-id="2394a-175">The tool automatically updates the database permissions to use the revised account information.</span></span> <span data-ttu-id="2394a-176">有关详细信息，请参阅 [配置报表服务器服务帐户（SSRS 配置管理器）](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-176">For more information, see [Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md).</span></span>  
  
 <span data-ttu-id="2394a-177">将数据库连接配置为使用服务帐户时，如果报表服务器数据库位于远程计算机上，则帐户必须拥有网络权限。</span><span class="sxs-lookup"><span data-stu-id="2394a-177">If you configure the database connection to use the service account, the account must have network permissions if the report server database is on a remote computer.</span></span> <span data-ttu-id="2394a-178">如果报表服务器数据库位于不同的域中，并且位于防火墙之后，或者您使用的是工作组安全性而非域安全性，则不要使用服务帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-178">Do not use the service account if the report server database is on a different domain, behind a firewall, or if you are using workgroup security instead of domain security.</span></span> <span data-ttu-id="2394a-179">请改用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库用户帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-179">Use a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database user account instead.</span></span>  
  
##### <a name="using-a-domain-user-account"></a><span data-ttu-id="2394a-180">使用域用户帐户</span><span class="sxs-lookup"><span data-stu-id="2394a-180">Using a Domain User Account</span></span>  
 <span data-ttu-id="2394a-181">可以为报表服务器到报表服务器数据库的连接指定一个 Windows 用户帐户。</span><span class="sxs-lookup"><span data-stu-id="2394a-181">You can specify a Windows user account for the report server connection to the report server database.</span></span> <span data-ttu-id="2394a-182">如果使用本地帐户或域帐户，则每次更改密码或帐户时，必须更新报表服务器数据库连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-182">If you use a local or domain account, you must update the report server database connection every time you change the password or the account.</span></span> <span data-ttu-id="2394a-183">请始终使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具来更新连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-183">Always use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to update the connection.</span></span>  
  
##### <a name="using-a-sql-server-login"></a><span data-ttu-id="2394a-184">使用 SQL Server 登录名</span><span class="sxs-lookup"><span data-stu-id="2394a-184">Using a SQL Server Login</span></span>  
 <span data-ttu-id="2394a-185">可以指定使用一个 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名连接到报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-185">You can specify a single [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login to connect to the report server database.</span></span> <span data-ttu-id="2394a-186">如果使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 身份验证并且报表服务器数据库位于远程计算机上，则可以使用 IPSec 来协助保护服务器之间的数据传输。</span><span class="sxs-lookup"><span data-stu-id="2394a-186">If you use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication and the report server database is on a remote computer, use IPSec to help secure the transmission of data between the servers.</span></span> <span data-ttu-id="2394a-187">如果使用数据库登录名，则每次更改密码或帐户时，必须更新报表服务器数据库连接。</span><span class="sxs-lookup"><span data-stu-id="2394a-187">If you use a database login, you must update the report server database connection every time you change the password or the account.</span></span>  
  
### <a name="database-permissions"></a><span data-ttu-id="2394a-188">数据库权限</span><span class="sxs-lookup"><span data-stu-id="2394a-188">Database Permissions</span></span>  
 <span data-ttu-id="2394a-189">用来连接到报表服务器数据库的帐户被授予了以下角色：</span><span class="sxs-lookup"><span data-stu-id="2394a-189">Accounts used to connect to the report server database are granted the following roles:</span></span>  
  
-   <span data-ttu-id="2394a-190">**ReportServer** 数据库的 **public** 和 **RSExecRole** 角色。</span><span class="sxs-lookup"><span data-stu-id="2394a-190">**public** and **RSExecRole** roles for the **ReportServer** database.</span></span>  
  
-   <span data-ttu-id="2394a-191">**master** 、 **msdb**和 **ReportServerTempDB**数据库的 **RSExecRole** 角色。</span><span class="sxs-lookup"><span data-stu-id="2394a-191">**RSExecRole** role for the **master**, **msdb**, and **ReportServerTempDB** databases.</span></span>  
  
 <span data-ttu-id="2394a-192">使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具创建或修改连接时，将自动授予这些权限。</span><span class="sxs-lookup"><span data-stu-id="2394a-192">When you use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to create or modify the connection, these permissions are granted automatically.</span></span> <span data-ttu-id="2394a-193">如果使用 rsconfig 实用工具并且要为该连接指定不同的帐户，则必须为该新帐户更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名。</span><span class="sxs-lookup"><span data-stu-id="2394a-193">If you use the rsconfig utility, and you are specifying a different account for the connection, you must update the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login for that new account.</span></span> <span data-ttu-id="2394a-194">可以在 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具中创建用来更新报表服务器的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登录名的脚本文件。</span><span class="sxs-lookup"><span data-stu-id="2394a-194">You can create script files in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool that will update the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login for the report server.</span></span>  
  
### <a name="verifying-the-database-name"></a><span data-ttu-id="2394a-195">验证数据库名称</span><span class="sxs-lookup"><span data-stu-id="2394a-195">Verifying the Database Name</span></span>  
 <span data-ttu-id="2394a-196">使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具可以确定特定报表服务器实例所使用的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-196">Use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to determine which report server database is used by a particular report server instance.</span></span> <span data-ttu-id="2394a-197">若要查找该名称，请连接到该报表服务器实例并打开“数据库安装”页。</span><span class="sxs-lookup"><span data-stu-id="2394a-197">To find the name, connect to the report server instance and open the Database Setup page.</span></span>  
  
## <a name="using-a-different-report-server-database-or-moving-a-report-server-database"></a><span data-ttu-id="2394a-198">使用不同的报表服务器数据库或移动报表服务器数据库</span><span class="sxs-lookup"><span data-stu-id="2394a-198">Using a Different Report Server Database or Moving a Report Server Database</span></span>  
 <span data-ttu-id="2394a-199">可以通过更改连接信息将报表服务器实例配置为使用不同的报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-199">You can configure a report server instance to use a different report server database by changing the connection information.</span></span> <span data-ttu-id="2394a-200">切换数据库的一个常见示例是部署生产报表服务器。</span><span class="sxs-lookup"><span data-stu-id="2394a-200">A common case for switching databases is when you deploy a production report server.</span></span> <span data-ttu-id="2394a-201">通常，生产服务器是通过从测试报表服务器数据库切换到生产报表服务器数据库来实现的。您还可以将报表服务器数据库移动到另一台计算机上。</span><span class="sxs-lookup"><span data-stu-id="2394a-201">Switching from a test report server database to a production report server database is typically how production servers are rolled out. You can also move a report server database to another computer.</span></span> <span data-ttu-id="2394a-202">有关详细信息，请参阅 [联机丛书中的](../../reporting-services/install-windows/upgrade-and-migrate-reporting-services.md) 升级和迁移 Reporting Services [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="2394a-202">For more information, see [Upgrade and Migrate Reporting Services](../../reporting-services/install-windows/upgrade-and-migrate-reporting-services.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="configuring-multiple-reports-servers-to-use-the-same-report-server-database"></a><span data-ttu-id="2394a-203">将多个报表服务器配置为使用同一个报表服务器数据库</span><span class="sxs-lookup"><span data-stu-id="2394a-203">Configuring Multiple Reports Servers to Use the Same Report Server Database</span></span>  
 <span data-ttu-id="2394a-204">可以将多个报表服务器配置为使用同一个报表服务器数据库。</span><span class="sxs-lookup"><span data-stu-id="2394a-204">You can configure multiple report servers to use the same report server database.</span></span> <span data-ttu-id="2394a-205">此部署配置称为扩展部署。</span><span class="sxs-lookup"><span data-stu-id="2394a-205">This deployment configuration is called a scale-out deployment.</span></span> <span data-ttu-id="2394a-206">如果要在服务器群集中运行多个报表服务器，则此配置为必备条件。</span><span class="sxs-lookup"><span data-stu-id="2394a-206">This configuration is a prerequisite if you want to run multiple report servers in a server cluster.</span></span> <span data-ttu-id="2394a-207">但是，如果要将服务应用程序分段，或者要测试新的报表服务器实例的安装和设置以将其与现有报表服务器安装进行比较，则也以可使用此配置。</span><span class="sxs-lookup"><span data-stu-id="2394a-207">However, you can also use this configuration if you want to segment service applications or if you want to test the installation and settings of a new report server instance to compare it with an existing report server installation.</span></span> <span data-ttu-id="2394a-208">有关详细信息，请参阅[配置本机模式报表服务器扩展部署（SSRS 配置管理器）](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="2394a-208">For more information, see [Configure a Native Mode Report Server Scale-Out Deployment &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2394a-209">另请参阅</span><span class="sxs-lookup"><span data-stu-id="2394a-209">See Also</span></span>  
 <span data-ttu-id="2394a-210">[&#40;SSRS Configuration Manager 创建报表服务器数据库&#41;](../../../2014/sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="2394a-210">[Create a Report Server Database  &#40;SSRS Configuration Manager&#41;](../../../2014/sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="2394a-211">[管理 Reporting Services 本机模式报表服务器](../../reporting-services/report-server/manage-a-reporting-services-native-mode-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="2394a-211">[Manage a Reporting Services Native Mode Report Server](../../reporting-services/report-server/manage-a-reporting-services-native-mode-report-server.md) </span></span>  
 [<span data-ttu-id="2394a-212">配置报表服务器服务帐户（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="2394a-212">Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;</span></span>](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md)  
  
  
