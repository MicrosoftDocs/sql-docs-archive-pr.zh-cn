---
title: 数据库引擎配置-数据目录 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 9b1fa0fc-623b-479a-afc3-4f13bd850487
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: ec906508640690a45c003d60cea4c2a1e425d3aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691537"
---
# <a name="database-engine-configuration---data-directories"></a><span data-ttu-id="3c50c-102">数据库引擎配置 - 数据目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-102">Database Engine Configuration - Data Directories</span></span>
  <span data-ttu-id="3c50c-103">使用此页面可指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssDE](../../includes/ssde-md.md)] 程序和数据文件的安装位置。</span><span class="sxs-lookup"><span data-stu-id="3c50c-103">Use this page to specify the installation location for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssDE](../../includes/ssde-md.md)] program and data files.</span></span> <span data-ttu-id="3c50c-104">根据安装类型，支持的存储可能包括本地磁盘、共享存储或 SMB 文件服务器。</span><span class="sxs-lookup"><span data-stu-id="3c50c-104">Based on the type of installation, the supported storage may include local disk, shared storage, or an SMB file server.</span></span>  
  
 <span data-ttu-id="3c50c-105">若要将 SMB 文件共享指定为目录，您必须手动键入支持的 UNC 路径。</span><span class="sxs-lookup"><span data-stu-id="3c50c-105">To specify an SMB file share as a directory, you must manually type the supported UNC path.</span></span> <span data-ttu-id="3c50c-106">不支持浏览到 SMB 文件共享。</span><span class="sxs-lookup"><span data-stu-id="3c50c-106">Browsing to an SMB file share is not supported.</span></span> <span data-ttu-id="3c50c-107">下面是 SMB 文件共享支持的 UNC 路径格式： \\\Servername\ShareName\\....</span><span class="sxs-lookup"><span data-stu-id="3c50c-107">The following is a supported UNC path format of an SMB file share: \\\Servername\ShareName\\....</span></span>  
  
## <a name="stand-alone-instance-of-ssnoversion"></a><span data-ttu-id="3c50c-108">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的独立实例</span><span class="sxs-lookup"><span data-stu-id="3c50c-108">Stand-Alone Instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="3c50c-109">下表列出了 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的独立实例支持的存储类型和默认目录，用户可以在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装过程中配置这些内容。</span><span class="sxs-lookup"><span data-stu-id="3c50c-109">The following table lists the supported storage types and the default directories for a stand-alone instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are user configurable during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
## <a name="ui-element-list"></a><span data-ttu-id="3c50c-110">UI 元素列表</span><span class="sxs-lookup"><span data-stu-id="3c50c-110">UI element list</span></span>  
  
|<span data-ttu-id="3c50c-111">说明</span><span class="sxs-lookup"><span data-stu-id="3c50c-111">Description</span></span>|<span data-ttu-id="3c50c-112">支持的存储类型</span><span class="sxs-lookup"><span data-stu-id="3c50c-112">Supported Storage Type</span></span>|<span data-ttu-id="3c50c-113">默认目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-113">Default directory</span></span>|<span data-ttu-id="3c50c-114">建议</span><span class="sxs-lookup"><span data-stu-id="3c50c-114">Recommendations</span></span>|  
|-----------------|----------------------------|-----------------------|---------------------|  
|<span data-ttu-id="3c50c-115">数据根目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-115">Data root directory</span></span>|<span data-ttu-id="3c50c-116">本地磁盘、SMB 文件服务器、共享存储<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3c50c-116">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="3c50c-117">C:\Program 文件 \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \| [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序将为目录配置 acl [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 并在配置过程中中断继承。</span><span class="sxs-lookup"><span data-stu-id="3c50c-117">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup will configure ACLs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] directories and break inheritance as part of configuration.</span></span>|  
|<span data-ttu-id="3c50c-118">用户数据库目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-118">User database directory</span></span>|<span data-ttu-id="3c50c-119">本地磁盘、SMB 文件服务器、共享存储<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3c50c-119">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="3c50c-120">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-120">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="3c50c-121">用户数据目录的最佳实践取决于工作量和性能要求。</span><span class="sxs-lookup"><span data-stu-id="3c50c-121">Best practices for user data directories depend on workload and performance requirements.</span></span>|  
|<span data-ttu-id="3c50c-122">用户数据库日志目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-122">User database log directory</span></span>|<span data-ttu-id="3c50c-123">本地磁盘、SMB 文件服务器、共享存储<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3c50c-123">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="3c50c-124">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-124">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="3c50c-125">确保日志目录有足够的空间。</span><span class="sxs-lookup"><span data-stu-id="3c50c-125">Ensure that the log directory has adequate space.</span></span>|  
|<span data-ttu-id="3c50c-126">临时数据库目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-126">Temp DB directory</span></span>|<span data-ttu-id="3c50c-127">本地磁盘、SMB 文件服务器、共享存储<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3c50c-127">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="3c50c-128">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-128">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="3c50c-129">Temp 目录的最佳实践取决于工作量和性能要求。</span><span class="sxs-lookup"><span data-stu-id="3c50c-129">Best practices for the Temp directory depend on workload and performance requirements.</span></span>|  
|<span data-ttu-id="3c50c-130">临时数据库日志目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-130">Temp DB log directory</span></span>|<span data-ttu-id="3c50c-131">本地磁盘、SMB 文件服务器、共享存储<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3c50c-131">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="3c50c-132">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-132">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="3c50c-133">确保日志目录有足够的空间。</span><span class="sxs-lookup"><span data-stu-id="3c50c-133">Ensure that the log directory has adequate space.</span></span>|  
|<span data-ttu-id="3c50c-134">备份目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-134">Backup directory</span></span>|<span data-ttu-id="3c50c-135">本地磁盘、SMB 文件服务器、共享存储<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="3c50c-135">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="3c50c-136">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Backup</span><span class="sxs-lookup"><span data-stu-id="3c50c-136">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Backup</span></span>|<span data-ttu-id="3c50c-137">设置合适的权限以防止数据丢失，并确保 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务的用户帐户具有写入备份目录的足够权限。</span><span class="sxs-lookup"><span data-stu-id="3c50c-137">Set appropriate permissions to prevent data loss, and ensure that the user account for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service has adequate permissions to write to the backup directory.</span></span> <span data-ttu-id="3c50c-138">不支持对备份目录使用映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="3c50c-138">Using a mapped drive for backup directories is not supported.</span></span>|  
  
 <span data-ttu-id="3c50c-139"><sup>1</sup>尽管支持共享磁盘，但不建议对的独立实例采用这种做法 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="3c50c-139"><sup>1</sup> Although shared disks are supported, it is not a recommended practice for a stand-alone instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="failover-cluster-instance-of-ssnoversion"></a><span data-ttu-id="3c50c-140">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 故障转移群集实例</span><span class="sxs-lookup"><span data-stu-id="3c50c-140">Failover Cluster Instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="3c50c-141">下表列出了 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的故障转移群集实例支持的存储类型和默认目录，用户可以在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装过程中配置这些内容。</span><span class="sxs-lookup"><span data-stu-id="3c50c-141">The following table lists the supported storage types and the default directories for a failover cluster instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are user configurable during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
|<span data-ttu-id="3c50c-142">说明</span><span class="sxs-lookup"><span data-stu-id="3c50c-142">Description</span></span>|<span data-ttu-id="3c50c-143">支持的存储类型</span><span class="sxs-lookup"><span data-stu-id="3c50c-143">Supported Storage Type</span></span>|<span data-ttu-id="3c50c-144">默认目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-144">Default Directory</span></span>|<span data-ttu-id="3c50c-145">建议</span><span class="sxs-lookup"><span data-stu-id="3c50c-145">Recommendations</span></span>|  
|-----------------|----------------------------|-----------------------|---------------------|  
|<span data-ttu-id="3c50c-146">数据根目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-146">Data root Directory</span></span>|<span data-ttu-id="3c50c-147">共享存储、SMB 文件服务器</span><span class="sxs-lookup"><span data-stu-id="3c50c-147">Shared Storage, SMB File Server</span></span>|<span data-ttu-id="3c50c-148">\<Drive:>\Program 文件\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="3c50c-148">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>\\<br /><br /> <span data-ttu-id="3c50c-149">提示：如果在“群集磁盘选择” \*\*\*\* 页上选择了共享磁盘，则默认设置为第一个共享磁盘。</span><span class="sxs-lookup"><span data-stu-id="3c50c-149">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="3c50c-150">如果在 **“群集磁盘选择”** 页上没有进行任何选择，此字段默认为空。</span><span class="sxs-lookup"><span data-stu-id="3c50c-150">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="3c50c-151">安装程序将为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 目录配置 ACL 并在配置过程中中断继承。</span><span class="sxs-lookup"><span data-stu-id="3c50c-151">Setup will configure ACLs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] directories and break inheritance as part of configuration.</span></span>|  
|<span data-ttu-id="3c50c-152">用户数据库目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-152">User database directory</span></span>|<span data-ttu-id="3c50c-153">共享存储、SMB 文件服务器</span><span class="sxs-lookup"><span data-stu-id="3c50c-153">Shared Storage, SMB File Server</span></span>|<span data-ttu-id="3c50c-154">\<Drive:>Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-154">\<Drive:>Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="3c50c-155">提示：如果在“群集磁盘选择” \*\*\*\* 页上选择了共享磁盘，则默认设置为第一个共享磁盘。</span><span class="sxs-lookup"><span data-stu-id="3c50c-155">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="3c50c-156">如果在 **“群集磁盘选择”** 页上没有进行任何选择，此字段默认为空。</span><span class="sxs-lookup"><span data-stu-id="3c50c-156">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="3c50c-157">用户数据目录的最佳实践取决于工作量和性能要求。</span><span class="sxs-lookup"><span data-stu-id="3c50c-157">Best practices for user data directories depend on workload and performance requirements.</span></span>|  
|<span data-ttu-id="3c50c-158">用户数据库日志目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-158">User database log directory</span></span>|<span data-ttu-id="3c50c-159">共享存储、SMB 文件服务器</span><span class="sxs-lookup"><span data-stu-id="3c50c-159">Shared Storage, SMB File Server</span></span>|<span data-ttu-id="3c50c-160">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-160">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="3c50c-161">提示：如果在“群集磁盘选择” \*\*\*\* 页上选择了共享磁盘，则默认设置为第一个共享磁盘。</span><span class="sxs-lookup"><span data-stu-id="3c50c-161">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="3c50c-162">如果在 **“群集磁盘选择”** 页上没有进行任何选择，此字段默认为空。</span><span class="sxs-lookup"><span data-stu-id="3c50c-162">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="3c50c-163">确保日志目录有足够的空间。</span><span class="sxs-lookup"><span data-stu-id="3c50c-163">Ensure that the log directory has adequate space.</span></span>|  
|<span data-ttu-id="3c50c-164">临时数据库目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-164">Temp DB directory</span></span>|<span data-ttu-id="3c50c-165">本地磁盘、共享存储、SMB 文件服务器</span><span class="sxs-lookup"><span data-stu-id="3c50c-165">Local Disk, Shared Storage, SMB File Server</span></span>|<span data-ttu-id="3c50c-166">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-166">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="3c50c-167">提示：如果在“群集磁盘选择” \*\*\*\* 页上选择了共享磁盘，则默认设置为第一个共享磁盘。</span><span class="sxs-lookup"><span data-stu-id="3c50c-167">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="3c50c-168">如果在 **“群集磁盘选择”** 页上没有进行任何选择，此字段默认为空。</span><span class="sxs-lookup"><span data-stu-id="3c50c-168">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="3c50c-169">确保指定的目录对所有群集节点都有效。</span><span class="sxs-lookup"><span data-stu-id="3c50c-169">Ensure that the specified directory is valid for all the cluster nodes.</span></span> <span data-ttu-id="3c50c-170">在故障转移期间，如果 tempdb 目录对故障转移目标节点不可用，则 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 资源将无法联机。</span><span class="sxs-lookup"><span data-stu-id="3c50c-170">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span>|  
|<span data-ttu-id="3c50c-171">临时数据库日志目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-171">Temp DB log directory</span></span>|<span data-ttu-id="3c50c-172">本地磁盘、共享存储、SMB 文件服务器</span><span class="sxs-lookup"><span data-stu-id="3c50c-172">Local Disk, Shared Storage, SMB File Server</span></span>|<span data-ttu-id="3c50c-173">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="3c50c-173">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="3c50c-174">提示：如果在“群集磁盘选择” \*\*\*\* 页上选择了共享磁盘，则默认设置为第一个共享磁盘。</span><span class="sxs-lookup"><span data-stu-id="3c50c-174">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="3c50c-175">如果在 **“群集磁盘选择”** 页上没有进行任何选择，此字段默认为空。</span><span class="sxs-lookup"><span data-stu-id="3c50c-175">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="3c50c-176">确保指定的目录对所有群集节点都有效。</span><span class="sxs-lookup"><span data-stu-id="3c50c-176">Ensure that the specified directory is valid for all the cluster nodes.</span></span> <span data-ttu-id="3c50c-177">在故障转移期间，如果 tempdb 目录对故障转移目标节点不可用，则 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 资源将无法联机。</span><span class="sxs-lookup"><span data-stu-id="3c50c-177">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span>|  
|<span data-ttu-id="3c50c-178">备份目录</span><span class="sxs-lookup"><span data-stu-id="3c50c-178">Backup directory</span></span>|<span data-ttu-id="3c50c-179">本地磁盘、共享存储、SMB 文件服务器</span><span class="sxs-lookup"><span data-stu-id="3c50c-179">Local Disk, Shared Storage, SMB File Server</span></span>|<span data-ttu-id="3c50c-180">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Backup</span><span class="sxs-lookup"><span data-stu-id="3c50c-180">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Backup</span></span><br /><br /> <span data-ttu-id="3c50c-181">提示：如果在“群集磁盘选择” \*\*\*\* 页上选择了共享磁盘，则默认设置为第一个共享磁盘。</span><span class="sxs-lookup"><span data-stu-id="3c50c-181">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="3c50c-182">如果在 **“群集磁盘选择”** 页上没有进行任何选择，此字段默认为空。</span><span class="sxs-lookup"><span data-stu-id="3c50c-182">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="3c50c-183">设置合适的权限以防止数据丢失，并确保 SQL Server 服务的用户帐户具有写入备份目录的足够权限。</span><span class="sxs-lookup"><span data-stu-id="3c50c-183">Set appropriate permissions to prevent data loss, and ensure that the user account for the SQL Server service has adequate permissions to write to the backup directory.</span></span> <span data-ttu-id="3c50c-184">不支持对备份目录使用映射的驱动器。</span><span class="sxs-lookup"><span data-stu-id="3c50c-184">Using a mapped drive for backup directories is not supported.</span></span>|  
  
## <a name="security-considerations"></a><span data-ttu-id="3c50c-185">安全注意事项</span><span class="sxs-lookup"><span data-stu-id="3c50c-185">Security Considerations</span></span>  
 <span data-ttu-id="3c50c-186">安装程序将为 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 目录配置 ACL 并在配置过程中中断继承。</span><span class="sxs-lookup"><span data-stu-id="3c50c-186">Setup will configure ACLs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] directories and break inheritance as part of configuration.</span></span>  
  
 <span data-ttu-id="3c50c-187">以下建议适用于 SMB 文件服务器：</span><span class="sxs-lookup"><span data-stu-id="3c50c-187">The following recommendations apply to the SMB file server:</span></span>  
  
-   <span data-ttu-id="3c50c-188">使用 SMB 文件服务器时， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务帐户必须是域帐户。</span><span class="sxs-lookup"><span data-stu-id="3c50c-188">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account must be a domain account if an SMB file server is used.</span></span>  
  
-   <span data-ttu-id="3c50c-189">用于安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的帐户应对用作数据目录的 SMB 文件共享文件夹具有 FULL CONTROL NTFS 权限。</span><span class="sxs-lookup"><span data-stu-id="3c50c-189">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should have FULL CONTROL NTFS permissions on the SMB file share folder used as the data directory.</span></span>  
  
-   <span data-ttu-id="3c50c-190">用于安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的帐户应具有对 SMB 文件服务器的 SeSecurityPrivilege 特权。</span><span class="sxs-lookup"><span data-stu-id="3c50c-190">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should be granted SeSecurityPrivilege privileges on the SMB file server.</span></span> <span data-ttu-id="3c50c-191">若要授予此权限，请使用文件服务器上的 "本地安全策略" 控制台将 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装帐户添加到 "**管理审核和安全日志**" 策略中。</span><span class="sxs-lookup"><span data-stu-id="3c50c-191">To grant this privilege, use the Local Security Policy console on the file server to add the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup account to the **Manage auditing and security log** policy.</span></span> <span data-ttu-id="3c50c-192">此设置可在 "**本地安全策略**" 控制台中 "**本地策略**" 下的 "**用户权限分配**" 部分中找到。</span><span class="sxs-lookup"><span data-stu-id="3c50c-192">This setting is available in the **User Rights Assignments** section under **Local Policies** in the **Local Security Policy** console.</span></span>  
  
## <a name="notes"></a><span data-ttu-id="3c50c-193">注释</span><span class="sxs-lookup"><span data-stu-id="3c50c-193">Notes</span></span>  
  
-   <span data-ttu-id="3c50c-194">向现有安装中添加功能时，不能更改先前安装的功能的位置，也不能为新功能指定该位置。</span><span class="sxs-lookup"><span data-stu-id="3c50c-194">When adding features to an existing installation, you cannot change the location of a previously installed feature, nor can you specify the location for a new feature.</span></span>  
  
-   <span data-ttu-id="3c50c-195">如果指定非默认的安装目录，请确保安装文件夹对于此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例是唯一的。</span><span class="sxs-lookup"><span data-stu-id="3c50c-195">If you specify non-default installation directories, ensure that the installation folders are unique to this instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="3c50c-196">此对话框中的任何目录都不应与其他 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例的目录共享。</span><span class="sxs-lookup"><span data-stu-id="3c50c-196">None of the directories in this dialog box should be shared with directories from other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="3c50c-197">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 实例中的[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 组件也应安装到单独的目录。</span><span class="sxs-lookup"><span data-stu-id="3c50c-197">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] components within an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should also be installed to separate directories.</span></span>  
  
-   <span data-ttu-id="3c50c-198">在下列情况下，不能安装程序文件和数据文件：</span><span class="sxs-lookup"><span data-stu-id="3c50c-198">Program files and data files cannot be installed in the following situations:</span></span>  
  
    -   <span data-ttu-id="3c50c-199">在可移动磁盘驱动器上</span><span class="sxs-lookup"><span data-stu-id="3c50c-199">On a removable disk drive</span></span>  
  
    -   <span data-ttu-id="3c50c-200">在使用压缩的文件系统上</span><span class="sxs-lookup"><span data-stu-id="3c50c-200">On a file system that uses compression</span></span>  
  
    -   <span data-ttu-id="3c50c-201">在系统文件所在的目录上</span><span class="sxs-lookup"><span data-stu-id="3c50c-201">To a directory where system files are located</span></span>  
  
    -   <span data-ttu-id="3c50c-202">在故障转移群集实例的映射网络驱动器上</span><span class="sxs-lookup"><span data-stu-id="3c50c-202">On a mapped network drive on a failover cluster instance</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3c50c-203">另请参阅</span><span class="sxs-lookup"><span data-stu-id="3c50c-203">See Also</span></span>  
 <span data-ttu-id="3c50c-204">[SQL Server 的默认实例和命名实例的文件位置](../../../2014/sql-server/install/file-locations-for-default-and-named-instances-of-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="3c50c-204">[File Locations for Default and Named Instances of SQL Server](../../../2014/sql-server/install/file-locations-for-default-and-named-instances-of-sql-server.md) </span></span>  
 [<span data-ttu-id="3c50c-205">文件服务器上的共享权限和 NTFS 权限</span><span class="sxs-lookup"><span data-stu-id="3c50c-205">Share and NTFS Permissions on a File Server</span></span>](https://go.microsoft.com/fwlink/?LinkID=206571)  
  
  
