---
title: " (SSRS Configuration Manager) 中配置服务帐户 |Microsoft Docs"
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Report Server Web service, accounts
- service accounts [Reporting Services]
- Report Server Windows service, accounts
- Web service [Reporting Services], report server
ms.assetid: 25000ad5-3f80-4210-8331-d4754dc217e0
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 975b6165c282bd12566d2331a7924fe0176e0e06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588259"
---
# <a name="configure-a-service-account-ssrs-configuration-manager"></a><span data-ttu-id="f95de-102">配置服务帐户（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="f95de-102">Configure a Service Account (SSRS Configuration Manager)</span></span>
  <span data-ttu-id="f95de-103">在 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 安装中，报表服务器 Web 服务、报表管理器和后台处理应用程序在一个服务内运行。</span><span class="sxs-lookup"><span data-stu-id="f95de-103">In a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation, the Report Server Web service, Report Manager, and the background processing application run within a single service.</span></span> <span data-ttu-id="f95de-104">运行该服务的帐户是在安装过程中定义的，即在“服务标识”页中指定的帐户；但是，如果希望使用不同的帐户或更改密码，可以使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具。</span><span class="sxs-lookup"><span data-stu-id="f95de-104">The account under which the service runs is defined during Setup when you specify the account in the Service Identity page, but you can use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool if you want use a different account or update the password.</span></span>  
  
 <span data-ttu-id="f95de-105">如果您的 Report Server 配置为使用 SharePoint 集成模式，并且您使用配置工具更改了该服务帐户 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，则您还必须打开 SharePoint 管理中心并使用 " [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] **授予数据库访问权限**" 页重新应用 "Report Server" 和 "实例" 设置。</span><span class="sxs-lookup"><span data-stu-id="f95de-105">If you have a report server that is configured to use SharePoint Integrated mode and you change the service account by using the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool, you must also open SharePoint Central Administration and use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] **Grant Database Access** page to re-apply the report server and instance settings.</span></span> <span data-ttu-id="f95de-106">此步骤向新服务帐户授予对 SharePoint 数据库的访问权限，这是将 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 与 [!INCLUDE[SPF2010](../../includes/spf2010-md.md)] 或 [!INCLUDE[SPS2010](../../includes/sps2010-md.md)]集成所必需的。</span><span class="sxs-lookup"><span data-stu-id="f95de-106">This step will grant the new service account access to the SharePoint databases, which is required for integrating [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] with [!INCLUDE[SPF2010](../../includes/spf2010-md.md)] or [!INCLUDE[SPS2010](../../includes/sps2010-md.md)].</span></span>  
  
 <span data-ttu-id="f95de-107">请始终使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置工具来更新服务帐户，以便可以同时更新依赖服务标识的其他设置。</span><span class="sxs-lookup"><span data-stu-id="f95de-107">Always use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration tool to update the service account so that other settings that depend on the service identity can be updated concurrently.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f95de-108">不支持将内置 Windows 服务帐户（Local Service 或 Network Service）用作作为域控制器的计算机上的报表服务器服务帐户。</span><span class="sxs-lookup"><span data-stu-id="f95de-108">Built-in Windows service accounts (Local Service or Network Service) are not supported as report server service accounts on a computer that is a domain controller.</span></span>  
  
 <span data-ttu-id="f95de-109">过程</span><span class="sxs-lookup"><span data-stu-id="f95de-109">Procedures</span></span>  
  
### <a name="to-configure-the-report-server-service-account"></a><span data-ttu-id="f95de-110">配置报表服务器服务帐户</span><span class="sxs-lookup"><span data-stu-id="f95de-110">To configure the Report Server service account</span></span>  
  
1.  <span data-ttu-id="f95de-111">启动 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 配置管理器并连接到报表服务器。</span><span class="sxs-lookup"><span data-stu-id="f95de-111">Start the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration manager and connect to the report server.</span></span>  
  
2.  <span data-ttu-id="f95de-112">在“服务帐户”页上，选择描述您要使用的帐户类型的选项。</span><span class="sxs-lookup"><span data-stu-id="f95de-112">On the Service Account page, select the option that describes the type of account you want to use.</span></span> <span data-ttu-id="f95de-113">有关指定哪种帐户类型的建议，请参阅[将报表服务器服务帐户 &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md)中。</span><span class="sxs-lookup"><span data-stu-id="f95de-113">For recommendations about which account type to specify, see [Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md).</span></span>  
  
3.  <span data-ttu-id="f95de-114">如果选择了一个 Windows 用户帐户，请指定新的帐户名和密码。</span><span class="sxs-lookup"><span data-stu-id="f95de-114">If you selected a Windows user account, specify the new account and password.</span></span> <span data-ttu-id="f95de-115">帐户名不能超过 20 个字符。</span><span class="sxs-lookup"><span data-stu-id="f95de-115">The account cannot be more than 20 characters.</span></span>  
  
     <span data-ttu-id="f95de-116">如果报表服务器部署在支持 Kerberos 身份验证的网络中，则必须使用刚刚指定的域用户帐户注册报表服务器服务主体名称 (SPN)。</span><span class="sxs-lookup"><span data-stu-id="f95de-116">If the report server is deployed in a network that supports Kerberos authentication, you must register the report server Service Principal Name (SPN) with the domain user account you just specified.</span></span> <span data-ttu-id="f95de-117">有关详细信息，请参阅[为报表服务器注册服务主体名称 (SPN)](../../reporting-services/report-server/register-a-service-principal-name-spn-for-a-report-server.md)。</span><span class="sxs-lookup"><span data-stu-id="f95de-117">For more information, see [Register a Service Principal Name &#40;SPN&#41; for a Report Server](../../reporting-services/report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span></span>  
  
4.  <span data-ttu-id="f95de-118">单击“**应用**”。</span><span class="sxs-lookup"><span data-stu-id="f95de-118">Click **Apply**.</span></span>  
  
5.  <span data-ttu-id="f95de-119">当系统提示您备份对称密钥时，请键入对称密钥备份的文件名和位置，并键入用于锁定和解锁该文件的密码，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="f95de-119">When prompted to back up the symmetric key, type a file name and location for the symmetric key backup, type a password to lock and unlock the file, and then click **OK**.</span></span>  
  
6.  <span data-ttu-id="f95de-120">如果报表服务器使用该服务帐户连接到报表服务器数据库，则连接信息将更新为使用新的帐户或密码。</span><span class="sxs-lookup"><span data-stu-id="f95de-120">If the report server uses the service account to connect to the report server database, the connection information will be updated to use the new account or password.</span></span> <span data-ttu-id="f95de-121">更新连接信息要求连接到数据库。</span><span class="sxs-lookup"><span data-stu-id="f95de-121">Updating the connection information requires that you connect to the database.</span></span> <span data-ttu-id="f95de-122">如果出现  的“数据库连接”[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \*\*\*\* 对话框，请输入拥有连接到数据库的权限的凭据，然后单击“确定”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="f95de-122">If the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Database Connection** dialog box appears, enter credentials that have permission to connect to the database, and then click **OK**.</span></span>  
  
7.  <span data-ttu-id="f95de-123">当系统提示您还原对称密钥时，请键入在步骤 5 中指定的密码，并单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="f95de-123">When prompted to restore the symmetric key, type the password you specified in step 5, and then click **OK**.</span></span>  
  
8.  <span data-ttu-id="f95de-124">查看“结果”窗格中的状态消息以验证所有任务是否均已成功完成。</span><span class="sxs-lookup"><span data-stu-id="f95de-124">Review the status messages in the Results pane to verify all tasks completed successfully.</span></span>  
  
## <a name="troubleshooting-service-identity-update-errors"></a><span data-ttu-id="f95de-125">服务标识更新错误故障排除</span><span class="sxs-lookup"><span data-stu-id="f95de-125">Troubleshooting Service Identity Update Errors</span></span>  
 <span data-ttu-id="f95de-126">更改服务标识将启动一系列事件，其中包括重新启动服务、更新受密码保护的加密密钥、更新 URL 预留以及更新报表服务器数据库连接信息（如果使用该服务帐户来连接报表服务器数据库）。</span><span class="sxs-lookup"><span data-stu-id="f95de-126">Changing the service identity initiates a series of events that include restarting the service, updating the password-protected encryption key, updating URL reservations, and updating the report server database connection information if you are using the service account to connect to the report server database.</span></span> <span data-ttu-id="f95de-127">您可以通过查看页面底部“结果”窗格中的通知来监视这些事件的状态。</span><span class="sxs-lookup"><span data-stu-id="f95de-127">You can monitor the status of these events by viewing the notifications in the Results panel at the bottom of the page.</span></span> <span data-ttu-id="f95de-128">如果在此过程中出现错误，可以尝试使用以下方法进行解决：</span><span class="sxs-lookup"><span data-stu-id="f95de-128">If errors occur during this process, you can try to resolve them using the following techniques:</span></span>  
  
-   <span data-ttu-id="f95de-129">如果无法还原对称密钥，可以尝试使用“加密密钥”页中的 **“还原”** 手动还原它。</span><span class="sxs-lookup"><span data-stu-id="f95de-129">If the symmetric key cannot be restored, you can try to restore it manually by using **Restore** in the Encryption Keys page.</span></span> <span data-ttu-id="f95de-130">如果这不起作用，可以考虑删除加密的内容。</span><span class="sxs-lookup"><span data-stu-id="f95de-130">If that does not work, consider deleting the encrypted content.</span></span> <span data-ttu-id="f95de-131">您必须重新创建数据源连接信息和订阅，但其余内容仍然可用。</span><span class="sxs-lookup"><span data-stu-id="f95de-131">You will have to re-create data source connection information and subscriptions, but the rest of your content will still be available.</span></span> <span data-ttu-id="f95de-132">有关详细信息，请参阅 [Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md)。</span><span class="sxs-lookup"><span data-stu-id="f95de-132">For more information, see [Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md).</span></span>  
  
-   <span data-ttu-id="f95de-133">如果服务未启动，请使用管理工具中的“服务”控制台应用程序手动重新启动它。</span><span class="sxs-lookup"><span data-stu-id="f95de-133">If the service will not start, restart it manually by using the Services console application in Administrator Tools.</span></span>  
  
-   <span data-ttu-id="f95de-134">更新服务帐户时可能会发生 URL 预留错误。</span><span class="sxs-lookup"><span data-stu-id="f95de-134">URL reservation errors can occur when you update the service account.</span></span> <span data-ttu-id="f95de-135">每个 URL 预留都包含一个安全描述符，其中包含授权该服务帐户接受该 URL 上的请求的自由访问控制列表 (DACL)。</span><span class="sxs-lookup"><span data-stu-id="f95de-135">Each URL reservation includes a security descriptor that includes a Discretionary Access Control List (DACL) that grants permission to the service account to accept requests on the URL.</span></span> <span data-ttu-id="f95de-136">更新帐户时，必须重新创建该 URL，以便用新帐户信息更新 DACL。</span><span class="sxs-lookup"><span data-stu-id="f95de-136">When you update the account, the URL must be recreated to update the DACL with the new account information.</span></span> <span data-ttu-id="f95de-137">如果无法重新创建 URL 预留，并且你知道该帐户是有效的，请尝试重新启动计算机。</span><span class="sxs-lookup"><span data-stu-id="f95de-137">If the URL reservation cannot be recreated, and you know the account to be valid, try to restart the computer.</span></span> <span data-ttu-id="f95de-138">如果错误仍然存在，请尝试使用不同的帐户。</span><span class="sxs-lookup"><span data-stu-id="f95de-138">If the error persists, try to use a different account.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f95de-139">另请参阅</span><span class="sxs-lookup"><span data-stu-id="f95de-139">See Also</span></span>  
 <span data-ttu-id="f95de-140">[Reporting Services Configuration Manager（本机模式）](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="f95de-140">[Reporting Services Configuration Manager &#40;Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md) </span></span>  
 <span data-ttu-id="f95de-141">[配置报表服务器服务帐户（SSRS 配置管理器）](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="f95de-141">[Configure the Report Server Service Account &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/configure-the-report-server-service-account-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="f95de-142">[&#40;SSRS Configuration Manager 配置报表服务器数据库连接&#41;](../../../2014/sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="f95de-142">[Configure a Report Server Database Connection  &#40;SSRS Configuration Manager&#41;](../../../2014/sql-server/install/configure-a-report-server-database-connection-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="f95de-143">[服务帐户 &#40;SSRS 本机模式&#41;](../../../2014/sql-server/install/service-account-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="f95de-143">[Service Account &#40;SSRS Native Mode&#41;](../../../2014/sql-server/install/service-account-ssrs-native-mode.md) </span></span>  
 [<span data-ttu-id="f95de-144">配置和管理加密密钥（SSRS 配置管理器）</span><span class="sxs-lookup"><span data-stu-id="f95de-144">Configure and Manage Encryption Keys &#40;SSRS Configuration Manager&#41;</span></span>](../../reporting-services/install-windows/ssrs-encryption-keys-manage-encryption-keys.md)  
  
  
