---
title: SQL Server 的默认实例和命名实例的文件位置 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: 463c570e-9f75-4653-b3b8-4d61753b0013
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8ea54339fcf4af36f202c43b2cddc3614d9673c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588878"
---
# <a name="file-locations-for-default-and-named-instances-of-sql-server"></a><span data-ttu-id="b7083-102">SQL Server 默认实例和命名实例的文件位置</span><span class="sxs-lookup"><span data-stu-id="b7083-102">File Locations for Default and Named Instances of SQL Server</span></span>
  <span data-ttu-id="b7083-103">安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 将安装一个或多个单独的实例。</span><span class="sxs-lookup"><span data-stu-id="b7083-103">An installation of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] consists of one or more separate instances.</span></span> <span data-ttu-id="b7083-104">无论是默认实例还是命名实例都有自己的一组程序文件和数据文件，同时还有在计算机上的所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例之间共享的一组公共文件。</span><span class="sxs-lookup"><span data-stu-id="b7083-104">An instance, whether default or named, has its own set of program and data files, as well as a set of common files shared between all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the computer.</span></span>  
  
 <span data-ttu-id="b7083-105">对于包含 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 、 [!INCLUDE[ssDE](../../includes/ssde-md.md)]和 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]实例，每个组件都有一套完整的数据文件和可执行文件，以及由所有组件共享的公共文件。</span><span class="sxs-lookup"><span data-stu-id="b7083-105">For an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that includes the [!INCLUDE[ssDE](../../includes/ssde-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], each component has a full set of data and executable files, and common files shared by all components.</span></span>  
  
 <span data-ttu-id="b7083-106">为了隔离每个组件的安装位置，将为给定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例中的每个组件都生成一个唯一的实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-106">To isolate install locations for each component, unique instance IDs are generated for each component within a given instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b7083-107">程序文件和数据文件无法安装在以下位置：可移动磁盘驱动器、使用压缩的文件系统、系统文件所在的目录，以及故障转移群集实例上的共享驱动器。</span><span class="sxs-lookup"><span data-stu-id="b7083-107">Program files and data files cannot be installed on a removable disk drive, cannot be installed on a file system that uses compression, cannot be installed to a directory where system files are located, and cannot be installed on shared drives on a failover cluster instance.</span></span>  
>   
>  <span data-ttu-id="b7083-108">在安装系统数据库（master、model、MSDB 和 tempdb）和 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 用户数据库时可以选择 Server Message Block (SMB) 文件服务器作为存储。</span><span class="sxs-lookup"><span data-stu-id="b7083-108">System databases (master, model, MSDB, and tempdb), and [!INCLUDE[ssDE](../../includes/ssde-md.md)] user databases can be installed with Server Message Block (SMB) file server as a storage option.</span></span> <span data-ttu-id="b7083-109">这同时适用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 独立安装和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 故障转移群集安装 (FCI)。</span><span class="sxs-lookup"><span data-stu-id="b7083-109">This applies to both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stand-alone and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster installations (FCI).</span></span> <span data-ttu-id="b7083-110">有关详细信息，请参阅 [安装 SQL Server，并使用 SMB 文件共享作为存储选项](../../database-engine/install-windows/install-sql-server-with-smb-fileshare-as-a-storage-option.md)。</span><span class="sxs-lookup"><span data-stu-id="b7083-110">For more information, see [Install SQL Server with SMB Fileshare as a Storage Option](../../database-engine/install-windows/install-sql-server-with-smb-fileshare-as-a-storage-option.md).</span></span>  
>   
>  <span data-ttu-id="b7083-111">请勿删除以下任何目录或其内容： Binn、Data、Ftdata、HTML 或1033。</span><span class="sxs-lookup"><span data-stu-id="b7083-111">Do not delete any of the following directories or their contents: Binn, Data, Ftdata, HTML, or 1033.</span></span> <span data-ttu-id="b7083-112">如有必要，可以删除其他目录；但是，如果不卸载并重新安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，则可能无法检索失去的功能或数据。</span><span class="sxs-lookup"><span data-stu-id="b7083-112">You can delete other directories, if necessary; however, you might not be able to retrieve any lost functionality or data without uninstalling and then reinstalling [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b7083-113">请勿删除或修改 HTML 目录中的任何 .htm 文件。</span><span class="sxs-lookup"><span data-stu-id="b7083-113">Do not delete or modify any of the .htm files in the HTML directory.</span></span> <span data-ttu-id="b7083-114">它们对于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 工具的正常运行是必需的。</span><span class="sxs-lookup"><span data-stu-id="b7083-114">They are required for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tools to function properly.</span></span>  
  
## <a name="shared-files-for-all-instances-of-ssnoversion"></a><span data-ttu-id="b7083-115">所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="b7083-115">Shared Files for All Instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="b7083-116">单个计算机上的所有实例使用的公共文件安装在文件夹中 [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)] ，其中 \<*drive*> 是安装组件的驱动器号。</span><span class="sxs-lookup"><span data-stu-id="b7083-116">Common files used by all instances on a single computer are installed in the folder [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)], where \<*drive*> is the drive letter where components are installed.</span></span> <span data-ttu-id="b7083-117">默认值通常为驱动器 C。</span><span class="sxs-lookup"><span data-stu-id="b7083-117">The default is usually drive C.</span></span>  
  
## <a name="file-locations-and-registry-mapping"></a><span data-ttu-id="b7083-118">文件位置和注册表映射</span><span class="sxs-lookup"><span data-stu-id="b7083-118">File Locations and Registry Mapping</span></span>  
 <span data-ttu-id="b7083-119">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装过程中，为每个服务器组件生成一个实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-119">During [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup, an instance ID is generated for each server component.</span></span> <span data-ttu-id="b7083-120">此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本中的服务器组件分别是 [!INCLUDE[ssDE](../../includes/ssde-md.md)]、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="b7083-120">The server components in this [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] release are the [!INCLUDE[ssDE](../../includes/ssde-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="b7083-121">默认实例 ID 使用以下格式构造：</span><span class="sxs-lookup"><span data-stu-id="b7083-121">The default instance ID is constructed by using the following format:</span></span>  
  
-   <span data-ttu-id="b7083-122">对于 [!INCLUDE[ssDE](../../includes/ssde-md.md)]采用的是 MSSQL，后面依次跟有主版本号、下划线和次版本号（如果适用）、一个句点以及实例名。</span><span class="sxs-lookup"><span data-stu-id="b7083-122">MSSQL for the [!INCLUDE[ssDE](../../includes/ssde-md.md)], followed by the major version number, followed by an underscore and the minor version when applicable, and a period, followed by the instance name.</span></span>  
  
-   <span data-ttu-id="b7083-123">对于 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]采用的是 MSAS，后面依次跟有主版本号、下划线和次版本号（如果适用）、一个句点以及实例名。</span><span class="sxs-lookup"><span data-stu-id="b7083-123">MSAS for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], followed by the major version number, followed by an underscore and the minor version when applicable, and a period, followed by the instance name.</span></span>  
  
-   <span data-ttu-id="b7083-124">对于 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]采用的是 MSRS，后面依次跟有主版本号、下划线和次版本号（如果适用）、一个句点以及实例名。</span><span class="sxs-lookup"><span data-stu-id="b7083-124">MSRS for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], followed by the major version number, followed by an underscore and the minor version when applicable, and a period, followed by the instance name.</span></span>  
  
 <span data-ttu-id="b7083-125">此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本中的默认实例 ID 的示例如下：</span><span class="sxs-lookup"><span data-stu-id="b7083-125">Examples of default instance IDs in this release of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are as follows:</span></span>  
  
-   <span data-ttu-id="b7083-126">对于默认 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 实例，为 MSSQL12.MSSQLSERVER。</span><span class="sxs-lookup"><span data-stu-id="b7083-126">MSSQL12.MSSQLSERVER for a default instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
-   <span data-ttu-id="b7083-127">对于默认 [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] 实例，为 MSAS12.MSSQLSERVER。</span><span class="sxs-lookup"><span data-stu-id="b7083-127">MSAS12.MSSQLSERVER for a default instance of [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)].</span></span>  
  
-   <span data-ttu-id="b7083-128">对于名为“MyInstance”的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 命名实例，为 MSSQL12.MyInstance。</span><span class="sxs-lookup"><span data-stu-id="b7083-128">MSSQL12.MyInstance for a named instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] named "MyInstance."</span></span>  
  
 <span data-ttu-id="b7083-129">包括 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 和 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]命名实例（名为“MyInstance”并且按照默认目录安装）的目录结构如下所示：</span><span class="sxs-lookup"><span data-stu-id="b7083-129">The directory structure for a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] named instance that includes the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], named "MyInstance", and installed to the default directories would be as follows:</span></span>  
  
-   <span data-ttu-id="b7083-130">C:\Program Files\Microsoft SQL Server\MSSQL12.MyInstance</span><span class="sxs-lookup"><span data-stu-id="b7083-130">C:\Program Files\Microsoft SQL Server\MSSQL12.MyInstance</span></span>\  
  
-   <span data-ttu-id="b7083-131">C:\Program Files\Microsoft SQL Server\MSAS12.MyInstance</span><span class="sxs-lookup"><span data-stu-id="b7083-131">C:\Program Files\Microsoft SQL Server\MSAS12.MyInstance</span></span>\  
  
 <span data-ttu-id="b7083-132">可以为实例 ID 指定任何值，但应避免使用特殊字符和保留关键字。</span><span class="sxs-lookup"><span data-stu-id="b7083-132">You can specify any value for the instance ID, but avoid special characters and reserved keywords.</span></span>  
  
 <span data-ttu-id="b7083-133">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装期间可指定一个非默认实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-133">You can specify a non-default instance ID during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span> <span data-ttu-id="b7083-134">\<Program Files> \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<custom path> \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 如果用户选择更改默认安装目录，则使用而不是。</span><span class="sxs-lookup"><span data-stu-id="b7083-134">Instead of \<Program Files>\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], a \<custom path>\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is used if the user chooses to change the default installation directory.</span></span> <span data-ttu-id="b7083-135">请注意，不支持以下划线 (_) 开头或者包含数字符号 (#) 或美元符号 ($) 的实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-135">Note that instance IDs that begin with an underscore (_) or that contain the number sign (#) or the dollar sign ($) are not supported.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="b7083-136">和客户端组件是不识别实例的，因此不为它们指定实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-136">and client components are not instance aware and, therefore are not assigned an instance ID.</span></span> <span data-ttu-id="b7083-137">默认情况下，将不识别实例的组件安装在单个目录 [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]中。</span><span class="sxs-lookup"><span data-stu-id="b7083-137">By default, non-instance-aware components are installed to a single directory: [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)].</span></span> <span data-ttu-id="b7083-138">更改一个共享组件的安装路径还会更改其他共享组件的安装路径。</span><span class="sxs-lookup"><span data-stu-id="b7083-138">Changing the installation path for one shared component also changes it for the other shared components.</span></span> <span data-ttu-id="b7083-139">后续安装会将非实例识别组件安装到与原始安装相同的目录。</span><span class="sxs-lookup"><span data-stu-id="b7083-139">Subsequent installations install non-instance-aware components to the same directory as the original installation.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="b7083-140">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]是在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装后支持实例重命名的唯一组件。</span><span class="sxs-lookup"><span data-stu-id="b7083-140">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is the only [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] component that supports instance renaming after installation.</span></span> <span data-ttu-id="b7083-141">如果重命名 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例，实例 ID 不会发生变化。</span><span class="sxs-lookup"><span data-stu-id="b7083-141">If an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is renamed, the instance ID will not change.</span></span> <span data-ttu-id="b7083-142">在实例重命名完成后，目录和注册表项会继续使用在安装期间创建的实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-142">After instance renaming is complete, directories and registry keys will continue to use the instance ID created during installation.</span></span>  
  
 <span data-ttu-id="b7083-143">将在 HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<*Instance_ID*> 下为识别实例的组件创建注册表配置单元。</span><span class="sxs-lookup"><span data-stu-id="b7083-143">The registry hive is created under HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<*Instance_ID*> for instance-aware components.</span></span> <span data-ttu-id="b7083-144">例如，应用于对象的</span><span class="sxs-lookup"><span data-stu-id="b7083-144">For example,</span></span>  
  
-   <span data-ttu-id="b7083-145">HKLM\Software \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12。MyInstance</span><span class="sxs-lookup"><span data-stu-id="b7083-145">HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.MyInstance</span></span>  
  
-   <span data-ttu-id="b7083-146">HKLM\Software \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12。MyInstance</span><span class="sxs-lookup"><span data-stu-id="b7083-146">HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.MyInstance</span></span>  
  
-   <span data-ttu-id="b7083-147">HKLM\Software \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSRS12。MyInstance</span><span class="sxs-lookup"><span data-stu-id="b7083-147">HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSRS12.MyInstance</span></span>  
  
 <span data-ttu-id="b7083-148">注册表还维护实例 ID 到实例名的映射。</span><span class="sxs-lookup"><span data-stu-id="b7083-148">The registry also maintains a mapping of instance ID to instance name.</span></span> <span data-ttu-id="b7083-149">实例 ID 到实例名的映射按如下方式维护：</span><span class="sxs-lookup"><span data-stu-id="b7083-149">Instance ID to instance name mapping is maintained as follows:</span></span>  
  
-   <span data-ttu-id="b7083-150">[HKEY_LOCAL_MACHINE \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \software [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\SQL] "InstanceName" = "MSSQL12.MSSQLSERVER"</span><span class="sxs-lookup"><span data-stu-id="b7083-150">[HKEY_LOCAL_MACHINE\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\SQL] "InstanceName"="MSSQL12"</span></span>  
  
-   <span data-ttu-id="b7083-151">[HKEY_LOCAL_MACHINE \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \software [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\OLAP] "InstanceName" = "MSAS12"</span><span class="sxs-lookup"><span data-stu-id="b7083-151">[HKEY_LOCAL_MACHINE\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\OLAP] "InstanceName"="MSAS12"</span></span>  
  
-   <span data-ttu-id="b7083-152">[HKEY_LOCAL_MACHINE \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \software [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\RS] "InstanceName" = "MSRS12"</span><span class="sxs-lookup"><span data-stu-id="b7083-152">[HKEY_LOCAL_MACHINE\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\RS] "InstanceName"="MSRS12"</span></span>  
  
## <a name="specifying-file-paths"></a><span data-ttu-id="b7083-153">指定文件路径</span><span class="sxs-lookup"><span data-stu-id="b7083-153">Specifying File Paths</span></span>  
 <span data-ttu-id="b7083-154">安装过程中，可以更改下列功能的安装路径：</span><span class="sxs-lookup"><span data-stu-id="b7083-154">During Setup, you can change the installation path for the following features:</span></span>  
  
 <span data-ttu-id="b7083-155">只有具有用户可配置目标文件夹的功能，安装路径才会显示在安装程序中：</span><span class="sxs-lookup"><span data-stu-id="b7083-155">The installation path is displayed in Setup only for features with a user-configurable destination folder:</span></span>  
  
|<span data-ttu-id="b7083-156">组件</span><span class="sxs-lookup"><span data-stu-id="b7083-156">Component</span></span>|<span data-ttu-id="b7083-157">默认路径<sup>1，2</sup></span><span class="sxs-lookup"><span data-stu-id="b7083-157">Default path<sup>1, 2</sup></span></span>|<span data-ttu-id="b7083-158">可配置的<sup>3</sup>个或固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-158">Configurable<sup>3</sup> or Fixed Path</span></span>|  
|---------------|---------------------------------|--------------------------------------------|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="b7083-159">服务器组件</span><span class="sxs-lookup"><span data-stu-id="b7083-159">server components</span></span>|<span data-ttu-id="b7083-160">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSSQL12. \|路宽</span><span class="sxs-lookup"><span data-stu-id="b7083-160">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="b7083-161">数据文件</span><span class="sxs-lookup"><span data-stu-id="b7083-161">data files</span></span>|<span data-ttu-id="b7083-162">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSSQL12. \|路宽</span><span class="sxs-lookup"><span data-stu-id="b7083-162">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="b7083-163">服务器</span><span class="sxs-lookup"><span data-stu-id="b7083-163">server</span></span>|<span data-ttu-id="b7083-164">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSAS12. \|路宽</span><span class="sxs-lookup"><span data-stu-id="b7083-164">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="b7083-165">数据文件</span><span class="sxs-lookup"><span data-stu-id="b7083-165">data files</span></span>|<span data-ttu-id="b7083-166">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSAS12. \|路宽</span><span class="sxs-lookup"><span data-stu-id="b7083-166">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="b7083-167">报表服务器</span><span class="sxs-lookup"><span data-stu-id="b7083-167">report server</span></span>|<span data-ttu-id="b7083-168">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSRS12. \<InstanceID>\Reporting Services\ReportServer\Bin \| 可配置</span><span class="sxs-lookup"><span data-stu-id="b7083-168">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSRS12.\<InstanceID>\Reporting Services\ReportServer\Bin\|Configurable</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="b7083-169">报表管理器</span><span class="sxs-lookup"><span data-stu-id="b7083-169">report manager</span></span>|<span data-ttu-id="b7083-170">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSRS12. \<InstanceID>\Reporting Services\ReportManager \| 固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-170">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSRS12.\<InstanceID>\Reporting Services\ReportManager\|Fixed path</span></span>|  
|[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]|<span data-ttu-id="b7083-171">\<Install Directory>\120\DTS \| 可配置<sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="b7083-171">\<Install Directory>\120\DTS\|Configurable<sup>4</sup></span></span>|  
|<span data-ttu-id="b7083-172">客户端组件（bcp.exe 和 sqlcmd.exe 除外）</span><span class="sxs-lookup"><span data-stu-id="b7083-172">Client Components (except bcp.exe and sqlcmd.exe)</span></span>|<span data-ttu-id="b7083-173">\<Install Directory>\120\Tools \| 可配置<sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="b7083-173">\<Install Directory>\120\Tools\|Configurable<sup>4</sup></span></span>|  
|<span data-ttu-id="b7083-174">客户端组件（bcp.exe 和 sqlcmd.exe）</span><span class="sxs-lookup"><span data-stu-id="b7083-174">Client Components (bcp.exe and sqlcmd.exe)</span></span>|<span data-ttu-id="b7083-175">\<Install Directory>\Client SDK\ODBC\110\Tools\Binn</span><span class="sxs-lookup"><span data-stu-id="b7083-175">\<Install Directory>\Client SDK\ODBC\110\Tools\Binn</span></span>|<span data-ttu-id="b7083-176">固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-176">Fixed path</span></span>|  
|<span data-ttu-id="b7083-177">复制和服务器端 COM 对象</span><span class="sxs-lookup"><span data-stu-id="b7083-177">Replication and server-side COM objects</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="b7083-178">COM \\ <sup>5</sup></span><span class="sxs-lookup"><span data-stu-id="b7083-178">COM\\<sup>5</sup></span></span>|<span data-ttu-id="b7083-179">固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-179">Fixed path</span></span>|  
|<span data-ttu-id="b7083-180">用于数据转换运行时引擎、数据转换管道引擎和 `dtexec` 命令提示实用工具的 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 组件 DLL</span><span class="sxs-lookup"><span data-stu-id="b7083-180">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] component DLLs for the Data Transformation Run-time engine, the Data Transformation Pipeline engine, and the `dtexec` command prompt utility</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="b7083-181">DTS\Binn</span><span class="sxs-lookup"><span data-stu-id="b7083-181">DTS\Binn</span></span>|<span data-ttu-id="b7083-182">固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-182">Fixed path</span></span>|  
|<span data-ttu-id="b7083-183">为 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="b7083-183">DLLs that provide managed connection support for [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="b7083-184">DTS\Connections</span><span class="sxs-lookup"><span data-stu-id="b7083-184">DTS\Connections</span></span>|<span data-ttu-id="b7083-185">固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-185">Fixed path</span></span>|  
|<span data-ttu-id="b7083-186">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 支持的每种类型枚举器的 DLL</span><span class="sxs-lookup"><span data-stu-id="b7083-186">DLLs for each type of enumerator that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] supports</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="b7083-187">DTS\ForEachEnumerators</span><span class="sxs-lookup"><span data-stu-id="b7083-187">DTS\ForEachEnumerators</span></span>|<span data-ttu-id="b7083-188">固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-188">Fixed path</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b7083-189">浏览器服务、WMI 提供程序</span><span class="sxs-lookup"><span data-stu-id="b7083-189">Browser Service, WMI providers</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="b7083-190">共享 \| 固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-190">Shared\|Fixed path</span></span>|  
|<span data-ttu-id="b7083-191">所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="b7083-191">Components that are shared between all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="b7083-192">共享 \| 固定路径</span><span class="sxs-lookup"><span data-stu-id="b7083-192">Shared\|Fixed path</span></span>|  
  
 <span data-ttu-id="b7083-193"><sup>1</sup>确保 \Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \ 文件夹受到有限权限的保护。</span><span class="sxs-lookup"><span data-stu-id="b7083-193"><sup>1</sup>Ensure that the \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\ folder is protected with limited permissions.</span></span>  
  
 <span data-ttu-id="b7083-194"><sup>2</sup>这些位置的默认驱动器为*systemdrive*，通常为驱动器 C。</span><span class="sxs-lookup"><span data-stu-id="b7083-194"><sup>2</sup>The default drive for these locations is *systemdrive*, normally drive C.</span></span>  
  
 <span data-ttu-id="b7083-195"><sup>3</sup>子功能的安装路径由父功能的安装路径确定。</span><span class="sxs-lookup"><span data-stu-id="b7083-195"><sup>3</sup>Installation paths for child features are determined by the installation path of the parent feature.</span></span>  
  
 <span data-ttu-id="b7083-196"><sup>4</sup>在和客户端组件之间共享单个安装路径 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="b7083-196"><sup>4</sup>A single installation path is shared between [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and client components.</span></span> <span data-ttu-id="b7083-197">更改一个组件的安装路径会同时更改其他组件的安装路径。</span><span class="sxs-lookup"><span data-stu-id="b7083-197">Changing the installation path for one component also changes it for other components.</span></span> <span data-ttu-id="b7083-198">后续安装将组件安装到与原始安装相同的位置。</span><span class="sxs-lookup"><span data-stu-id="b7083-198">Subsequent installations install components to the same location as the original installation.</span></span>  
  
 <span data-ttu-id="b7083-199"><sup>5</sup>此目录由计算机上的所有实例使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="b7083-199"><sup>5</sup>This directory is used by all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on a computer.</span></span> <span data-ttu-id="b7083-200">如果对计算机上的任何实例应用更新，对此文件夹中的文件所做的任何更改都会影响计算机上的所有实例。</span><span class="sxs-lookup"><span data-stu-id="b7083-200">If you apply an update to any of the instances on the computer, any changes to files in this folder will affect all instances on the computer.</span></span> <span data-ttu-id="b7083-201">向现有安装添加功能时，不能更改以前安装的功能的位置，也不能为新功能指定该位置。</span><span class="sxs-lookup"><span data-stu-id="b7083-201">When you add features to an existing installation, you cannot change the location of a previously installed feature, nor can you specify the location for a new feature.</span></span> <span data-ttu-id="b7083-202">必须将其他功能安装到安装程序已建立的目录，或卸载并重新安装产品。</span><span class="sxs-lookup"><span data-stu-id="b7083-202">You must either install additional features to the directories already established by Setup, or uninstall and reinstall the product.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b7083-203">对于群集配置，必须选择在群集的每个节点上都可用的本地驱动器。</span><span class="sxs-lookup"><span data-stu-id="b7083-203">For clustered configurations, you must select a local drive that is available on every node of the cluster.</span></span>  
  
 <span data-ttu-id="b7083-204">当在安装过程中为服务器组件或数据文件指定安装路径时，安装程序除了为程序和数据文件使用指定的位置外，还使用实例 ID。</span><span class="sxs-lookup"><span data-stu-id="b7083-204">When you specify an installation path during Setup for the server components or data files, the Setup program uses the instance ID in addition to the specified location for program and data files.</span></span> <span data-ttu-id="b7083-205">安装程序不会将实例 ID 用于工具和其他共享文件。</span><span class="sxs-lookup"><span data-stu-id="b7083-205">Setup does not use the instance ID for tools and other shared files.</span></span> <span data-ttu-id="b7083-206">安装程序也不会将任何实例 ID 用于 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 程序和数据文件，尽管它会将实例 ID 用于 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 存储库。</span><span class="sxs-lookup"><span data-stu-id="b7083-206">Setup also does not use any instance ID for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] program and data files, although it does use the instance ID for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] repository.</span></span>  
  
 <span data-ttu-id="b7083-207">如果为 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 功能设置了安装路径，则对于此次安装， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装程序会将该路径用作所有特定于实例的文件夹（包括 SQL 数据文件）的根目录。</span><span class="sxs-lookup"><span data-stu-id="b7083-207">If you set an installation path for the [!INCLUDE[ssDE](../../includes/ssde-md.md)] feature, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup uses that path as the root directory for all instance-specific folders for that installation, including SQL Data Files.</span></span> <span data-ttu-id="b7083-208">在这种情况下，如果将根目录设置为 "C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceName>\MSSQL \\ "、特定于实例的目录将添加到该路径的末尾。</span><span class="sxs-lookup"><span data-stu-id="b7083-208">In this case, if you set the root to "C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceName>\MSSQL\\", instance-specific directories are added to the end of that path.</span></span>  
  
 <span data-ttu-id="b7083-209">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装向导（安装程序用户界面模式）中选择使用 USESYSDB 升级功能的客户会很容易将产品安装到递归文件夹结构中。</span><span class="sxs-lookup"><span data-stu-id="b7083-209">Customers who choose to use the USESYSDB upgrade functionality in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard (Setup UI mode) can easily lead themselves into a situation where the product gets installed into a recursive folder structure.</span></span> <span data-ttu-id="b7083-210">例如， \<*SQLProgramFiles*> \mssql12\mssql\ MSSQL10_50 \mssql\data \\ 。</span><span class="sxs-lookup"><span data-stu-id="b7083-210">For example, \<*SQLProgramFiles*>\MSSQL12\MSSQL\MSSQL10_50\MSSQL\Data\\.</span></span> <span data-ttu-id="b7083-211">这时，为了使用 USESYSDB 功能，请为 SQL 数据文件功能而非 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 功能设置安装路径。</span><span class="sxs-lookup"><span data-stu-id="b7083-211">Instead, to use the USESYSDB feature, set an installation path for the SQL Data Files feature instead of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] feature.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b7083-212">数据文件始终应位于名为 Data 的子目录中。</span><span class="sxs-lookup"><span data-stu-id="b7083-212">Data files are always expected to be found in a child directory named Data.</span></span> <span data-ttu-id="b7083-213">例如，指定 C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceName>\ 若要在 C:\Program files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceName> 中找到数据文件时指定升级期间系统数据库的数据目录的根路径。\Mssql\data。</span><span class="sxs-lookup"><span data-stu-id="b7083-213">For example, specify C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceName>\ to specify the root path to the data directory of the system databases during upgrade when data files are found under C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceName>\MSSQL\Data.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b7083-214">另请参阅</span><span class="sxs-lookup"><span data-stu-id="b7083-214">See Also</span></span>  
 <span data-ttu-id="b7083-215">[数据库引擎配置-数据目录](../../../2014/sql-server/install/database-engine-configuration-data-directories.md) </span><span class="sxs-lookup"><span data-stu-id="b7083-215">[Database Engine Configuration - Data Directories](../../../2014/sql-server/install/database-engine-configuration-data-directories.md) </span></span>  
 [<span data-ttu-id="b7083-216">Analysis Services 配置 - 数据目录</span><span class="sxs-lookup"><span data-stu-id="b7083-216">Analysis Services Configuration - Data Directories</span></span>](../../../2014/sql-server/install/analysis-services-configuration-data-directories.md)  
  
  
