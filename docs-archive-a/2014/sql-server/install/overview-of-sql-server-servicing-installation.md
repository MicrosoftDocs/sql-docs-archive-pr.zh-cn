---
title: SQL Server 服务安装概述 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 6a9fd19b-2367-4908-b638-363b1e929e1e
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 30610b1a1016b3343c2264e885847de6f2c233fc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87589423"
---
# <a name="overview-of-sql-server-servicing-installation"></a><span data-ttu-id="f2c34-102">SQL Server 服务安装概述</span><span class="sxs-lookup"><span data-stu-id="f2c34-102">Overview of SQL Server Servicing Installation</span></span>
  <span data-ttu-id="f2c34-103">您可以利用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 服务更新将更新应用到任何已安装的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 组件。</span><span class="sxs-lookup"><span data-stu-id="f2c34-103">You can apply an update to any installed [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] component with a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] servicing update.</span></span> <span data-ttu-id="f2c34-104">如果现有 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 组件的版本级别高于更新版本的级别，则安装程序会将其从更新中排除。</span><span class="sxs-lookup"><span data-stu-id="f2c34-104">If the version level of an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] component is later than the update version level, the Setup program will exclude it from the update.</span></span> <span data-ttu-id="f2c34-105">有关应用服务更新的详细信息，请参阅[安装 SQL Server 2014 服务更新](../../database-engine/install-windows/install-sql-server-servicing-updates.md)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-105">For more information on applying a servicing update, see [Install SQL Server 2014 Servicing Updates](../../database-engine/install-windows/install-sql-server-servicing-updates.md).</span></span>  
  
 <span data-ttu-id="f2c34-106">安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新时需要注意以下注意事项：</span><span class="sxs-lookup"><span data-stu-id="f2c34-106">The following considerations apply when you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates:</span></span>  
  
-   <span data-ttu-id="f2c34-107">必须同时更新属于一个 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的所有功能。</span><span class="sxs-lookup"><span data-stu-id="f2c34-107">All features that belong to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be updated at the same time.</span></span> <span data-ttu-id="f2c34-108">例如，更新 [!INCLUDE[ssDE](../../includes/ssde-md.md)]时，如果 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 组件和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 组件作为同一个 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]实例的一部分安装，则也必须对其进行更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-108">For example, when you update the [!INCLUDE[ssDE](../../includes/ssde-md.md)], you must also update [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] components if they are installed as part of the same instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="f2c34-109">必须始终将诸如管理工具、[!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 等共享功能更新到最新状态。</span><span class="sxs-lookup"><span data-stu-id="f2c34-109">Shared features, such as Management Tools, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], must always be updated to the most recent update.</span></span> <span data-ttu-id="f2c34-110">如果未在功能树中选定某个组件或实例，则不会更新该组件或实例。</span><span class="sxs-lookup"><span data-stu-id="f2c34-110">If a component or instance in the feature tree is not selected, the component or instance will not be updated.</span></span>  
  
-   <span data-ttu-id="f2c34-111">默认情况下， [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新日志文件将保存到% Program files% \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \120\Setup Bootstrap\LOG \\ 。</span><span class="sxs-lookup"><span data-stu-id="f2c34-111">By default, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update log files are saved to %Program Files%\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\120\Setup Bootstrap\LOG\\.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f2c34-112">安装程序现在可以将更新与原始介质集成，以便同时运行原始介质和更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-112">setup can now integrate an update with the original media to run the original media and the update at the same time.</span></span> <span data-ttu-id="f2c34-113">有关详细信息，请参阅[SQL Server 安装中的新增功能](../../../2014/sql-server/install/what-s-new-in-sql-server-installation.md)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-113">For more information, see [What's New in SQL Server Installation](../../../2014/sql-server/install/what-s-new-in-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="f2c34-114">建议您先备份您的数据，然后再应用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 服务更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-114">Before you apply a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] servicing update, we recommend that you consider backing up your data.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f2c34-115">更新可通过 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 获得。</span><span class="sxs-lookup"><span data-stu-id="f2c34-115">updates are available through [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update.</span></span> <span data-ttu-id="f2c34-116">我们建议您定期扫描更新，以便将 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例保持为最新并确保其安全。</span><span class="sxs-lookup"><span data-stu-id="f2c34-116">We recommend that you scan for updates regularly to keep your instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] updated and secure.</span></span> [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="f2c34-117">SP1 将作为完整 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装提供。</span><span class="sxs-lookup"><span data-stu-id="f2c34-117">SP1 is being provided as a complete [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation.</span></span> <span data-ttu-id="f2c34-118">对于此版本，没有在标准修补程序可执行文件包中提供 Service Pack 以应用到 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] RTM 实例，而是提供安装包（包含 2 个文件）。</span><span class="sxs-lookup"><span data-stu-id="f2c34-118">Rather than providing the Service Pack in the standard Patch executable package to be applied to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] RTM instances, for this release, an installation package (consisting of 2 files) is provided.</span></span> <span data-ttu-id="f2c34-119">执行时，将安装预安装 SP1 的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 新实例。</span><span class="sxs-lookup"><span data-stu-id="f2c34-119">When executed, this will install a new instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with SP1 pre-installed.</span></span>  
  
## <a name="requirements-and-known-issues"></a><span data-ttu-id="f2c34-120">要求和已知问题</span><span class="sxs-lookup"><span data-stu-id="f2c34-120">Requirements and Known Issues</span></span>  
 <span data-ttu-id="f2c34-121">推荐的磁盘空间要求约为软件包的 2.5 倍，以便安装、下载和解压缩该软件包。</span><span class="sxs-lookup"><span data-stu-id="f2c34-121">The recommended disk space requirements are approximately 2.5 times the size of the package to install, download, and extract the package.</span></span> <span data-ttu-id="f2c34-122">安装完 Service Pack 后，可以删除下载的软件包。</span><span class="sxs-lookup"><span data-stu-id="f2c34-122">After installing a service pack, you can remove the downloaded package.</span></span> <span data-ttu-id="f2c34-123">所有临时文件将会自动删除。</span><span class="sxs-lookup"><span data-stu-id="f2c34-123">Any temporary files are removed automatically.</span></span>  
  
 <span data-ttu-id="f2c34-124">**查看已知问题：** 有关当前版本的已知问题的详细信息，请参阅此处相应的发行说明主题： [SQL Server 发行说明](https://msdn.microsoft.com/f617a0af-92dd-47aa-82c3-f51b1346bcd8)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-124">**Review the known issues:** For more information about the known issues for the current release, see the corresponding release notes topic here: [SQL Server Release Notes](https://msdn.microsoft.com/f617a0af-92dd-47aa-82c3-f51b1346bcd8).</span></span>  
  
## <a name="installation-overview"></a><span data-ttu-id="f2c34-125">安装概述</span><span class="sxs-lookup"><span data-stu-id="f2c34-125">Installation Overview</span></span>  
 <span data-ttu-id="f2c34-126">本节讨论如何安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 累积更新和 Service Pack，包括如何执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="f2c34-126">This section discusses the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] installation for cumulative updates and service packs, including how to do the following:</span></span>  
  
-   <span data-ttu-id="f2c34-127">准备安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="f2c34-127">Prepare for a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update installation</span></span>  
  
-   <span data-ttu-id="f2c34-128">安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="f2c34-128">Install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates</span></span>  
  
-   <span data-ttu-id="f2c34-129">重新启动服务和应用程序</span><span class="sxs-lookup"><span data-stu-id="f2c34-129">Restart services and applications</span></span>  
  
### <a name="prepare-for-a-sscurrent-update-installation"></a><span data-ttu-id="f2c34-130">准备安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="f2c34-130">Prepare for a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Update Installation</span></span>  
 <span data-ttu-id="f2c34-131">强烈建议在安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新之前执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="f2c34-131">We strongly recommend that you do the following before you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates:</span></span>  
  
-   <span data-ttu-id="f2c34-132">**备份 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 系统数据库**-在安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新之前，请备份 `master` 、 `msdb` 和 `model` 数据库。</span><span class="sxs-lookup"><span data-stu-id="f2c34-132">**Back up your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system databases** - Before you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates, back up the `master`, `msdb`, and `model` databases.</span></span> <span data-ttu-id="f2c34-133">安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新会更改这些数据库，使它们与 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]的早期版本不兼容。</span><span class="sxs-lookup"><span data-stu-id="f2c34-133">Installing a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update changes these databases, making them incompatible with earlier versions of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="f2c34-134">如果决定重新安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] （不包含这些更新），则需要使用这些数据库的备份。</span><span class="sxs-lookup"><span data-stu-id="f2c34-134">Backups of these databases are required if you decide to reinstall [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] without these updates.</span></span>  
  
     <span data-ttu-id="f2c34-135">出于谨慎起见，还应备份用户数据库。</span><span class="sxs-lookup"><span data-stu-id="f2c34-135">It is also prudent to back up your user databases.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="f2c34-136">将更新应用于参与复制拓扑的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例时，必须在应用更新之前，将复制的数据库与系统数据库一起备份。</span><span class="sxs-lookup"><span data-stu-id="f2c34-136">When you apply updates to instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that participate in a replication topology, you must back up your replicated databases together with your system databases before you apply the update.</span></span>  
  
-   <span data-ttu-id="f2c34-137">**备份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库、配置文件和存储库**-更新实例之前 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ，应备份以下内容：</span><span class="sxs-lookup"><span data-stu-id="f2c34-137">**Back up your [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases, configuration file, and repository** - Before you update an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you should back up the following:</span></span>  
  
    -   [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="f2c34-138">数据库。</span><span class="sxs-lookup"><span data-stu-id="f2c34-138">databases.</span></span> <span data-ttu-id="f2c34-139">默认情况下，这些文件安装在 C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12. \<InstanceID> 中。\OLAP\Data \\ 。</span><span class="sxs-lookup"><span data-stu-id="f2c34-139">By default, these are installed to C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\OLAP\Data\\.</span></span> <span data-ttu-id="f2c34-140">对于 WOW 安装，默认路径为 C:\ProgramFiles (x86) \ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12. \<InstanceID>\OLAP\Data \\ 。</span><span class="sxs-lookup"><span data-stu-id="f2c34-140">For WOW installation, the default path is C:\ProgramFiles (x86)\ [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\OLAP\Data\\.</span></span>  
  
    -   <span data-ttu-id="f2c34-141">msmdsrv.ini 配置文件中的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 配置设置。</span><span class="sxs-lookup"><span data-stu-id="f2c34-141">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] configuration setting in the msmdsrv.ini configuration file.</span></span> <span data-ttu-id="f2c34-142">默认情况下，该文件位于 C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12. \<InstanceID> 中。\OLAP\Config\ 目录。</span><span class="sxs-lookup"><span data-stu-id="f2c34-142">By default, this is located in the C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\OLAP\Config\ directory.</span></span>  
  
    -   <span data-ttu-id="f2c34-143">（可选）包含 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 存储库的数据库。</span><span class="sxs-lookup"><span data-stu-id="f2c34-143">(Optional) The database that contains the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] repository.</span></span> <span data-ttu-id="f2c34-144">仅当已将 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 配置为与决策支持对象 (DSO) 库一起使用后，才需要执行此步骤。</span><span class="sxs-lookup"><span data-stu-id="f2c34-144">This step is required only if [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] was configured to work with the Decision Support Objects (DSO) library.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f2c34-145">如果备份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库、配置文件和存储库失败，则无法将更新后的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例恢复到早期版本。</span><span class="sxs-lookup"><span data-stu-id="f2c34-145">Failure to back up your [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases, configuration file, and repository will prevent you from reverting an updated instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to the earlier version.</span></span>  
  
-   <span data-ttu-id="f2c34-146">**验证系统数据库是否有足够的可用空间**-如果没有为和系统数据库选择自动增长 `master` 选项 `msdb` ，则每个数据库的可用空间必须至少为 500 KB。</span><span class="sxs-lookup"><span data-stu-id="f2c34-146">**Verify that the system databases have sufficient free space** - If the autogrow option is not selected for the `master` and `msdb` system databases, these databases each must have at least 500 KB of free space.</span></span> <span data-ttu-id="f2c34-147">若要验证数据库是否有足够的空间，请对 `sp_spaceused` 和 `master` 数据库运行 `msdb` 系统存储过程。</span><span class="sxs-lookup"><span data-stu-id="f2c34-147">To verify that the databases have sufficient space, run the `sp_spaceused` system stored procedure on the `master` and `msdb` databases.</span></span> <span data-ttu-id="f2c34-148">如果其中任一数据库的未分配空间少于 500 KB，则应增加该数据库的大小。</span><span class="sxs-lookup"><span data-stu-id="f2c34-148">If the unallocated space in either database is less than 500 KB, increase the size of the database.</span></span>  
  
-   <span data-ttu-id="f2c34-149">**停止服务和应用程序**-若要避免系统重启，请 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 在安装更新前，停止与正在升级的实例连接的所有应用程序和服务 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="f2c34-149">**Stop Services and Applications** - To avoid a possible restart of the system, stop all applications and services that make connections to the instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are being upgraded, before installing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates.</span></span> <span data-ttu-id="f2c34-150">其中包括 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]和 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="f2c34-150">These include [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="f2c34-151">有关详细信息，请参阅 [启动、停止、暂停、继续、重启 SQL Server 服务](../../database-engine/configure-windows/start-stop-pause-resume-restart-sql-server-services.md)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-151">For more information, see [Start, Stop, Pause, Resume, Restart the Database Engine, SQL Server Agent, or SQL Server Browser Service](../../database-engine/configure-windows/start-stop-pause-resume-restart-sql-server-services.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f2c34-152">不能停止故障转移群集环境中的服务。</span><span class="sxs-lookup"><span data-stu-id="f2c34-152">You cannot stop services in a failover cluster environment.</span></span> <span data-ttu-id="f2c34-153">有关详细信息，请参阅本主题后面的故障转移群集安装一节。</span><span class="sxs-lookup"><span data-stu-id="f2c34-153">For more information, see the failover cluster installation section later in this topic.</span></span>  
  
-   <span data-ttu-id="f2c34-154">为了使更新安装后无需重新启动计算机，安装程序将显示锁定文件的进程列表。</span><span class="sxs-lookup"><span data-stu-id="f2c34-154">To eliminate the requirement to restart your computer after update installation, Setup will show a list of processes that are locking files.</span></span> <span data-ttu-id="f2c34-155">如果更新安装程序必须在安装过程中结束某个服务，它将在安装完成后重新启动该服务。</span><span class="sxs-lookup"><span data-stu-id="f2c34-155">If the update Setup program must end a service during installation, it will restart the service after the installation finishes.</span></span>  
  
-   <span data-ttu-id="f2c34-156">如果安装程序确定在安装过程中文件已被锁定，则在安装完成后可能需要重新启动计算机。</span><span class="sxs-lookup"><span data-stu-id="f2c34-156">If Setup determines that files are locked during installation, you might have to restart your computer after the installation finishes.</span></span> <span data-ttu-id="f2c34-157">如有必要，安装程序将提示您重新启动计算机。</span><span class="sxs-lookup"><span data-stu-id="f2c34-157">If it is required, Setup prompts you to restart your computer.</span></span>  
  
### <a name="install-sscurrent-updates"></a><span data-ttu-id="f2c34-158">安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="f2c34-158">Install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Updates</span></span>  
 <span data-ttu-id="f2c34-159">本节介绍安装过程。</span><span class="sxs-lookup"><span data-stu-id="f2c34-159">This section describes the installation process.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f2c34-160">安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新的帐户必须对要安装这些更新的计算机拥有管理权限。</span><span class="sxs-lookup"><span data-stu-id="f2c34-160">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates must be installed under an account that has administrative privileges on the computer where they will be installed.</span></span> <span data-ttu-id="f2c34-161">对于本地安装，必须以管理员身份运行安装程序。</span><span class="sxs-lookup"><span data-stu-id="f2c34-161">For local installations, you must run Setup as an administrator.</span></span> <span data-ttu-id="f2c34-162">如果从远程共享安装 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，则必须使用对远程共享具有读取和执行权限的域帐户。</span><span class="sxs-lookup"><span data-stu-id="f2c34-162">If you install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from a remote share, you must use a domain account that has read and execute permissions on the remote share.</span></span>  
  
#### <a name="starting-a-sscurrent-update"></a><span data-ttu-id="f2c34-163">启动 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="f2c34-163">Starting a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Update</span></span>  
 <span data-ttu-id="f2c34-164">若要安装 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新，请运行自解压缩包文件。</span><span class="sxs-lookup"><span data-stu-id="f2c34-164">To install a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update, run the self-extracting package file.</span></span>  
  
 <span data-ttu-id="f2c34-165">累积更新包 (CU) ： \<SQLServer2014> -KBxxxxxx-*PPP*cluster.exe</span><span class="sxs-lookup"><span data-stu-id="f2c34-165">Cumulative update package (CU): \<SQLServer2014>-KBxxxxxx-*PPP*.exe</span></span>  
  
 <span data-ttu-id="f2c34-166"> (PCU) 的 Service pack 包： \<SQLServer2014> \<SPx> -KBxxxxxx-PPP-LLL.exe</span><span class="sxs-lookup"><span data-stu-id="f2c34-166">Service pack package (PCU): \<SQLServer2014>\<SPx> -KBxxxxxx-PPP-LLL.exe</span></span>  
  
-   <span data-ttu-id="f2c34-167">x 表示 Service Pack 编号</span><span class="sxs-lookup"><span data-stu-id="f2c34-167">x indicated service pack number</span></span>  
  
-   <span data-ttu-id="f2c34-168">PPP 表示特定的平台。</span><span class="sxs-lookup"><span data-stu-id="f2c34-168">PPP indicates the specific platform.</span></span>  
  
-   <span data-ttu-id="f2c34-169">LLL 表示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 语言的字符缩写形式，例如：英语的 LLL 为 ENU。</span><span class="sxs-lookup"><span data-stu-id="f2c34-169">LLL indicates the character abbreviation for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] language, for example: LLL for English is ENU.</span></span>  
  
 <span data-ttu-id="f2c34-170">若要将更新应用于故障转移群集中的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 组件，请参阅故障转移群集安装的相关章节。</span><span class="sxs-lookup"><span data-stu-id="f2c34-170">To apply updates to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] components that are part of a failover cluster, see the section for failover cluster installation.</span></span> <span data-ttu-id="f2c34-171">有关如何在无人参与模式下运行更新安装的详细信息，请参阅[从命令提示符安装 SQL Server 2014](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-171">For more information about how to run an update installation in unattended mode, see [Install SQL Server 2014 from the Command Prompt](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
####  <a name="product-updates-in-sscurrent-installation"></a><a name="Slipstream"></a><span data-ttu-id="f2c34-172">安装中的产品更新 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f2c34-172">Product Updates in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Installation</span></span>  
 <span data-ttu-id="f2c34-173">产品更新是 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装程序中的一项功能。</span><span class="sxs-lookup"><span data-stu-id="f2c34-173">Product Update is a feature in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Setup.</span></span> <span data-ttu-id="f2c34-174">该安装程序可以将最新的产品更新与主产品安装相集成，以便可以同时安装主产品及其适用的更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-174">It integrates the latest product updates with the main product installation so that the main product and its applicable updates are installed at the same time.</span></span> <span data-ttu-id="f2c34-175">产品更新可以搜索 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update、Windows Server Update Services (WSUS)、本地文件夹或网络共享以获取适用的更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-175">Product Update can search [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update, Windows Server Update Services (WSUS), a local folder, or a network share for applicable updates.</span></span>  <span data-ttu-id="f2c34-176">在找到最新版本的适用更新后，安装程序将下载这些更新并将其与当前的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安装过程集成在一起。</span><span class="sxs-lookup"><span data-stu-id="f2c34-176">After Setup finds the latest versions of the applicable updates, it downloads and integrates them with the current [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup process.</span></span> <span data-ttu-id="f2c34-177">产品更新可请求累积更新、Service Pack 或者 Service Pack 连同累积更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-177">Product Update can pull in a cumulative update, service pack, or service pack plus cumulative update.</span></span> <span data-ttu-id="f2c34-178">产品更新功能是已在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] PCU1 中提供的 Slipstream 功能的扩展。</span><span class="sxs-lookup"><span data-stu-id="f2c34-178">Product Update functionality is an extension of the Slipstream functionally that was available in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] PCU1.</span></span>  
  
## <a name="updating-a-prepared-image-of-ssnoversion"></a><span data-ttu-id="f2c34-179">更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的已准备映像</span><span class="sxs-lookup"><span data-stu-id="f2c34-179">Updating a Prepared Image of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="f2c34-180">可以在未完成已准备实例配置的情况下，将更新应用到未配置的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的已准备实例。</span><span class="sxs-lookup"><span data-stu-id="f2c34-180">You can apply an update to an unconfigured prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] without completing the configuration of the prepared instance.</span></span> <span data-ttu-id="f2c34-181">下面介绍将更新应用到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的已准备实例的不同方法：</span><span class="sxs-lookup"><span data-stu-id="f2c34-181">Different ways of applying an update to a prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are explained below:</span></span>  
  
-   <span data-ttu-id="f2c34-182">更新前面所准备的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例</span><span class="sxs-lookup"><span data-stu-id="f2c34-182">Updating a previously prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
  
     <span data-ttu-id="f2c34-183">可在配置之前应用已准备实例的更新。</span><span class="sxs-lookup"><span data-stu-id="f2c34-183">Updates to a prepared instance can be applied to prior to configuration.</span></span> <span data-ttu-id="f2c34-184">该更新包检测实例是否处于已准备状态并将修补程序应用到已准备的实例，但不完成配置。</span><span class="sxs-lookup"><span data-stu-id="f2c34-184">The update package detects that the instance is in the prepared state and apply the patch to the prepared instance, without completing the configuration.</span></span>  
  
-   <span data-ttu-id="f2c34-185">通过 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update 更新已准备实例：</span><span class="sxs-lookup"><span data-stu-id="f2c34-185">Updates to a prepared instance using [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update:</span></span>  
  
     <span data-ttu-id="f2c34-186">可以通过 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Update 将更新应用到 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 的已准备实例。</span><span class="sxs-lookup"><span data-stu-id="f2c34-186">You can apply updates to a prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update.</span></span> <span data-ttu-id="f2c34-187">该 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update 包将检测实例是否处于已准备状态并将修补程序应用到已准备的实例，但不完成配置。</span><span class="sxs-lookup"><span data-stu-id="f2c34-187">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update package will detect that the instance is in the prepared state and apply the patch to the prepare instance without completing the configuration.</span></span>  
  
 <span data-ttu-id="f2c34-188">如果要更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的已准备映像，则需要指定 InstanceID 参数。</span><span class="sxs-lookup"><span data-stu-id="f2c34-188">If you are updating a prepared image of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you will need to specify the InstanceID parameter.</span></span> <span data-ttu-id="f2c34-189">有关详细信息和语法示例，请参阅 [Installing Updates from the Command Prompt](../../database-engine/install-windows/installing-updates-from-the-command-prompt.md)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-189">For more information and sample syntax, see [Installing Updates from the Command Prompt](../../database-engine/install-windows/installing-updates-from-the-command-prompt.md).</span></span>  
  
## <a name="updating-a-completed-image-of-ssnoversion"></a><span data-ttu-id="f2c34-190">更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的已完成映像</span><span class="sxs-lookup"><span data-stu-id="f2c34-190">Updating a Completed Image of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="f2c34-191">更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的已完成和已配置实例的过程与更新任何其他 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]已安装实例的过程相同。</span><span class="sxs-lookup"><span data-stu-id="f2c34-191">Updating a completed and configured instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] follows the same processes as any other installed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="rebuilding-a-sscurrent-failover-cluster-node"></a><span data-ttu-id="f2c34-192">重新生成 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 故障转移群集节点</span><span class="sxs-lookup"><span data-stu-id="f2c34-192">Rebuilding a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Failover Cluster Node</span></span>  
 <span data-ttu-id="f2c34-193">应用更新之后，如果必须重新生成故障转移群集中的某个节点，请执行以下步骤：</span><span class="sxs-lookup"><span data-stu-id="f2c34-193">If you must rebuild a node in the failover cluster after updates were applied, follow these steps:</span></span>  
  
1.  <span data-ttu-id="f2c34-194">在故障转移群集中重新生成该节点。</span><span class="sxs-lookup"><span data-stu-id="f2c34-194">Rebuild the node in the failover cluster.</span></span> <span data-ttu-id="f2c34-195">有关重新生成节点的详细信息，请参阅 [Recover from Failover Cluster Instance Failure](../failover-clusters/windows/recover-from-failover-cluster-instance-failure.md)。</span><span class="sxs-lookup"><span data-stu-id="f2c34-195">For more information about rebuilding a node, see [Recover from Failover Cluster Instance Failure](../failover-clusters/windows/recover-from-failover-cluster-instance-failure.md).</span></span>  
  
2.  <span data-ttu-id="f2c34-196">运行原始的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装程序，将 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安装在故障转移群集节点上。</span><span class="sxs-lookup"><span data-stu-id="f2c34-196">Run the original [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Setup program to install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] on the failover cluster node.</span></span>  
  
3.  <span data-ttu-id="f2c34-197">在添加的节点上运行 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新安装程序。</span><span class="sxs-lookup"><span data-stu-id="f2c34-197">Run [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates Setup on the node that you have added.</span></span>  
  
## <a name="restart-services-and-applications"></a><span data-ttu-id="f2c34-198">重新启动服务和应用程序</span><span class="sxs-lookup"><span data-stu-id="f2c34-198">Restart Services and Applications</span></span>  
 <span data-ttu-id="f2c34-199">安装程序完成后，系统可能会提示您重新启动计算机。</span><span class="sxs-lookup"><span data-stu-id="f2c34-199">When the Setup program is finished, it might prompt you to restart the computer.</span></span> <span data-ttu-id="f2c34-200">系统重新启动后，或者安装程序完成但未要求重新启动，请使用“控制面板”中的 **“服务”** 节点重新启动在应用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新之前停止的服务。</span><span class="sxs-lookup"><span data-stu-id="f2c34-200">After the system restarts, or after the Setup program finishes without requesting a restart, use the **Services** node in Control Panel to restart the services that you stopped before you applied the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates.</span></span> <span data-ttu-id="f2c34-201">其中包括像分布式事务处理协调器和 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Search 这样的服务，或实例特定的同等服务。</span><span class="sxs-lookup"><span data-stu-id="f2c34-201">This includes services such as Distributed Transaction Coordinator and the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Search services, or instance-specific equivalents.</span></span>  
  
 <span data-ttu-id="f2c34-202">重新启动在运行 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新安装程序之前关闭的应用程序。</span><span class="sxs-lookup"><span data-stu-id="f2c34-202">Restart the applications that you closed before you ran [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update Setup.</span></span> <span data-ttu-id="f2c34-203">成功安装后，可能还需要立即对升级后的 `master`、`msdb` 和 `model` 数据库再进行一次备份。</span><span class="sxs-lookup"><span data-stu-id="f2c34-203">You might also want to make another backup of the upgraded `master`, `msdb`, and `model` databases immediately after successful installation.</span></span>  
  
## <a name="uninstalling-updates-from-sscurrent"></a><span data-ttu-id="f2c34-204">从 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 卸载更新</span><span class="sxs-lookup"><span data-stu-id="f2c34-204">Uninstalling Updates from [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="f2c34-205">可以使用“控制面板”中的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] “程序和功能” **卸载** 累积更新或 Service Pack。</span><span class="sxs-lookup"><span data-stu-id="f2c34-205">You can uninstall [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cumulative updates or service packs from **Programs and Features** in Control Panel.</span></span> <span data-ttu-id="f2c34-206">要查看已安装的更新列表，请通过依次单击 **“开始”** 按钮、 **“控制面板”**、 **“程序”**，然后在 **“程序和功能”** 下单击 **“查看已安装的更新”**，打开“已安装的更新”。</span><span class="sxs-lookup"><span data-stu-id="f2c34-206">To view the list of updates installed, open Installed Updates by clicking the **Start** button, clicking **Control Panel**, clicking **Programs**, and then, under **Programs and Features**, clicking **View installed updates**.</span></span> <span data-ttu-id="f2c34-207">每个累积更新是分别列出的。</span><span class="sxs-lookup"><span data-stu-id="f2c34-207">Each cumulative update is listed separately.</span></span> <span data-ttu-id="f2c34-208">但是，如果安装的 Service Pack 版本高于累积更新，累积更新条目将会隐藏起来，并且仅在卸载了 Service Pack 后才会显示出来。</span><span class="sxs-lookup"><span data-stu-id="f2c34-208">However, when a service pack is installed that is higher than the cumulative updates, the cumulative update entries are hidden and become available only if you uninstall the service pack.</span></span>  
  
 <span data-ttu-id="f2c34-209">若要卸载任何 Service Pack 和更新，必须按先新后旧顺序，先卸载应用于 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 实例的最新更新或 Service Pack。</span><span class="sxs-lookup"><span data-stu-id="f2c34-209">To uninstall any service packs and updates, you must start with the latest update or service pack applied to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and work backward.</span></span> <span data-ttu-id="f2c34-210">在下面的每个示例中，卸载完其他 Service Pack 或更新之后，最后剩下的都是 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 累积更新 1：</span><span class="sxs-lookup"><span data-stu-id="f2c34-210">In each of the following examples, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ends up with Cumulative Update 1 after uninstall has been completed for the other service packs or updates:</span></span>  
  
-   <span data-ttu-id="f2c34-211">对于安装有累积更新 1 和 SP1 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 实例，先卸载 SP1。</span><span class="sxs-lookup"><span data-stu-id="f2c34-211">For an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] with Cumulative Update 1 and SP1 installed, uninstall SP1.</span></span>  
  
-   <span data-ttu-id="f2c34-212">对于安装有累积更新 1、SP1 和累积更新 2 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 实例，先卸载累积更新 2，然后卸载 SP1。</span><span class="sxs-lookup"><span data-stu-id="f2c34-212">For an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] with Cumulative Update 1, SP1, and Cumulative Update 2 installed, uninstall Cumulative Update 2 first and then uninstall SP1.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f2c34-213">另请参阅</span><span class="sxs-lookup"><span data-stu-id="f2c34-213">See Also</span></span>  
 <span data-ttu-id="f2c34-214">[从命令提示符安装 SQL Server 2014](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="f2c34-214">[Install SQL Server 2014 from the Command Prompt](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 <span data-ttu-id="f2c34-215">[安装 SQL Server 2014 服务更新](../../database-engine/install-windows/install-sql-server-servicing-updates.md) </span><span class="sxs-lookup"><span data-stu-id="f2c34-215">[Install SQL Server 2014 Servicing Updates](../../database-engine/install-windows/install-sql-server-servicing-updates.md) </span></span>  
 <span data-ttu-id="f2c34-216">[验证 SQL Server 安装](../../database-engine/install-windows/validate-a-sql-server-installation.md) </span><span class="sxs-lookup"><span data-stu-id="f2c34-216">[Validate a SQL Server Installation](../../database-engine/install-windows/validate-a-sql-server-installation.md) </span></span>  
 [<span data-ttu-id="f2c34-217">查看和读取 SQL Server 安装程序日志文件</span><span class="sxs-lookup"><span data-stu-id="f2c34-217">View and Read SQL Server Setup Log Files</span></span>](../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md)  
  
  
