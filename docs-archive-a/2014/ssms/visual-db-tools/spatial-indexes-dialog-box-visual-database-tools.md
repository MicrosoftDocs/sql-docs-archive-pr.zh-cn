---
title: “空间索引”对话框 (Visual Database Tools) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
f1_keywords:
- vdt.dlgbox.spatialindexes
ms.assetid: 4d84239a-68c7-4aa2-8602-2b51dd07260f
author: stevestein
ms.author: sstein
ms.openlocfilehash: e401b7f93a8376b1c6dc0c75ca29cbdc8a39863d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87586053"
---
# <a name="spatial-indexes-dialog-box-visual-database-tools"></a><span data-ttu-id="0ed78-102">“空间索引”对话框 (Visual Database Tools)</span><span class="sxs-lookup"><span data-stu-id="0ed78-102">Spatial Indexes Dialog Box (Visual Database Tools)</span></span>
  <span data-ttu-id="0ed78-103">使用“空间索引”  对话框可为“几何”  或“地理”  数据类型的列（空间列）  创建索引，不能使用“索引/键”  对话框为这些列创建索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-103">Use the **Spatial Indexes** dialog box to create indexes for columns of the **geometry** or **geography** data type (*spatial columns*), which cannot be indexed using the **Index/Keys** dialog box.</span></span> <span data-ttu-id="0ed78-104">每个空间列可以有多个空间索引，但一次只能创建一个索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-104">Each spatial column can have more than one spatial index, but they must be created one at a time.</span></span>  
  
 <span data-ttu-id="0ed78-105">有关创建空间索引时的限制信息，请参阅 [空间索引概述](../../relational-databases/spatial/spatial-indexes-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="0ed78-105">For information about restrictions on spatial index creation, see [Spatial Indexes Overview](../../relational-databases/spatial/spatial-indexes-overview.md).</span></span>  
  
## <a name="options"></a><span data-ttu-id="0ed78-106">选项</span><span class="sxs-lookup"><span data-stu-id="0ed78-106">Options</span></span>  
 <span data-ttu-id="0ed78-107">**所选空间索引**</span><span class="sxs-lookup"><span data-stu-id="0ed78-107">**Selected Spatial Index**</span></span>  
 <span data-ttu-id="0ed78-108">列出现有空间索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-108">Lists existing spatial indexes.</span></span> <span data-ttu-id="0ed78-109">选择要显示其属性的索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-109">Select an index to show its properties.</span></span> <span data-ttu-id="0ed78-110">如果该列表为空，则表示尚未为该表定义空间索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-110">If the list is empty, no spatial indexes have been defined for the table.</span></span>  
  
 <span data-ttu-id="0ed78-111">**添加**</span><span class="sxs-lookup"><span data-stu-id="0ed78-111">**Add**</span></span>  
 <span data-ttu-id="0ed78-112">创建一个新的空间索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-112">Creates a new spatial index.</span></span>  
  
 <span data-ttu-id="0ed78-113">**删除**</span><span class="sxs-lookup"><span data-stu-id="0ed78-113">**Delete**</span></span>  
 <span data-ttu-id="0ed78-114">删除在“所选空间索引”  列表中选择的空间索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-114">Deletes the spatial index selected in the **Selected Spatial Index** list.</span></span>  
  
 <span data-ttu-id="0ed78-115">**每个对象的单元格数**</span><span class="sxs-lookup"><span data-stu-id="0ed78-115">**Cells Per Object**</span></span>  
 <span data-ttu-id="0ed78-116">指示可用于索引中单个空间对象的每个对象的分割单元格数。</span><span class="sxs-lookup"><span data-stu-id="0ed78-116">Indicates the number of tessellation cells-per-object that can be used for a single spatial object in the index.</span></span> <span data-ttu-id="0ed78-117">该数字可以是 1 和 8192 之间（含 1 和 8192）的任何整数。</span><span class="sxs-lookup"><span data-stu-id="0ed78-117">This number can be any integer between 1 and 8192, inclusive.</span></span> <span data-ttu-id="0ed78-118">默认值为 16。</span><span class="sxs-lookup"><span data-stu-id="0ed78-118">The default is 16.</span></span>  
  
 <span data-ttu-id="0ed78-119">如果对象包含的单元格多于 n  指定的单元格，则索引操作将根据需要使用尽可能多的单元格来提供完整的顶级分割。</span><span class="sxs-lookup"><span data-stu-id="0ed78-119">If an object covers more cells than specified by *n*, the indexing uses as many cells as necessary to provide a complete top-level tessellation.</span></span> <span data-ttu-id="0ed78-120">在这种情况下，对象收到的单元格数可能会大于指定的单元格数。</span><span class="sxs-lookup"><span data-stu-id="0ed78-120">In such cases, an object might receive more than the specified number of cells.</span></span> <span data-ttu-id="0ed78-121">这种情况下，最大数量即为顶级网格创建的单元格数，这取决于 **“级别 1”** 的密度。</span><span class="sxs-lookup"><span data-stu-id="0ed78-121">In this case, the maximum number is the number of cells generated by the top-level grid, which depends on the **Level 1** density.</span></span>  
  
 <span data-ttu-id="0ed78-122">**“列”**</span><span class="sxs-lookup"><span data-stu-id="0ed78-122">**Columns**</span></span>  
 <span data-ttu-id="0ed78-123">指示列名和排序顺序。</span><span class="sxs-lookup"><span data-stu-id="0ed78-123">Indicates the column name and sort order.</span></span>  
  
 <span data-ttu-id="0ed78-124">**IsSpatialIndex**</span><span class="sxs-lookup"><span data-stu-id="0ed78-124">**IsSpatialIndex**</span></span>  
 <span data-ttu-id="0ed78-125">指示已选择一个空间索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-125">Indicates that a spatial index is selected.</span></span>  
  
 <span data-ttu-id="0ed78-126">**级别 1**</span><span class="sxs-lookup"><span data-stu-id="0ed78-126">**Level 1**</span></span>  
 <span data-ttu-id="0ed78-127">指示第一级（顶级）网格的密度。</span><span class="sxs-lookup"><span data-stu-id="0ed78-127">Indicates the density of the first-level (top) grid.</span></span>  
  
 <span data-ttu-id="0ed78-128">**级别 2**</span><span class="sxs-lookup"><span data-stu-id="0ed78-128">**Level 2**</span></span>  
 <span data-ttu-id="0ed78-129">指示第二级网格的密度。</span><span class="sxs-lookup"><span data-stu-id="0ed78-129">Indicates the density of the second-level grid.</span></span>  
  
 <span data-ttu-id="0ed78-130">**级别 3**</span><span class="sxs-lookup"><span data-stu-id="0ed78-130">**Level 3**</span></span>  
 <span data-ttu-id="0ed78-131">指示第三级网格的密度。</span><span class="sxs-lookup"><span data-stu-id="0ed78-131">Indicates the density of the third-level grid.</span></span>  
  
 <span data-ttu-id="0ed78-132">**级别 4**</span><span class="sxs-lookup"><span data-stu-id="0ed78-132">**Level 4**</span></span>  
 <span data-ttu-id="0ed78-133">指示第四级网格的密度。</span><span class="sxs-lookup"><span data-stu-id="0ed78-133">Indicates the density of the fourth-level grid.</span></span>  
  
 <span data-ttu-id="0ed78-134">**分割方案**</span><span class="sxs-lookup"><span data-stu-id="0ed78-134">**Tessellation Scheme**</span></span>  
 <span data-ttu-id="0ed78-135">指示分割方案：</span><span class="sxs-lookup"><span data-stu-id="0ed78-135">Indicates the tessellation scheme:</span></span>  
  
 <span data-ttu-id="0ed78-136">“几何”  列选项：</span><span class="sxs-lookup"><span data-stu-id="0ed78-136">**Geometry** column options:</span></span>  
  
-   <span data-ttu-id="0ed78-137">“几何”列的“几何网格” </span><span class="sxs-lookup"><span data-stu-id="0ed78-137">**Geometry grid** for a geometry column</span></span>  
  
-   <span data-ttu-id="0ed78-138">“地理”列的“地理网格” </span><span class="sxs-lookup"><span data-stu-id="0ed78-138">**Geography grid** for a geography column</span></span>  
  
 <span data-ttu-id="0ed78-139">类型 </span><span class="sxs-lookup"><span data-stu-id="0ed78-139">**Type**</span></span>  
 <span data-ttu-id="0ed78-140">指示已选择一个空间索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-140">Indicates that a spatial index is selected.</span></span>  
  
 <span data-ttu-id="0ed78-141">**X 最大值**</span><span class="sxs-lookup"><span data-stu-id="0ed78-141">**X-max**</span></span>  
 <span data-ttu-id="0ed78-142">指定边界框右上角的 x 坐标。</span><span class="sxs-lookup"><span data-stu-id="0ed78-142">Specifies the x-coordinate of the upper-right corner of the bounding box.</span></span> <span data-ttu-id="0ed78-143">如果“分割方案”  为“地理网格”  ，此属性呈灰色。</span><span class="sxs-lookup"><span data-stu-id="0ed78-143">This property is dimmed if the **Tessellation Scheme** is **Geography grid**.</span></span>  
  
 <span data-ttu-id="0ed78-144">**X-min**</span><span class="sxs-lookup"><span data-stu-id="0ed78-144">**X-min**</span></span>  
 <span data-ttu-id="0ed78-145">指定边界框左下角的 x 坐标。</span><span class="sxs-lookup"><span data-stu-id="0ed78-145">Specifies the x-coordinate of the lower-left corner of the bounding box.</span></span> <span data-ttu-id="0ed78-146">如果“分割方案”  为“地理网格”  ，此属性呈灰色。</span><span class="sxs-lookup"><span data-stu-id="0ed78-146">This property is dimmed if the **Tessellation Scheme** is **Geography grid**.</span></span>  
  
 <span data-ttu-id="0ed78-147">**Y-max**</span><span class="sxs-lookup"><span data-stu-id="0ed78-147">**Y-max**</span></span>  
 <span data-ttu-id="0ed78-148">指定边界框右上角的 y 坐标。</span><span class="sxs-lookup"><span data-stu-id="0ed78-148">Specifies the y-coordinate of upper-right corner of the bounding box.</span></span> <span data-ttu-id="0ed78-149">如果“分割方案”  为“地理网格”  ，此属性呈灰色。</span><span class="sxs-lookup"><span data-stu-id="0ed78-149">This property is dimmed if the **Tessellation Scheme** is **Geography grid**.</span></span>  
  
 <span data-ttu-id="0ed78-150">**Y-min**</span><span class="sxs-lookup"><span data-stu-id="0ed78-150">**Y-min**</span></span>  
 <span data-ttu-id="0ed78-151">指定边界框左下角的 y 坐标。</span><span class="sxs-lookup"><span data-stu-id="0ed78-151">Specifies the y-coordinate of the lower-left corner of the bounding box.</span></span> <span data-ttu-id="0ed78-152">如果“分割方案”  为“地理网格”  ，此属性呈灰色。</span><span class="sxs-lookup"><span data-stu-id="0ed78-152">This property is dimmed if the **Tessellation Scheme** is **Geography grid**.</span></span>  
  
 <span data-ttu-id="0ed78-153">**标识**</span><span class="sxs-lookup"><span data-stu-id="0ed78-153">**Identity**</span></span>  
 <span data-ttu-id="0ed78-154">展开此项可显示“名称”  和“说明”  属性字段。</span><span class="sxs-lookup"><span data-stu-id="0ed78-154">When expanded, shows the **Name** and **Description** property fields.</span></span>  
  
 <span data-ttu-id="0ed78-155">**(名称)**</span><span class="sxs-lookup"><span data-stu-id="0ed78-155">**(Name)**</span></span>  
 <span data-ttu-id="0ed78-156">显示空间索引的名称。</span><span class="sxs-lookup"><span data-stu-id="0ed78-156">Shows the name of the spatial index.</span></span> <span data-ttu-id="0ed78-157">在创建一个新索引时，将基于表设计器的活动窗口中的表为其指定一个默认名称。</span><span class="sxs-lookup"><span data-stu-id="0ed78-157">When a new index is created, it is given a default name based on the table in the active window in Table Designer.</span></span> <span data-ttu-id="0ed78-158">可随时更改名称。</span><span class="sxs-lookup"><span data-stu-id="0ed78-158">You can change the name at any time.</span></span>  
  
 <span data-ttu-id="0ed78-159">**说明**</span><span class="sxs-lookup"><span data-stu-id="0ed78-159">**Description**</span></span>  
 <span data-ttu-id="0ed78-160">说明该索引。</span><span class="sxs-lookup"><span data-stu-id="0ed78-160">Describes the index.</span></span> <span data-ttu-id="0ed78-161">若要编写更详细的说明，请单击“说明”，再单击属性字段右侧显示的省略号按钮 (…)   。</span><span class="sxs-lookup"><span data-stu-id="0ed78-161">To write a more detailed description, click **Description** and then click the ellipsis button (**...**) that appears to the right of the property field.</span></span> <span data-ttu-id="0ed78-162">这可以提供一个更大的文本编写区域。</span><span class="sxs-lookup"><span data-stu-id="0ed78-162">This provides a larger area in which to write text.</span></span>  
  
 <span data-ttu-id="0ed78-163">**表设计器类别**</span><span class="sxs-lookup"><span data-stu-id="0ed78-163">**Table Designer Category**</span></span>  
 <span data-ttu-id="0ed78-164">展开此项可显示有关此空间索引的属性的信息。</span><span class="sxs-lookup"><span data-stu-id="0ed78-164">When expanded, shows information about the properties of this spatial index.</span></span>  
  
 <span data-ttu-id="0ed78-165">**填充规范**</span><span class="sxs-lookup"><span data-stu-id="0ed78-165">**Fill Specification**</span></span>  
 <span data-ttu-id="0ed78-166">展开此项可显示有关“填充因子”  和“填充索引”  的信息。</span><span class="sxs-lookup"><span data-stu-id="0ed78-166">When expanded, shows information for **Fill Factor** and **Pad Index**.</span></span>  
  
 <span data-ttu-id="0ed78-167">**填充因子**</span><span class="sxs-lookup"><span data-stu-id="0ed78-167">**Fill Factor**</span></span>  
 <span data-ttu-id="0ed78-168">指定系统在索引页中能够填充的空间百分比。</span><span class="sxs-lookup"><span data-stu-id="0ed78-168">Specify what percentage of the index page the system can fill.</span></span> <span data-ttu-id="0ed78-169">当页面已满时，如果添加新数据，则系统必须拆分页面，因而损害性能。</span><span class="sxs-lookup"><span data-stu-id="0ed78-169">When a page is full, if new data is added, the system must split the page, which impairs performance.</span></span>  
  
-   <span data-ttu-id="0ed78-170">值为 100 表示将填满页面，这时需要的存储空间量最小但效率最低。</span><span class="sxs-lookup"><span data-stu-id="0ed78-170">A value of 100 means the pages will be full; this requires the least amount of storage space but is the least efficient.</span></span> <span data-ttu-id="0ed78-171">只有在不会对数据进行更改时（例如，对于只读表），才可以使用此设置。</span><span class="sxs-lookup"><span data-stu-id="0ed78-171">This setting should be used only when there will be no changes to the data, for example, on a read-only table.</span></span>  
  
-   <span data-ttu-id="0ed78-172">值越小，数据页上留出的可用空间就越大，这会减少随索引的增长而拆分数据页的需求。</span><span class="sxs-lookup"><span data-stu-id="0ed78-172">A lower value leaves more empty space on the data pages, which reduces the need to split data pages as indexes grow.</span></span> <span data-ttu-id="0ed78-173">但是，这需要更大的存储空间。</span><span class="sxs-lookup"><span data-stu-id="0ed78-173">However, it requires more storage space.</span></span> <span data-ttu-id="0ed78-174">在需要对表中的数据进行更改的情况下，此设置更为适用。</span><span class="sxs-lookup"><span data-stu-id="0ed78-174">This setting is more appropriate when there will be changes to the data in the table.</span></span>  
  
 <span data-ttu-id="0ed78-175">**填充索引**</span><span class="sxs-lookup"><span data-stu-id="0ed78-175">**Pad Index**</span></span>  
 <span data-ttu-id="0ed78-176">为此索引中的页提供与“填充因子”  中所指定百分比相同的可用空间（填充）百分比。</span><span class="sxs-lookup"><span data-stu-id="0ed78-176">Provides pages in this index the same percentage of empty space (padding) that is specified in **Fill Factor**.</span></span>  
  
 <span data-ttu-id="0ed78-177">**允许页锁定**</span><span class="sxs-lookup"><span data-stu-id="0ed78-177">**Page Locks Allowed**</span></span>  
 <span data-ttu-id="0ed78-178">指定对此索引是否允许页级锁定。</span><span class="sxs-lookup"><span data-stu-id="0ed78-178">Specifies whether page-level locking is allowed on this index.</span></span> <span data-ttu-id="0ed78-179">允许或禁用页级锁定会影响数据库性能。</span><span class="sxs-lookup"><span data-stu-id="0ed78-179">Allowing or disallowing page-level locking affects database performance.</span></span>  
  
 <span data-ttu-id="0ed78-180">**重新计算统计信息**</span><span class="sxs-lookup"><span data-stu-id="0ed78-180">**Re-compute  Statistics**</span></span>  
 <span data-ttu-id="0ed78-181">指定在创建索引后是否计算新的统计数据。</span><span class="sxs-lookup"><span data-stu-id="0ed78-181">Specifies whether to compute new statistics when the index is created.</span></span> <span data-ttu-id="0ed78-182">重新计算统计数据会降低索引的生成速度，但通常会提高查询性能。</span><span class="sxs-lookup"><span data-stu-id="0ed78-182">Recomputing statistics slows the building of indexes but usually improves query performance.</span></span>  
  
 <span data-ttu-id="0ed78-183">**允许行锁定**</span><span class="sxs-lookup"><span data-stu-id="0ed78-183">**Row Locks Allowed**</span></span>  
 <span data-ttu-id="0ed78-184">指定对此索引是否允许行级锁定。</span><span class="sxs-lookup"><span data-stu-id="0ed78-184">Specifies whether row-level locking is allowed on this index.</span></span> <span data-ttu-id="0ed78-185">允许或禁用行级锁定会影响数据库性能。</span><span class="sxs-lookup"><span data-stu-id="0ed78-185">Allowing or disallowing row-level locking affects database performance.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0ed78-186">另请参阅</span><span class="sxs-lookup"><span data-stu-id="0ed78-186">See Also</span></span>  
 [<span data-ttu-id="0ed78-187">空间索引概述</span><span class="sxs-lookup"><span data-stu-id="0ed78-187">Spatial Indexes Overview</span></span>](../../relational-databases/spatial/spatial-indexes-overview.md)  
  
  
