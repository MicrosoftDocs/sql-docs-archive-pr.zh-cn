---
title: SQL Server 2014 中 Analysis Services 功能的行为更改 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 92ebd5cb-afb6-4b62-968f-39f5574a452b
author: minewiskan
ms.author: owend
ms.openlocfilehash: 4fa6e5f28202c80ed8b80e16a67b0e77cf4d10fd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87579350"
---
# <a name="behavior-changes-to-analysis-services-features-in-sql-server-2014"></a><span data-ttu-id="6b415-102">SQL Server 2014 中 Analysis Services 功能的行为更改</span><span class="sxs-lookup"><span data-stu-id="6b415-102">Behavior Changes to Analysis Services Features in SQL Server 2014</span></span>
  <span data-ttu-id="6b415-103">本主题针对多维、表格、数据挖掘和 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 部署介绍 [!INCLUDE[ssGeminiShort](../includes/ssgeminishort-md.md)] 中的行为更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-103">This topic describes behavior changes in [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] for multidimensional, tabular, data mining, and [!INCLUDE[ssGeminiShort](../includes/ssgeminishort-md.md)] deployments.</span></span> <span data-ttu-id="6b415-104">与早期版本的 SQL Server 相比，当前版本中的功能的工作或交互方式会受到行为更改的影响。</span><span class="sxs-lookup"><span data-stu-id="6b415-104">Behavior changes affect how features work or interact in the current version as compared to earlier versions of SQL Server.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6b415-105">相反，阻止与 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 集成的数据模型或应用程序运行是一项重大更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-105">In contrast, a breaking change is one that prevents a data model or application integrated with [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] from running.</span></span> <span data-ttu-id="6b415-106">若要了解更多信息，请参阅 [Breaking Changes to Analysis Services Features in SQL Server 2014](breaking-changes-to-analysis-services-features-in-sql-server-2014.md)。</span><span class="sxs-lookup"><span data-stu-id="6b415-106">To learn more, see [Breaking Changes to Analysis Services Features in SQL Server 2014](breaking-changes-to-analysis-services-features-in-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="6b415-107">本主题内容：</span><span class="sxs-lookup"><span data-stu-id="6b415-107">In this Topic:</span></span>  
  
-   [<span data-ttu-id="6b415-108">SQL Server 2014 中的行为更改</span><span class="sxs-lookup"><span data-stu-id="6b415-108">Behavior Changes in SQL Server 2014</span></span>](#bkmk_sql2014)  
  
-   [<span data-ttu-id="6b415-109">SQL Server 2012 SP1 中的行为更改</span><span class="sxs-lookup"><span data-stu-id="6b415-109">Behavior Changes in SQL Server 2012 SP1</span></span>](#bkmk_sql2012sp1)  
  
-   [<span data-ttu-id="6b415-110">SQL Server 2012 中的行为更改</span><span class="sxs-lookup"><span data-stu-id="6b415-110">Behavior Changes in SQL Server 2012</span></span>](#bkmk_sql2012)  
  
##  <a name="behavior-changes-in-sssql14"></a><a name="bkmk_sql2014"></a><span data-ttu-id="6b415-111">中的行为更改[!INCLUDE[ssSQL14](../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6b415-111">Behavior Changes in [!INCLUDE[ssSQL14](../includes/sssql14-md.md)]</span></span>  
 <span data-ttu-id="6b415-112">此版本中，没有针对表格、多维、数据挖掘或 [!INCLUDE[ssGeminiShort](../includes/ssgeminishort-md.md)] 功能的新的行为更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-112">There are no new behavior changes announced for tabular, multidimensional, data mining, or [!INCLUDE[ssGeminiShort](../includes/ssgeminishort-md.md)] features in this release.</span></span>  <span data-ttu-id="6b415-113">但是，由于  [!INCLUDE[ssASCurrent](../includes/ssascurrent-md.md)] 非常类似于 [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] 和 [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)] 版本，因而如果要从 [!INCLUDE[ssKatmai](../includes/sskatmai-md.md)]进行升级，为方便起见，此处提供了这两个以前版本的行为更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-113">However, because  [!INCLUDE[ssASCurrent](../includes/ssascurrent-md.md)] is so similar to the [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] and [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)] versions, behavior changes from both prior releases are provided here as a convenience in case you're upgrading from [!INCLUDE[ssKatmai](../includes/sskatmai-md.md)].</span></span>  
  
##  <a name="behavior-changes-in-sssql11sp1"></a><a name="bkmk_sql2012sp1"></a><span data-ttu-id="6b415-114">中的行为更改[!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6b415-114">Behavior Changes in [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)]</span></span>  
 <span data-ttu-id="6b415-115">本节介绍针对 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 中的 [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)]功能报告的行为更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-115">This section documents the behavior changes reported for [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] features in [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)].</span></span> <span data-ttu-id="6b415-116">这些更改也适用于 [!INCLUDE[ssSQL14](../includes/sssql14-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6b415-116">These changes also apply to [!INCLUDE[ssSQL14](../includes/sssql14-md.md)].</span></span>  
  
|<span data-ttu-id="6b415-117">问题</span><span class="sxs-lookup"><span data-stu-id="6b415-117">Issue</span></span>|<span data-ttu-id="6b415-118">说明</span><span class="sxs-lookup"><span data-stu-id="6b415-118">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="6b415-119">在 SQL Server 2012 SP1 PowerPivot for SharePoint 2013 中使用时，SQL Server 2008 R2 PowerPivot 工作簿将不会在不进行提示的情况下升级和刷新模型。</span><span class="sxs-lookup"><span data-stu-id="6b415-119">SQL Server 2008 R2 PowerPivot workbooks will not silently upgrade and refresh the models when they are used in SQL Server 2012 SP1 PowerPivot for SharePoint 2013.</span></span> <span data-ttu-id="6b415-120">因此，计划的数据刷新将不适用于 SQL Server 2008 R2 PowerPivot 工作簿。</span><span class="sxs-lookup"><span data-stu-id="6b415-120">Therefore Scheduled data refreshes will not work for SQL Server 2008 R2 PowerPivot workbooks.</span></span>|<span data-ttu-id="6b415-121">2008 R2 工作簿将在 [!INCLUDE[ssGeminiShortvnext](../includes/ssgeminishortvnext-md.md)]中打开，但计划的刷新将不起作用。</span><span class="sxs-lookup"><span data-stu-id="6b415-121">The 2008 R2 workbooks will open in [!INCLUDE[ssGeminiShortvnext](../includes/ssgeminishortvnext-md.md)], however scheduled refreshes will not work.</span></span> <span data-ttu-id="6b415-122">如果查看刷新历史记录，您将会看到如下错误消息：</span><span class="sxs-lookup"><span data-stu-id="6b415-122">If you review the refresh history you will see an error message similar to the following:</span></span><br /> <span data-ttu-id="6b415-123">"该工作簿包含不支持的 PowerPivot 模型。</span><span class="sxs-lookup"><span data-stu-id="6b415-123">"The workbook contains an unsupported PowerPivot model.</span></span> <span data-ttu-id="6b415-124">该工作簿中的 PowerPivot 模型采用 SQL Server 2008 R2 PowerPivot for Excel 2010 格式。</span><span class="sxs-lookup"><span data-stu-id="6b415-124">The PowerPivot model in the workbook is in the SQL Server 2008 R2 PowerPivot for Excel 2010 format.</span></span> <span data-ttu-id="6b415-125">支持的 PowerPivot 模型如下：</span><span class="sxs-lookup"><span data-stu-id="6b415-125">Supported PowerPivot models are the following:</span></span> <br /><span data-ttu-id="6b415-126">SQL Server 2012 PowerPivot for Excel 2010</span><span class="sxs-lookup"><span data-stu-id="6b415-126">SQL Server 2012 PowerPivot for Excel 2010</span></span><br /><span data-ttu-id="6b415-127">SQL Server 2012 PowerPivot for Excel 2013 "</span><span class="sxs-lookup"><span data-stu-id="6b415-127">SQL Server 2012 PowerPivot for Excel 2013"</span></span><br /><br /> <span data-ttu-id="6b415-128">**如何升级工作簿：** 在将工作簿升级到 2012 工作簿之前，计划的刷新将不起作用。</span><span class="sxs-lookup"><span data-stu-id="6b415-128">**How to upgrade a workbook:** The scheduled refreshes will not work until you upgrade the workbook to a 2012 workbook.</span></span> <span data-ttu-id="6b415-129">若要升级工作簿以及工作簿中所包含的模型，请完成以下操作之一：</span><span class="sxs-lookup"><span data-stu-id="6b415-129">To upgrade the workbook and model it contains, complete one of the following:</span></span><br /><br /> <span data-ttu-id="6b415-130">下载工作簿并在安装有 SQL Server 2012 PowerPivot for Excel 外接程序的 Microsoft Excel 2010 中打开该工作簿。</span><span class="sxs-lookup"><span data-stu-id="6b415-130">Download and open the workbook in Microsoft Excel 2010 with the SQL Server 2012 PowerPivot for Excel add-in installed.</span></span> <span data-ttu-id="6b415-131">然后保存该工作簿并将其重新发布到 SharePoint 服务器。</span><span class="sxs-lookup"><span data-stu-id="6b415-131">Then save the workbook and republish it to the SharePoint server.</span></span><br /><br /> <span data-ttu-id="6b415-132">下载该工作簿并在 Microsoft Excel 2013 中打开它。</span><span class="sxs-lookup"><span data-stu-id="6b415-132">Download and open the workbook in Microsoft Excel 2013.</span></span> <span data-ttu-id="6b415-133">然后保存该工作簿并将其重新发布到 SharePoint 服务器。</span><span class="sxs-lookup"><span data-stu-id="6b415-133">Then save the workbook and republish it to the SharePoint server.</span></span><br /><br /> <br /><br /> <span data-ttu-id="6b415-134">有关工作簿升级的详细信息，请参阅[升级工作簿和计划的数据刷新 &#40;SharePoint 2013&#41;](instances/install-windows/upgrade-workbooks-and-scheduled-data-refresh-sharepoint-2013.md)。</span><span class="sxs-lookup"><span data-stu-id="6b415-134">For more information on workbook upgrade, see [Upgrade Workbooks and Scheduled Data Refresh &#40;SharePoint 2013&#41;](instances/install-windows/upgrade-workbooks-and-scheduled-data-refresh-sharepoint-2013.md).</span></span>|  
|<span data-ttu-id="6b415-135">DAX [ALL Function](/dax/all-function-dax)中的行为更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-135">Behavior change in DAX [ALL Function](/dax/all-function-dax).</span></span>|<span data-ttu-id="6b415-136">在 [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)]之前，如果您在“标记为日期表”中指定 [Date] 列以在时间智能中使用，且将 [Date] 列作为参数传递到 ALL 函数或作为筛选器传递给 CALCULATE 函数，则无论日期列中的切片器如何，都忽略表中所有列的所有筛选器。</span><span class="sxs-lookup"><span data-stu-id="6b415-136">Prior to [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)], if you specify a [Date] column in Mark as Date Table, for use in time-intelligence, and that [Date] column is passed as an argument to the ALL function, in-turn, passed as a filter to a CALCULATE function, all filters for all columns in the table are ignored, regardless of any slicer on the date column.</span></span><br /><br /> <span data-ttu-id="6b415-137">例如，应用于对象的</span><span class="sxs-lookup"><span data-stu-id="6b415-137">For example,</span></span><br /><br /> `= CALCULATE (<expression>, ALL (DateTable[Date]))`<br /><br /> <span data-ttu-id="6b415-138">在 [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)]以前，对于 DateTable 的所有列忽略所有筛选器，无论作为参数传递给 ALL 的 [Date] 列是什么。</span><span class="sxs-lookup"><span data-stu-id="6b415-138">Prior to [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)], all filters are ignored for all columns of DateTable, regardless of the [Date] column passed as an argument to ALL.</span></span><br /><br /> <span data-ttu-id="6b415-139">在 [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)] 和 Excel 2013 的 PowerPivot 中，此行为将仅对作为参数传递给 ALL 的指定列忽略筛选器。</span><span class="sxs-lookup"><span data-stu-id="6b415-139">In [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)] and in PowerPivot in Excel 2013, the behavior will ignore filters only for the specified column passed as an argument to ALL.</span></span><br /><br /> <span data-ttu-id="6b415-140">要解决新行为问题，忽略作为整个表的筛选器的所有列，您可以从参数中排除 [Date] 列，例如：</span><span class="sxs-lookup"><span data-stu-id="6b415-140">To work around the new behavior, in effect ignore all columns as a filter for the entire table, you can exclude [Date] column from the argument, for example,</span></span><br /><br /> `=CALCULATE (<expression>, ALL(DateTable))`<br /><br /> <span data-ttu-id="6b415-141">这将产生与 [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)]以前的行为相同的结果。</span><span class="sxs-lookup"><span data-stu-id="6b415-141">This will yield the same result as the behavior prior to [!INCLUDE[ssSQL11SP1](../includes/sssql11sp1-md.md)].</span></span>|  
  
##  <a name="behavior-changes-in-sssql11"></a><a name="bkmk_sql2012"></a><span data-ttu-id="6b415-142">中的行为更改[!INCLUDE[ssSQL11](../includes/sssql11-md.md)]</span><span class="sxs-lookup"><span data-stu-id="6b415-142">Behavior Changes in [!INCLUDE[ssSQL11](../includes/sssql11-md.md)]</span></span>  
 <span data-ttu-id="6b415-143">本节介绍针对 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 中的 [!INCLUDE[ssSQL11](../includes/sssql11-md.md)]功能报告的行为更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-143">This section documents the behavioral changes reported for [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] features in [!INCLUDE[ssSQL11](../includes/sssql11-md.md)].</span></span> <span data-ttu-id="6b415-144">这些更改也适用于 [!INCLUDE[ssSQL14](../includes/sssql14-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6b415-144">These changes also apply to [!INCLUDE[ssSQL14](../includes/sssql14-md.md)].</span></span>  
  
### <a name="analysis-services-multidimensional-mode"></a><span data-ttu-id="6b415-145">Analysis Services，多维模式</span><span class="sxs-lookup"><span data-stu-id="6b415-145">Analysis Services, Multidimensional Mode</span></span>  
  
#### <a name="nullprocessing-option-set-to-preserve-is-no-longer-supported-for-distinct-count-measures"></a><span data-ttu-id="6b415-146">非重复计数度量值不再支持设置为“保留”的 NullProcessing 选项</span><span class="sxs-lookup"><span data-stu-id="6b415-146">NullProcessing option set to Preserve is no longer supported for distinct count measures</span></span>  
 <span data-ttu-id="6b415-147">在之前 [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] ，可以为非重复计数度量值将[NullProcessing 元素 &#40;ASSL&#41;](https://docs.microsoft.com/bi-reference/assl/properties/nullprocessing-element-assl)设置为 `Preserve` 。</span><span class="sxs-lookup"><span data-stu-id="6b415-147">Prior to [!INCLUDE[ssSQL11](../includes/sssql11-md.md)], it was possible to set [NullProcessing Element &#40;ASSL&#41;](https://docs.microsoft.com/bi-reference/assl/properties/nullprocessing-element-assl) to `Preserve` for distinct count measures.</span></span>  <span data-ttu-id="6b415-148">遗憾的是，这种做法通常生成无效的结果，有时甚至损坏处理作业。</span><span class="sxs-lookup"><span data-stu-id="6b415-148">Unfortunately, this practice often produced invalid results and sometimes even crashed the processing job.</span></span> <span data-ttu-id="6b415-149">因此，此配置在 [!INCLUDE[ssSQL11](../includes/sssql11-md.md)]中不再有效。</span><span class="sxs-lookup"><span data-stu-id="6b415-149">As a result, this configuration is no longer valid in [!INCLUDE[ssSQL11](../includes/sssql11-md.md)].</span></span> <span data-ttu-id="6b415-150">尝试使用该配置将导致出现以下验证错误：“元数据管理器发生错误。</span><span class="sxs-lookup"><span data-stu-id="6b415-150">Attempting to use it will cause the following validation error to occur: "Errors in the metadata manager.</span></span> <span data-ttu-id="6b415-151">对于非重复计数度量值，Preserve 不是有效的 NullProcessing 值 \<measurename> 。 "</span><span class="sxs-lookup"><span data-stu-id="6b415-151">Preserve is not a valid NullProcessing value for the \<measurename> distinct count measure."</span></span>  
  
#### <a name="cube-browser-in-management-studio-and-cube-designer-has-been-removed"></a><span data-ttu-id="6b415-152">Management Studio 和多维数据集设计器中的多维数据集浏览器已被删除</span><span class="sxs-lookup"><span data-stu-id="6b415-152">Cube browser in Management Studio and Cube Designer has been removed</span></span>  
 <span data-ttu-id="6b415-153">可用于在 Management Studio 或多维数据集设计器中将字段拖放到数据透视表结构中的多维数据集浏览器控件已从产品中删除。</span><span class="sxs-lookup"><span data-stu-id="6b415-153">The cube browser control that let you drag and drop fields onto a PivotTable structure in Management Studio or in Cube Designer has been removed from the product.</span></span> <span data-ttu-id="6b415-154">该控件是 Office Web Control (OWC) 组件。</span><span class="sxs-lookup"><span data-stu-id="6b415-154">The control was an Office Web Control (OWC) component.</span></span> <span data-ttu-id="6b415-155">OWC 在 Office 中已不推荐使用，并且不再继续提供。</span><span class="sxs-lookup"><span data-stu-id="6b415-155">OWC was deprecated by Office and is no longer available.</span></span>  
  
### <a name="powerpivot-for-sharepoint"></a><span data-ttu-id="6b415-156">PowerPivot for SharePoint</span><span class="sxs-lookup"><span data-stu-id="6b415-156">PowerPivot for SharePoint</span></span>  
  
#### <a name="higher-permission-requirements-for-using-a-powerpivot-workbook-as-an-external-data-source"></a><span data-ttu-id="6b415-157">将 PowerPivot 工作簿用作外部数据源的较高权限要求</span><span class="sxs-lookup"><span data-stu-id="6b415-157">Higher permission requirements for using a PowerPivot workbook as an external data source</span></span>  
 <span data-ttu-id="6b415-158">Excel 工作簿可以呈现嵌入在同一工作簿或外部工作簿中的 PowerPivot 数据。</span><span class="sxs-lookup"><span data-stu-id="6b415-158">An Excel workbook can render PowerPivot data that is embedded within the same workbook or in an external workbook.</span></span> <span data-ttu-id="6b415-159">在以前的版本中，无论 PowerPivot 数据是嵌入的还是外部的，权限要求都是相同的。</span><span class="sxs-lookup"><span data-stu-id="6b415-159">In the previous release, permission requirements were the same regardless of whether the PowerPivot data was embedded or external.</span></span> <span data-ttu-id="6b415-160">如果您对某一 PowerPivot 工作簿具有 **“仅查看”** 权限，则无论是对嵌入连接还是外部连接，均可获取对该工作簿中所有 PowerPivot 数据的完全访问权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-160">If you had **View Only** permissions on a PowerPivot workbook, you could get full access to all of the PowerPivot data in the workbook for both embedded and external connections.</span></span>  
  
 <span data-ttu-id="6b415-161">在此版本中，对于呈现来自外部文件的 PowerPivot 数据的 Excel 工作簿，其权限要求已更改。</span><span class="sxs-lookup"><span data-stu-id="6b415-161">In this release, permission requirements have changed for Excel workbooks that render PowerPivot data from an external file.</span></span> <span data-ttu-id="6b415-162">在这一版本中，您必须具有 **“读取”** 权限（或更明确地说，必须具有 **“打开项”** 权限），才能从客户端应用程序连接到外部 PowerPivot 工作簿。</span><span class="sxs-lookup"><span data-stu-id="6b415-162">In this release, you must have **Read** permissions (or more specifically, the **Open Items** permission) to connect to an external PowerPivot workbook from a client application.</span></span> <span data-ttu-id="6b415-163">其他权限指定用户具有下载权限，才能查看工作簿中嵌入的源数据。</span><span class="sxs-lookup"><span data-stu-id="6b415-163">The additional permissions specify that a user has download rights to view the source data embedded in the workbook.</span></span> <span data-ttu-id="6b415-164">其他权限反映这一事实，即模型数据完全可用于链接到它的客户端应用程序或工作簿，从而导致在权限要求与实际数据连接行为之间的更好地进行协调。</span><span class="sxs-lookup"><span data-stu-id="6b415-164">The additional permissions reflect the fact that model data is wholly available to the client application or workbook that links to it, resulting in a better alignment between permission requirements and the actual data connection behavior.</span></span>  
  
 <span data-ttu-id="6b415-165">若要继续将 PowerPivot 工作簿用作外部数据源，您必须为连接到外部 PowerPivot 数据的用户提高 SharePoint 权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-165">To continue using a PowerPivot workbook as an external data source, you must increase SharePoint permissions for users who connect to external PowerPivot data.</span></span> <span data-ttu-id="6b415-166">在更改权限之前，如果用户尝试访问数据源连接中的 PowerPivot 工作簿，则会收到以下错误： "PowerPivot Web 服务返回了错误 (访问被拒绝。</span><span class="sxs-lookup"><span data-stu-id="6b415-166">Until you change the permissions, users will get the following error if they try to access PowerPivot workbooks in a data source connection: "PowerPivot Web service returned an error (Access denied.</span></span> <span data-ttu-id="6b415-167">您请求的文档不存在或您没有打开此文件的权限。 ) "</span><span class="sxs-lookup"><span data-stu-id="6b415-167">The document you requested does not exist or you do not have permission to open the file.)"</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="6b415-168">以下步骤将指导您断开库级别的权限继承，将用户针对此库中特定文档的权限从 **“仅查看”** 提高到 **“读取”** 。</span><span class="sxs-lookup"><span data-stu-id="6b415-168">The following steps instruct you to break permission inheritance at the library level and increase user permissions from **View Only** to **Read** for specific documents in this library.</span></span> <span data-ttu-id="6b415-169">在继续之前，请仔细查看现有的权限和文档，并确认这些步骤适用于您的网站。</span><span class="sxs-lookup"><span data-stu-id="6b415-169">Before you proceed, carefully review existing permissions and documents and verify that these steps are appropriate for your site.</span></span>  
>   
>  <span data-ttu-id="6b415-170">此外，您可以在库中创建一个文件夹，将所有受影响的文档移到该文件夹，并设置针对此文件夹的独特权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-170">Alternatively, you can create a folder in the library, move all affected documents to that folder, and set unique permissions on the folder.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6b415-171">如果您的工作簿存储在 PowerPivot 库中，当该工作簿已配置为进行数据刷新时，断开此工作簿的权限继承将中断为该工作簿生成缩略图的过程。</span><span class="sxs-lookup"><span data-stu-id="6b415-171">If your workbooks are stored in PowerPivot Gallery, breaking permission inheritance on a workbook will disrupt thumbnail image generation for that workbook if it is configured for data refresh.</span></span> <span data-ttu-id="6b415-172">若要同时允许访问库中的工作簿和预览图像，请考虑在库级别向特定用户授予针对库中所有文档的 **“读取”** 权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-172">To simultaneously allow access to both workbooks and preview images in the gallery, consider granting to specific users **Read** permissions at the library level, for all documents in the library.</span></span>  
  
 <span data-ttu-id="6b415-173">您必须是网站所有者才能更改权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-173">You must be a site owner to change permissions.</span></span>  
  
 <span data-ttu-id="6b415-174">**如何为单独的工作簿将权限提高到读取权限级别**</span><span class="sxs-lookup"><span data-stu-id="6b415-174">**How to increase permissions to Read permission level for individual workbooks**</span></span>  
  
1.  <span data-ttu-id="6b415-175">单击向下箭头以打开菜单，找到单独文档。</span><span class="sxs-lookup"><span data-stu-id="6b415-175">Click the down arrow to open the menu for an individual document.</span></span>  
  
2.  <span data-ttu-id="6b415-176">单击 **“管理权限”**。</span><span class="sxs-lookup"><span data-stu-id="6b415-176">Click **Manage Permissions**.</span></span>  
  
3.  <span data-ttu-id="6b415-177">默认情况下，库将继承权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-177">By default, a library inherits permissions.</span></span> <span data-ttu-id="6b415-178">若要更改此库中单独工作簿的权限，请单击 **“停止继承权限”**。</span><span class="sxs-lookup"><span data-stu-id="6b415-178">To change the permissions of individual workbooks in this library, click **Stop Inheriting Permissions**.</span></span>  
  
4.  <span data-ttu-id="6b415-179">按需要针对 PowerPivot 工作簿的附加权限的用户名或组名选中复选框。</span><span class="sxs-lookup"><span data-stu-id="6b415-179">Select the checkbox by user or group names that require additional permissions on PowerPivot workbooks.</span></span> <span data-ttu-id="6b415-180">附加权限将允许这些用户链接到嵌入的 PowerPivot 数据并且使用这些数据作为其他文档中的外部数据源。</span><span class="sxs-lookup"><span data-stu-id="6b415-180">Additional permissions will allow these users to link to the embedded PowerPivot data and use that data as an external data source in other documents.</span></span>  
  
5.  <span data-ttu-id="6b415-181">单击 **“编辑用户权限”**。</span><span class="sxs-lookup"><span data-stu-id="6b415-181">Click **Edit User Permissions**.</span></span>  
  
6.  <span data-ttu-id="6b415-182">选择 **“读取”** 权限，然后单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="6b415-182">Choose **Read** permissions, and then click **OK**.</span></span>  
  
#### <a name="powerpivot-gallery-new-rules-for-snapshot-generation-for-some-powerpivot-workbooks"></a><span data-ttu-id="6b415-183">PowerPivot 库：为一些 PowerPivot 工作簿生成快照的新规则</span><span class="sxs-lookup"><span data-stu-id="6b415-183">PowerPivot Gallery: New rules for snapshot generation for some PowerPivot workbooks</span></span>  
 <span data-ttu-id="6b415-184">此版本中引入了在 PowerPivot 库中生成快照映像的新要求，这消除了泄露信息的潜在根源（也即，显示来自您无权查看的数据源的数据的快照）。</span><span class="sxs-lookup"><span data-stu-id="6b415-184">This release introduces new requirements for generating snapshot images in PowerPivot Gallery, eliminating a potential source of information disclosure (namely, showing a snapshot of data from a data source that you do not have permission to view).</span></span> <span data-ttu-id="6b415-185">这些要求仅适用于您每次查看 PowerPivot 工作簿时都连接到外部数据源的工作簿。</span><span class="sxs-lookup"><span data-stu-id="6b415-185">These requirements apply only to PowerPivot workbooks that connect to external data sources each time you view the workbook.</span></span> <span data-ttu-id="6b415-186">如果您只使用直观显示嵌入 PowerPivot 数据的工作簿，将看不到在 PowerPivot 库中生成快照的方式发生了什么变化。</span><span class="sxs-lookup"><span data-stu-id="6b415-186">If you only use workbooks that visualize embedded PowerPivot data, you will see no change in how snapshots are generated in PowerPivot Gallery.</span></span>  
  
 <span data-ttu-id="6b415-187">对于每次打开时均刷新其数据的工作簿，快照生成的新要求如下所示：</span><span class="sxs-lookup"><span data-stu-id="6b415-187">For a workbook that refreshes its data each time it is opened, the new requirements for snapshot generation are as follows:</span></span>  
  
-   <span data-ttu-id="6b415-188">由其他工作簿或报表用作外部数据源的 PowerPivot 工作簿必须与使用数据的工作簿位于同一个库中。</span><span class="sxs-lookup"><span data-stu-id="6b415-188">PowerPivot workbooks that are used as external data sources by other workbooks or reports must be in the same library as the workbooks that consume the data.</span></span> <span data-ttu-id="6b415-189">例如，如果您具有向 sales-report.xlsx 提供数据的 sales-data.xlsx，则这两个工作簿都必须位于该库中，才能显示快照映像。</span><span class="sxs-lookup"><span data-stu-id="6b415-189">For example, if you have sales-data.xlsx that provides data to sales-report.xlsx, both workbooks must be in the gallery in order for snapshot images to appear.</span></span>  
  
-   <span data-ttu-id="6b415-190">一起使用的工作簿必须从一个公共父级（即 PowerPivot 库）继承权限。</span><span class="sxs-lookup"><span data-stu-id="6b415-190">Workbooks that are used together must inherit permissions from a common parent (that is, the PowerPivot Gallery).</span></span> <span data-ttu-id="6b415-191">在我们的示例中，sales-data.xlsx 和 sales-report.xlsx 必须从 PowerPivot 库继承。</span><span class="sxs-lookup"><span data-stu-id="6b415-191">In our example, both sales-data.xlsx and sales-report.xlsx must inherit from PowerPivot Gallery.</span></span>  
  
 <span data-ttu-id="6b415-192">如果工作簿未能满足上述任何条件，则将显示下面的锁定图标，而不是您所期望的缩略图：</span><span class="sxs-lookup"><span data-stu-id="6b415-192">If a workbook fails to meet any of the above criteria, the following locked icon will appear instead of the thumbnail image you expect:</span></span>  
  
 <span data-ttu-id="6b415-193">![GMNI_PowerPivotGalleryIcon_Locked](media/gmni-powerpivotgalleryicon-locked.gif "GMNI_PowerPivotGalleryIcon_Locked")</span><span class="sxs-lookup"><span data-stu-id="6b415-193">![GMNI_PowerPivotGalleryIcon_Locked](media/gmni-powerpivotgalleryicon-locked.gif "GMNI_PowerPivotGalleryIcon_Locked")</span></span>  
  
#### <a name="new-default-setting-for-load-balancing-requests-changed-from-round-robin-to-health-based"></a><span data-ttu-id="6b415-194">负载平衡请求的新默认设置已从“循环”更改为“基于运行状况”</span><span class="sxs-lookup"><span data-stu-id="6b415-194">New default setting for load balancing requests changed from Round-Robin to Health-Based</span></span>  
 <span data-ttu-id="6b415-195">PowerPivot 服务应用程序具有一些默认设置，这些设置确定如何在场中的多台 PowerPivot for SharePoint 服务器之间分配对 PowerPivot 数据的请求。</span><span class="sxs-lookup"><span data-stu-id="6b415-195">A PowerPivot service application has default settings that determine how requests for PowerPivot data are distributed across multiple PowerPivot for SharePoint servers in a farm.</span></span> <span data-ttu-id="6b415-196">在前一版本中，默认设置是 **“循环”**，其中请求在可用服务器之间按顺序进行分配。</span><span class="sxs-lookup"><span data-stu-id="6b415-196">In the previous release, the default setting was **Round Robin**, where requests were distributed sequentially among the available servers.</span></span> <span data-ttu-id="6b415-197">在这一版本中，默认值现在为 **“基于运行状况”**。</span><span class="sxs-lookup"><span data-stu-id="6b415-197">In this release, the default is now **Health Based**.</span></span> <span data-ttu-id="6b415-198">PowerPivot 服务应用程序使用服务器运行状况统计数据（如可用内存或 CPU）来确定哪些服务器实例获取 xt 请求。</span><span class="sxs-lookup"><span data-stu-id="6b415-198">The PowerPivot service application uses server health statistics, such as available memory or CPU, to determine which server instance gets the xt request.</span></span>  
  
 <span data-ttu-id="6b415-199">如果您从前一版本升级服务器，PowerPivot 服务应用程序将保留以前的默认设置（**“循环”**）。</span><span class="sxs-lookup"><span data-stu-id="6b415-199">If you upgraded your server from the previous release, the PowerPivot service application retains the previous default setting (**Round Robin**).</span></span> <span data-ttu-id="6b415-200">若要使用 **“基于运行状况”** 分配方法设置，您必须修改配置设置。</span><span class="sxs-lookup"><span data-stu-id="6b415-200">To use the **Health Based** allocation method setting, you must modify the configuration settings.</span></span> <span data-ttu-id="6b415-201">有关详细信息，请参阅 [Create and Configure a PowerPivot Service Application in Central Administration](power-pivot-sharepoint/create-and-configure-power-pivot-service-application-in-ca.md)。</span><span class="sxs-lookup"><span data-stu-id="6b415-201">For more information, see [Create and Configure a PowerPivot Service Application in Central Administration](power-pivot-sharepoint/create-and-configure-power-pivot-service-application-in-ca.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6b415-202">另请参阅</span><span class="sxs-lookup"><span data-stu-id="6b415-202">See Also</span></span>  
 <span data-ttu-id="6b415-203">[向后兼容性](../../2014/getting-started/backward-compatibility.md) </span><span class="sxs-lookup"><span data-stu-id="6b415-203">[Backward Compatibility](../../2014/getting-started/backward-compatibility.md) </span></span>  
 [<span data-ttu-id="6b415-204">SQL Server 2014 中 Analysis Services 功能的重大更改</span><span class="sxs-lookup"><span data-stu-id="6b415-204">Breaking Changes to Analysis Services Features in SQL Server 2014</span></span>](breaking-changes-to-analysis-services-features-in-sql-server-2014.md)  
  
  
