---
title: " (Analysis Services) 配置服务帐户 |Microsoft Docs"
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- security [Analysis Services], logon accounts
- logon accounts [Analysis Services]
- accounts [Analysis Services]
- logon accounts [Analysis Services], about logon accounts
ms.assetid: b481bd51-e077-42f6-8598-ce08c1a38716
author: minewiskan
ms.author: owend
ms.openlocfilehash: 455277acc9928b9569ad586c38865ba58a125917
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87689131"
---
# <a name="configure-service-accounts-analysis-services"></a><span data-ttu-id="5707a-102">配置服务帐户 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="5707a-102">Configure Service Accounts (Analysis Services)</span></span>
  <span data-ttu-id="5707a-103">产品范围的帐户设置在 [配置 Windows 服务帐户和权限](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)中有文档介绍，该主题提供有关所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服务（包括 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]）的全面服务帐户信息。</span><span class="sxs-lookup"><span data-stu-id="5707a-103">Product-wide account provisioning is documented in [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md), a topic that provides comprehensive service account information for all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services, including [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="5707a-104">请参阅该主题以了解有关有效帐户类型、安装分配的 Windows 特权、文件系统权限、注册表权限等方面的信息。</span><span class="sxs-lookup"><span data-stu-id="5707a-104">Refer to it to learn about valid account types, Windows privileges assigned by setup, file system permissions, registry permissions, and more.</span></span>  
  
 <span data-ttu-id="5707a-105">该主题提供了 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的补充信息，包括表格和群集安装的必要附加权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-105">This topic provides supplemental information for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], including additional permissions necessary for tabular and clustered installations.</span></span> <span data-ttu-id="5707a-106">它也介绍了支持服务器操作所需的权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-106">It also covers permissions needed to support server operations.</span></span> <span data-ttu-id="5707a-107">例如，你可以配置要在服务账户下执行的处理和查询操作，在这种情况下，你需要授予附加权限使其运作。</span><span class="sxs-lookup"><span data-stu-id="5707a-107">For example, you can configure processing and query operations to execute under the service account ─ in which case you will need to grant additional permissions to get this to work.</span></span>  
  
-   [<span data-ttu-id="5707a-108">分配给 Analysis Services 的 Windows 特权</span><span class="sxs-lookup"><span data-stu-id="5707a-108">Windows privileges assigned to Analysis Services</span></span>](#bkmk_winpriv)  
  
-   [<span data-ttu-id="5707a-109">分配给 Analysis Services 的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="5707a-109">File System Permissions assigned to Analysis Services</span></span>](#bkmk_FilePermissions)  
  
-   [<span data-ttu-id="5707a-110">授予执行特定服务器操作的其他权限</span><span class="sxs-lookup"><span data-stu-id="5707a-110">Granting additional permissions for specific server operations</span></span>](#bkmk_tasks)  
  
 <span data-ttu-id="5707a-111">附加配置步骤（此处无文档介绍）是指为 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例和服务账户注册一个服务主体名称 (SPN)。</span><span class="sxs-lookup"><span data-stu-id="5707a-111">An additional configuration step, not documented here, is to register a Service Principal Name (SPN) for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance and service account.</span></span> <span data-ttu-id="5707a-112">此步骤在双跃点方案中将传递身份验证从客户端应用程序启用到后端数据源。</span><span class="sxs-lookup"><span data-stu-id="5707a-112">This step enables pass-through authentication from client applications to backend data sources in double-hop scenarios.</span></span> <span data-ttu-id="5707a-113">此步骤仅应用于配置给 Kerberos 约束委派的服务。</span><span class="sxs-lookup"><span data-stu-id="5707a-113">This step only applies for services configured for Kerberos constrained delegation.</span></span> <span data-ttu-id="5707a-114">有关更多说明，请参阅 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-114">See [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) for further instructions.</span></span>  
  
## <a name="logon-account-recommendations"></a><span data-ttu-id="5707a-115">登录帐户推荐</span><span class="sxs-lookup"><span data-stu-id="5707a-115">Logon account recommendations</span></span>  
 <span data-ttu-id="5707a-116">在故障转移群集中，Analysis Services 的所有实例应配置为使用 Windows 域用户帐户。</span><span class="sxs-lookup"><span data-stu-id="5707a-116">In a failover cluster, all instances of Analysis Services should be configured to use a Windows domain user account.</span></span> <span data-ttu-id="5707a-117">将相同帐户分配给所有实例。</span><span class="sxs-lookup"><span data-stu-id="5707a-117">Assign the same account to all instances.</span></span> <span data-ttu-id="5707a-118">有关详情，请参见 [如何群集 Analysis Services](https://msdn.microsoft.com/library/dn736073.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-118">See [How to Cluster Analysis Services](https://msdn.microsoft.com/library/dn736073.aspx) for details.</span></span>  
  
 <span data-ttu-id="5707a-119">单独的实例应使用默认虚拟帐户，针对默认实例使用 **NT Service\MSSQLServerOLAPService** ，或针对命名实例使用 **NT Service\MSOLAP$**_instance-name_ 。</span><span class="sxs-lookup"><span data-stu-id="5707a-119">Standalone instances should use the default virtual account, **NT Service\MSSQLServerOLAPService** for the default instance, or **NT Service\MSOLAP$**_instance-name_ for a named instance.</span></span> <span data-ttu-id="5707a-120">此建议适用于所有服务模式（假设 Windows Server 2008 R2 以及更高版本用于操作系统，SQL Server 2012 以及更高版本用于 Analysis Services）中的 Analysis Services 实例。</span><span class="sxs-lookup"><span data-stu-id="5707a-120">This recommendation applies to Analysis Services instances in all server modes, assuming Windows Server 2008 R2 and later for the operating system, and SQL Server 2012 and later for Analysis Services.</span></span>  
  
## <a name="granting-permissions-to-analysis-services"></a><span data-ttu-id="5707a-121">向 Analysis Services 授予权限</span><span class="sxs-lookup"><span data-stu-id="5707a-121">Granting permissions to Analysis Services</span></span>  
 <span data-ttu-id="5707a-122">此部分阐释了 Analysis Services 用于本地、内部操作所需的权限，例如，启动可执行程序、读取配置文件和从数据目录加载数据库。</span><span class="sxs-lookup"><span data-stu-id="5707a-122">This section explains the permissions that Analysis Services requires for local, internal operations, such as starting the executable, reading the configuration file, and loading databases from the data directory.</span></span> <span data-ttu-id="5707a-123">若要查找关于设置外部数据访问的权限以及与其他服务和应用程序的互操作性的指南，请进一步参阅此主题中的 [授予特定服务器操作的其他权限](#bkmk_tasks) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-123">If instead you're looking for guidance on setting permissions for external data access and interoperability with other services and applications, see [Granting additional permissions for specific server operations](#bkmk_tasks) further on in this topic.</span></span>  
  
 <span data-ttu-id="5707a-124">对于内部操作，Analysis Services 中的权限持有者不是登录帐户，而是安装程序创建的包含 Per-service SID 的本地 Windows 安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-124">For internal operations, the permission holder in Analysis Services is not the logon account, but a local Windows security group created by Setup that contains the per-service SID.</span></span> <span data-ttu-id="5707a-125">向安全组分配权限与以前版本的 Analysis Services 一致。</span><span class="sxs-lookup"><span data-stu-id="5707a-125">Assigning permissions to the security group is consistent with previous versions of Analysis Services.</span></span> <span data-ttu-id="5707a-126">此外，登录帐户可能随时间而变化，但是 Per-service SID 和本地安全组在服务器安装的生存期内保持不变。</span><span class="sxs-lookup"><span data-stu-id="5707a-126">Also, logon accounts can change over time, but the per-service SID and local security group are constant for the lifetime of the server installation.</span></span> <span data-ttu-id="5707a-127">对于 Analysis Services，这使得安全组（而不是登录帐户）成为持有权限的更好选择。</span><span class="sxs-lookup"><span data-stu-id="5707a-127">For Analysis Services, this makes the security group, rather than the logon account, a better choice for holding permissions.</span></span> <span data-ttu-id="5707a-128">只要手动向服务实例授予权限（无论是文件系统权限还是 Windows 特权），请务必将权限授予为服务器实例创建的本地安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-128">Whenever you manually grant rights to the service instance, whether file system permissions or Windows privileges, be sure to grant permissions to the local security group created for the server instance.</span></span>  
  
 <span data-ttu-id="5707a-129">安全组的名称遵循某种模式。</span><span class="sxs-lookup"><span data-stu-id="5707a-129">The name of the security group follows a pattern.</span></span> <span data-ttu-id="5707a-130">前缀始终是 `SQLServerMSASUser$`，后跟计算机名，以实例名结尾。</span><span class="sxs-lookup"><span data-stu-id="5707a-130">The prefix is always `SQLServerMSASUser$`, followed by the computer name, ending with the instance name.</span></span> <span data-ttu-id="5707a-131">默认实例是 `MSSQLSERVER`。</span><span class="sxs-lookup"><span data-stu-id="5707a-131">The default instance is `MSSQLSERVER`.</span></span> <span data-ttu-id="5707a-132">命名实例是在设置过程中提供的名称。</span><span class="sxs-lookup"><span data-stu-id="5707a-132">A named instance is the name given during set up.</span></span>  
  
 <span data-ttu-id="5707a-133">可以在本地安全设置中查看此安全组：</span><span class="sxs-lookup"><span data-stu-id="5707a-133">You can see this security group in the local security settings:</span></span>  
  
-   <span data-ttu-id="5707a-134">运行 compmgmt.msc |**本地用户和组**  | **Groups**  |  `SQLServerMSASUser$` 组 \<server-name> `$MSSQLSERVER`默认实例的 () 。</span><span class="sxs-lookup"><span data-stu-id="5707a-134">Run compmgmt.msc | **Local Users and Groups** | **Groups** | `SQLServerMSASUser$`\<server-name>`$MSSQLSERVER` (for a default instance).</span></span>  
  
-   <span data-ttu-id="5707a-135">双击安全组，查看其成员。</span><span class="sxs-lookup"><span data-stu-id="5707a-135">Double-click the security group to view its members.</span></span>  
  
 <span data-ttu-id="5707a-136">组的唯一成员是 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-136">The sole member of the group is the per-service SID.</span></span> <span data-ttu-id="5707a-137">它右侧是登录帐户。</span><span class="sxs-lookup"><span data-stu-id="5707a-137">Right next to it is the logon account.</span></span> <span data-ttu-id="5707a-138">登录帐户名是 cosmetic，要向 Per-service SID 提供上下文。</span><span class="sxs-lookup"><span data-stu-id="5707a-138">The logon account name is cosmetic, there to provide context to the per-service SID.</span></span> <span data-ttu-id="5707a-139">如果随后更改登录帐户，然后返回此页面，则会注意到，安全组和 Per-service SID 不会更改，但是登录帐户标签会有所不同。</span><span class="sxs-lookup"><span data-stu-id="5707a-139">If you subsequently change the logon account and then return to this page, you'll notice that the security group and per-service SID do not change, but the logon account label is different.</span></span>  
  
##  <a name="windows-privileges-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_winpriv"></a><span data-ttu-id="5707a-140">分配给 Analysis Services 服务帐户的 Windows 特权</span><span class="sxs-lookup"><span data-stu-id="5707a-140">Windows privileges assigned to the Analysis Services service account</span></span>  
 <span data-ttu-id="5707a-141">Analysis Services 需要操作系统的的权限，来启动服务和请求系统资源。</span><span class="sxs-lookup"><span data-stu-id="5707a-141">Analysis Services needs permissions from the operating system for service startup and to request system resources.</span></span> <span data-ttu-id="5707a-142">请求因服务器模式以及实例是否群集而异。</span><span class="sxs-lookup"><span data-stu-id="5707a-142">Requirements vary by server mode and whether the instance is clustered.</span></span> <span data-ttu-id="5707a-143">如果你不熟悉 Windows 权限，请参阅 [特权](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) 和 [特权常量 (Windows)](/windows/desktop/SecAuthZ/privilege-constants) 了解详细信息。</span><span class="sxs-lookup"><span data-stu-id="5707a-143">If you are unfamiliar with Windows privileges, see [Privileges](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) and [Privilege Constants (Windows)](/windows/desktop/SecAuthZ/privilege-constants) for details.</span></span>  
  
 <span data-ttu-id="5707a-144">Analysis Services 的所有实例都请求 **作为服务登录** (SeServiceLogonRight) 特权。</span><span class="sxs-lookup"><span data-stu-id="5707a-144">All instances of Analysis Services require the **Log on as a service** (SeServiceLogonRight) privilege.</span></span> <span data-ttu-id="5707a-145">SQL Server 安装程序在安装期间给你在指定的服务账户上分配特权。</span><span class="sxs-lookup"><span data-stu-id="5707a-145">SQL Server Setup assigns the privilege for you on the service account specified during installation.</span></span> <span data-ttu-id="5707a-146">对于在多维和数据挖掘模式中运行的服务器，这是 Analysis Services 服务帐户为独立服务器安装要求的唯一 Windows 特权，也是安装程序为 Analysis Services 配置的唯一特权。</span><span class="sxs-lookup"><span data-stu-id="5707a-146">For servers running in Multidimensional and Data Mining mode, this is the only Windows privilege required by the Analysis Services service account for standalone server installations, and it is the only privilege that Setup configures for Analysis Services.</span></span> <span data-ttu-id="5707a-147">对于群集和表格实例，必须手动添加附加 Windows 特权。</span><span class="sxs-lookup"><span data-stu-id="5707a-147">For clustered and tabular instances, additional Windows privileges must be added manually.</span></span>  
  
 <span data-ttu-id="5707a-148">在表格或多维模式中，故障转移群集实例必须具有 **提高计划优先级** (SeIncreaseBasePriorityPrivilege)。</span><span class="sxs-lookup"><span data-stu-id="5707a-148">Failover cluster instances, in either Tabular or Multidimensional mode, must have **Increase scheduling priority** (SeIncreaseBasePriorityPrivilege).</span></span>  
  
 <span data-ttu-id="5707a-149">表格实例使用以下三个附加特权，它们必须在安装实例后手动授予。</span><span class="sxs-lookup"><span data-stu-id="5707a-149">Tabular instances use the following three additional privileges, which must be granted manually after the instance is installed.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="5707a-150">**增加进程工作集** (SeIncreaseWorkingSetPrivilege)</span><span class="sxs-lookup"><span data-stu-id="5707a-150">**Increase a process working set** (SeIncreaseWorkingSetPrivilege)</span></span>|<span data-ttu-id="5707a-151">默认情况下，此特权通过 **用户** 安全组对所有用户可用。</span><span class="sxs-lookup"><span data-stu-id="5707a-151">This privilege is available to all users by default through the **Users** security group.</span></span> <span data-ttu-id="5707a-152">如果你通过移除此组的特权来锁定服务器，Analysis Services 可能无法启动，并且将记录此错误：“客户端没有所需的特权。”</span><span class="sxs-lookup"><span data-stu-id="5707a-152">If you lock down a server by removing privileges for this group, Analysis Services might fail to start, logging this error: "A required privilege is not held by the client."</span></span> <span data-ttu-id="5707a-153">此错误发生后，通过将特权授予正确的 Analysis Services 安全组，将特权还原到 Analysis Services。</span><span class="sxs-lookup"><span data-stu-id="5707a-153">When this error occurs, restore the privilege to Analysis Services by granting it to the appropriate Analysis Services security group.</span></span>|  
|<span data-ttu-id="5707a-154">**调整进程的内存配额** (SeIncreaseQuotaSizePrivilege)</span><span class="sxs-lookup"><span data-stu-id="5707a-154">**Adjust memory quotas for a process** (SeIncreaseQuotaSizePrivilege)</span></span>|<span data-ttu-id="5707a-155">此特权用于当进程因受制于为实例建立的内存阀值而没有足够资源来完成其执行时请求更多内存。</span><span class="sxs-lookup"><span data-stu-id="5707a-155">This privilege is used to request more memory if a process has insufficient resources to complete its execution, subject to the memory thresholds established for the instance.</span></span>|  
|<span data-ttu-id="5707a-156">**锁定内存页** (SeLockMemoryPrivilege)</span><span class="sxs-lookup"><span data-stu-id="5707a-156">**Lock pages in memory** (SeLockMemoryPrivilege)</span></span>|<span data-ttu-id="5707a-157">此特权仅在完全关闭分页时所需。</span><span class="sxs-lookup"><span data-stu-id="5707a-157">This privilege is needed only when paging is turned off entirely.</span></span> <span data-ttu-id="5707a-158">默认情况下，表格服务器实例使用 Windows 分页文件，但你通过将 `VertiPaqPagingPolicy` 设置时为 0 来阻止其使用 Windows 分页。</span><span class="sxs-lookup"><span data-stu-id="5707a-158">By default, a tabular server instance uses the Windows paging file, but you can prevent it from using Windows paging by setting `VertiPaqPagingPolicy` to 0.</span></span><br /><br /> <span data-ttu-id="5707a-159">将 `VertiPaqPagingPolicy` 设置为 1 （默认情况下），指示表格服务器实例使用 Windows 分页文件。</span><span class="sxs-lookup"><span data-stu-id="5707a-159">`VertiPaqPagingPolicy` to 1 (default), instructs the tabular server instance to use the Windows paging file.</span></span> <span data-ttu-id="5707a-160">分配未锁定，允许 Windows 按需移出分页。</span><span class="sxs-lookup"><span data-stu-id="5707a-160">Allocations are not locked, allowing Windows to page out as needed.</span></span> <span data-ttu-id="5707a-161">由于正在使用分页，不需要锁定内存页。</span><span class="sxs-lookup"><span data-stu-id="5707a-161">Because paging is being used, there is no need to lock pages in memory.</span></span> <span data-ttu-id="5707a-162">因此，对于默认配置 (where `VertiPaqPagingPolicy` = 1) ，无需向表格实例授予 "**锁定内存页**" 特权。</span><span class="sxs-lookup"><span data-stu-id="5707a-162">Thus, for the default configuration (where `VertiPaqPagingPolicy` = 1), you do not need to grant the **Lock pages in memory** privilege to a tabular instance.</span></span><br /><br /> <span data-ttu-id="5707a-163">`VertiPaqPagingPolicy`为0。</span><span class="sxs-lookup"><span data-stu-id="5707a-163">`VertiPaqPagingPolicy` to 0.</span></span> <span data-ttu-id="5707a-164">假定对表格实例授予了 **锁定内存页** 特权，如果关闭 Analysis Services 的分页，则锁定分配。</span><span class="sxs-lookup"><span data-stu-id="5707a-164">If you turn off paging for Analysis Services, allocations are locked, assuming the **Lock pages in memory** privilege is granted to the tabular instance.</span></span> <span data-ttu-id="5707a-165">考虑到此设置和 **锁定内存页** 特权，当系统在内存压力下时，Windows 不能分页出对 Analysis Services 执行的内存分配。</span><span class="sxs-lookup"><span data-stu-id="5707a-165">Given this setting and the **Lock pages in memory** privilege, Windows cannot page out memory allocations made to Analysis Services when the system is under memory pressure.</span></span> <span data-ttu-id="5707a-166">Analysis Services 依赖于 "**锁定内存中的页**" 权限，因为 "强制执行 `VertiPaqPagingPolicy` = 0"。</span><span class="sxs-lookup"><span data-stu-id="5707a-166">Analysis Services relies on the **Lock pages in memory** permission as the enforcement behind `VertiPaqPagingPolicy` = 0.</span></span> <span data-ttu-id="5707a-167">请注意，不建议关闭 Windows 分页。</span><span class="sxs-lookup"><span data-stu-id="5707a-167">Note that turning off Windows paging is not recommended.</span></span> <span data-ttu-id="5707a-168">它会增加操作的内存不足错误率，而如果允许分页，该操作可能成功。</span><span class="sxs-lookup"><span data-stu-id="5707a-168">It will increase the rate of out-of-memory errors for operations that might otherwise succeed if paging were allowed.</span></span> <span data-ttu-id="5707a-169">有关的详细信息，请参阅[内存属性](../server-properties/memory-properties.md) `VertiPaqPagingPolicy` 。</span><span class="sxs-lookup"><span data-stu-id="5707a-169">See [Memory Properties](../server-properties/memory-properties.md) for more information about `VertiPaqPagingPolicy`.</span></span>|  
  
#### <a name="to-view-or-add-windows-privileges-on-the-service-account"></a><span data-ttu-id="5707a-170">若要在服务账户上查看或添加 Windows 特权</span><span class="sxs-lookup"><span data-stu-id="5707a-170">To view or add Windows privileges on the service account</span></span>  
  
1.  <span data-ttu-id="5707a-171">请运行“GPEDIT.msc | 本地计算机策略 | 计算机配置 | Windows 设置 | 安全设置 | 本地策略 | 用户权限分配”。</span><span class="sxs-lookup"><span data-stu-id="5707a-171">Run GPEDIT.msc | Local Computer Policy | Computer Configuration | Windows Settings | Security Settings | Local Policies | User Rights Assignments.</span></span>  
  
2.  <span data-ttu-id="5707a-172">查看包括的现有策略 `SQLServerMSASUser$` 。</span><span class="sxs-lookup"><span data-stu-id="5707a-172">Review existing policies that include `SQLServerMSASUser$`.</span></span> <span data-ttu-id="5707a-173">这是在安装 Analysis Services 的计算机上找到的本地安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-173">This is a local security group found on computers having an Analysis Services installation.</span></span> <span data-ttu-id="5707a-174">Windows 特权和文件文件夹权限都授予此安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-174">Both Windows privileges and file folder permissions are granted to this security group.</span></span> <span data-ttu-id="5707a-175">双击 **作为服务登录** 策略，查看如何在你的系统上指定安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-175">Double-click **Log on as a service** policy to see how the security group is specified on your system.</span></span> <span data-ttu-id="5707a-176">安全组的全名会根据你是否将 Analysis Services 作为命名实例安装而变化。</span><span class="sxs-lookup"><span data-stu-id="5707a-176">The full name of the security group will vary depending on whether you installed Analysis Services as a named instance.</span></span> <span data-ttu-id="5707a-177">添加账户特权时，使用此安全组，而不是实际的服务账户。</span><span class="sxs-lookup"><span data-stu-id="5707a-177">Use this security group, rather than the actual service account, when adding account privileges.</span></span>  
  
3.  <span data-ttu-id="5707a-178">若要在 GPEDIT 中添加账户特权，右键单击 **“增加进程工作集”** ，然后选择 **“属性”**。</span><span class="sxs-lookup"><span data-stu-id="5707a-178">To add account privileges in GPEDIT, right-click **Increase a process working set** and select **Properties**.</span></span>  
  
4.  <span data-ttu-id="5707a-179">单击\*\*\*\*“添加用户或组”。</span><span class="sxs-lookup"><span data-stu-id="5707a-179">Click **Add User or Group**.</span></span>  
  
5.  <span data-ttu-id="5707a-180">输入 Analysis Services 实例的用户组。</span><span class="sxs-lookup"><span data-stu-id="5707a-180">Enter the user group for the Analysis Services instance.</span></span> <span data-ttu-id="5707a-181">请牢记，服务账户是本地安全组的一个成员，要求你将本地计算机作为账户的域进行预置。</span><span class="sxs-lookup"><span data-stu-id="5707a-181">Remember that the service account is a member of a local security group, requiring that you prepend the local computer name as the domain of the account.</span></span>  
  
     <span data-ttu-id="5707a-182">下表显示有关名为“SQL01-WIN12”的计算机上名为“表格”的默认实例和命名实例的两个示例，其中的计算机名称为本地域。</span><span class="sxs-lookup"><span data-stu-id="5707a-182">The following list shows two examples for a default instance and named instance called "Tabular" on a machine called "SQL01-WIN12", where the machine name is the local domain.</span></span>  
  
    -   <span data-ttu-id="5707a-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="5707a-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span></span>  
  
    -   <span data-ttu-id="5707a-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span><span class="sxs-lookup"><span data-stu-id="5707a-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span></span>  
  
6.  <span data-ttu-id="5707a-185">为 **为进程调整内存配额**重复此操作，并选择性地为 **锁定内存页** 或 **提高计划优先级**重复此操作。</span><span class="sxs-lookup"><span data-stu-id="5707a-185">Repeat for **Adjust memory quotas for a process**, and optionally, for **Lock pages in memory** or **Increase scheduling priority**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5707a-186">旧版安装程序意外将 Analysis Services 服务帐户添加到了 **“Performance Log Users”** 组中。</span><span class="sxs-lookup"><span data-stu-id="5707a-186">Previous versions of Setup inadvertently added the Analysis Services service account to the **Performance Log Users** group.</span></span> <span data-ttu-id="5707a-187">虽然此缺陷已修复，但现有安装中可能还有这种不必要的组成员身份。</span><span class="sxs-lookup"><span data-stu-id="5707a-187">Although this defect has been fixed, existing installations might have this unnecessary group membership.</span></span> <span data-ttu-id="5707a-188">由于 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务帐户不需要 **“Performance Log Users”** 组中的成员身份，您可以将其从该组删除。</span><span class="sxs-lookup"><span data-stu-id="5707a-188">Because the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account does not require membership in the **Performance Log Users** group, you can remove it from the group.</span></span>  
  
##  <a name="file-system-permissions-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_FilePermissions"></a> <span data-ttu-id="5707a-189">分配给 Analysis Services 服务帐户的文件系统权限</span><span class="sxs-lookup"><span data-stu-id="5707a-189">File System Permissions assigned to the Analysis Services service account</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5707a-190">有关与每个程序文件夹关联的权限的列表，请参阅 [配置 Windows 服务帐户和权限](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-190">See [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) for a list of permissions associated with each program folder.</span></span>  
>   
>  <span data-ttu-id="5707a-191">有关与 IIS 配置和 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 相关的文件权限信息，请参阅[在 Internet Information Services (IIS) 8.0 上配置对 Analysis Services 的 HTTP 访问](configure-http-access-to-analysis-services-on-iis-8-0.md)。</span><span class="sxs-lookup"><span data-stu-id="5707a-191">See [Configure HTTP Access to Analysis Services on Internet Information Services &#40;IIS&#41; 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md) for file permission information related to IIS configuration and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="5707a-192">服务器操作所需的所有文件系统权限（包括从指定数据文件夹加载和卸载数据库时所需的权限）均在安装时由 SQL Server 安装程序分配。</span><span class="sxs-lookup"><span data-stu-id="5707a-192">All file system permissions required for server operations─ including permissions needed for loading and unloading databases from a designated data folder─ are assigned by SQL Server Setup during installation.</span></span>  
  
 <span data-ttu-id="5707a-193">数据文件、程序可执行文件、配置文件、日志文件和临时文件上的权限持有者是由 SQL Server 安装程序创建的一个本地安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-193">The permission holder on data files, program file executables, configuration files, log files, and temporary files is a local security group created by SQL Server Setup.</span></span>  
  
 <span data-ttu-id="5707a-194">有一个安全组是为你安装的每个实例而创建的。</span><span class="sxs-lookup"><span data-stu-id="5707a-194">There is one security group created for each instance that you install.</span></span> <span data-ttu-id="5707a-195">安全组在实例─之后命名为默认实例的**SQLServerMSASUser $ MSSQLSERVER** ，或命名实例的名称 `SQLServerMSASUser$` \<servername> $ \<instancename> 。</span><span class="sxs-lookup"><span data-stu-id="5707a-195">The security group is named after the instance ─ either **SQLServerMSASUser$MSSQLSERVER** for the default instance, or `SQLServerMSASUser$`\<servername>$\<instancename> for a named instance.</span></span> <span data-ttu-id="5707a-196">该安装程序为此安全组配置执行服务器操作所需的文件权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-196">Setup provisions this security group with the file permissions required to perform server operations.</span></span> <span data-ttu-id="5707a-197">如果您检查 \MSAS12.MSSQLSERVER\OLAP\BIN 目录上的安全权限，则会看到该安全组（而非服务帐户或其 per-service SID）是该目录的权限持有者。</span><span class="sxs-lookup"><span data-stu-id="5707a-197">If you check the security permissions on the \MSAS12.MSSQLSERVER\OLAP\BIN directory, you will see that the security group (not the service account or its per-service SID) is the permission holder on that directory.</span></span>  
  
 <span data-ttu-id="5707a-198">该安全组仅包含一个成员： [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例启动帐户的 per-service 安全标识符 (SID)。</span><span class="sxs-lookup"><span data-stu-id="5707a-198">The security group contains one member only: the per-service Security Identifier (SID) of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance startup account.</span></span> <span data-ttu-id="5707a-199">安装程序将 Per-service SID 添加到本地安全组。</span><span class="sxs-lookup"><span data-stu-id="5707a-199">Setup adds the per-service SID to the local security group.</span></span> <span data-ttu-id="5707a-200">与部署 Database Engine 相比， SQL Server 安装程序部署 Analysis Services 小而明显的不同之处在于使用了本地安全组及其 SID 成员身份。</span><span class="sxs-lookup"><span data-stu-id="5707a-200">The use of a local security group, with its SID membership, is a small but noticeable difference in how SQL Server Setup provisions Analysis Services, as compared to the Database Engine.</span></span>  
  
 <span data-ttu-id="5707a-201">如果你认为文件权限已损坏，请按照以下步骤来验证服务仍是正确配置的：</span><span class="sxs-lookup"><span data-stu-id="5707a-201">If you believe that file permissions are corrupted, follow these steps to verify the service is still correctly provisioned:</span></span>  
  
1.  <span data-ttu-id="5707a-202">使用服务控制命令行工具 (sc.exe) 获取默认服务实例的 SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-202">Use the Service Control command line tool (sc.exe) to obtain the SID of a default service instance.</span></span>  
  
     `SC showsid MSSqlServerOlapService`  
  
     <span data-ttu-id="5707a-203">对于命名实例（其中实例名称为 Tabular），请使用以下语法：</span><span class="sxs-lookup"><span data-stu-id="5707a-203">For a named instance (where the instance name is Tabular), use this syntax:</span></span>  
  
     `SC showsid MSOlap$Tabular`  
  
2.  <span data-ttu-id="5707a-204">使用**计算机管理器**"  |  **本地用户和组**"  |  **组**检查 SQLServerMSASUser $ \<servername> $ \<instancename> 安全组的成员身份。</span><span class="sxs-lookup"><span data-stu-id="5707a-204">Use **Computer Manager** | **Local Users and Groups** | **Groups** to inspect the membership of the SQLServerMSASUser$\<servername>$\<instancename> security group.</span></span>  
  
     <span data-ttu-id="5707a-205">成员 SID 应与步骤 1 的 per-service SID 匹配。</span><span class="sxs-lookup"><span data-stu-id="5707a-205">The member SID should match the per-service SID from step 1.</span></span>  
  
3.  <span data-ttu-id="5707a-206">使用**Windows 资源管理器**  |  **程序文件**  |  **Microsoft SQL Server** |Msasxx.mssqlserver. MSSQLServer |**OLAP**  | 用于验证在步骤2中向安全组授予了文件夹安全属性的**bin** 。</span><span class="sxs-lookup"><span data-stu-id="5707a-206">Use **Windows Explorer** | **Program Files** | **Microsoft SQL Server** | MSASxx.MSSQLServer | **OLAP** | **bin** to verify folder Security properties are granted to the security group in step 2.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5707a-207">切勿删除或修改 SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-207">Never remove or modify a SID.</span></span> <span data-ttu-id="5707a-208">若要还原无意中删除的每个服务 SID，请参阅 [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-208">To restore a per-service SID that was inadvertently deleted, see [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201).</span></span>  
  
 <span data-ttu-id="5707a-209">**了解关于 per-service SID 的详细信息**</span><span class="sxs-lookup"><span data-stu-id="5707a-209">**More about per-service SIDs**</span></span>  
  
 <span data-ttu-id="5707a-210">每个 Windows 帐户都有一个关联 [SID](http://en.wikipedia.org/wiki/Security_Identifier)，但服务也可以具有 SID，所以被称为 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-210">Every Windows account has an associated [SID](http://en.wikipedia.org/wiki/Security_Identifier), but services can also have SIDs, hence referred to as per-service SIDs.</span></span> <span data-ttu-id="5707a-211">per-service SID 是在安装服务实例时作为服务的唯一且永久附件创建的。</span><span class="sxs-lookup"><span data-stu-id="5707a-211">A per-service SID is created when the service instance is installed, as a unique, permanent fixture of the service.</span></span> <span data-ttu-id="5707a-212">Per-service SID 是从服务名生成的计算机级别的本地 SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-212">The per-service SID is a local, machine-level SID generated from the service name.</span></span> <span data-ttu-id="5707a-213">在默认实例上，用户友好名称是 NT SERVICE\MSSQLServerOLAPService。</span><span class="sxs-lookup"><span data-stu-id="5707a-213">On a default instance, its user friendly name is NT SERVICE\MSSQLServerOLAPService.</span></span>  
  
 <span data-ttu-id="5707a-214">Per-service SID 的优势是其允许任意更改可见范围更广的登录帐户，而不会影响文件权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-214">The benefit of a per-service SID is that it allows the more widely-visible logon account to be changed arbitrarily, without affecting file permissions.</span></span> <span data-ttu-id="5707a-215">例如，假定您安装了两个 Analysis Services 实例：一个默认实例和一个命名实例，它们在同一 Windows 用户帐户下运行。</span><span class="sxs-lookup"><span data-stu-id="5707a-215">For example, suppose you installed two instances of Analysis Services, a default instance and named instance, both running under the same Windows user account.</span></span> <span data-ttu-id="5707a-216">共享登录帐户时，每个服务实例都具有唯一 Per-service SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-216">While the logon account is shared, each service instance will have a unique per-service SID.</span></span> <span data-ttu-id="5707a-217">此 SID 不同于登录帐户的 SID。</span><span class="sxs-lookup"><span data-stu-id="5707a-217">This SID is distinct from the SID of the logon account.</span></span> <span data-ttu-id="5707a-218">Per-service SID 用于文件权限和 Windows 特权。</span><span class="sxs-lookup"><span data-stu-id="5707a-218">The per-service SID is used for file permissions and Windows privileges.</span></span> <span data-ttu-id="5707a-219">与此相反，登陆帐户 SID 用于身份验证和授权方案，即不同的 SID 用于不同目的。</span><span class="sxs-lookup"><span data-stu-id="5707a-219">In contrast, the logon account SID is used for authentication and authorization scenarios ─ different SIDS, used for different purposes.</span></span>  
  
 <span data-ttu-id="5707a-220">因为 SID 是不可变的，所以无论你更改服务账户的频率是多少，服务安装时创建的文件系统 ACL 均可无限使用。</span><span class="sxs-lookup"><span data-stu-id="5707a-220">Because the SID is immutable, file system ACLs created during service installation can be used indefinitely, regardless of how often you change the service account.</span></span> <span data-ttu-id="5707a-221">作为一项附加的安全措施，通过 SID 指定权限的 ACL 可确保可执行程序和数据文件夹仅由单个服务实例访问，即使同一帐户下运行着其他服务时也如此。</span><span class="sxs-lookup"><span data-stu-id="5707a-221">As an added security measure, ACLs that specify permissions via a SID ensure that program executables and data folders are accessed only by a single instance of a service, even if other services run under the same account.</span></span>  
  
##  <a name="granting-additional-analysis-services-permissions-for-specific-server-operations"></a><a name="bkmk_tasks"></a><span data-ttu-id="5707a-222">授予特定服务器操作的其他 Analysis Services 权限</span><span class="sxs-lookup"><span data-stu-id="5707a-222">Granting additional Analysis Services permissions for specific server operations</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="5707a-223">在用于启动 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的服务帐户（或登录帐户）的安全上下文中执行某些任务，而在发出任务请求的用户的安全上下文中执行另一些任务。</span><span class="sxs-lookup"><span data-stu-id="5707a-223">executes some tasks in the security context of the service account (or logon account) that is used to start [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and executes other tasks in the security context of the user who is requesting the task.</span></span>  
  
 <span data-ttu-id="5707a-224">下表说明了为作为服务帐户运行的任务提供支持所需的其他权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-224">The following table describes additional permissions required to support tasks executing as the service account.</span></span>  
  
|<span data-ttu-id="5707a-225">服务器操作</span><span class="sxs-lookup"><span data-stu-id="5707a-225">Server Operation</span></span>|<span data-ttu-id="5707a-226">工作项</span><span class="sxs-lookup"><span data-stu-id="5707a-226">Work Item</span></span>|<span data-ttu-id="5707a-227">理由</span><span class="sxs-lookup"><span data-stu-id="5707a-227">Justification</span></span>|  
|----------------------|---------------|-------------------|  
|<span data-ttu-id="5707a-228">远程访问外部关系数据源</span><span class="sxs-lookup"><span data-stu-id="5707a-228">Remote access to external relational data sources</span></span>|<span data-ttu-id="5707a-229">为服务帐户创建数据库登录名</span><span class="sxs-lookup"><span data-stu-id="5707a-229">Create a database login for the service account</span></span>|<span data-ttu-id="5707a-230">所谓处理，就是从外部数据源（通常是关系数据库）检索数据，这些数据随后会加载到 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库中。</span><span class="sxs-lookup"><span data-stu-id="5707a-230">Processing refers to data retrieval from an external data source (usually a relational database), which is subsequently loaded into an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="5707a-231">用于检索外部数据的凭据选项之一是使用服务帐户。</span><span class="sxs-lookup"><span data-stu-id="5707a-231">One of the credential options for retrieving external data is to use the service account.</span></span> <span data-ttu-id="5707a-232">仅当您为服务帐户创建数据登录名并授予对源数据库的读取权限时，此凭据选项才起作用。</span><span class="sxs-lookup"><span data-stu-id="5707a-232">This credential option works only if you create a database login for the service account and grant read permissions on the source database.</span></span> <span data-ttu-id="5707a-233">有关如何将服务帐户选项用于此任务的详细信息，请参阅[设置模拟选项（SSAS - 多维）](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-233">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="5707a-234">同样，如果使用 ROLAP 作为存储模式，则可使用相同的模拟选项。</span><span class="sxs-lookup"><span data-stu-id="5707a-234">Similarly, if ROLAP is used as the storage mode, the same impersonation options are available.</span></span> <span data-ttu-id="5707a-235">在这种情况下，该帐户还必须对源数据拥有写权限，以便处理 ROLAP 分区（即存储聚合）。</span><span class="sxs-lookup"><span data-stu-id="5707a-235">In this case, the account must also have write access to the source data to process the ROLAP partitions (that is, to store aggregations).</span></span>|  
|<span data-ttu-id="5707a-236">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="5707a-236">DirectQuery</span></span>|<span data-ttu-id="5707a-237">为服务帐户创建数据库登录名</span><span class="sxs-lookup"><span data-stu-id="5707a-237">Create a database login for the service account</span></span>|<span data-ttu-id="5707a-238">DirectQuery 是一种表格功能，可使用它来查询以下外部数据集：太大而无法容纳在表格模型中，或具有一些特性使得 DirectQuery 比默认的内存中存储选项更合适。</span><span class="sxs-lookup"><span data-stu-id="5707a-238">DirectQuery is a tabular feature used to query external datasets that are either too large to fit inside the tabular model or have other characteristics that make DirectQuery a better fit than the default in-memory storage option.</span></span> <span data-ttu-id="5707a-239">DirectQuery 模式中可用的一个连接选项是使用服务帐户。</span><span class="sxs-lookup"><span data-stu-id="5707a-239">One of the connection options available in DirectQuery mode is to use the service account.</span></span> <span data-ttu-id="5707a-240">同样，仅当服务帐户具有数据库登录名并拥有对目标数据源的读取权限时，此选项才起作用。</span><span class="sxs-lookup"><span data-stu-id="5707a-240">Once again, this option works only when the service account has a database login and read permissions on the target data source.</span></span> <span data-ttu-id="5707a-241">有关如何将服务帐户选项用于此任务的详细信息，请参阅[设置模拟选项（SSAS - 多维）](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) 。</span><span class="sxs-lookup"><span data-stu-id="5707a-241">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="5707a-242">或者，也可以使用当前用户的凭据来检索数据。</span><span class="sxs-lookup"><span data-stu-id="5707a-242">Alternatively, the credentials of the current user can be used to retrieve data.</span></span> <span data-ttu-id="5707a-243">大多数情况下，此选项需要双跃点连接，因此，请确保为服务帐户配置 Kerberos 约束委派，以便服务帐户可以向下游服务器委派标识。</span><span class="sxs-lookup"><span data-stu-id="5707a-243">In most cases this option entails a double-hop connection, so be sure to configure the service account for Kerberos constrained delegation so that the service account can delegate identities to a downstream server.</span></span> <span data-ttu-id="5707a-244">有关详细信息，请参阅 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md)。</span><span class="sxs-lookup"><span data-stu-id="5707a-244">For more information, see [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span></span>|  
|<span data-ttu-id="5707a-245">远程访问其他 SSAS 实例</span><span class="sxs-lookup"><span data-stu-id="5707a-245">Remote access to other SSAS instances</span></span>|<span data-ttu-id="5707a-246">将服务账户添加到远程服务器上定义的 Analysis Services 数据库角色中</span><span class="sxs-lookup"><span data-stu-id="5707a-246">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="5707a-247">远程分区和引用其他远程 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例上的链接对象都是需要对远程计算机或设备拥有权限的系统功能。</span><span class="sxs-lookup"><span data-stu-id="5707a-247">Remote partitions and referencing linked objects on other remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instances are both system capabilities requiring permissions on a remote computer or device.</span></span> <span data-ttu-id="5707a-248">当有人员创建并填充远程分区或设置链接对象时，该操作在当前用户的安全上下文中运行。</span><span class="sxs-lookup"><span data-stu-id="5707a-248">When a person creates and populates remote partitions, or sets up a linked object, that operation runs in the security context of the current user.</span></span> <span data-ttu-id="5707a-249">如果您随后使这些操作自动进行，则 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 将在其服务帐户的安全上下文中访问远程实例。</span><span class="sxs-lookup"><span data-stu-id="5707a-249">If you subsequently automate these operations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will access remote instances in the security context of its service account.</span></span> <span data-ttu-id="5707a-250">为了访问远程 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]实例中的链接对象，登录帐户必须拥有读取远程实例中相应对象的权限，例如，拥有对某些维度的读取权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-250">In order to access linked objects on a remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the logon account must have permission to read the appropriate objects on the remote instance, such as Read access to certain dimensions.</span></span> <span data-ttu-id="5707a-251">同样，使用远程分区要求服务帐户对远程实例拥有管理权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-251">Similarly, using remote partitions requires that the service account have administrative rights on the remote instance.</span></span> <span data-ttu-id="5707a-252">这种权限通过角色在远程 Analysis Services 实例上授予，角色会将允许的操作与特定对象关联起来。</span><span class="sxs-lookup"><span data-stu-id="5707a-252">Such permissions are granted on the remote Analysis Services instance, using roles that associate permitted operations with a specific object.</span></span> <span data-ttu-id="5707a-253">有关如何授予允许处理和查询操作的完全控制权限，请参阅[授予数据库权限 (Analysis Services)](../multidimensional-models/grant-database-permissions-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="5707a-253">See [Grant database permissions &#40;Analysis Services&#41;](../multidimensional-models/grant-database-permissions-analysis-services.md) for instructions on how to grant Full Control permissions that allow processing and query operations.</span></span> <span data-ttu-id="5707a-254">有关远程分区的信息，请参阅[创建和管理远程分区 (Analysis Services)](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="5707a-254">See [Create and Manage a Remote Partition &#40;Analysis Services&#41;](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md) for more information about remote partitions.</span></span>|  
|<span data-ttu-id="5707a-255">写回</span><span class="sxs-lookup"><span data-stu-id="5707a-255">Writeback</span></span>|<span data-ttu-id="5707a-256">将服务账户添加到远程服务器上定义的 Analysis Services 数据库角色中</span><span class="sxs-lookup"><span data-stu-id="5707a-256">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="5707a-257">写回是可在客户端应用程序中启用的一种多维模型功能，可用来在数据分析期间创建新数据值。</span><span class="sxs-lookup"><span data-stu-id="5707a-257">When enabled in client applications, writeback is a feature of multidimensional models that allows the creation of new data values during data analysis.</span></span> <span data-ttu-id="5707a-258">如果在任何维度或多维数据集中启用写回，则 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务帐户必须对源 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 关系数据库中的写回表拥有写入权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-258">If writeback is enabled within any dimension or cube, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the writeback table in the source [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database.</span></span> <span data-ttu-id="5707a-259">如果该表尚不存在且需要创建，则 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务帐户还必须在指定的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库中拥有创建表的权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-259">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>|  
|<span data-ttu-id="5707a-260">写入 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 关系数据库中的查询日志表</span><span class="sxs-lookup"><span data-stu-id="5707a-260">Write to a query log table in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database</span></span>|<span data-ttu-id="5707a-261">为服务帐户创建数据库登录名，并分配对查询日志表的写权限</span><span class="sxs-lookup"><span data-stu-id="5707a-261">Create a database login for the service account and assign write permissions on the query log table</span></span>|<span data-ttu-id="5707a-262">您可以启用查询日志记录将使用情况数据收集在一个数据库表中，以便进行后续分析。</span><span class="sxs-lookup"><span data-stu-id="5707a-262">You can enable query logging to collect usage data in a database table for subsequent analysis.</span></span> <span data-ttu-id="5707a-263">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务帐户对指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库中的查询日志表必须拥有写入权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-263">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the query log table in the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="5707a-264">如果该表尚不存在且需要创建，则 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 登录帐户还必须在指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库中拥有创建表的权限。</span><span class="sxs-lookup"><span data-stu-id="5707a-264">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] logon account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="5707a-265">有关详细信息，请参阅 [通过基于使用情况的优化向导提高 SQL Server Analysis Services 性能（博客）](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) 和 [Analysis Services 中的查询日志记录（博客）](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx)。</span><span class="sxs-lookup"><span data-stu-id="5707a-265">For more information, see [Improve SQL Server Analysis Services Performance with the Usage Based Optimization Wizard (Blog)](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) and [Query Logging in Analysis Services (Blog)](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="5707a-266">另请参阅</span><span class="sxs-lookup"><span data-stu-id="5707a-266">See Also</span></span>  
 <span data-ttu-id="5707a-267">[配置 Windows 服务帐户和权限](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span><span class="sxs-lookup"><span data-stu-id="5707a-267">[Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span></span>  
 <span data-ttu-id="5707a-268">[SQL Server 服务帐户和每个服务 SID (博客) ](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span><span class="sxs-lookup"><span data-stu-id="5707a-268">[SQL Server Service Account and Per-Service SID (Blog)](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span></span>  
 <span data-ttu-id="5707a-269">[SQL Server 使用服务 SID 提供服务隔离 (知识库文章) ](https://support.microsoft.com/kb/2620201) </span><span class="sxs-lookup"><span data-stu-id="5707a-269">[SQL Server uses a service SID to provide service isolation (KB Article)](https://support.microsoft.com/kb/2620201) </span></span>  
 <span data-ttu-id="5707a-270">[MSDN)  (的访问令牌](/windows/desktop/SecAuthZ/access-tokens) </span><span class="sxs-lookup"><span data-stu-id="5707a-270">[Access Token (MSDN)](/windows/desktop/SecAuthZ/access-tokens) </span></span>  
 <span data-ttu-id="5707a-271">[MSDN)  (安全标识符](/windows/desktop/SecAuthZ/security-identifiers) </span><span class="sxs-lookup"><span data-stu-id="5707a-271">[Security Identifiers (MSDN)](/windows/desktop/SecAuthZ/security-identifiers) </span></span>  
 <span data-ttu-id="5707a-272">[ (维基百科) 的访问令牌](http://en.wikipedia.org/wiki/Access_token) </span><span class="sxs-lookup"><span data-stu-id="5707a-272">[Access Token (Wikipedia)](http://en.wikipedia.org/wiki/Access_token) </span></span>  
 [<span data-ttu-id="5707a-273">访问控制列表 (Wikipedia)</span><span class="sxs-lookup"><span data-stu-id="5707a-273">Access Control Lists (Wikipedia)</span></span>](http://en.wikipedia.org/wiki/Access_control_list)  
  
  
