---
title: 语言和排序规则 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Windows collations [Analysis Services]
- default collations
- languages [Analysis Services]
- sort orders [Analysis Services]
- language identifiers [Analysis Services]
- default languages
- collations [Analysis Services]
ms.assetid: 666cf8a7-223b-4be5-86c0-7fe2bcca0d09
author: minewiskan
ms.author: owend
ms.openlocfilehash: c8d2899fbff92f9b1d85adc6850a748103b947f0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87577049"
---
# <a name="languages-and-collations-analysis-services"></a><span data-ttu-id="fa26c-102">语言和排序规则 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="fa26c-102">Languages and Collations (Analysis Services)</span></span>
  [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] <span data-ttu-id="fa26c-103">支持 [!INCLUDE[msCoName](../includes/msconame-md.md)] Windows 操作系统提供的语言和排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-103">supports the languages and collations provided by [!INCLUDE[msCoName](../includes/msconame-md.md)] Windows operating systems.</span></span> <span data-ttu-id="fa26c-104">`Language` 和 `Collation` 属性最初是在安装期间的实例级别设置的，但之后可在对象层次结构的不同级别进行更改。</span><span class="sxs-lookup"><span data-stu-id="fa26c-104">`Language` and `Collation` properties are initially set at the instance level during installation, but can be changed afterwards at different levels of the object hierarchy.</span></span>  
  
 <span data-ttu-id="fa26c-105">在多维模型中 (仅) ，可以在数据库或多维数据集上设置这些属性，也可以在为多维数据集中的对象创建的翻译上设置这些属性。</span><span class="sxs-lookup"><span data-stu-id="fa26c-105">In a multidimensional model (only), you can set these properties on a database or cube - you can also set them on translations that you create for objects within a cube.</span></span>  
  
 <span data-ttu-id="fa26c-106">设置 `Language` 和 `Collation` 时，你可以指定数据模型在处理过程中和执行查询期间所使用的设置，或（仅适用于多维模型）为模型配置多个翻译，以便使用外语的人可以在本地语言环境中使用该模型。</span><span class="sxs-lookup"><span data-stu-id="fa26c-106">When setting `Language` and `Collation`, you are either specifying settings used by the data model during processing and query execution, or (for multidimensional models only) you are equipping a model with multiple translations so that foreign language speakers can work with the model in their native language.</span></span> <span data-ttu-id="fa26c-107">在对象（数据库、模型或多维数据集）上明确设置 `Language` 和 `Collation` 属性是针对为不同区域设置配置开发环境和生产服务器的情况，你需要确定语言和排序规则与目标环境的语言和排序规则匹配。</span><span class="sxs-lookup"><span data-stu-id="fa26c-107">Explicitly setting `Language` and `Collation` properties on an object (database, model, or cube) is for situations where the development environment and production server are configured for different locales, and you want to be sure that the language and collation matches those of the intended target environment.</span></span>  
  
 <span data-ttu-id="fa26c-108">本主题包含以下部分：</span><span class="sxs-lookup"><span data-stu-id="fa26c-108">This topic includes these sections:</span></span>  
  
-   [<span data-ttu-id="fa26c-109">支持语言和排序规则属性的对象</span><span class="sxs-lookup"><span data-stu-id="fa26c-109">Objects that support Language and Collation properties</span></span>](#bkmk_object)  
  
-   [<span data-ttu-id="fa26c-110">Analysis Services 中的语言支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-110">Language support in Analysis Services</span></span>](#bkmk_lang)  
  
-   [<span data-ttu-id="fa26c-111">Analysis Services 中的排序规则支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-111">Collation support in Analysis Services</span></span>](#bkmk_collations)  
  
-   [<span data-ttu-id="fa26c-112">更改实例上的默认语言或排序规则</span><span class="sxs-lookup"><span data-stu-id="fa26c-112">Change the default language or collation on the instance</span></span>](#bkmk_defaultLang)  
  
-   [<span data-ttu-id="fa26c-113">更改多维数据集上的语言或排序规则</span><span class="sxs-lookup"><span data-stu-id="fa26c-113">Change the language or collation on a cube</span></span>](#bkmk_cube)  
  
-   [<span data-ttu-id="fa26c-114">使用 XMLA 更改数据模型中的语言和排序规则</span><span class="sxs-lookup"><span data-stu-id="fa26c-114">Change language and collation within a data model using XMLA</span></span>](#bkmk_XMLA)  
  
-   [<span data-ttu-id="fa26c-115">通过 EnableFast1033Locale 提高英语区域设置的性能</span><span class="sxs-lookup"><span data-stu-id="fa26c-115">Boost performance for English locales through EnableFast1033Locale</span></span>](#bkmk_enablefast1033)  
  
-   [<span data-ttu-id="fa26c-116">Analysis Services 中的 GB18030 支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-116">GB18030 Support in Analysis Services</span></span>](#bkmk_gb18030)  
  
##  <a name="objects-that-support-language-and-collation-properties"></a><a name="bkmk_object"></a><span data-ttu-id="fa26c-117">支持语言和排序规则属性的对象</span><span class="sxs-lookup"><span data-stu-id="fa26c-117">Objects that support Language and Collation properties</span></span>  
 <span data-ttu-id="fa26c-118">`Language`和 `Collation` 属性通常一起公开-你可以在其中设置 `Language` ，还可以设置 `Collation` 。</span><span class="sxs-lookup"><span data-stu-id="fa26c-118">`Language` and `Collation` properties are often exposed together - where you can set `Language`, you can also set `Collation`.</span></span>  
  
 <span data-ttu-id="fa26c-119">你可在这些对象上设置 `Language` 和 `Collation`：</span><span class="sxs-lookup"><span data-stu-id="fa26c-119">You can set `Language` and `Collation` on these objects:</span></span>  
  
-   <span data-ttu-id="fa26c-120">**实例**。</span><span class="sxs-lookup"><span data-stu-id="fa26c-120">**Instance**.</span></span> <span data-ttu-id="fa26c-121">部署到实例的所有项目将采用实例的语言和排序规则，假设语言和排序规则未定义。</span><span class="sxs-lookup"><span data-stu-id="fa26c-121">All projects deployed to the instance will adopt the language and collation of the instance, assuming the language and collation are undefined.</span></span> <span data-ttu-id="fa26c-122">默认情况下，多维模型会让语言和排序规则为空。</span><span class="sxs-lookup"><span data-stu-id="fa26c-122">By default, a multidimensional model leaves language and collation empty.</span></span> <span data-ttu-id="fa26c-123">部署项目后，生成的数据库和多维数据集获得实例的语言和排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-123">When the project is deployed, the resulting database and cubes get the language and collation of the instance.</span></span>  
  
     <span data-ttu-id="fa26c-124">最初，语言和排序规则在安装过程中设置，但管理员可在 Management Studio 中对其进行覆盖。</span><span class="sxs-lookup"><span data-stu-id="fa26c-124">Initially, language and collation properties are established during setup but an administrator can override them in Management Studio.</span></span> <span data-ttu-id="fa26c-125">有关详细信息，请参阅 [更改实例上的默认语言或排序规则](#bkmk_defaultLang) 。</span><span class="sxs-lookup"><span data-stu-id="fa26c-125">See [Change the default language or collation on the instance](#bkmk_defaultLang) for details.</span></span>  
  
-   <span data-ttu-id="fa26c-126">**数据库**。</span><span class="sxs-lookup"><span data-stu-id="fa26c-126">**Database**.</span></span> <span data-ttu-id="fa26c-127">要断开继承，你可在项目级别上显式设置数据库中所有多维数据集使用的语言和排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-127">To break inheritance, you can explicitly set language and collation at the project level that is used by all cubes contained in the database.</span></span> <span data-ttu-id="fa26c-128">除非你另外指示，否则数据库中的所有多维数据集将获得你在此级别上指定的语言和排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-128">Unless you indicate otherwise, all cubes in the database will get the language and collation you specify at this level.</span></span> <span data-ttu-id="fa26c-129">如果你定期编写代码并部署到不同区域设置（例如，在中文计算机上开发解决方案，但将其部署到由法国子公司所有的服务器上），在数据库级别设置语言和排序规则是确保解决方案在目标环境中可用的第一步和最重要的一步。</span><span class="sxs-lookup"><span data-stu-id="fa26c-129">If you routinely code and deploy to different locales (for example, developing the solution on a Chinese computer, but deploying it to a server owned by a French subsidiary), setting language and collation at the database level is the first and most important step to ensuring the solution works in the target environment.</span></span> <span data-ttu-id="fa26c-130">设置这些属性的最佳位置是在项目中（通过项目上的“编辑数据库” \*\*\*\* 命令）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-130">The best place to set these properties is inside the project (via the **Edit Database** command on the project).</span></span>  
  
-   <span data-ttu-id="fa26c-131">**数据库维度**。</span><span class="sxs-lookup"><span data-stu-id="fa26c-131">**Database dimension**.</span></span> <span data-ttu-id="fa26c-132">虽然设计器在数据库维度上显示 `Language` 和 `Collation` 属性，但在此对象上设置属性是没有用的。</span><span class="sxs-lookup"><span data-stu-id="fa26c-132">Although the designer exposes `Language` and `Collation` properties on a database dimension, setting properties on this object is not useful.</span></span> <span data-ttu-id="fa26c-133">数据库维度不用作单独的对象，因此要利用你定义的属性是困难的（虽然不是不可能的）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-133">Database dimensions are not used as standalone objects, so it could be difficult if not impossible to make use of the properties you define.</span></span> <span data-ttu-id="fa26c-134">在多维数据集中，维度始终从它的多维数据集父级继承 `Language` 和 `Collation`。</span><span class="sxs-lookup"><span data-stu-id="fa26c-134">When in a cube, a dimension always inherits `Language` and `Collation` from its cube parent.</span></span> <span data-ttu-id="fa26c-135">忽略你可能在单独的数据库维度对象上设置的值。</span><span class="sxs-lookup"><span data-stu-id="fa26c-135">Any values you might have set on the standalone database dimension object are ignored.</span></span>  
  
-   <span data-ttu-id="fa26c-136">**多维数据集**。</span><span class="sxs-lookup"><span data-stu-id="fa26c-136">**Cube**.</span></span> <span data-ttu-id="fa26c-137">对于主查询结构，你可在多维数据集级别上设置语言和排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-137">As the primary query structure, you can set language and collation at the cube level.</span></span> <span data-ttu-id="fa26c-138">例如，你可能需要在同一个项目中（其中每个多维数据集具有其自己的语言和排序规则）创建多维数据集的多个语言版本，例如英语和中文版本。</span><span class="sxs-lookup"><span data-stu-id="fa26c-138">For example, you might want to create multiple language versions of a cube, such as English and Chinese versions, within the same project, where each cube has its own language and collation.</span></span>  
  
     <span data-ttu-id="fa26c-139">你在此多维数据集上设置的任何语言和排序方式由此多维数据集中包含的所有测量值和维度使用。</span><span class="sxs-lookup"><span data-stu-id="fa26c-139">Whatever language and collation you set on the cube is used by all measures and dimensions contained in the cube.</span></span> <span data-ttu-id="fa26c-140">更细颗粒度的设置排序规则属性的唯一方法是在维度属性上创建翻译。</span><span class="sxs-lookup"><span data-stu-id="fa26c-140">The only way to set collation properties at a finer grain is if you are creating translations on a dimension attribute.</span></span> <span data-ttu-id="fa26c-141">否则，假设在属性级别上没有翻译，则每个多维数据集上有一个排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-141">Otherwise, assuming no translations at the attribute level, there is one collation per cube.</span></span>  
  
 <span data-ttu-id="fa26c-142">此外，还可以 `Language` 在**翻译**对象上自行设置。</span><span class="sxs-lookup"><span data-stu-id="fa26c-142">Additionally, you can set `Language`, by itself, on a **Translation** object.</span></span>  
  
 <span data-ttu-id="fa26c-143">当你将翻译添加到多维数据集或维度时，将创建翻译对象。</span><span class="sxs-lookup"><span data-stu-id="fa26c-143">A translation object is created when you add translations to a cube or dimension.</span></span> <span data-ttu-id="fa26c-144">`Language`是翻译定义的一部分。</span><span class="sxs-lookup"><span data-stu-id="fa26c-144">`Language` is part of the translation definition.</span></span> <span data-ttu-id="fa26c-145">而另一方面，`Collation` 则设置在多维数据集或更高级别上，并由所有翻译共享。</span><span class="sxs-lookup"><span data-stu-id="fa26c-145">`Collation`, on the other hand, is set on the cube or higher, and shared by all translations.</span></span> <span data-ttu-id="fa26c-146">这在包含翻译的多维数据集的 XMLA 中很明显，你可从中发现多个语言属性（每个翻译一个属性），但只有一个排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-146">This is evident in the XMLA of a cube containing translations, where you will see multiple language properties (one for each translation), but only one collation.</span></span> <span data-ttu-id="fa26c-147">注意：对维度属性翻译例外，你可覆盖多维数据集排序规则以指定与源列匹配的属性排序规则（数据库引擎支持各列上的排序规则，通常配置各翻译以从不同源列获取成员数据）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-147">Note that there is one exception for dimension attribute translations, where you can override cube collation to specify an attribute collation that matches the source column (the database engine supports setting collation on individual columns, and it's common to configure individual translations to obtain member data from different source columns).</span></span> <span data-ttu-id="fa26c-148">但是，对于所有其他翻译，`Language` 自行使用，无需 `Collation` 推论。</span><span class="sxs-lookup"><span data-stu-id="fa26c-148">But otherwise, for all other translations, `Language` is used by itself, without a `Collation` corollary.</span></span> <span data-ttu-id="fa26c-149">有关详细信息，请参阅[翻译 (Analysis Services)](translations-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-149">See [Translations &#40;Analysis Services&#41;](translations-analysis-services.md) for details.</span></span>  
  
##  <a name="language-support-in-analysis-services"></a><a name="bkmk_lang"></a> <span data-ttu-id="fa26c-150">Analysis Services 中的语言支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-150">Language support in Analysis Services</span></span>  
 <span data-ttu-id="fa26c-151">`Language` 属性设置在处理过程中使用的对象的区域设置、查询并使用 `Captions` 和 `Translations` 以支持多语情景。</span><span class="sxs-lookup"><span data-stu-id="fa26c-151">The `Language` property sets the locale of an object, used during processing, queries, and with `Captions` and `Translations` to support multi-lingual scenarios.</span></span> <span data-ttu-id="fa26c-152">区域设置基于语言标识符（如英语）和区域（如美国或澳大利亚），其进一步优化了数据和时间表示方法。</span><span class="sxs-lookup"><span data-stu-id="fa26c-152">Locales are based on a language identifier, such as English, and a territory, such as United States or Australia, that further refines date and time representations.</span></span>  
  
 <span data-ttu-id="fa26c-153">在实例级别，该属性在安装过程中设置，并基于 Windows Server 操作系统的语言（37 种语言中的一种，假设安装了语言包）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-153">At the instance level, the property is set during installation and is based on the language of the Windows server operating system (one of 37 languages, assuming a language pack is installed).</span></span> <span data-ttu-id="fa26c-154">你无法更改安装程序中的语言。</span><span class="sxs-lookup"><span data-stu-id="fa26c-154">You cannot change the language in Setup.</span></span>  
  
 <span data-ttu-id="fa26c-155">安装后，可以使用 Management Studio 中的服务器属性页或在 msmdsrv.ini 配置文件中覆盖 `Language`。</span><span class="sxs-lookup"><span data-stu-id="fa26c-155">Post-installation, you can override `Language` using the server properties page in Management Studio, or in the msmdsrv.ini configuration file.</span></span> <span data-ttu-id="fa26c-156">你可从更多语言选择，包括 Windows 客户端支持的所有语言。</span><span class="sxs-lookup"><span data-stu-id="fa26c-156">You can choose from many more languages, including all those supported by the Windows client.</span></span> <span data-ttu-id="fa26c-157">当在服务器的实例级别上设置时，`Language` 决定后续部署的所有数据库的区域设置。</span><span class="sxs-lookup"><span data-stu-id="fa26c-157">When set at the instance level, on the server, `Language` determines the locale of all databases that are subsequently deployed.</span></span> <span data-ttu-id="fa26c-158">例如，如果你将 `Language` 设置为德语，那么部署到实例的所有数据库将具有语言属性 1031，即德语的 LCID。</span><span class="sxs-lookup"><span data-stu-id="fa26c-158">For example, if you set `Language` to German, all databases that are deployed to the instance will have a Language property of 1031, the LCID for German.</span></span>  
  
###  <a name="value-of-the-language-property-is-a-locale-identifier-lcid"></a><a name="bkmk_lcid"></a> <span data-ttu-id="fa26c-159">语言属性的值是区域设置标识符 (LCID)</span><span class="sxs-lookup"><span data-stu-id="fa26c-159">Value of the Language property is a Locale Identifier (LCID)</span></span>  
 <span data-ttu-id="fa26c-160">有效值包括出现在下拉列表中的任何 LCID。</span><span class="sxs-lookup"><span data-stu-id="fa26c-160">Valid values include any LCID that appears in the drop-down list.</span></span> <span data-ttu-id="fa26c-161">在 Management Studio 和 SQL Server Data Tools 中，LCID 通过等效的字符串表示。</span><span class="sxs-lookup"><span data-stu-id="fa26c-161">In Management Studio and SQL Server Data Tools, LCIDs are represented in string equivalents.</span></span> <span data-ttu-id="fa26c-162">每当显示 `Language` 属性时，出现相同的语言，无论是什么工具。</span><span class="sxs-lookup"><span data-stu-id="fa26c-162">The same languages show up wherever the `Language` property is exposed, regardless of the tool.</span></span> <span data-ttu-id="fa26c-163">具有相同的语言列表可确保你可在整个模型中一致地实施和测试翻译。</span><span class="sxs-lookup"><span data-stu-id="fa26c-163">Having an identical list of languages ensures that you can implement and test translations consistently throughout the model.</span></span>  
  
 <span data-ttu-id="fa26c-164">虽然 Analysis Services 按名称列出了语言，为属性存储的实际值是 LCID。</span><span class="sxs-lookup"><span data-stu-id="fa26c-164">Although Analysis Services lists the languages by name, the actual value stored for the property is an LCID.</span></span> <span data-ttu-id="fa26c-165">当通过编程方式或 msmdsrv.ini 文件设置语言属性时，请使用 [区域设置标识符 (LCID)](http://en.wikipedia.org/wiki/Locale) 作为值。</span><span class="sxs-lookup"><span data-stu-id="fa26c-165">When setting a language property programmatically or through the msmdsrv.ini file, use the [locale identifier (LCID)](http://en.wikipedia.org/wiki/Locale) as the value.</span></span> <span data-ttu-id="fa26c-166">LCID 是 32 位的值，其包含标识特定语言的语言 ID、排序 ID 和保留位。</span><span class="sxs-lookup"><span data-stu-id="fa26c-166">An LCID is a 32-bit value consisting of a language ID, sort ID, and reserved bits that identify a particular language.</span></span> [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] <span data-ttu-id="fa26c-167">使用 LCID 指定 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 实例和对象的所选语言。</span><span class="sxs-lookup"><span data-stu-id="fa26c-167">uses LCIDs to specify the selected language for [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] instances and objects.</span></span>  
  
 <span data-ttu-id="fa26c-168">你可使用十六进制或十进制格式设置 LCID。</span><span class="sxs-lookup"><span data-stu-id="fa26c-168">You can set the LCID using either hexadecimal or decimal formats.</span></span> <span data-ttu-id="fa26c-169">此属性的有效值的一些示例 `Language` 包括：</span><span class="sxs-lookup"><span data-stu-id="fa26c-169">A few examples of valid values for the `Language` property include:</span></span>  
  
-   <span data-ttu-id="fa26c-170">0x0409 或 1033 为“英语（美国）” \*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="fa26c-170">0x0409 or 1033 for **English (United States)**</span></span>  
  
-   <span data-ttu-id="fa26c-171">0x0411 或 1041 为“日语” \*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="fa26c-171">0x0411 or 1041 for **Japanese**</span></span>  
  
-   <span data-ttu-id="fa26c-172">0x0407 或 1031 为“德语（德国）” \*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="fa26c-172">0x0407 or 1031 for **Germany (German)**</span></span>  
  
-   <span data-ttu-id="fa26c-173">0x0416 或 1046 为“葡萄牙语（巴西）” \*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="fa26c-173">0x0416 or 1046 for **Portuguese (Brazil)**.</span></span>  
  
 <span data-ttu-id="fa26c-174">要查看更完整的列表，请参阅 [Microsoft 分配的语言 ID](https://msdn.microsoft.com/goglobal/bb964664.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-174">To view a longer list, see [Locale IDs Assigned by Microsoft](https://msdn.microsoft.com/goglobal/bb964664.aspx).</span></span> <span data-ttu-id="fa26c-175">有关更多背景信息，请参阅[代码页](/windows/desktop/Intl/code-pages)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-175">For more background, see [Code Pages](/windows/desktop/Intl/code-pages).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fa26c-176">`Language` 属性不决定返回系统消息的语言或哪些字符串出现在用户界面中。</span><span class="sxs-lookup"><span data-stu-id="fa26c-176">The `Language` property does not determine the language for returning system messages, or which strings appear in the user interface.</span></span> <span data-ttu-id="fa26c-177">错误、警告和消息本地化为 Office 和 Office 365 中支持的所有语言，并当客户端连接指定其中一种支持区域设置时自动使用。</span><span class="sxs-lookup"><span data-stu-id="fa26c-177">Errors, warnings, and messages are localized into all languages supported in Office and Office 365 and are used automatically when the client connection specifies one of the supported locales.</span></span>  
  
##  <a name="collation-support-in-analysis-services"></a><a name="bkmk_collations"></a> <span data-ttu-id="fa26c-178">Analysis Services 中的排序规则支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-178">Collation support in Analysis Services</span></span>  
 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] <span data-ttu-id="fa26c-179">仅使用 Windows 和二进制排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-179">uses Windows and binary collations exclusively.</span></span> <span data-ttu-id="fa26c-180">它不使用旧的 SQL Server 排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-180">It does not use legacy SQL Server collations.</span></span> <span data-ttu-id="fa26c-181">在整个多维数据集中，使用一个排序规则，属性级别的翻译除外。</span><span class="sxs-lookup"><span data-stu-id="fa26c-181">Within a cube, a single collation is used throughout, with the exception of translations at the attribute level.</span></span> <span data-ttu-id="fa26c-182">有关定义属性翻译的详细信息，请参阅[翻译 (Analysis Services)](translations-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-182">For more information about defining attribute translations, see [Translations &#40;Analysis Services&#41;](translations-analysis-services.md).</span></span>  
  
 <span data-ttu-id="fa26c-183">排序规则控制双语言脚本中所有字符串的大小写规则，对象标识符除外。</span><span class="sxs-lookup"><span data-stu-id="fa26c-183">Collations control the case-sensitivity of all strings in a bicameral language script, with the exception of object identifiers.</span></span> <span data-ttu-id="fa26c-184">如果你在对象标识符中使用大写和小写字符，请注意对象标识符的大小写规则不是由排序规则决定，而是由 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]决定。</span><span class="sxs-lookup"><span data-stu-id="fa26c-184">If you use upper and lower case characters in an object identifier, be forewarned that the case-sensitivity of object identifiers is not determined by the collation, but by [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="fa26c-185">对于由英语脚本构成的对象标识符，对象标识符始终不区分大小写，无论排序规则是什么。</span><span class="sxs-lookup"><span data-stu-id="fa26c-185">For object identifiers composed in English script, object identifiers are always case-insensitive, regardless of collation.</span></span> <span data-ttu-id="fa26c-186">西里尔字母和其他双语言相反（总是区分大小写）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-186">Cyrillic and other bicameral languages do the opposite (always case-sensitive).</span></span> <span data-ttu-id="fa26c-187">有关详细信息，请参阅 [全球化提示和最佳实践 (Analysis Services)](globalization-tips-and-best-practices-analysis-services.md) 。</span><span class="sxs-lookup"><span data-stu-id="fa26c-187">See [Globalization Tips and Best Practices &#40;Analysis Services&#41;](globalization-tips-and-best-practices-analysis-services.md) for details.</span></span>  
  
 <span data-ttu-id="fa26c-188">Analysis Services 中的排序规则与 SQL Server 关系数据库引擎的排序规则兼容，假设你以你为每个服务选择的排序选项维护奇偶校验。</span><span class="sxs-lookup"><span data-stu-id="fa26c-188">Collation in Analysis Services is compatible with that of the SQL Server relational database engine, assuming you maintain parity in the sort options you select for each service.</span></span> <span data-ttu-id="fa26c-189">例如，如果关系数据库区分重音，你应以相同方式配置多维数据集。</span><span class="sxs-lookup"><span data-stu-id="fa26c-189">For example, if the relational database is accent sensitive, you should configure the cube the same way.</span></span> <span data-ttu-id="fa26c-190">排序规则设置若不同，则会出现问题。</span><span class="sxs-lookup"><span data-stu-id="fa26c-190">Problems can occur when collations settings diverge.</span></span> <span data-ttu-id="fa26c-191">有关示例和解决方法，请参阅 [基于排序规则，Unicode 字符串中的空格有不同处理结果](https://social.technet.microsoft.com/wiki/contents/articles/23979.ssas-processing-error-blanks-in-a-unicode-string-have-different-processing-outcomes-based-on-collation-and-character-set.aspx)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-191">For an example and workarounds, see [Blanks in a Unicode string have different processing outcomes based on collation](https://social.technet.microsoft.com/wiki/contents/articles/23979.ssas-processing-error-blanks-in-a-unicode-string-have-different-processing-outcomes-based-on-collation-and-character-set.aspx).</span></span> <span data-ttu-id="fa26c-192">有关排序规则和数据库引擎的详细信息，请参阅 [Collation and Unicode Support](../relational-databases/collations/collation-and-unicode-support.md)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-192">To learn more about collation and the database engine, see [Collation and Unicode Support](../relational-databases/collations/collation-and-unicode-support.md).</span></span>  
  
###  <a name="collation-types"></a><a name="bkmk_collationtype"></a> <span data-ttu-id="fa26c-193">排序规则类型</span><span class="sxs-lookup"><span data-stu-id="fa26c-193">Collation Types</span></span>  
 <span data-ttu-id="fa26c-194">Analysis Services 支持两种排序规则：</span><span class="sxs-lookup"><span data-stu-id="fa26c-194">Analysis Services supports two collation types:</span></span>  
  
-   <span data-ttu-id="fa26c-195">**Windows 排序规则**</span><span class="sxs-lookup"><span data-stu-id="fa26c-195">**Windows collations**</span></span>  
  
     <span data-ttu-id="fa26c-196">Windows 排序规则基于语言的语言和文化特征对字符排序。</span><span class="sxs-lookup"><span data-stu-id="fa26c-196">Windows collations sort characters based on the linguistic and cultural characteristics of the language.</span></span> <span data-ttu-id="fa26c-197">在 Windows 中，由于许多语言共享共同的字母和规则来对字符进行排序和比较，因此排序规则的数量超过用于排序规则的区域设置（或语言）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-197">In Windows, collations outnumber the locales (or languages) used with them, due to many languages sharing common alphabets and rules for sorting and comparing characters.</span></span> <span data-ttu-id="fa26c-198">例如，33 个 Windows 区域设置（包括所有葡萄牙语和英语 Windows 区域设置）使用 Latin1 代码页 (1252) 并遵循一组公用的字符排序和比较规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-198">For example, 33 Windows locales, including all the Portuguese and English Windows locales, use the Latin1 code page (1252) and follow a common set of rules for sorting and comparing characters.</span></span>  
  
-   <span data-ttu-id="fa26c-199">**二级制排列规则（BIN 或 IN2）**</span><span class="sxs-lookup"><span data-stu-id="fa26c-199">**Binary collations (either BIN or BIN2)**</span></span>  
  
     <span data-ttu-id="fa26c-200">二进制排序规则按 Unicode 码位排序，不是根据语言值。</span><span class="sxs-lookup"><span data-stu-id="fa26c-200">Binary collations sort on Unicode code points, not on linguistic values.</span></span> <span data-ttu-id="fa26c-201">例如，当针对 Unicode 数据使用二进制排序规则时，Latin1_General_BIN 和 Japanese_BIN 会生成相同的排序结果。</span><span class="sxs-lookup"><span data-stu-id="fa26c-201">For example, Latin1_General_BIN and Japanese_BIN yield identical sorting results when used on Unicode data.</span></span> <span data-ttu-id="fa26c-202">语言排序可能产生 aAbBcCdD 这样的结果，但二进制排序将是 ABCDabcd，因为所有大写字符的码位都高于小写字符的码位。</span><span class="sxs-lookup"><span data-stu-id="fa26c-202">Whereas a linguistic sort might yield results like aAbBcCdD, a binary sort would be ABCDabcd because the code point of all uppercase characters is collectively higher than the code points of the lowercase characters.</span></span>  
  
###  <a name="sort-order-options"></a><a name="bkmk_sortorder"></a> <span data-ttu-id="fa26c-203">排序顺序选项</span><span class="sxs-lookup"><span data-stu-id="fa26c-203">Sort Order Options</span></span>  
 <span data-ttu-id="fa26c-204">排序选项用于优化基于区分大小写、重音、假名和全半角的排序和比较规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-204">Sort options are used to refine sorting and comparison rules based on case, accent, kana, and width sensitivity.</span></span> <span data-ttu-id="fa26c-205">例如，[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 的 `Collation` 配置属性的默认值为 Latin1_General_AS_CS，指定使用 Latin1_General 排序规则，并且使用区分重音、区分大小写的排序顺序。</span><span class="sxs-lookup"><span data-stu-id="fa26c-205">For example, the default value of the `Collation` configuration property for [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] is Latin1_General_AS_CS, specifying that the Latin1_General collation is used, with an accent-sensitive, case-sensitive sort order.</span></span>  
  
 <span data-ttu-id="fa26c-206">注意：BIN 和 BIN2 与其他排序选项相斥，如果你要使用 BIN 或 BIN2，应清除排序选项“区分重音”。</span><span class="sxs-lookup"><span data-stu-id="fa26c-206">Note that BIN and BIN2 are mutually exclusive of other sort options, if you want to use BIN or BIN2, clear the sort option for Accent Sensitive.</span></span> <span data-ttu-id="fa26c-207">类似地，如果选中“BIN2”，则不可使用“区分大小写”、“不区分大小写”、“区分重音”、“不区分重音”、“区分假名”以及“区分全半角”等选项。</span><span class="sxs-lookup"><span data-stu-id="fa26c-207">Similarly, when BIN2 is selected, the case-sensitive, case-insensitive, accent-sensitive, accent-insensitive, kana-sensitive, and width-sensitive options are not available.</span></span>  
  
 <span data-ttu-id="fa26c-208">下表说明用于 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]的 Windows 排序规则排序顺序选项及其关联的后缀。</span><span class="sxs-lookup"><span data-stu-id="fa26c-208">The following table describes Windows collation sort order options and associated suffixes for [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="fa26c-209">排序顺序（后缀）</span><span class="sxs-lookup"><span data-stu-id="fa26c-209">Sort order (suffix)</span></span>|<span data-ttu-id="fa26c-210">排序顺序说明</span><span class="sxs-lookup"><span data-stu-id="fa26c-210">Sort order description</span></span>|  
|---------------------------|----------------------------|  
|<span data-ttu-id="fa26c-211">二进制 (_BIN) 或 BIN2 (_BIN2)</span><span class="sxs-lookup"><span data-stu-id="fa26c-211">Binary (_BIN) or BIN2 (_BIN2)</span></span>|<span data-ttu-id="fa26c-212">SQL Server 中有两种二进制排序规则：旧的 BIN 排序规则和新的 BIN2 排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-212">There are two types of binary collations in SQL Server; the older BIN collations and the newer BIN2 collations.</span></span> <span data-ttu-id="fa26c-213">在 BIN2 排序规则中，所有字符根据其码位排序。</span><span class="sxs-lookup"><span data-stu-id="fa26c-213">In a BIN2 collation all characters are sorted according to their code points.</span></span> <span data-ttu-id="fa26c-214">在 BIN 排序规则中，仅第一个字符按照码位排序，其余字符根据其字节值排序。</span><span class="sxs-lookup"><span data-stu-id="fa26c-214">In a BIN collation only the first character is sorted according to the code point, and remaining characters are sorted according to their byte values.</span></span> <span data-ttu-id="fa26c-215">（由于 Intel 平台是一个 little endian 体系结构，因此 Unicode 码字符始终以字节对调的形式存储。）</span><span class="sxs-lookup"><span data-stu-id="fa26c-215">(Because the Intel platform is a little endian architecture, Unicode code characters are always stored byte-swapped.)</span></span><br /><br /> <span data-ttu-id="fa26c-216">对于 Unicode 数据类型的二进制排序规则，数据排序将不考虑区域设置。</span><span class="sxs-lookup"><span data-stu-id="fa26c-216">For binary collations on Unicode data types, the locale is not considered in data sorts.</span></span> <span data-ttu-id="fa26c-217">例如，对 Unicode 数据应用 Latin_1_General_BIN 和 Japanese_BIN，会得到完全相同的排序结果。</span><span class="sxs-lookup"><span data-stu-id="fa26c-217">For example, Latin_1_General_BIN and Japanese_BIN yield identical sorting results when they are used on Unicode data.</span></span><br /><br /> <span data-ttu-id="fa26c-218">二进制排序顺序既区分大小写，也区分重音。</span><span class="sxs-lookup"><span data-stu-id="fa26c-218">Binary sort order is case sensitive and accent sensitive.</span></span> <span data-ttu-id="fa26c-219">二进制排序顺序的速度也最快。</span><span class="sxs-lookup"><span data-stu-id="fa26c-219">Binary is also the fastest sorting order.</span></span>|  
|<span data-ttu-id="fa26c-220">区分大小写 (_CS)</span><span class="sxs-lookup"><span data-stu-id="fa26c-220">Case-sensitive (_CS)</span></span>|<span data-ttu-id="fa26c-221">区分大写字母和小写字母。</span><span class="sxs-lookup"><span data-stu-id="fa26c-221">Distinguishes between uppercase and lowercase letters.</span></span> <span data-ttu-id="fa26c-222">如果选择此项，排序时小写字母将在其对应的大写字母之前。</span><span class="sxs-lookup"><span data-stu-id="fa26c-222">If selected, lowercase letters sort ahead of their uppercase versions.</span></span> <span data-ttu-id="fa26c-223">通过指定 _CI，可以显式设置不区分大小写。</span><span class="sxs-lookup"><span data-stu-id="fa26c-223">You can explicitly set case-insensitivity by specifying _CI.</span></span> <span data-ttu-id="fa26c-224">特定于排序规则的大小写设置不适用于对象标识符，例如维度、多维数据集和其他对象的 ID。</span><span class="sxs-lookup"><span data-stu-id="fa26c-224">Collation-specific case settings do not apply to object identifiers, such as the ID of a dimension, cube, and other objects.</span></span> <span data-ttu-id="fa26c-225">有关详细信息，请参阅 [全球化提示和最佳实践 (Analysis Services)](globalization-tips-and-best-practices-analysis-services.md) 。</span><span class="sxs-lookup"><span data-stu-id="fa26c-225">See [Globalization Tips and Best Practices &#40;Analysis Services&#41;](globalization-tips-and-best-practices-analysis-services.md) for details.</span></span>|  
|<span data-ttu-id="fa26c-226">区分重音 (_AS)</span><span class="sxs-lookup"><span data-stu-id="fa26c-226">Accent-sensitive (_AS)</span></span>|<span data-ttu-id="fa26c-227">区分重音字符和非重音字符。</span><span class="sxs-lookup"><span data-stu-id="fa26c-227">Distinguishes between accented and unaccented characters.</span></span> <span data-ttu-id="fa26c-228">例如，“a”和“ấ”视为不同字符。</span><span class="sxs-lookup"><span data-stu-id="fa26c-228">For example, 'a' is not equal to 'ấ'.</span></span> <span data-ttu-id="fa26c-229">如果未选择此项，在排序时， [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 将字母的重音形式和非重音形式视为相同。</span><span class="sxs-lookup"><span data-stu-id="fa26c-229">If this option is not selected, [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] considers the accented and unaccented versions of letters to be identical for sorting purposes.</span></span> <span data-ttu-id="fa26c-230">通过指定 _AI，可以显式设置不区分重音。</span><span class="sxs-lookup"><span data-stu-id="fa26c-230">You can explicitly set accent-insensitivity by specifying _AI.</span></span>|  
|<span data-ttu-id="fa26c-231">区分假名 (_KS)</span><span class="sxs-lookup"><span data-stu-id="fa26c-231">Kana-sensitive (_KS)</span></span>|<span data-ttu-id="fa26c-232">区分日语中的两种假名字符类型：平假名和片假名。</span><span class="sxs-lookup"><span data-stu-id="fa26c-232">Distinguishes between the two types of Japanese kana characters: hiragana and katakana.</span></span> <span data-ttu-id="fa26c-233">如果未选中该选项，则就排序而言， [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 将平假名字符和片假名字符视为相同。</span><span class="sxs-lookup"><span data-stu-id="fa26c-233">If this option is not selected, [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] considers hiragana and katakana characters to be equal for sorting purposes.</span></span> <span data-ttu-id="fa26c-234">没有用于不区分假名排序的排序顺序后缀。</span><span class="sxs-lookup"><span data-stu-id="fa26c-234">There is no sort order suffix for kana-insensitive sorting.</span></span>|  
|<span data-ttu-id="fa26c-235">区分全半角 (_WS)</span><span class="sxs-lookup"><span data-stu-id="fa26c-235">Width-sensitive (_WS)</span></span>|<span data-ttu-id="fa26c-236">区分字符的单字节形式和双字节形式。</span><span class="sxs-lookup"><span data-stu-id="fa26c-236">Distinguishes between a single-byte character and the same character when represented as a double-byte character.</span></span> <span data-ttu-id="fa26c-237">如果未选择此项， [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 将在排序时把同一字符的单字节形式和双字节形式视为相同。</span><span class="sxs-lookup"><span data-stu-id="fa26c-237">If this option is not selected, [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] considers the single-byte and double-byte representation of the same character to be identical for sorting purposes.</span></span> <span data-ttu-id="fa26c-238">没有用于不区分全半角排序的排序顺序后缀。</span><span class="sxs-lookup"><span data-stu-id="fa26c-238">There is no sort order suffix for width-insensitive sorting.</span></span>|  
  
##  <a name="change-the-default-language-or-collation-on-the-instance"></a><a name="bkmk_defaultLang"></a> <span data-ttu-id="fa26c-239">更改实例上的默认语言或排序规则</span><span class="sxs-lookup"><span data-stu-id="fa26c-239">Change the default language or collation on the instance</span></span>  
 <span data-ttu-id="fa26c-240">默认语言和排序规则在安装过程中设置，但可在安装后配置过程中进行更改。</span><span class="sxs-lookup"><span data-stu-id="fa26c-240">Default language and collation is established during setup, but can be changed as part of post-installation configuration.</span></span> <span data-ttu-id="fa26c-241">更改实例级别的排序规则并不简单，需要满足以下要求：</span><span class="sxs-lookup"><span data-stu-id="fa26c-241">Changing the collation at the instance level is non-trivial and comes with these requirements:</span></span>  
  
-   <span data-ttu-id="fa26c-242">服务重启。</span><span class="sxs-lookup"><span data-stu-id="fa26c-242">A service restart.</span></span>  
  
-   <span data-ttu-id="fa26c-243">更新现有对象的排序规则设置。</span><span class="sxs-lookup"><span data-stu-id="fa26c-243">Update the collation settings of existing objects.</span></span> <span data-ttu-id="fa26c-244">创建对象后，排序规则设置继承一次。</span><span class="sxs-lookup"><span data-stu-id="fa26c-244">Collation settings are inherited once when the object is created.</span></span> <span data-ttu-id="fa26c-245">对排序规则的后续更改必须手动完成。</span><span class="sxs-lookup"><span data-stu-id="fa26c-245">Subsequent changes to collation must be done manually.</span></span> <span data-ttu-id="fa26c-246">有关详细信息，请参阅 [使用 XMLA 更改数据模型中的语言和排序规则](#bkmk_XMLA) 。</span><span class="sxs-lookup"><span data-stu-id="fa26c-246">See [Change language and collation within a data model using XMLA](#bkmk_XMLA) for tips on how to propagate collation changes throughout the model.</span></span>  
  
-   <span data-ttu-id="fa26c-247">更新排序规则后，重新处理分隔和维度。</span><span class="sxs-lookup"><span data-stu-id="fa26c-247">Reprocess partitions and dimensions after the collation is updated.</span></span>  
  
 <span data-ttu-id="fa26c-248">你可使用 SQL Server Management Studio 或 AMO PowerShell 更改服务器级别的默认语言或排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-248">You can use SQL Server Management Studio or AMO PowerShell to change the default language or collation at the server level.</span></span> <span data-ttu-id="fa26c-249">或者，你可以 **\<Language>** **\<CollationName>** 在 msmdsrv.ini 文件中修改和设置，并指定语言的 LCID。</span><span class="sxs-lookup"><span data-stu-id="fa26c-249">Alternatively, you can modify the **\<Language>** and **\<CollationName>** settings in the msmdsrv.ini file, specifying the LCID of the language.</span></span>  
  
1.  <span data-ttu-id="fa26c-250">在 Management Studio 中，右键单击 "服务器名称" |**属性**  | **语言/排序规则**。</span><span class="sxs-lookup"><span data-stu-id="fa26c-250">In Management Studio, right-click server name | **Properties** | **Language/Collation**.</span></span>  
  
2.  <span data-ttu-id="fa26c-251">选择排序选项。</span><span class="sxs-lookup"><span data-stu-id="fa26c-251">Choose the sort options.</span></span> <span data-ttu-id="fa26c-252">要选择 \*\*\*\* “二进制”或 \*\*\*\*“二进制 2”，首先清除 \*\*\*\*“区分重音”复选框。</span><span class="sxs-lookup"><span data-stu-id="fa26c-252">To select either **Binary** or **Binary 2**, first clear the checkbox for **Accent Sensitive**.</span></span>  
  
     <span data-ttu-id="fa26c-253">注意：排序规则和语言是完全独立的设置。</span><span class="sxs-lookup"><span data-stu-id="fa26c-253">Note that collation and language are fully independent settings.</span></span> <span data-ttu-id="fa26c-254">如果你更改其中一个设置，不会筛选另一个的值以显示共同的组合。</span><span class="sxs-lookup"><span data-stu-id="fa26c-254">If you change one, the values of the other are not filtered to show common combinations.</span></span>  
  
3.  <span data-ttu-id="fa26c-255">更新数据模型以使用新的排序规则（请参见以下部分）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-255">Update the data model to use the new collation (see the following section).</span></span>  
  
4.  <span data-ttu-id="fa26c-256">重启服务。</span><span class="sxs-lookup"><span data-stu-id="fa26c-256">Restart the service.</span></span>  
  
##  <a name="change-the-language-or-collation-on-a-cube"></a><a name="bkmk_cube"></a> <span data-ttu-id="fa26c-257">更改多维数据集上的语言或排序规则</span><span class="sxs-lookup"><span data-stu-id="fa26c-257">Change the language or collation on a cube</span></span>  
  
1.  <span data-ttu-id="fa26c-258">在解决方案资源管理器中，在多维数据集设计器中双击多维数据集将其打开。</span><span class="sxs-lookup"><span data-stu-id="fa26c-258">In Solution Explorer, double-click the cube to open it in cube designer.</span></span>  
  
2.  <span data-ttu-id="fa26c-259">在“度量值”或“维度”窗格中，选择顶端节点。</span><span class="sxs-lookup"><span data-stu-id="fa26c-259">In either the Measures or Dimensions pane, select the top node.</span></span> <span data-ttu-id="fa26c-260">每个窗格的顶级对象是多维数据集。</span><span class="sxs-lookup"><span data-stu-id="fa26c-260">The top-level object for either pane is the cube.</span></span>  
  
3.  <span data-ttu-id="fa26c-261">在“属性”中，设置 `Language` 和 `Collation`。</span><span class="sxs-lookup"><span data-stu-id="fa26c-261">In Properties, set `Language` and `Collation`.</span></span> <span data-ttu-id="fa26c-262">你选择的值将被所有多维数据集对象使用，包括多维数据集维度和度量值，并影响处理和查询操作。</span><span class="sxs-lookup"><span data-stu-id="fa26c-262">The values you choose will be used by all cube objects, including cube dimensions and measures, and affects processing and query operations.</span></span>  
  
     <span data-ttu-id="fa26c-263">在多维数据集中的对象上嵌入替代语言和排序规则属性的唯一方法是通过翻译。</span><span class="sxs-lookup"><span data-stu-id="fa26c-263">The only way to embed alternate language and collation properties on objects within the cube is through translations.</span></span> <span data-ttu-id="fa26c-264">有关详细信息，请参阅[翻译 (Analysis Services)](translations-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-264">See [Translations &#40;Analysis Services&#41;](translations-analysis-services.md) for details.</span></span>  
  
##  <a name="change-language-and-collation-within-a-data-model-using-xmla"></a><a name="bkmk_XMLA"></a> <span data-ttu-id="fa26c-265">使用 XMLA 更改数据模型中的语言和排序规则</span><span class="sxs-lookup"><span data-stu-id="fa26c-265">Change language and collation within a data model using XMLA</span></span>  
 <span data-ttu-id="fa26c-266">创建对象后，继承语言和排序规则设置一次。</span><span class="sxs-lookup"><span data-stu-id="fa26c-266">Language and collation settings are inherited once when the object is created.</span></span> <span data-ttu-id="fa26c-267">对这些属性的后续更改必须手动完成。</span><span class="sxs-lookup"><span data-stu-id="fa26c-267">Subsequent changes to those properties must be done manually.</span></span> <span data-ttu-id="fa26c-268">快速更改排序规则多个对象的一个方法是在 XMLA 脚本上使用 ALTER 命令。</span><span class="sxs-lookup"><span data-stu-id="fa26c-268">One approach for changing collation multiple objects quickly is to use an ALTER command on an XMLA script.</span></span>  
  
 <span data-ttu-id="fa26c-269">默认情况下，排序规则在数据库级别设置一次。</span><span class="sxs-lookup"><span data-stu-id="fa26c-269">By default, collation is set once, at the database level.</span></span> <span data-ttu-id="fa26c-270">在剩下的对象层次结构中，继承是隐含的。</span><span class="sxs-lookup"><span data-stu-id="fa26c-270">Inheritance is implied throughout the rest of the object hierarchy.</span></span> <span data-ttu-id="fa26c-271">如果在多维数据集的对象上显式设置 `Collation`（允许在单独的维度属性上进行此操作），该设置将在 XMLA 定义中显示。</span><span class="sxs-lookup"><span data-stu-id="fa26c-271">If you explicitly set `Collation` on objects within the cube, which is allowed on individual dimension attributes, it will appear in the XMLA definition.</span></span> <span data-ttu-id="fa26c-272">否则，仅存在顶级排序规则属性。</span><span class="sxs-lookup"><span data-stu-id="fa26c-272">Otherwise, only the top-level collation property exists.</span></span>  
  
 <span data-ttu-id="fa26c-273">在使用 XMLA 修改现有数据库前，请确保你不会引入数据库和用于创建数据库的源文件之间的差异。</span><span class="sxs-lookup"><span data-stu-id="fa26c-273">Before using XMLA to modify an existing database, make sure that you're not introducing discrepancies between the database and the source files used to build it.</span></span> <span data-ttu-id="fa26c-274">例如，可能需要使用 XMLA 快速更改语言和排序规则进行概念证明测试，但希望随后通过使用现有的操作过程重新部署解决方案来更改源文件（请参阅 [更改多维数据集上的语言或排序规则](#bkmk_cube)）。</span><span class="sxs-lookup"><span data-stu-id="fa26c-274">For example, you might want to use XMLA to quickly change language or collation for proof-of-concept testing, but then follow-up with changes to the source file (see [Change the language or collation on a cube](#bkmk_cube)), redeploying the solution using the existing operating procedures already in place.</span></span>  
  
1.  <span data-ttu-id="fa26c-275">在 Management Studio 中，右键单击数据库 |**编写数据库脚本为**  | **更改为**  | **新的查询编辑器窗口**。</span><span class="sxs-lookup"><span data-stu-id="fa26c-275">In Management Studio, right-click the database | **Script Database as** | **ALTER To** | **New Query Editor Window**.</span></span>  
  
2.  <span data-ttu-id="fa26c-276">用其他值搜索和替换现有语言或排序规则。</span><span class="sxs-lookup"><span data-stu-id="fa26c-276">Search and replace the existing language or collation with an alternative value.</span></span>  
  
3.  <span data-ttu-id="fa26c-277">按 F5 执行该脚本。</span><span class="sxs-lookup"><span data-stu-id="fa26c-277">Press F5 to execute the script.</span></span>  
  
4.  <span data-ttu-id="fa26c-278">重新处理多维数据集。</span><span class="sxs-lookup"><span data-stu-id="fa26c-278">Reprocess the cube.</span></span>  
  
##  <a name="boost-performance-for-english-locales-through-enablefast1033locale"></a><a name="bkmk_enablefast1033"></a> <span data-ttu-id="fa26c-279">通过 EnableFast1033Locale 加快英语区域设置的性能</span><span class="sxs-lookup"><span data-stu-id="fa26c-279">Boost performance for English locales through EnableFast1033Locale</span></span>  
 <span data-ttu-id="fa26c-280">如果使用英语（美国）语言标识符（0x0409 或 1033）作为 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 实例的默认语言，则可以通过设置 `EnableFast1033Locale` 配置属性（一个只能用于该语言标识符的高级配置属性）获得更高的性能。</span><span class="sxs-lookup"><span data-stu-id="fa26c-280">If you use the English (United States) language identifier (0x0409, or 1033) as the default language for the [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] instance, you can get additional performance benefits by setting the `EnableFast1033Locale` configuration property, an advanced configuration property available only for that language identifier.</span></span> <span data-ttu-id="fa26c-281">将该属性的值设置为 **true** 可使 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 使用更快的字符串哈希算法和比较算法。</span><span class="sxs-lookup"><span data-stu-id="fa26c-281">Setting the value of this property to **true** enables [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] to use a faster algorithm for string hashing and comparison.</span></span> <span data-ttu-id="fa26c-282">有关设置配置属性的详细信息，请参阅[在 Analysis Services 中配置服务器属性](server-properties/server-properties-in-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-282">For more information about setting configuration properties, see [Configure Server Properties in Analysis Services](server-properties/server-properties-in-analysis-services.md).</span></span>  
  
##  <a name="gb18030-support-in-analysis-services"></a><a name="bkmk_gb18030"></a> <span data-ttu-id="fa26c-283">Analysis Services 中的 GB18030 支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-283">GB18030 Support in Analysis Services</span></span>  
 <span data-ttu-id="fa26c-284">GB18030 是在中华人民共和国用于对中文字符进行编码的一个单独标准。</span><span class="sxs-lookup"><span data-stu-id="fa26c-284">GB18030 is a separate standard used in the People's Republic of China for encoding Chinese characters.</span></span> <span data-ttu-id="fa26c-285">在 GB18030 中，字符长度可以是 1 个字节、2 个字节或 4 个字节。</span><span class="sxs-lookup"><span data-stu-id="fa26c-285">In GB18030, characters can be 1, 2, or 4 bytes in length.</span></span> <span data-ttu-id="fa26c-286">在 Analysis Services 中，处理来自外部源的数据时没有数据转换。</span><span class="sxs-lookup"><span data-stu-id="fa26c-286">In Analysis Services, there is no data conversion when processing data from external sources.</span></span> <span data-ttu-id="fa26c-287">数据仅存储为 Unicode。</span><span class="sxs-lookup"><span data-stu-id="fa26c-287">The data is simply stored as Unicode.</span></span> <span data-ttu-id="fa26c-288">在查询时，当查询结果中返回文本数据时，通过 Analysis Services 客户端库（具体指 MSOLAP.dll OLE DB 提供程序）根据客户端 OS 设置执行 GB18030 转换。</span><span class="sxs-lookup"><span data-stu-id="fa26c-288">At query time, a GB18030 conversion is performed through the Analysis Services client libraries (specifically, the MSOLAP.dll OLE DB provider) when text data is returned in query results, based on the client OS settings.</span></span> <span data-ttu-id="fa26c-289">数据库引擎还支持 GB18030。</span><span class="sxs-lookup"><span data-stu-id="fa26c-289">The database engine also supports GB18030.</span></span> <span data-ttu-id="fa26c-290">有关详细信息，请参阅 [排序规则和 Unicode 支持](../relational-databases/collations/collation-and-unicode-support.md)。</span><span class="sxs-lookup"><span data-stu-id="fa26c-290">For details, see [Collation and Unicode Support](../relational-databases/collations/collation-and-unicode-support.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa26c-291">另请参阅</span><span class="sxs-lookup"><span data-stu-id="fa26c-291">See Also</span></span>  
 <span data-ttu-id="fa26c-292">[Analysis Services Multidimensional 的全球化方案](globalization-scenarios-for-analysis-services-multiidimensional.md) </span><span class="sxs-lookup"><span data-stu-id="fa26c-292">[Globalization scenarios for Analysis Services Multiidimensional](globalization-scenarios-for-analysis-services-multiidimensional.md) </span></span>  
 <span data-ttu-id="fa26c-293">[全球化提示和最佳做法 &#40;Analysis Services&#41;](globalization-tips-and-best-practices-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="fa26c-293">[Globalization Tips and Best Practices &#40;Analysis Services&#41;](globalization-tips-and-best-practices-analysis-services.md) </span></span>  
 [<span data-ttu-id="fa26c-294">排序规则和 Unicode 支持</span><span class="sxs-lookup"><span data-stu-id="fa26c-294">Collation and Unicode Support</span></span>](../relational-databases/collations/collation-and-unicode-support.md)  
  
  
