---
title: 多维数据集存储 (Analysis Services 多维数据) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- measure groups [Analysis Services], cubes
- cubes [Analysis Services], storage
- linked measure groups [Analysis Services]
- storing data [Analysis Services], cubes
- partitions [Analysis Services], cubes
- storage [Analysis Services], cubes
ms.assetid: 1b1ad360-9a9b-4996-bee9-84238a2bb4ac
author: minewiskan
ms.author: owend
ms.openlocfilehash: eef1dd188b0038c637dc15750a6538c929359299
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87587639"
---
# <a name="cube-storage-analysis-services---multidimensional-data"></a><span data-ttu-id="33a8c-102">多维数据集存储（Analysis Services - 多维数据）</span><span class="sxs-lookup"><span data-stu-id="33a8c-102">Cube Storage (Analysis Services - Multidimensional Data)</span></span>
  <span data-ttu-id="33a8c-103">存储可能仅包括多维数据集元数据，也可能包括事实数据表中的所有源数据以及通过与度量值组相关的维度所定义的聚合。</span><span class="sxs-lookup"><span data-stu-id="33a8c-103">Storage may include only the cube metadata, or may include all of the source data from the fact table as well as the aggregations defined by dimensions related to the measure group.</span></span> <span data-ttu-id="33a8c-104">存储的数据数量取决于所选择的存储模式和聚合数。</span><span class="sxs-lookup"><span data-stu-id="33a8c-104">The amount of data stored depends upon the storage mode selected and the number of aggregations.</span></span> <span data-ttu-id="33a8c-105">存储的数据的量会直接影响查询性能。</span><span class="sxs-lookup"><span data-stu-id="33a8c-105">The amount of data stored directly affects query performance.</span></span> [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="33a8c-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 使用几种方法来最大程度地减少存储多维数据集数据和聚合所需的空间：</span><span class="sxs-lookup"><span data-stu-id="33a8c-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses several techniques for minimizing the space required for storage of cube data and aggregations:</span></span>  
  
-   <span data-ttu-id="33a8c-107">使用存储选项，您可以选择最适合于多维数据集数据的存储模式和位置。</span><span class="sxs-lookup"><span data-stu-id="33a8c-107">Storage options enable you to select the storage modes and locations that are most appropriate for cube data.</span></span>  
  
-   <span data-ttu-id="33a8c-108">通过一个复杂的算法设计有效的汇总聚合，在不牺牲速度的前提下将存储要求降至最低。</span><span class="sxs-lookup"><span data-stu-id="33a8c-108">A sophisticated algorithm designs efficient summary aggregations to minimize storage without sacrificing speed.</span></span>  
  
-   <span data-ttu-id="33a8c-109">不为空单元分配存储空间。</span><span class="sxs-lookup"><span data-stu-id="33a8c-109">Storage is not allocated for empty cells.</span></span>  
  
 <span data-ttu-id="33a8c-110">存储按分区进行定义，并且对于多维数据集中的每个度量值组，至少存在一个分区。</span><span class="sxs-lookup"><span data-stu-id="33a8c-110">Storage is defined on a partition-by-partition basis, and at least one partition exists for each measure group in a cube.</span></span> <span data-ttu-id="33a8c-111">有关详细信息，请参阅[分区 &#40;Analysis Services 多维数据&#41;](partitions-analysis-services-multidimensional-data.md)、[分区存储模式和处理](partitions-partition-storage-modes-and-processing.md)、[度量值和度量值组](../multidimensional-models/measures-and-measure-groups.md)，以及[在多维模型中创建度量值和度量值组](../multidimensional-models/create-measures-and-measure-groups-in-multidimensional-models.md)。</span><span class="sxs-lookup"><span data-stu-id="33a8c-111">For more information, see [Partitions &#40;Analysis Services - Multidimensional Data&#41;](partitions-analysis-services-multidimensional-data.md), [Partition Storage Modes and Processing](partitions-partition-storage-modes-and-processing.md), [Measures and Measure Groups](../multidimensional-models/measures-and-measure-groups.md), and [Create Measures and Measure Groups in Multidimensional Models](../multidimensional-models/create-measures-and-measure-groups-in-multidimensional-models.md).</span></span>  
  
## <a name="partition-storage"></a><span data-ttu-id="33a8c-112">分区存储</span><span class="sxs-lookup"><span data-stu-id="33a8c-112">Partition Storage</span></span>  
 <span data-ttu-id="33a8c-113">度量值组的存储空间可以分成多个分区。</span><span class="sxs-lookup"><span data-stu-id="33a8c-113">Storage for a measure group can be divided into multiple partitions.</span></span> <span data-ttu-id="33a8c-114">使用分区，您可以将度量值组分散到单个服务器或多个服务器上的离散段中，并优化存储和查询性能。</span><span class="sxs-lookup"><span data-stu-id="33a8c-114">Partitions enable you to distribute a measure group into discrete segments on a single server or across multiple servers, and to optimize storage and query performance.</span></span> <span data-ttu-id="33a8c-115">度量值组中的每个分区都可基于不同的数据源，并使用不同的存储设置进行存储。</span><span class="sxs-lookup"><span data-stu-id="33a8c-115">Each partition in a measure group can be based on a different data source and stored using different storage settings.</span></span>  
  
 <span data-ttu-id="33a8c-116">您可以在创建分区时为分区指定数据源。</span><span class="sxs-lookup"><span data-stu-id="33a8c-116">You specify the data source for a partition when you create it.</span></span> <span data-ttu-id="33a8c-117">还可以更改任何现有分区的数据源。</span><span class="sxs-lookup"><span data-stu-id="33a8c-117">You can also change the data source for any existing partition.</span></span> <span data-ttu-id="33a8c-118">度量值组可以进行垂直分区，也可以进行水平分区。</span><span class="sxs-lookup"><span data-stu-id="33a8c-118">A measure group can be partitioned vertically or horizontally.</span></span> <span data-ttu-id="33a8c-119">垂直分区的度量值组中的每个分区都基于单个源表的筛选视图。</span><span class="sxs-lookup"><span data-stu-id="33a8c-119">Each partition in a vertically partitioned measure group is based on a filtered view of a single source table.</span></span> <span data-ttu-id="33a8c-120">例如，如果度量值组所基于的表包含若干年的数据，则可以为每年的数据创建单独的分区。</span><span class="sxs-lookup"><span data-stu-id="33a8c-120">For example, if a measure group is based on a single table that contains several years of data, you could create a separate partition for each year's data.</span></span> <span data-ttu-id="33a8c-121">相反，水平分区的度量值组中的每个分区都基于单独的表。</span><span class="sxs-lookup"><span data-stu-id="33a8c-121">In contrast, each partition in a horizontally partitioned measure group is based on a separate table.</span></span> <span data-ttu-id="33a8c-122">如果数据源使用单独的表存储每年的数据，则可以使用水平分区。</span><span class="sxs-lookup"><span data-stu-id="33a8c-122">You would use horizontal partitions if the data source stores each year's data in a separate table.</span></span>  
  
 <span data-ttu-id="33a8c-123">分区最初使用其所属度量值组的存储设置进行创建。</span><span class="sxs-lookup"><span data-stu-id="33a8c-123">Partitions are initially created with the same storage settings as the measure group in which they are created.</span></span> <span data-ttu-id="33a8c-124">存储设置确定是将详细信息和聚合数据以多维格式存储在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例中，还是以关系格式存储在源服务器上，或者是两者的组合。</span><span class="sxs-lookup"><span data-stu-id="33a8c-124">The storage settings determine whether the detail and aggregation data is stored in multidimensional format on the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], in relational format on the source server, or a combination of both.</span></span> <span data-ttu-id="33a8c-125">存储设置还确定是否使用主动缓存来自动处理对存储在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 中的多维数据所进行的源数据更改。</span><span class="sxs-lookup"><span data-stu-id="33a8c-125">Storage settings also determine whether proactive caching is used to automatically process source data changes to the multidimensional data stored on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="33a8c-126">用户看不到多维数据集的分区。</span><span class="sxs-lookup"><span data-stu-id="33a8c-126">The partitions of a cube are not visible to the user.</span></span> <span data-ttu-id="33a8c-127">但是，为不同分区选择的存储设置可能影响到数据的即时性、所用磁盘空间的数量和查询性能。</span><span class="sxs-lookup"><span data-stu-id="33a8c-127">However, the choice of storage settings for different partitions may affect the immediacy of data, the amount of disk space that is used, and query performance.</span></span> <span data-ttu-id="33a8c-128">分区可以存储在多个 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例中。</span><span class="sxs-lookup"><span data-stu-id="33a8c-128">Partitions can be stored on multiple instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="33a8c-129">这为多维数据集存储提供了群集途径，并将工作负荷分散到多个 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务器上。</span><span class="sxs-lookup"><span data-stu-id="33a8c-129">This provides a clustered approach to cube storage, and distributes workload across [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] servers.</span></span> <span data-ttu-id="33a8c-130">有关详细信息，请参阅[分区存储模式和处理](partitions-partition-storage-modes-and-processing.md)、[远程分区](partitions-remote-partitions.md)和[分区 &#40;Analysis Services 多维数据&#41;](partitions-analysis-services-multidimensional-data.md)。</span><span class="sxs-lookup"><span data-stu-id="33a8c-130">For more information, see [Partition Storage Modes and Processing](partitions-partition-storage-modes-and-processing.md), [Remote Partitions](partitions-remote-partitions.md), and [Partitions &#40;Analysis Services - Multidimensional Data&#41;](partitions-analysis-services-multidimensional-data.md).</span></span>  
  
## <a name="linked-measure-groups"></a><span data-ttu-id="33a8c-131">链接度量值组</span><span class="sxs-lookup"><span data-stu-id="33a8c-131">Linked Measure Groups</span></span>  
 <span data-ttu-id="33a8c-132">在不同 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例上存储多个多维数据集副本可能需要相当大的磁盘空间，但可以通过用链接度量值组替换度量值组副本来大大减少所需空间。</span><span class="sxs-lookup"><span data-stu-id="33a8c-132">It can require considerable disk space to store multiple copies of a cube on different instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], but you can greatly reduce the space needed by replacing the copies of the measure group with linked measure groups.</span></span> <span data-ttu-id="33a8c-133">链接度量值组基于其他 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库（位于相同或不同 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例中）的多维数据集中的度量值组。</span><span class="sxs-lookup"><span data-stu-id="33a8c-133">A linked measure group is based on a measure group in a cube in another [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, on the same or a different instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="33a8c-134">链接度量值组还只能与来自同一源多维数据集的链接维度一起使用。</span><span class="sxs-lookup"><span data-stu-id="33a8c-134">A linked measure group can also be used with linked dimensions from the same source cube.</span></span> <span data-ttu-id="33a8c-135">链接维度和度量值组都使用源多维数据集的聚合，并且对它们自己的聚合没有数据存储要求。</span><span class="sxs-lookup"><span data-stu-id="33a8c-135">The linked dimensions and measure groups use the aggregations of the source cube and have no data storage requirements of their own.</span></span> <span data-ttu-id="33a8c-136">因此，通过在一个数据库中维护源度量值组和维度，而在其他数据库的多维数据集中创建链接多维数据集和维度，您可以因存储所用空间的大大降低而节约大量磁盘空间。</span><span class="sxs-lookup"><span data-stu-id="33a8c-136">Therefore, by maintaining the source measure groups and dimensions in one database, and creating linked cubes and dimensions in cubes in other databases, you can save disk space that otherwise would be used for storage.</span></span> <span data-ttu-id="33a8c-137">有关详细信息，请参阅[链接度量值组](../multidimensional-models/linked-measure-groups.md)。</span><span class="sxs-lookup"><span data-stu-id="33a8c-137">For more information, see [Linked Measure Groups](../multidimensional-models/linked-measure-groups.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="33a8c-138">另请参阅</span><span class="sxs-lookup"><span data-stu-id="33a8c-138">See Also</span></span>  
 [<span data-ttu-id="33a8c-139">聚合和聚合设计</span><span class="sxs-lookup"><span data-stu-id="33a8c-139">Aggregations and Aggregation Designs</span></span>](aggregations-and-aggregation-designs.md)  
  
  
