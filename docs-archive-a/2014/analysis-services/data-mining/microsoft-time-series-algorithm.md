---
title: Microsoft 时序算法 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ARTXP
- time series algorithms [Analysis Services]
- ARIMA
- time series [Analysis Services]
- algorithms [data mining]
- cross predictions
- series [Analysis Services]
- regression algorithms [Analysis Services]
ms.assetid: 642297cc-f32a-499b-b26e-fdc7ee24361e
author: minewiskan
ms.author: owend
ms.openlocfilehash: d840d581fe4dba1ce9d65dfef6878a1e5a697864
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87580466"
---
# <a name="microsoft-time-series-algorithm"></a><span data-ttu-id="1e76f-102">Microsoft 时序算法</span><span class="sxs-lookup"><span data-stu-id="1e76f-102">Microsoft Time Series Algorithm</span></span>
  <span data-ttu-id="1e76f-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)]时序算法提供了针对连续值（例如产品销售额）预测进行了优化的回归算法。</span><span class="sxs-lookup"><span data-stu-id="1e76f-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm provides regression algorithms that are optimized for the forecasting of continuous values, such as product sales, over time.</span></span> <span data-ttu-id="1e76f-104">虽然其他 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 算法（如决策树）也能预测趋势，但是他们需要使用其他新信息列作为输入才能进行预测，而时序模型则不需要。</span><span class="sxs-lookup"><span data-stu-id="1e76f-104">Whereas other [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, such as decision trees, require additional columns of new information as input to predict a trend, a time series model does not.</span></span> <span data-ttu-id="1e76f-105">时序模型仅根据用于创建该模型的原始数据集就可以预测趋势。</span><span class="sxs-lookup"><span data-stu-id="1e76f-105">A time series model can predict trends based only on the original dataset that is used to create the model.</span></span> <span data-ttu-id="1e76f-106">进行预测时您还可以向模型添加新数据，随后新数据会自动纳入趋势分析范围内。</span><span class="sxs-lookup"><span data-stu-id="1e76f-106">You can also add new data to the model when you make a prediction and automatically incorporate the new data in the trend analysis.</span></span>  
  
 <span data-ttu-id="1e76f-107">下面的关系图显示了一个用于预测一段时间内某一产品在四个不同销售区域的销售额的典型模型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-107">The following diagram shows a typical model for forecasting sales of a product in four different sales regions over time.</span></span> <span data-ttu-id="1e76f-108">该关系图中的模型以红色、黄色、紫色和蓝色线条分别显示每个区域的销售额。</span><span class="sxs-lookup"><span data-stu-id="1e76f-108">The model that is shown in the diagram shows sales for each region plotted as red, yellow, purple, and blue lines.</span></span> <span data-ttu-id="1e76f-109">每个区域的线条都分为两部分：</span><span class="sxs-lookup"><span data-stu-id="1e76f-109">The line for each region has two parts:</span></span>  
  
-   <span data-ttu-id="1e76f-110">历史信息显示在竖线的左侧，表示算法用来创建模型的数据。</span><span class="sxs-lookup"><span data-stu-id="1e76f-110">Historical information appears to the left of the vertical line and represents the data that the algorithm uses to create the model.</span></span>  
  
-   <span data-ttu-id="1e76f-111">预测信息显示在竖线的右侧，表示模型所做出的预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-111">Predicted information appears to the right of the vertical line and represents the forecast that the model makes.</span></span>  
  
 <span data-ttu-id="1e76f-112">源数据和预测数据的组合称为“序列 \*\*”。</span><span class="sxs-lookup"><span data-stu-id="1e76f-112">The combination of the source data and the prediction data is called a *series*.</span></span>  
  
 <span data-ttu-id="1e76f-113">![时序示例](../media/time-series.gif "时序示例")</span><span class="sxs-lookup"><span data-stu-id="1e76f-113">![An example of a time series](../media/time-series.gif "An example of a time series")</span></span>  
  
 <span data-ttu-id="1e76f-114">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法的一个重要功能就是可以执行交叉预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-114">An important feature of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm is that it can perform cross prediction.</span></span> <span data-ttu-id="1e76f-115">如果用两个单独但相关的序列为该算法定型，则可以使用生成的模型来根据一个序列的行为预测另一个序列的结果。</span><span class="sxs-lookup"><span data-stu-id="1e76f-115">If you train the algorithm with two separate, but related, series, you can use the resulting model to predict the outcome of one series based on the behavior of the other series.</span></span> <span data-ttu-id="1e76f-116">例如，一个产品的实际销售额可能会影响另一个产品的预测销售额。</span><span class="sxs-lookup"><span data-stu-id="1e76f-116">For example, the observed sales of one product can influence the forecasted sales of another product.</span></span> <span data-ttu-id="1e76f-117">在创建可应用于多个序列的通用模型时，交叉预测也很有用。</span><span class="sxs-lookup"><span data-stu-id="1e76f-117">Cross prediction is also useful for creating a general model that can be applied to multiple series.</span></span> <span data-ttu-id="1e76f-118">例如，由于序列缺少高质量的数据，造成对某一特定区域的预测不稳定。</span><span class="sxs-lookup"><span data-stu-id="1e76f-118">For example, the predictions for a particular region are unstable because the series lacks good quality data.</span></span> <span data-ttu-id="1e76f-119">您可以根据所有四个区域的平均情况来为通用模型定型，然后将该模型应用到各个序列，以便为每个区域产生更稳定的预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-119">You could train a general model on an average of all four regions, and then apply the model to the individual series to create more stable predictions for each region.</span></span>  
  
## <a name="example"></a><span data-ttu-id="1e76f-120">示例</span><span class="sxs-lookup"><span data-stu-id="1e76f-120">Example</span></span>  
 <span data-ttu-id="1e76f-121">[!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] 的管理团队要预测来年的自行车月销售额。</span><span class="sxs-lookup"><span data-stu-id="1e76f-121">The management team at [!INCLUDE[ssSampleDBCoFull](../../includes/sssampledbcofull-md.md)] wants to predict monthly bicycle sales for the coming year.</span></span> <span data-ttu-id="1e76f-122">该公司尤为关注一种自行车型号的销售额是否可用于预测另一种型号的销售额。</span><span class="sxs-lookup"><span data-stu-id="1e76f-122">The company is especially interested in whether the sale of one bike model can be used to predict the sale of another model.</span></span> <span data-ttu-id="1e76f-123">通过对过去三年的历史数据使用 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法，该公司可以建立一个数据挖掘模型，用于预测未来的自行车销售情况。</span><span class="sxs-lookup"><span data-stu-id="1e76f-123">By using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm on historical data from the past three years, the company can produce a data mining model that forecasts future bike sales.</span></span> <span data-ttu-id="1e76f-124">此外，该公司还可以进行交叉预测，以了解各个自行车型号的销售趋势是否相关。</span><span class="sxs-lookup"><span data-stu-id="1e76f-124">Additionally, the company can perform cross predictions to see whether the sales trends of individual bike models are related.</span></span>  
  
 <span data-ttu-id="1e76f-125">每个季度，该公司都会计划用最近的销售数据来更新模型，并更新其预测以描绘出最近的趋势。</span><span class="sxs-lookup"><span data-stu-id="1e76f-125">Each quarter, the company plans to update the model with recent sales data and update their predictions to model recent trends.</span></span> <span data-ttu-id="1e76f-126">有些商店不能准确地或始终如一地更新销售数据，为了弥补这一点造成的误差，他们将创建一个通用预测模型，并用该模型对所有区域进行预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-126">To correct for stores that do not accurately or consistently update sales data, they will create a general prediction model, and use that to create predictions for all regions.</span></span>  
  
## <a name="how-the-algorithm-works"></a><span data-ttu-id="1e76f-127">算法的原理</span><span class="sxs-lookup"><span data-stu-id="1e76f-127">How the Algorithm Works</span></span>  
 <span data-ttu-id="1e76f-128">在中 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] ， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法使用了单个算法 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="1e76f-128">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm used a single algorithm, ARTXP.</span></span> <span data-ttu-id="1e76f-129">ARTXP 算法针对短期预测进行了优化，因此预测了序列中的下一个可能值。</span><span class="sxs-lookup"><span data-stu-id="1e76f-129">The ARTXP algorithm was optimized for short-term predictions, and therefore, predicted the next likely value in a series.</span></span> <span data-ttu-id="1e76f-130">从开始 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] ， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法同时使用 ARTXP 算法和另一种算法 ARIMA。</span><span class="sxs-lookup"><span data-stu-id="1e76f-130">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm uses both the ARTXP algorithm and a second algorithm, ARIMA.</span></span> <span data-ttu-id="1e76f-131">ARIMA 算法针对长期预测进行了优化。</span><span class="sxs-lookup"><span data-stu-id="1e76f-131">The ARIMA algorithm is optimized for long-term prediction.</span></span> <span data-ttu-id="1e76f-132">有关 ARTXP 和 ARIMA 算法的实现的详细说明，请参阅 [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="1e76f-132">For a detailed explanation about the implementation of the ARTXP and ARIMA algorithms, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
 <span data-ttu-id="1e76f-133">默认情况下， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法在分析模式和进行预测时混合使用这两种算法。</span><span class="sxs-lookup"><span data-stu-id="1e76f-133">By default, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm uses a mix of the algorithms when it analyzes patterns and making predictions.</span></span> <span data-ttu-id="1e76f-134">该算法将两个单独的模型定型到相同的数据：一个模型使用 ARTXP 算法，另一个模型使用 ARIMA 算法。</span><span class="sxs-lookup"><span data-stu-id="1e76f-134">The algorithm trains two separate models on the same data: one model uses the ARTXP algorithm and one model uses the ARIMA algorithm.</span></span> <span data-ttu-id="1e76f-135">然后，该算法结合这两个模型的结果来产生可变数量时间段的最佳预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-135">The algorithm then blends the results of the two models to yield the best prediction over a variable number of time slices.</span></span> <span data-ttu-id="1e76f-136">因为 ARTXP 最适合于短期预测，所以在一系列预测的开始时它十分重要。</span><span class="sxs-lookup"><span data-stu-id="1e76f-136">Because ARTXP is best for short-term predictions, it is weighted more heavily at the beginning of a series of predictions.</span></span> <span data-ttu-id="1e76f-137">但是，随着预测的时间段不断地向将来延伸，ARIMA 就比较重要了。</span><span class="sxs-lookup"><span data-stu-id="1e76f-137">However, as the time slices that you are predicting move further into the future, ARIMA is weighted more heavily.</span></span>  
  
 <span data-ttu-id="1e76f-138">您还可以控制这两种算法的混合方式，以在时序中优先采用短期预测或长期预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-138">You can also control the mix of algorithms to favor either short- or long-term prediction in the times series.</span></span> <span data-ttu-id="1e76f-139">从 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 标准开始，可以指定 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法使用以下设置之一：</span><span class="sxs-lookup"><span data-stu-id="1e76f-139">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] Standard, you can specify that the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm use one of the following settings:</span></span>  
  
-   <span data-ttu-id="1e76f-140">对短期预测仅使用 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="1e76f-140">Use only ARTXP for short-term prediction.</span></span>  
  
-   <span data-ttu-id="1e76f-141">对长期预测仅使用 ARIMA。</span><span class="sxs-lookup"><span data-stu-id="1e76f-141">Use only ARIMA for long-term prediction.</span></span>  
  
-   <span data-ttu-id="1e76f-142">使用这两种算法的默认混合。</span><span class="sxs-lookup"><span data-stu-id="1e76f-142">Use the default blending of the two algorithms.</span></span>  
  
 <span data-ttu-id="1e76f-143">从开始 [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] ，可以自定义时序 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 算法如何混合用于预测的模型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-143">Beginning in [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)], you can customize how the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm blends the models for prediction.</span></span> <span data-ttu-id="1e76f-144">采用混合模型时， [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法按以下方式混合这两种算法：</span><span class="sxs-lookup"><span data-stu-id="1e76f-144">When you use a mixed model, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm blends the two algorithms in the following way:</span></span>  
  
-   <span data-ttu-id="1e76f-145">在进行前几步预测时始终只使用 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="1e76f-145">Only ARTXP is always used for making the first couple of predictions.</span></span>  
  
-   <span data-ttu-id="1e76f-146">完成前几步预测后，结合使用 ARIMA 和 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="1e76f-146">After the first couple of predictions, a combination of ARIMA and ARTXP is used.</span></span>  
  
-   <span data-ttu-id="1e76f-147">随着预测步骤数的增加，预测越来越多地依赖 ARIMA，直至不再使用 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="1e76f-147">As the number of prediction steps increases, predictions rely more heavily on ARIMA until ARTXP is no longer used.</span></span>  
  
-   <span data-ttu-id="1e76f-148">您可以通过设置 PREDICTION_SMOOTHING 参数来控制混合点，即减小 ARTXP 权重和增大 ARIMA 权重的速率。</span><span class="sxs-lookup"><span data-stu-id="1e76f-148">You control the mixing point, the rate at which the weight of ARTXP is decreased, and the weight of ARIMA is increased by setting the PREDICTION_SMOOTHING parameter.</span></span>  
  
 <span data-ttu-id="1e76f-149">这两种算法都可以检测多个级别的数据的季节性。</span><span class="sxs-lookup"><span data-stu-id="1e76f-149">Both algorithms can detect seasonality in data at multiple levels.</span></span> <span data-ttu-id="1e76f-150">例如，数据可能包含嵌套在年度周期内的月度周期。</span><span class="sxs-lookup"><span data-stu-id="1e76f-150">For example, your data might contain monthly cycles nested within yearly cycles.</span></span> <span data-ttu-id="1e76f-151">若要检测这些季节性周期，可提供周期提示或指定算法应自动检测周期。</span><span class="sxs-lookup"><span data-stu-id="1e76f-151">To detect these seasonal cycles, you can either provide a periodicity hint or specify that the algorithm should automatically detect periodicity.</span></span>  
  
 <span data-ttu-id="1e76f-152">除了周期之外，还有若干其他参数可控制 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法在检测周期、进行预测或分析事例时的行为。</span><span class="sxs-lookup"><span data-stu-id="1e76f-152">In addition to periodicity, there are several other parameters that control the behavior of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm when it detects periodicity, makes predictions, or analyzes cases.</span></span> <span data-ttu-id="1e76f-153">有关如何设置算法参数的信息，请参阅 [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="1e76f-153">For information about how to set algorithm parameters, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
## <a name="data-required-for-time-series-models"></a><span data-ttu-id="1e76f-154">时序模型的数据要求</span><span class="sxs-lookup"><span data-stu-id="1e76f-154">Data Required for Time Series Models</span></span>  
 <span data-ttu-id="1e76f-155">在准备用于定型任何数据挖掘模型的数据时，一定要了解特定模型的要求以及这些数据的使用方式。</span><span class="sxs-lookup"><span data-stu-id="1e76f-155">When you prepare data for use in training any data mining model, make sure that you understand the requirements for the particular model and how the data is used.</span></span>  
  
 <span data-ttu-id="1e76f-156">每个预测模型都必须包含一个事例序列，它是一个列，用于指定发生变化的时间段或其他序列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-156">Each forecasting model must contain a case series, which is the column that specifies the time slices or other series over which change occurs.</span></span> <span data-ttu-id="1e76f-157">例如，上一个关系图中的数据显示了在为期几个月的时间段内自行车的历史销售额和预测销售额的序列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-157">For example, the data in the previous diagram shows the series for historical and forecasted bicycle sales over a period of several months.</span></span> <span data-ttu-id="1e76f-158">对于该模型，每个区域是一个序列，并且日期列包含时序，该列也是事例序列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-158">For this model, each region is a series, and the date column contains the time series, which is also the case series.</span></span> <span data-ttu-id="1e76f-159">在其他一些模型中，事例序列可以是文本字段或某个标识符，如客户 ID 或事务 ID。</span><span class="sxs-lookup"><span data-stu-id="1e76f-159">In other models, the case series can be a text field or some identifier such as a customer ID or transaction ID.</span></span> <span data-ttu-id="1e76f-160">但是，时序模型必须始终对其事例序列使用日期、时间或某个其他唯一数值。</span><span class="sxs-lookup"><span data-stu-id="1e76f-160">However, a time series model must always use a date, time, or some other unique numeric value for its case series.</span></span>  
  
 <span data-ttu-id="1e76f-161">时序模型的要求如下：</span><span class="sxs-lookup"><span data-stu-id="1e76f-161">The requirements for a time series model are as follows:</span></span>  
  
-   <span data-ttu-id="1e76f-162">**单个键时间列** 每个模型都必须包含一个用作事例序列的数值或日期列，该列定义了该模型将使用的时间段。</span><span class="sxs-lookup"><span data-stu-id="1e76f-162">**A single key time column** Each model must contain one numeric or date column that is used as the case series, which defines the time slices that the model will use.</span></span> <span data-ttu-id="1e76f-163">key time 列的数据类型可以是 datetime 数据类型或 numeric 数据类型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-163">The data type for the key time column can be either a datetime data type or a numeric data type.</span></span> <span data-ttu-id="1e76f-164">但是，该列必须包含连续值，并且这些值对各个序列而言必须是唯一的。</span><span class="sxs-lookup"><span data-stu-id="1e76f-164">However, the column must contain continuous values, and the values must be unique for each series.</span></span> <span data-ttu-id="1e76f-165">时序模型的事例序列不能存储在两列中，例如不能存储在一个 Year 列和一个 Month 列中。</span><span class="sxs-lookup"><span data-stu-id="1e76f-165">The case series for a time series model cannot be stored in two columns, such as a Year column and a Month column.</span></span>  
  
-   <span data-ttu-id="1e76f-166">**可预测列** 每个模型都必须至少包含一个可预测列，算法将根据这个可预测列生成时序模型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-166">**A predictable column** Each model must contain at least one predictable column around which the algorithm will build the time series model.</span></span> <span data-ttu-id="1e76f-167">可预测列的数据类型必须具有连续值。</span><span class="sxs-lookup"><span data-stu-id="1e76f-167">The data type of the predictable column must have continuous values.</span></span> <span data-ttu-id="1e76f-168">例如，您可以预测在一段时间内数值属性（例如收入、销售额或温度）将如何变化。</span><span class="sxs-lookup"><span data-stu-id="1e76f-168">For example, you can predict how numeric attributes, such as income, sales, or temperature, change over time.</span></span> <span data-ttu-id="1e76f-169">但是，您不能使用包含离散值（例如采购状态或教育水平）的列作为可预测列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-169">However, you cannot use a column that contains discrete values, such as purchasing status or level of education, as the predictable column.</span></span>  
  
-   <span data-ttu-id="1e76f-170">**可选序列键列** 每个模型可包含一个附加的键列，该列包含标识序列的唯一值。</span><span class="sxs-lookup"><span data-stu-id="1e76f-170">**An optional series key column** Each model can have an additional key column that contains unique values that identify a series.</span></span> <span data-ttu-id="1e76f-171">可选序列键列必须包含唯一值。</span><span class="sxs-lookup"><span data-stu-id="1e76f-171">The optional series key column must contain unique values.</span></span> <span data-ttu-id="1e76f-172">例如，只要在每个时间段内每个产品名称都只有一条记录，单个模型就可以包含多个产品型号的销售额。</span><span class="sxs-lookup"><span data-stu-id="1e76f-172">For example, a single model can contain sales for many product models, as long as there is only one record for each product name for every time slice.</span></span>  
  
 <span data-ttu-id="1e76f-173">您可以用若干种不同的方式定义 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序模型的输入数据。</span><span class="sxs-lookup"><span data-stu-id="1e76f-173">You can define input data for the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series model in several different ways.</span></span> <span data-ttu-id="1e76f-174">但是，由于输入事例的格式会影响挖掘模型的定义，因此您必须考虑自己的业务需求并相应地准备数据。</span><span class="sxs-lookup"><span data-stu-id="1e76f-174">However, because the format of the input cases affects the definition of the mining model, you must consider your business needs and prepare your data accordingly.</span></span> <span data-ttu-id="1e76f-175">下面两个示例说明了输入数据是如何影响模型的。</span><span class="sxs-lookup"><span data-stu-id="1e76f-175">The following two examples illustrate how the input data affects the model.</span></span> <span data-ttu-id="1e76f-176">在这两个示例中，已完成的挖掘模型包含四个不同序列的模式：</span><span class="sxs-lookup"><span data-stu-id="1e76f-176">In both examples, the completed mining model contains patterns for four distinct series:</span></span>  
  
-   <span data-ttu-id="1e76f-177">产品 A 的销售额</span><span class="sxs-lookup"><span data-stu-id="1e76f-177">Sales for Product A</span></span>  
  
-   <span data-ttu-id="1e76f-178">产品 B 的销售额</span><span class="sxs-lookup"><span data-stu-id="1e76f-178">Sales for Product B</span></span>  
  
-   <span data-ttu-id="1e76f-179">产品 A 的数量</span><span class="sxs-lookup"><span data-stu-id="1e76f-179">Volume for Product A</span></span>  
  
-   <span data-ttu-id="1e76f-180">产品 B 的数量</span><span class="sxs-lookup"><span data-stu-id="1e76f-180">Volume for Product B</span></span>  
  
 <span data-ttu-id="1e76f-181">在这两个示例中，您可以预测每个产品新的未来销售额和数量。</span><span class="sxs-lookup"><span data-stu-id="1e76f-181">In both examples, you can predict new future sales and volume for each product.</span></span> <span data-ttu-id="1e76f-182">不能预测产品或时间的新值。</span><span class="sxs-lookup"><span data-stu-id="1e76f-182">You cannot predict new values for product or for time.</span></span>  
  
### <a name="example-1-time-series-data-set-with-series-represented-as-column-values"></a><span data-ttu-id="1e76f-183">示例 1：具有表示为列值的序列的时序数据集</span><span class="sxs-lookup"><span data-stu-id="1e76f-183">Example 1: Time Series Data Set with Series Represented as Column Values</span></span>  
 <span data-ttu-id="1e76f-184">该示例使用下表中的输入事例：</span><span class="sxs-lookup"><span data-stu-id="1e76f-184">This example uses the following table of input cases:</span></span>  
  
|<span data-ttu-id="1e76f-185">TimeID</span><span class="sxs-lookup"><span data-stu-id="1e76f-185">TimeID</span></span>|<span data-ttu-id="1e76f-186">产品</span><span class="sxs-lookup"><span data-stu-id="1e76f-186">Product</span></span>|<span data-ttu-id="1e76f-187">Sales</span><span class="sxs-lookup"><span data-stu-id="1e76f-187">Sales</span></span>|<span data-ttu-id="1e76f-188">数据量(Volume)</span><span class="sxs-lookup"><span data-stu-id="1e76f-188">Volume</span></span>|  
|------------|-------------|-----------|------------|  
|<span data-ttu-id="1e76f-189">1/2001</span><span class="sxs-lookup"><span data-stu-id="1e76f-189">1/2001</span></span>|<span data-ttu-id="1e76f-190">A</span><span class="sxs-lookup"><span data-stu-id="1e76f-190">A</span></span>|<span data-ttu-id="1e76f-191">1000</span><span class="sxs-lookup"><span data-stu-id="1e76f-191">1000</span></span>|<span data-ttu-id="1e76f-192">600</span><span class="sxs-lookup"><span data-stu-id="1e76f-192">600</span></span>|  
|<span data-ttu-id="1e76f-193">2/2001</span><span class="sxs-lookup"><span data-stu-id="1e76f-193">2/2001</span></span>|<span data-ttu-id="1e76f-194">A</span><span class="sxs-lookup"><span data-stu-id="1e76f-194">A</span></span>|<span data-ttu-id="1e76f-195">1100</span><span class="sxs-lookup"><span data-stu-id="1e76f-195">1100</span></span>|<span data-ttu-id="1e76f-196">500</span><span class="sxs-lookup"><span data-stu-id="1e76f-196">500</span></span>|  
|<span data-ttu-id="1e76f-197">1/2001</span><span class="sxs-lookup"><span data-stu-id="1e76f-197">1/2001</span></span>|<span data-ttu-id="1e76f-198">B</span><span class="sxs-lookup"><span data-stu-id="1e76f-198">B</span></span>|<span data-ttu-id="1e76f-199">500</span><span class="sxs-lookup"><span data-stu-id="1e76f-199">500</span></span>|<span data-ttu-id="1e76f-200">900</span><span class="sxs-lookup"><span data-stu-id="1e76f-200">900</span></span>|  
|<span data-ttu-id="1e76f-201">2/2001</span><span class="sxs-lookup"><span data-stu-id="1e76f-201">2/2001</span></span>|<span data-ttu-id="1e76f-202">B</span><span class="sxs-lookup"><span data-stu-id="1e76f-202">B</span></span>|<span data-ttu-id="1e76f-203">300</span><span class="sxs-lookup"><span data-stu-id="1e76f-203">300</span></span>|<span data-ttu-id="1e76f-204">890</span><span class="sxs-lookup"><span data-stu-id="1e76f-204">890</span></span>|  
  
 <span data-ttu-id="1e76f-205">表中的 TimeID 列包含一个时间标识符，每一天有两个条目。</span><span class="sxs-lookup"><span data-stu-id="1e76f-205">The TimeID column in the table contains a time identifier, and has two entries for each day.</span></span> <span data-ttu-id="1e76f-206">TimeID 列变成事例序列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-206">The TimeID column becomes the case series.</span></span> <span data-ttu-id="1e76f-207">因此，应将该列指定为时序模型的 key time 列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-207">Therefore, you would designate this column as the key time column for the time series model.</span></span>  
  
 <span data-ttu-id="1e76f-208">Product 列定义数据库中的产品。</span><span class="sxs-lookup"><span data-stu-id="1e76f-208">The Product column defines a product in the database.</span></span> <span data-ttu-id="1e76f-209">该列包含产品序列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-209">This column contains the product series.</span></span> <span data-ttu-id="1e76f-210">因此，应将该列指定为时序模型的第二个键。</span><span class="sxs-lookup"><span data-stu-id="1e76f-210">Therefore, you would designate this column as a second key for the time series model.</span></span>  
  
 <span data-ttu-id="1e76f-211">Sales 列说明指定产品一天的毛利润，Volume 列说明仓库中存放的指定产品数量。</span><span class="sxs-lookup"><span data-stu-id="1e76f-211">The Sales column describes the gross profits of the specified product for one day, and the Volume column describes the quantity of the specified product that remains in the warehouse.</span></span> <span data-ttu-id="1e76f-212">这两列包含用于为模型定型的数据。</span><span class="sxs-lookup"><span data-stu-id="1e76f-212">These two columns contain the data that is used to train the model.</span></span> <span data-ttu-id="1e76f-213">Sales 和 Volume 都可以为 Product 列中的各个序列的可预测属性。</span><span class="sxs-lookup"><span data-stu-id="1e76f-213">Both Sales and Volume  can be predictable attributes for each series in the Product column.</span></span>  
  
### <a name="example-2-time-series-data-set-with-each-series-in-separate-column"></a><span data-ttu-id="1e76f-214">示例 2：各序列位于单独列中的时序数据集</span><span class="sxs-lookup"><span data-stu-id="1e76f-214">Example 2: Time Series Data Set with Each Series in Separate Column</span></span>  
 <span data-ttu-id="1e76f-215">尽管该示例使用的输入数据与第一个示例基本相同，但输入数据的结构不同，如下表所示：</span><span class="sxs-lookup"><span data-stu-id="1e76f-215">Although this example uses basically the same input data as the first example, the input data is structured differently, as shown in the following table:</span></span>  
  
|<span data-ttu-id="1e76f-216">TimeID</span><span class="sxs-lookup"><span data-stu-id="1e76f-216">TimeID</span></span>|<span data-ttu-id="1e76f-217">A_Sales</span><span class="sxs-lookup"><span data-stu-id="1e76f-217">A_Sales</span></span>|<span data-ttu-id="1e76f-218">A_Volume</span><span class="sxs-lookup"><span data-stu-id="1e76f-218">A_Volume</span></span>|<span data-ttu-id="1e76f-219">B_Sales</span><span class="sxs-lookup"><span data-stu-id="1e76f-219">B_Sales</span></span>|<span data-ttu-id="1e76f-220">B_Volume</span><span class="sxs-lookup"><span data-stu-id="1e76f-220">B_Volume</span></span>|  
|------------|--------------|---------------|--------------|---------------|  
|<span data-ttu-id="1e76f-221">1/2001</span><span class="sxs-lookup"><span data-stu-id="1e76f-221">1/2001</span></span>|<span data-ttu-id="1e76f-222">1000</span><span class="sxs-lookup"><span data-stu-id="1e76f-222">1000</span></span>|<span data-ttu-id="1e76f-223">600</span><span class="sxs-lookup"><span data-stu-id="1e76f-223">600</span></span>|<span data-ttu-id="1e76f-224">500</span><span class="sxs-lookup"><span data-stu-id="1e76f-224">500</span></span>|<span data-ttu-id="1e76f-225">900</span><span class="sxs-lookup"><span data-stu-id="1e76f-225">900</span></span>|  
|<span data-ttu-id="1e76f-226">2/2001</span><span class="sxs-lookup"><span data-stu-id="1e76f-226">2/2001</span></span>|<span data-ttu-id="1e76f-227">1100</span><span class="sxs-lookup"><span data-stu-id="1e76f-227">1100</span></span>|<span data-ttu-id="1e76f-228">500</span><span class="sxs-lookup"><span data-stu-id="1e76f-228">500</span></span>|<span data-ttu-id="1e76f-229">300</span><span class="sxs-lookup"><span data-stu-id="1e76f-229">300</span></span>|<span data-ttu-id="1e76f-230">890</span><span class="sxs-lookup"><span data-stu-id="1e76f-230">890</span></span>|  
  
 <span data-ttu-id="1e76f-231">在该表中，TimeID 列仍包含时序模型的事例序列，您将该列指定为 key time 列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-231">In this table, the TimeID column still contains the case series for the time series model, which you designate as the key time column.</span></span> <span data-ttu-id="1e76f-232">但是，先前的 Sales 和 Volume 列现在拆分为两列，并且拆分后的每个列前面都带有产品名称。</span><span class="sxs-lookup"><span data-stu-id="1e76f-232">However, the previous Sales and Volume columns are now split into two columns and each of those columns are preceded by the product name.</span></span> <span data-ttu-id="1e76f-233">因此，TimeID 列中每天只有一个条目。</span><span class="sxs-lookup"><span data-stu-id="1e76f-233">As a result, only a single entry exists for each day in the TimeID column.</span></span> <span data-ttu-id="1e76f-234">这将创建一个包含以下四个可预测列的时序模型：A_Sales、A_Volume、B_Sales 和 B_Volume。</span><span class="sxs-lookup"><span data-stu-id="1e76f-234">This creates a time series model that would contain four predictable columns: A_Sales, A_Volume, B_Sales, and B_Volume.</span></span>  
  
 <span data-ttu-id="1e76f-235">此外，由于您已将产品分成不同的列，因此您不需要指定附加的序列键列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-235">Furthermore, because you have separated the products into different columns, you do not have to specify an additional series key column.</span></span> <span data-ttu-id="1e76f-236">该模型中的所有列都是事例序列列或可预测列。</span><span class="sxs-lookup"><span data-stu-id="1e76f-236">All the columns in the model are either a case series column or a predictable column.</span></span>  
  
## <a name="viewing-a-time-series-model"></a><span data-ttu-id="1e76f-237">查看时序模型</span><span class="sxs-lookup"><span data-stu-id="1e76f-237">Viewing a Time Series Model</span></span>  
 <span data-ttu-id="1e76f-238">为模型定型后，结果将存储为一组模式，您可以浏览该模型或利用它来作出预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-238">After the model has been trained, the results are stored as a set of patterns, which you can explore or use to make predictions.</span></span>  
  
 <span data-ttu-id="1e76f-239">若要浏览该模型，可以使用 [时序查看器](browse-a-model-using-the-microsoft-time-series-viewer.md)。</span><span class="sxs-lookup"><span data-stu-id="1e76f-239">To explore the model, you can use the [Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md).</span></span> <span data-ttu-id="1e76f-240">该查看器包括一个显示未来预测的图表和一个数据周期性结构的树视图。</span><span class="sxs-lookup"><span data-stu-id="1e76f-240">The viewer includes a chart that displays future predictions, and a tree view of the periodic structures in the data.</span></span>  
  
 <span data-ttu-id="1e76f-241">如果希望了解关于如何计算预测的详细信息，可在 [Microsoft 一般内容树查看器](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md)中浏览该模型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-241">If you want to know more about how the predictions are calculated, you can browse the model in the [Microsoft Generic Content Tree Viewer](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md).</span></span> <span data-ttu-id="1e76f-242">为该模型存储的内容包括以下方面的详细信息：ARIMA 和 ARTXP 算法检测到的周期性结构、用于混合算法的公式以及其他统计信息。</span><span class="sxs-lookup"><span data-stu-id="1e76f-242">The content stored for the model includes details such as the periodic structures detected by the ARIMA and ARTXP algorithms, the equation used to blend the algorithms, and other statistics.</span></span>  
  
## <a name="creating-time-series-predictions"></a><span data-ttu-id="1e76f-243">创建时序预测</span><span class="sxs-lookup"><span data-stu-id="1e76f-243">Creating Time Series Predictions</span></span>  
 <span data-ttu-id="1e76f-244">默认情况下，在您查看时序模型时， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 将为您显示该序列的五种预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-244">By default, when you view a time series model, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] shows you five predictions for the series.</span></span> <span data-ttu-id="1e76f-245">但是，您可以通过创建查询来返回可变数目的预测，并且可以向预测添加额外的列以返回说明性的统计信息。</span><span class="sxs-lookup"><span data-stu-id="1e76f-245">However, you can create queries to return a variable number of predictions, and you can extra columns to the predictions to return descriptive statistics.</span></span> <span data-ttu-id="1e76f-246">有关如何创建针对时序模型的查询的信息，请参阅 [时序模型查询示例](time-series-model-query-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="1e76f-246">For information about how to create queries against a time series model, see [Time Series Model Query Examples](time-series-model-query-examples.md).</span></span> <span data-ttu-id="1e76f-247">有关如何使用数据挖掘扩展插件 (DMX) 进行时序预测的示例，请参阅[预测时序 (DMX)](/sql/dmx/predicttimeseries-dmx)。</span><span class="sxs-lookup"><span data-stu-id="1e76f-247">For examples of how to use Data Mining Extensions (DMX) to make time series predictions, see [PredictTimeSeries &#40;DMX&#41;](/sql/dmx/predicttimeseries-dmx).</span></span>  
  
 <span data-ttu-id="1e76f-248">使用 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法进行预测时，应注意下面的其他限制和要求：</span><span class="sxs-lookup"><span data-stu-id="1e76f-248">When using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm to make predictions, you should consider the following additional restrictions and requirements:</span></span>  
  
-   <span data-ttu-id="1e76f-249">只有在使用混合模型或基于 ARTXP 算法的模型时交叉预测才可用。</span><span class="sxs-lookup"><span data-stu-id="1e76f-249">Cross-prediction is only available when you use a mixed model, or a model based on the ARTXP algorithm.</span></span> <span data-ttu-id="1e76f-250">如果使用仅基于 ARIMA 算法的模型，则无法进行交叉预测。</span><span class="sxs-lookup"><span data-stu-id="1e76f-250">If you use a model based only on the ARIMA algorithm, cross-prediction is not possible.</span></span>  
  
-   <span data-ttu-id="1e76f-251">服务器使用的 64 位操作系统不同，时序模型作出的预测也可能不同（有时差异会很大）。</span><span class="sxs-lookup"><span data-stu-id="1e76f-251">A time series model can make predictions that differ, sometimes significantly, depending on the 64-bit operating system that the server uses.</span></span> <span data-ttu-id="1e76f-252">出现这些差异的原因是基于 [!INCLUDE[vcpritanium](../../includes/vcpritanium-md.md)]的系统表示和处理浮点算术数字的方式与基于 [!INCLUDE[vcprx64](../../includes/vcprx64-md.md)]的系统处理这些计算的方式不同。</span><span class="sxs-lookup"><span data-stu-id="1e76f-252">These differences occur due to the way that an [!INCLUDE[vcpritanium](../../includes/vcpritanium-md.md)]-based system represents and handles numbers for floating-point arithmetic, which differs from the way that an [!INCLUDE[vcprx64](../../includes/vcprx64-md.md)]-based system does these calculations.</span></span> <span data-ttu-id="1e76f-253">由于预测结果可能是特定于操作系统的，因此建议您在评估模型时使用与将用于生产的操作系统相同的操作系统。</span><span class="sxs-lookup"><span data-stu-id="1e76f-253">Because prediction results can be specific to the operating system, we recommend that you evaluate models on the same operating system that you will use in production.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="1e76f-254">备注</span><span class="sxs-lookup"><span data-stu-id="1e76f-254">Remarks</span></span>  
  
-   <span data-ttu-id="1e76f-255">不支持使用预测模型标记语言 (PMML) 创建挖掘模型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-255">Does not support using the Predictive Model Markup Language (PMML) to create mining models.</span></span>  
  
-   <span data-ttu-id="1e76f-256">支持使用 OLAP 挖掘模型。</span><span class="sxs-lookup"><span data-stu-id="1e76f-256">Supports the use of OLAP mining models.</span></span>  
  
-   <span data-ttu-id="1e76f-257">不支持创建数据挖掘维度。</span><span class="sxs-lookup"><span data-stu-id="1e76f-257">Does not support the creation of data mining dimensions.</span></span>  
  
-   <span data-ttu-id="1e76f-258">支持钻取。</span><span class="sxs-lookup"><span data-stu-id="1e76f-258">Supports drillthrough.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1e76f-259">另请参阅</span><span class="sxs-lookup"><span data-stu-id="1e76f-259">See Also</span></span>  
 <span data-ttu-id="1e76f-260">[数据挖掘算法 &#40;Analysis Services 数据挖掘&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="1e76f-260">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="1e76f-261">[使用 Microsoft 时序查看器浏览模型](browse-a-model-using-the-microsoft-time-series-viewer.md) </span><span class="sxs-lookup"><span data-stu-id="1e76f-261">[Browse a Model Using the Microsoft Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md) </span></span>  
 <span data-ttu-id="1e76f-262">[Microsoft 时序算法技术参考](microsoft-time-series-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="1e76f-262">[Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="1e76f-263">[时序模型查询示例](time-series-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="1e76f-263">[Time Series Model Query Examples](time-series-model-query-examples.md) </span></span>  
 [<span data-ttu-id="1e76f-264">时序模型的挖掘模型内容（Analysis Services - 数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="1e76f-264">Mining Model Content for Time Series Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-time-series-models-analysis-services-data-mining.md)  
  
  
