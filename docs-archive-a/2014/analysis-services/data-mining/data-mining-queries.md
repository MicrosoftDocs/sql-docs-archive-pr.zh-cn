---
title: 数据挖掘查询 |Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- prediction queries [Analysis Services]
- queries [DMX], creating
- prediction queries [DMX]
- Prediction Query Builder
- mining models [Analysis Services], querying
ms.assetid: 802806a6-69bb-4c3c-b9aa-d1a1ddfc7fc2
author: minewiskan
ms.author: owend
ms.openlocfilehash: ab6725ddd86d18132de9c408125fa9084161a187
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87591021"
---
# <a name="data-mining-queries"></a><span data-ttu-id="bf63e-102">数据挖掘查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-102">Data Mining Queries</span></span>
  <span data-ttu-id="bf63e-103">数据挖掘查询可用于多种目的。</span><span class="sxs-lookup"><span data-stu-id="bf63e-103">Data mining queries are useful for many purposes.</span></span> <span data-ttu-id="bf63e-104">可以：</span><span class="sxs-lookup"><span data-stu-id="bf63e-104">You can:</span></span>  
  
-   <span data-ttu-id="bf63e-105">将模型应用于新数据以进行单个或多个预测。</span><span class="sxs-lookup"><span data-stu-id="bf63e-105">Apply the model to new data, to make single or multiple predictions.</span></span> <span data-ttu-id="bf63e-106">可以将输入值作为参数提供，也可以使用批处理文件提供输入值。</span><span class="sxs-lookup"><span data-stu-id="bf63e-106">You can provide input values as parameters, or in a batch.</span></span>  
  
-   <span data-ttu-id="bf63e-107">获取用于定型的数据的统计摘要。</span><span class="sxs-lookup"><span data-stu-id="bf63e-107">Get a statistical summary of the data used for training.</span></span>  
  
-   <span data-ttu-id="bf63e-108">提取模式和规则，或生成表示模型中某种模式的典型事例的配置文件。</span><span class="sxs-lookup"><span data-stu-id="bf63e-108">Extract patterns and rules, or generate a profile of the typical case representing a pattern in the model.</span></span>  
  
-   <span data-ttu-id="bf63e-109">提取回归公式和其他解释模式的计算。</span><span class="sxs-lookup"><span data-stu-id="bf63e-109">Extract regression formulas and other calculations that explain patterns.</span></span>  
  
-   <span data-ttu-id="bf63e-110">获取适应特定模式的事例。</span><span class="sxs-lookup"><span data-stu-id="bf63e-110">Get the cases that fit a particular pattern.</span></span>  
  
-   <span data-ttu-id="bf63e-111">检索有关模型中使用的各个事例的详细信息，包括分析中未使用的数据。</span><span class="sxs-lookup"><span data-stu-id="bf63e-111">Retrieve details about individual cases used in the model, including data not used in analysis.</span></span>  
  
-   <span data-ttu-id="bf63e-112">通过添加新数据或执行交叉预测重新定型模型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-112">Retrain a model by adding new data, or perform cross-prediction.</span></span>  
  
 <span data-ttu-id="bf63e-113">本节概述了您开始使用数据挖掘查询时所需的信息。</span><span class="sxs-lookup"><span data-stu-id="bf63e-113">This section provides an overview of the information you need to get started with data mining queries.</span></span> <span data-ttu-id="bf63e-114">它说明了可针对数据挖掘对象创建的查询类型，介绍了查询工具和查询语言，并提供了一些链接，这些链接指向可针对使用 SQL Server 数据挖掘中提供的算法生成的模型创建的查询示例。</span><span class="sxs-lookup"><span data-stu-id="bf63e-114">It describes the types of queries you can create against data mining objects, introduces the query tools and query languages, and provides links to examples of queries that you can create against models that were built using the algorithms provided in SQL Server Data Mining.</span></span>  
  
 [<span data-ttu-id="bf63e-115">了解数据挖掘查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-115">Understanding Data Mining Queries</span></span>](#bkmk_Understand)  
  
 [<span data-ttu-id="bf63e-116">查询工具和接口</span><span class="sxs-lookup"><span data-stu-id="bf63e-116">Query Tools and Interfaces</span></span>](#bkmk_Interfaces)  
  
 [<span data-ttu-id="bf63e-117">不同模型类型的查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-117">Queries for Different Model Types</span></span>](#bkmk_ModelTypes)  
  
 [<span data-ttu-id="bf63e-118">要求</span><span class="sxs-lookup"><span data-stu-id="bf63e-118">Requirements</span></span>](#bkmk_Reqs)  
  
##  <a name="understanding-data-mining-queries"></a><a name="bkmk_Understand"></a><span data-ttu-id="bf63e-119">了解数据挖掘查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-119">Understanding Data Mining Queries</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="bf63e-120">数据挖掘支持以下查询类型：</span><span class="sxs-lookup"><span data-stu-id="bf63e-120">Data Mining supports the following types of queries:</span></span>  
  
-   [<span data-ttu-id="bf63e-121">预测查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-121">Prediction Queries &#40;Data Mining&#41;</span></span>](prediction-queries-data-mining.md)  
  
     <span data-ttu-id="bf63e-122">基于模型中的模式和输入数据进行推断的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-122">Queries that make inferences based on patterns in the model, and from input data.</span></span>  
  
-   [<span data-ttu-id="bf63e-123">内容查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-123">Content Queries &#40;Data Mining&#41;</span></span>](content-queries-data-mining.md)  
  
     <span data-ttu-id="bf63e-124">返回元数据、统计信息和有关模型本身的其他信息的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-124">Queries that return metadata, statistics, and other information about the model itself.</span></span>  
  
-   [<span data-ttu-id="bf63e-125">钻取查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-125">Drillthrough Queries &#40;Data Mining&#41;</span></span>](drillthrough-queries-data-mining.md)  
  
     <span data-ttu-id="bf63e-126">可以检索模型的基础事例数据、甚至结构中未用于模型的数据的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-126">Queries that can retrieve the underlying case data for the model, or even data from the structure that was not used in the model.</span></span>  
  
-   [<span data-ttu-id="bf63e-127">数据定义查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-127">Data Definition Queries &#40;Data Mining&#41;</span></span>](data-definition-queries-data-mining.md)  
  
     <span data-ttu-id="bf63e-128">不从模型返回信息，而是用于生成模型和结构或更新模型/结构中的数据的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-128">Queries that do not return information from the model, but rather are used to build models and structures or to update the data in a model or structure.</span></span>  
  
 <span data-ttu-id="bf63e-129">在创建查询之前，建议您了解使用 SQL Server 提供的每种数据挖掘算法创建的各个模型之间的差异。</span><span class="sxs-lookup"><span data-stu-id="bf63e-129">Before you create queries, we recommend that you familiarize yourself with the differences between models created with each of the data mining algorithms provided by SQL Server.</span></span>  
  
-   <span data-ttu-id="bf63e-130">可以使用为每种算法类型提供的自定义数据挖掘查看器来浏览和了解各种模型类型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-130">Browse and explore each model type by using the custom data mining viewers that are provided for each algorithm type.</span></span> <span data-ttu-id="bf63e-131">有关详细信息，请参阅 [挖掘模型查看器任务和操作指南](mining-model-viewer-tasks-and-how-tos.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-131">For more information, see [Mining Model Viewer Tasks and How-tos](mining-model-viewer-tasks-and-how-tos.md).</span></span>  
  
-   <span data-ttu-id="bf63e-132">可以使用 **“Microsoft 一般内容树查看器”** 来查看各种模型类型的模型内容。</span><span class="sxs-lookup"><span data-stu-id="bf63e-132">Review the model content for each model type, by using the **Microsoft Generic Content Tree Viewer**.</span></span> <span data-ttu-id="bf63e-133">若要解释此信息，请参阅 [挖掘模型内容（Analysis Services - 数据挖掘）](mining-model-content-analysis-services-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-133">To interpret this information, refer to [Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md).</span></span>  
  
##  <a name="query-tools-and-interfaces"></a><a name="bkmk_Interfaces"></a><span data-ttu-id="bf63e-134">查询工具和接口</span><span class="sxs-lookup"><span data-stu-id="bf63e-134">Query Tools and Interfaces</span></span>  
 <span data-ttu-id="bf63e-135">可以使用 SQL Server 提供的查询工具之一来以交互方式生成数据挖掘查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-135">You can build data mining queries interactively by using one of the query tools provided by SQL Server.</span></span> <span data-ttu-id="bf63e-136">在 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 和 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中都提供图形预测查询生成器。</span><span class="sxs-lookup"><span data-stu-id="bf63e-136">The graphical Prediction Query Builder is provided in both [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="bf63e-137">如果您之前未使用过预测查询生成器，建议您按照 [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md) 中的步骤进行操作来了解接口。</span><span class="sxs-lookup"><span data-stu-id="bf63e-137">If you have not used the Prediction Query Builder before, we recommend that you follow the steps in the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md) to familiarize yourself with the interface.</span></span> <span data-ttu-id="bf63e-138">有关各步骤的概述，请参阅 [使用预测查询生成器创建预测查询](create-a-prediction-query-using-the-prediction-query-builder.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-138">For q quick overview of the steps, see Create a Query using the [Create a Prediction Query Using the Prediction Query Builder](create-a-prediction-query-using-the-prediction-query-builder.md).</span></span>  
  
 <span data-ttu-id="bf63e-139">对于开始您稍后将自定义的查询，预测查询生成器会很有用。</span><span class="sxs-lookup"><span data-stu-id="bf63e-139">The Prediction Query Builder is helpful for starting queries that you will customize later.</span></span> <span data-ttu-id="bf63e-140">可以轻松添加数据源并将其映射到列，然后切换到 DMX 视图，并通过添加 WHERE 子句或其他函数来自定义查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-140">You can easily add data sources and map them to columns, and then switch to DMX view and customize the query by adding a WHERE clause or other functions.</span></span>  
  
 <span data-ttu-id="bf63e-141">在了解数据挖掘模型以及生成查询的方式之后，您还可以使用数据挖掘扩展插件 (DMX) 直接编写查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-141">Once you are familiar with data mining models and how to build queries, you can also write queries directly by using Data Mining Extensions (DMX).</span></span> <span data-ttu-id="bf63e-142">DMX 是一种类似于 Transact-SQL 的查询语言，可以从多种不同的客户端使用它。</span><span class="sxs-lookup"><span data-stu-id="bf63e-142">DMX is a query language that is similar to Transact-SQL, and that you can use from many different clients.</span></span> <span data-ttu-id="bf63e-143">DMX 是用来创建自定义预测和复杂查询的理想工具。</span><span class="sxs-lookup"><span data-stu-id="bf63e-143">DMX is the tool of choice for creating both custom predictions and complex queries.</span></span> <span data-ttu-id="bf63e-144">有关 DMX 的介绍，请参阅[使用 DMX 创建和查询数据挖掘模型：教程（Analysis Services - 数据挖掘）](../../tutorials/create-query-data-mining-models-dmx-tutorials.md)</span><span class="sxs-lookup"><span data-stu-id="bf63e-144">For an introduction to DMX, see [Creating and Querying Data Mining Models with DMX: Tutorials &#40;Analysis Services - Data Mining&#41;](../../tutorials/create-query-data-mining-models-dmx-tutorials.md).</span></span>  
  
 <span data-ttu-id="bf63e-145">[!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 和 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中都提供了 DMX 编辑器。</span><span class="sxs-lookup"><span data-stu-id="bf63e-145">DMX editors are provided in both [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="bf63e-146">您还可以使用预测查询生成器来开始查询，然后将视图更改为文本编辑器，并将 DMX 语句复制到其他客户端。</span><span class="sxs-lookup"><span data-stu-id="bf63e-146">You can also use the Prediction Query Builder to start your queries, then change the view to the text editor and copy the DMX statement to another client.</span></span> <span data-ttu-id="bf63e-147">有关详细信息，请参阅[数据挖掘查询接口](data-mining-query-tools.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-147">For more information, see [Data Mining Query Interfaces](data-mining-query-tools.md).</span></span>  
  
 <span data-ttu-id="bf63e-148">可以通过编程方式来编写 DMX 语句，然后使用 AMO 或 XMLA 将这些语句从您的客户端发送到 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务器。</span><span class="sxs-lookup"><span data-stu-id="bf63e-148">You can compose DMX statements programmatically and send them from your client to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server by using AMO or XMLA.</span></span> <span data-ttu-id="bf63e-149">但是，DMX 是您在针对挖掘模型创建查询时必须使用的语言。</span><span class="sxs-lookup"><span data-stu-id="bf63e-149">However, DMX is the language that you must use to create queries against a mining model.</span></span>  
  
 <span data-ttu-id="bf63e-150">您还可以使用基于数据挖掘架构行集的动态管理视图 (DMV) 来查询模型的元数据、统计信息和某些内容。</span><span class="sxs-lookup"><span data-stu-id="bf63e-150">You can also query the metadata, statistics, and some content of the model by using Dynamic Management Views (DMVs) that are based on the data mining schema rowsets.</span></span> <span data-ttu-id="bf63e-151">利用这些 DMV，您可以通过键入 SELECT 语句来轻松检索有关模型的信息；但不能创建预测。</span><span class="sxs-lookup"><span data-stu-id="bf63e-151">These DMVs make it easy to retrieve information about the model by typing SELECT statements; however, you cannot create predictions.</span></span> <span data-ttu-id="bf63e-152">有关 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 支持的 DMV 的详细信息，请参阅[使用动态管理视图 (DMV) 监视 Analysis Services](../instances/use-dynamic-management-views-dmvs-to-monitor-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-152">For more information about DMVs supported by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], see [Use Dynamic Management Views &#40;DMVs&#41; to Monitor Analysis Services](../instances/use-dynamic-management-views-dmvs-to-monitor-analysis-services.md).</span></span>  
  
 <span data-ttu-id="bf63e-153">最后，您可以使用 [Data Mining Query Task](../../integration-services/control-flow/data-mining-query-task.md)或 [Data Mining Query Transformation](../../integration-services/data-flow/transformations/data-mining-query-transformation.md)创建数据挖掘查询以供在 Integration Services 包中使用。</span><span class="sxs-lookup"><span data-stu-id="bf63e-153">Finally, you can create data mining queries for use in Integration Services packages, by using the [Data Mining Query Task](../../integration-services/control-flow/data-mining-query-task.md), or the [Data Mining Query Transformation](../../integration-services/data-flow/transformations/data-mining-query-transformation.md).</span></span> <span data-ttu-id="bf63e-154">控制流任务支持多种类型的 DMX 查询，而数据流转换只支持使用数据流中的数据的查询，即使用 PREDICTION JOIN 语法的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-154">The control flow task supports multiple types of DMX queries, whereas the data flow transformation supports only queries that work with data in the data flow, meaning queries that use the PREDICTION JOIN syntax.</span></span>  
  
##  <a name="queries-for-different-model-types"></a><a name="bkmk_ModelTypes"></a><span data-ttu-id="bf63e-155">不同模型类型的查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-155">Queries for Different Model Types</span></span>  
 <span data-ttu-id="bf63e-156">在创建模型时使用的算法会极大地影响您可以从数据挖掘查询获取的信息类型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-156">The algorithm that was used when the model was created greatly influences the type of information that you can get from a data mining query.</span></span> <span data-ttu-id="bf63e-157">导致出现差异的原因是，每种算法都以不同方式处理数据，并存储不同类型的模式。</span><span class="sxs-lookup"><span data-stu-id="bf63e-157">The reason for the differences is that each algorithm processes the data in a different way, and stores different kinds of patterns.</span></span> <span data-ttu-id="bf63e-158">例如，一些算法会创建群集；另一些算法会创建树。</span><span class="sxs-lookup"><span data-stu-id="bf63e-158">For example, some algorithms create clusters; others create trees.</span></span> <span data-ttu-id="bf63e-159">因此，您可能需要使用专用的预测和查询函数，具体取决于所使用的模型类型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-159">Therefore, you might need to use specialized prediction and query functions, depending on the type of model that you are working with.</span></span>  
  
 <span data-ttu-id="bf63e-160">以下列表汇总了可在查询中使用的函数：</span><span class="sxs-lookup"><span data-stu-id="bf63e-160">The following list provides a summary of the functions that you can use in queries:</span></span>  
  
-   <span data-ttu-id="bf63e-161">**一般预测函数：** 此 `Predict` 函数是多态函数，这意味着它适用于所有模型类型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-161">**General prediction functions:** The `Predict` function is polymorphic, meaning it works with all model types.</span></span> <span data-ttu-id="bf63e-162">该函数将自动检测要使用的模型类型，并提示您输入其他参数。</span><span class="sxs-lookup"><span data-stu-id="bf63e-162">This function will automatically detect the type of model you are working with and prompt you for additional parameters.</span></span> <span data-ttu-id="bf63e-163">有关详细信息，请参阅[预测 (DMX)](/sql/dmx/predict-dmx)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-163">For more information, see [Predict &#40;DMX&#41;](/sql/dmx/predict-dmx).</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="bf63e-164">并非所有模型都用于进行预测。</span><span class="sxs-lookup"><span data-stu-id="bf63e-164">Not all models are used to make predictions.</span></span> <span data-ttu-id="bf63e-165">例如，可以创建不具有可预测属性的聚类分析模型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-165">For example, you can create a clustering model that does not have a predictable attribute.</span></span> <span data-ttu-id="bf63e-166">但是，即使模型不具有可预测属性，您也可以创建返回模型中其他类型的有用信息的预测查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-166">However, even if a model does not have a predictable attribute, you can create prediction queries that return other types of useful information from the model.</span></span>  
  
-   <span data-ttu-id="bf63e-167">**自定义预测函数：** 每种模型类型都提供了一组用于处理该算法所创建的模式的预测函数。</span><span class="sxs-lookup"><span data-stu-id="bf63e-167">**Custom prediction functions:** Each model type provides a set of prediction functions designed for working with the patterns created by that algorithm.</span></span>  
  
     <span data-ttu-id="bf63e-168">例如，为时序模型提供了 `Lag` 函数，可使用此函数查看该模型使用的历史数据。</span><span class="sxs-lookup"><span data-stu-id="bf63e-168">For example, the `Lag` function is provided for time series models, to let you view the historical data used for the model.</span></span> <span data-ttu-id="bf63e-169">对于聚类分析模型，`ClusterDistance` 函数等函数会更有用。</span><span class="sxs-lookup"><span data-stu-id="bf63e-169">For clustering models, functions such as `ClusterDistance` are more meaningful.</span></span>  
  
     <span data-ttu-id="bf63e-170">有关每种模型类型支持的函数的详细信息，请参阅以下链接：</span><span class="sxs-lookup"><span data-stu-id="bf63e-170">For more information about the functions that are supported for each model type, see the following links:</span></span>  
  
    |||  
    |-|-|  
    |[<span data-ttu-id="bf63e-171">关联模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-171">Association Model Query Examples</span></span>](association-model-query-examples.md)|[<span data-ttu-id="bf63e-172">Microsoft Naive Bayes Algorithm</span><span class="sxs-lookup"><span data-stu-id="bf63e-172">Microsoft Naive Bayes Algorithm</span></span>](microsoft-naive-bayes-algorithm.md)|  
    |[<span data-ttu-id="bf63e-173">聚类分析模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-173">Clustering Model Query Examples</span></span>](clustering-model-query-examples.md)|[<span data-ttu-id="bf63e-174">神经网络模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-174">Neural Network Model Query Examples</span></span>](neural-network-model-query-examples.md)|  
    |[<span data-ttu-id="bf63e-175">决策树模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-175">Decision Trees Model Query Examples</span></span>](decision-trees-model-query-examples.md)|[<span data-ttu-id="bf63e-176">顺序分析和聚类分析模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-176">Sequence Clustering Model Query Examples</span></span>](sequence-clustering-model-query-examples.md)|  
    |[<span data-ttu-id="bf63e-177">线性回归模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-177">Linear Regression Model Query Examples</span></span>](linear-regression-model-query-examples.md)|[<span data-ttu-id="bf63e-178">时序模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-178">Time Series Model Query Examples</span></span>](time-series-model-query-examples.md)|  
    |[<span data-ttu-id="bf63e-179">逻辑回归模型查询示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-179">Logistic Regression Model Query Examples</span></span>](logistic-regression-model-query-examples.md)||  
  
     <span data-ttu-id="bf63e-180">您还可以调用 VBA 函数，或创建您自己的函数。</span><span class="sxs-lookup"><span data-stu-id="bf63e-180">You can also call VBA functions, or create your own functions.</span></span> <span data-ttu-id="bf63e-181">有关详细信息，请参阅[函数 (DMX)](/sql/dmx/functions-dmx)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-181">For more information, see [Functions &#40;DMX&#41;](/sql/dmx/functions-dmx).</span></span>  
  
-   <span data-ttu-id="bf63e-182">**常规统计信息：** 有多个函数可用于几乎所有模型类型，这些函数将返回一组标准说明性统计信息（如标准差）。</span><span class="sxs-lookup"><span data-stu-id="bf63e-182">**General statistics:** There are a number of functions that can be used with almost any model type, which return a standard set of descriptive statistics, such as standard deviation.</span></span>  
  
     <span data-ttu-id="bf63e-183">例如，`PredictHistogram` 函数将返回一个表，其中列出了指定列的所有状态。</span><span class="sxs-lookup"><span data-stu-id="bf63e-183">For example, the `PredictHistogram` function returns a table that lists all the states of the specified column.</span></span>  
  
     <span data-ttu-id="bf63e-184">有关详细信息，请参阅[通用预测函数 (DMX)](/sql/dmx/general-prediction-functions-dmx)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-184">For more information, see [General Prediction Functions &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span></span>  
  
-   <span data-ttu-id="bf63e-185">**自定义统计信息：** 为每种模型类型提供了附加支持函数，以便生成与特定分析任务相关的统计信息。</span><span class="sxs-lookup"><span data-stu-id="bf63e-185">**Custom statistics:** Additional supporting functions are provided for each model type, to generate statistics that are relevant to the specific analytical task.</span></span>  
  
     <span data-ttu-id="bf63e-186">例如，在使用聚类分析模型时，您可以使用 `PredictCaseLikelihood` 函数来返回与某个特定事例和分类关联的可能性分数。</span><span class="sxs-lookup"><span data-stu-id="bf63e-186">For example, when you are working with a clustering model, you can use the function, `PredictCaseLikelihood`, to return the likelihood score associated with a certain case and cluster.</span></span> <span data-ttu-id="bf63e-187">但是，如果您创建了线性回归模型，则可能更愿意检索系数和截距，可使用内容查询做到这一点。</span><span class="sxs-lookup"><span data-stu-id="bf63e-187">However, if you created a linear regression model, you would be more interested in retrieving the coefficient and intercept, which you can do using a content query.</span></span>  
  
-   <span data-ttu-id="bf63e-188">**模型内容函数：** 所有模型的 *内容* 都以标准化格式表示，以便您能使用简单查询检索信息。</span><span class="sxs-lookup"><span data-stu-id="bf63e-188">**Model content functions:** The *content* of all models is represented in a standardized format that lets you retrieve information with a simple query.</span></span> <span data-ttu-id="bf63e-189">可以使用 DMX 创建针对模型内容的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-189">You create queries on the model content by using DMX.</span></span> <span data-ttu-id="bf63e-190">还可以通过使用数据挖掘架构行集来获取某种类型的模型内容。</span><span class="sxs-lookup"><span data-stu-id="bf63e-190">You can also get some type of model content by using the data mining schema rowsets.</span></span>  
  
     <span data-ttu-id="bf63e-191">在模型内容中，返回的表中的每个行或节点的含义是不同的，具体取决于用于生成模型的算法的类型以及列的数据类型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-191">In the model content, the meaning of each row or node of the table that is returned differs depending on the type of algorithm that was used to build the model, as well as the data type of the column.</span></span> <span data-ttu-id="bf63e-192">有关详细信息，请参阅 [内容查询（数据挖掘）](content-queries-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-192">For more information, see [Content Queries &#40;Data Mining&#41;](content-queries-data-mining.md).</span></span>  
  
##  <a name="requirements"></a><a name="bkmk_Reqs"></a> <span data-ttu-id="bf63e-193">要求</span><span class="sxs-lookup"><span data-stu-id="bf63e-193">Requirements</span></span>  
 <span data-ttu-id="bf63e-194">必须先处理数据挖掘模型，然后才能创建针对模型的查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-194">Before you can create a query against a model, the data mining model must have been processed.</span></span> <span data-ttu-id="bf63e-195">处理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 对象需要特殊权限。</span><span class="sxs-lookup"><span data-stu-id="bf63e-195">Processing of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects requires special permissions.</span></span> <span data-ttu-id="bf63e-196">有关处理挖掘模型的详细信息，请参阅[处理要求和注意事项（数据挖掘）](processing-requirements-and-considerations-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-196">For more information on processing mining models, see [Processing Requirements and Considerations &#40;Data Mining&#41;](processing-requirements-and-considerations-data-mining.md).</span></span>  
  
 <span data-ttu-id="bf63e-197">执行针对数据挖掘模型的查询需要不同的权限级别，这取决于您运行的查询的类型。</span><span class="sxs-lookup"><span data-stu-id="bf63e-197">To execute queries against a data mining model requires different levels of permissions, depending on the type of query that you run.</span></span> <span data-ttu-id="bf63e-198">例如，钻取事例或结构数据通常需要可在挖掘结构对象或挖掘模型对象上设置的附加权限。</span><span class="sxs-lookup"><span data-stu-id="bf63e-198">For example, drillthrough to case or structure data typically requires additional permissions which can be set on the mining structure object or mining model object.</span></span>  
  
 <span data-ttu-id="bf63e-199">但是，如果您的查询使用外部数据并包含 OPENROWSET 或 OPENQUERY 等语句，则您查询的数据库必须启用这些语句，并且您必须具有基础数据库对象的权限。</span><span class="sxs-lookup"><span data-stu-id="bf63e-199">However, if your query uses external data, and includes statements such as OPENROWSET or OPENQUERY, the database that you are querying must enable these statements, and you must have permission on the underlying database objects.</span></span>  
  
 <span data-ttu-id="bf63e-200">有关运行数据挖掘查询所需的安全上下文的详细信息，请参阅[安全性概述（数据挖掘）](security-overview-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="bf63e-200">For more information on the security contexts required to run data mining queries, see [Security Overview &#40;Data Mining&#41;](security-overview-data-mining.md)</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="bf63e-201">本节内容</span><span class="sxs-lookup"><span data-stu-id="bf63e-201">In This Section</span></span>  
 <span data-ttu-id="bf63e-202">本节中的各个主题详细地介绍了每种类型的数据挖掘查询，并提供了一些链接，这些链接指向有关如何创建针对数据挖掘模型的查询的详细示例。</span><span class="sxs-lookup"><span data-stu-id="bf63e-202">The topics in this section introduce each type of data mining query in more detail, and provide links to detailed examples of how to create queries against  data mingin models.</span></span>  
  
 [<span data-ttu-id="bf63e-203">预测查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-203">Prediction Queries &#40;Data Mining&#41;</span></span>](prediction-queries-data-mining.md)  
  
 [<span data-ttu-id="bf63e-204">内容查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-204">Content Queries &#40;Data Mining&#41;</span></span>](content-queries-data-mining.md)  
  
 [<span data-ttu-id="bf63e-205">钻取查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-205">Drillthrough Queries &#40;Data Mining&#41;</span></span>](drillthrough-queries-data-mining.md)  
  
 [<span data-ttu-id="bf63e-206">数据定义查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-206">Data Definition Queries &#40;Data Mining&#41;</span></span>](data-definition-queries-data-mining.md)  
  
 [<span data-ttu-id="bf63e-207">数据挖掘查询接口</span><span class="sxs-lookup"><span data-stu-id="bf63e-207">Data Mining Query Interfaces</span></span>](data-mining-query-tools.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="bf63e-208">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="bf63e-208">Related Tasks</span></span>  
 <span data-ttu-id="bf63e-209">使用这些链接了解如何创建和使用数据挖掘查询。</span><span class="sxs-lookup"><span data-stu-id="bf63e-209">Use these links to learn how to create and work with data mining queries.</span></span>  
  
|<span data-ttu-id="bf63e-210">任务</span><span class="sxs-lookup"><span data-stu-id="bf63e-210">Tasks</span></span>|<span data-ttu-id="bf63e-211">链接</span><span class="sxs-lookup"><span data-stu-id="bf63e-211">Links</span></span>|  
|-----------|-----------|  
|<span data-ttu-id="bf63e-212">查看有关数据挖掘查询的教程和演练</span><span class="sxs-lookup"><span data-stu-id="bf63e-212">View tutorials and walkthroughs on data mining queries</span></span>|[<span data-ttu-id="bf63e-213">第 6 课：创建和使用预测（数据挖掘基础教程）</span><span class="sxs-lookup"><span data-stu-id="bf63e-213">Lesson 6: Creating and Working with Predictions &#40;Basic Data Mining Tutorial&#41;</span></span>](../../tutorials/lesson-6-creating-and-working-with-predictions-basic-data-mining-tutorial.md)<br /><br /> [<span data-ttu-id="bf63e-214">时序预测 DMX 教程</span><span class="sxs-lookup"><span data-stu-id="bf63e-214">Time Series Prediction DMX Tutorial</span></span>](../../tutorials/time-series-prediction-dmx-tutorial.md)|  
|<span data-ttu-id="bf63e-215">在 SQL Server Management Studio 和 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]</span><span class="sxs-lookup"><span data-stu-id="bf63e-215">Use data mining query tools in SQL Server Management Studio and [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]</span></span>|[<span data-ttu-id="bf63e-216">在 SQL Server Management Studio 中创建一个 DMX 查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-216">Create a DMX Query in SQL Server Management Studio</span></span>](create-a-dmx-query-in-sql-server-management-studio.md)<br /><br /> [<span data-ttu-id="bf63e-217">使用预测查询生成器创建预测查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-217">Create a Prediction Query Using the Prediction Query Builder</span></span>](create-a-prediction-query-using-the-prediction-query-builder.md)<br /><br /> [<span data-ttu-id="bf63e-218">将预测函数应用于模型</span><span class="sxs-lookup"><span data-stu-id="bf63e-218">Apply Prediction Functions to a Model</span></span>](apply-prediction-functions-to-a-model.md)<br /><br /> [<span data-ttu-id="bf63e-219">手动编辑预测查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-219">Manually Edit a Prediction Query</span></span>](manually-edit-a-prediction-query.md)|  
|<span data-ttu-id="bf63e-220">使用预测查询中使用的外部数据</span><span class="sxs-lookup"><span data-stu-id="bf63e-220">Work with external data used in prediction queries</span></span>|[<span data-ttu-id="bf63e-221">为预测查询选择和映射输入数据</span><span class="sxs-lookup"><span data-stu-id="bf63e-221">Choose and Map Input Data for a Prediction Query</span></span>](choose-and-map-input-data-for-a-prediction-query.md)<br /><br /> [<span data-ttu-id="bf63e-222">为预测查询选择和映射输入数据</span><span class="sxs-lookup"><span data-stu-id="bf63e-222">Choose and Map Input Data for a Prediction Query</span></span>](choose-and-map-input-data-for-a-prediction-query.md)|  
|<span data-ttu-id="bf63e-223">使用查询结果</span><span class="sxs-lookup"><span data-stu-id="bf63e-223">Work with the results of queries</span></span>|[<span data-ttu-id="bf63e-224">查看和保存预测查询的结果</span><span class="sxs-lookup"><span data-stu-id="bf63e-224">View and Save the Results of a Prediction Query</span></span>](view-and-save-the-results-of-a-prediction-query.md)|  
|<span data-ttu-id="bf63e-225">使用 Management Studio 中提供的 DMX 和 XMLA 查询模板</span><span class="sxs-lookup"><span data-stu-id="bf63e-225">Use DMX and XMLA query templates provided in Management Studio</span></span>|[<span data-ttu-id="bf63e-226">通过模板创建单独预测查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-226">Create a Singleton Prediction Query from a Template</span></span>](create-a-singleton-prediction-query-from-a-template.md)<br /><br /> [<span data-ttu-id="bf63e-227">使用 XMLA 创建数据挖掘查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-227">Create a Data Mining Query by Using XMLA</span></span>](create-a-data-mining-query-by-using-xmla.md)<br /><br /> [<span data-ttu-id="bf63e-228">Use Analysis Services Templates in SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="bf63e-228">Use Analysis Services Templates in SQL Server Management Studio</span></span>](../instances/use-analysis-services-templates-in-sql-server-management-studio.md)|  
|<span data-ttu-id="bf63e-229">了解有关内容查询的详细信息和参阅示例</span><span class="sxs-lookup"><span data-stu-id="bf63e-229">Learn more about content queries and see examples</span></span>|[<span data-ttu-id="bf63e-230">针对挖掘模型创建内容查询</span><span class="sxs-lookup"><span data-stu-id="bf63e-230">Create a Content Query on a Mining Model</span></span>](create-a-content-query-on-a-mining-model.md)<br /><br /> [<span data-ttu-id="bf63e-231">查询用于创建挖掘模型的参数</span><span class="sxs-lookup"><span data-stu-id="bf63e-231">Query the Parameters Used to Create a Mining Model</span></span>](query-the-parameters-used-to-create-a-mining-model.md)<br /><br /> [<span data-ttu-id="bf63e-232">内容查询（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-232">Content Queries &#40;Data Mining&#41;</span></span>](content-queries-data-mining.md)|  
|<span data-ttu-id="bf63e-233">设置查询选项和解决查询权限问题</span><span class="sxs-lookup"><span data-stu-id="bf63e-233">Set query options and troubleshoot query permissions and problems</span></span>|[<span data-ttu-id="bf63e-234">更改数据挖掘查询的超时值</span><span class="sxs-lookup"><span data-stu-id="bf63e-234">Change the Time-out Value for Data Mining Queries</span></span>](data-mining-queries.md)|  
|<span data-ttu-id="bf63e-235">在 Integration Services 中使用数据挖掘组件</span><span class="sxs-lookup"><span data-stu-id="bf63e-235">Use the data mining components in Integration Services</span></span>|[<span data-ttu-id="bf63e-236">数据挖掘查询任务</span><span class="sxs-lookup"><span data-stu-id="bf63e-236">Data Mining Query Task</span></span>](../../integration-services/control-flow/data-mining-query-task.md)<br /><br /> [<span data-ttu-id="bf63e-237">数据挖掘查询转换</span><span class="sxs-lookup"><span data-stu-id="bf63e-237">Data Mining Query Transformation</span></span>](../../integration-services/data-flow/transformations/data-mining-query-transformation.md)|  
  
## <a name="see-also"></a><span data-ttu-id="bf63e-238">另请参阅</span><span class="sxs-lookup"><span data-stu-id="bf63e-238">See Also</span></span>  
 <span data-ttu-id="bf63e-239">[数据挖掘算法 &#40;Analysis Services 数据挖掘&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="bf63e-239">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 [<span data-ttu-id="bf63e-240">挖掘模型内容（Analysis Services - 数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bf63e-240">Mining Model Content &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-analysis-services-data-mining.md)  
  
  
