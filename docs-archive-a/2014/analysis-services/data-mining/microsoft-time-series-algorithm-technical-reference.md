---
title: Microsoft 时序算法技术参考 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ARTXP
- HISTORICAL_MODEL_GAP parameter
- AUTO_DETECT_PERIODICITY parameter
- time series algorithms [Analysis Services]
- ARIMA
- INSTABILITY_SENSITIVITY parameter
- PERIODICITY_HINT parameter
- MAXIMUM_SERIES_VALUE parameter
- time series [Analysis Services]
- MINIMUM_SUPPORT parameter
- HISTORIC_MODEL_COUNT parameter
- FORECAST_METHOD parameter
- MISSING_VALUE_SUBSTITUTION parameter
- MINIMUM_SERIES_VALUE parameter
- COMPLEXITY_PENALTY parameter
- PREDICTION_SMOOTHING parameter
ms.assetid: 7ab203fa-b044-47e8-b485-c8e59c091271
author: minewiskan
ms.author: owend
ms.openlocfilehash: ca42ee01f6f0a9cf6cff12ed185d5cd57c527f40
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87581036"
---
# <a name="microsoft-time-series-algorithm-technical-reference"></a><span data-ttu-id="8c85b-102">Microsoft Time Series Algorithm Technical Reference</span><span class="sxs-lookup"><span data-stu-id="8c85b-102">Microsoft Time Series Algorithm Technical Reference</span></span>
  <span data-ttu-id="8c85b-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法包括两个用于分析时序的独立的算法：</span><span class="sxs-lookup"><span data-stu-id="8c85b-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm includes two separate algorithms for analyzing time series:</span></span>

-   <span data-ttu-id="8c85b-104">ARTXP 算法是在 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]中引入的，针对预测序列中的下一个可能值进行了优化。</span><span class="sxs-lookup"><span data-stu-id="8c85b-104">The ARTXP algorithm, which was introduced in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], is optimized for predicting the next likely value in a series.</span></span>

-   <span data-ttu-id="8c85b-105">ARIMA 算法是在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 中添加的，用于提高长期预测的准确性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-105">The ARIMA algorithm was added in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] to improve accuracy for long-term prediction.</span></span>

 <span data-ttu-id="8c85b-106">默认情况下， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 分别使用每个算法给模型定型，然后结合结果为数目可变的预测产生最佳预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-106">By default, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses each algorithm separately to train the model and then blends the results to yield the best prediction for a variable number of predictions.</span></span> <span data-ttu-id="8c85b-107">也可以基于您的数据和预测要求选择仅使用其中的一个算法。</span><span class="sxs-lookup"><span data-stu-id="8c85b-107">You can also choose to use just one of the algorithms, based on your data and prediction requirements.</span></span> <span data-ttu-id="8c85b-108">在 [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)]中，还可以自定义用于在预测过程中控制算法混合的截止点。</span><span class="sxs-lookup"><span data-stu-id="8c85b-108">In [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)], you can also customize the cut-off point that controls the blend of algorithms during prediction.</span></span>

 <span data-ttu-id="8c85b-109">本主题提供以下方面的附加信息：每个算法的实现原理，以及可以如何通过设置参数来微调分析和预测结果对算法进行自定义。</span><span class="sxs-lookup"><span data-stu-id="8c85b-109">This topic provides additional information about how each algorithm is implemented, and how you can customize the algorithm by setting parameters to fine-tune the analysis and prediction results.</span></span>

## <a name="implementation-of-the-microsoft-time-series-algorithm"></a><span data-ttu-id="8c85b-110">Microsoft 时序算法的实现</span><span class="sxs-lookup"><span data-stu-id="8c85b-110">Implementation of the Microsoft Time Series Algorithm</span></span>
 [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="8c85b-111">研究院开发了在 SQL Server 2005 中使用的原始 ARTXP 算法，并且将该实现基于 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 决策树算法。</span><span class="sxs-lookup"><span data-stu-id="8c85b-111">Research developed the original ARTXP algorithm that was used in SQL Server 2005, basing the implementation on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm.</span></span> <span data-ttu-id="8c85b-112">因此，该 ARTXP 算法可描述为用于表示周期性时序数据的自动回归树模型。</span><span class="sxs-lookup"><span data-stu-id="8c85b-112">Therefore, the ARTXP algorithm can be described as an autoregressive tree model for representing periodic time series data.</span></span> <span data-ttu-id="8c85b-113">此算法将数目可变的过去项与要预测的每个当前项相关。</span><span class="sxs-lookup"><span data-stu-id="8c85b-113">This algorithm relates a variable number of past items to each current item that is being predicted.</span></span> <span data-ttu-id="8c85b-114">名称 ARTXP 派生自以下事实，即自动回归树方法（一种 ART 算法）应用于多个未知的先前状态。</span><span class="sxs-lookup"><span data-stu-id="8c85b-114">The name ARTXP derives from the fact that the autoregressive tree method (an ART algorithm) is applied to multiple unknown prior states.</span></span> <span data-ttu-id="8c85b-115">有关 ARTXP 算法的详细说明，请参阅 [序分析的自动回归树模型](https://go.microsoft.com/fwlink/?LinkId=45966)。</span><span class="sxs-lookup"><span data-stu-id="8c85b-115">For a detailed explanation of the ARTXP algorithm, see [Autoregressive Tree Models for Time-Series Analysis](https://go.microsoft.com/fwlink/?LinkId=45966).</span></span>

 <span data-ttu-id="8c85b-116">该 ARIMA 算法已添加到 SQL Server 2008 的 Microsoft 时序算法中，用于提高长期预测的准确性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-116">The ARIMA algorithm was added to the Microsoft Time Series algorithm in SQL Server 2008 to improve long-term prediction.</span></span> <span data-ttu-id="8c85b-117">它是 Box 和 Jenkins 描述的用于计算自动回归集成变动平均值的过程的实现。</span><span class="sxs-lookup"><span data-stu-id="8c85b-117">It is an implementation of the process for computing autoregressive integrated moving averages that was described by Box and Jenkins.</span></span> <span data-ttu-id="8c85b-118">通过 ARIMA 方法，可以确定按时间顺序进行的观察中的依赖关系，并且可以将随机冲量作为模型的一部分纳入。</span><span class="sxs-lookup"><span data-stu-id="8c85b-118">The ARIMA methodology makes it possible to determine dependencies in observations taken sequentially in time, and can incorporate random shocks as part of the model.</span></span> <span data-ttu-id="8c85b-119">该 ARIMA 方法还支持倍乘季节性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-119">The ARIMA method also supports multiplicative seasonality.</span></span> <span data-ttu-id="8c85b-120">想要了解有关 ARIMA 算法的详细信息的读者最好阅读 Box 和 Jenkins 在论坛上发布的内容；本节旨在提供关于 ARIMA 算法如何在 Microsoft 时序算法中实施的特定详细信息。</span><span class="sxs-lookup"><span data-stu-id="8c85b-120">Readers who want to learn more about the ARIMA algorithm are encouraged to read the seminal work by Box and Jenkins; this section is intended to provide specific details about how the ARIMA methodology has been implemented in the Microsoft Time Series algorithm.</span></span>

 <span data-ttu-id="8c85b-121">默认情况下，Microsoft 时序算法通过使用 ARIMA 和 ARTXP 这两种算法并混合所得到的结果来改进预测准确性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-121">By default, the Microsoft Time Series algorithm uses both methods, ARTXP and ARIMA, and blends the results to improve prediction accuracy.</span></span> <span data-ttu-id="8c85b-122">如果您想要仅使用特定的方法，则可以将算法参数设置为仅使用 ARTXP 或仅使用 ARIMA，或者控制对算法结果进行组合的方式。</span><span class="sxs-lookup"><span data-stu-id="8c85b-122">If you want to use only a specific method, you can set the algorithm parameters to use only ARTXP or only ARIMA, or to control how the results of the algorithms are combined.</span></span> <span data-ttu-id="8c85b-123">请注意，ARTXP 算法支持交叉预测，但 ARIMA 算法不支持。</span><span class="sxs-lookup"><span data-stu-id="8c85b-123">Note that the ARTXP algorithm supports cross-prediction, but the ARIMA algorithm does not.</span></span> <span data-ttu-id="8c85b-124">因此，只有在使用混合算法或将模型配置为仅使用 ARTXP 时，交叉预测才可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-124">Therefore, cross-prediction is available only when you use a blend of algorithms, or when you configure the model to use only ARTXP.</span></span>

## <a name="understanding-arima-difference-order"></a><span data-ttu-id="8c85b-125">理解 ARIMA 差分阶数</span><span class="sxs-lookup"><span data-stu-id="8c85b-125">Understanding ARIMA Difference Order</span></span>
 <span data-ttu-id="8c85b-126">\*\* 本节介绍理解 ARIMA 模型所需的一些术语，并且论述在 Microsoft 时序算法中的特定“差分”实现方式。</span><span class="sxs-lookup"><span data-stu-id="8c85b-126">This section introduces some terminology needed to understand the ARIMA model, and discusses the specific implementation of *differencing* in the Microsoft Time Series algorithm.</span></span> <span data-ttu-id="8c85b-127">有关这些项和概念的完整解释，我们建议您参阅 Box 和 Jenkins 的著述。</span><span class="sxs-lookup"><span data-stu-id="8c85b-127">For a full explanation of these terms and concepts, we recommend a review of Box and Jenkins.</span></span>

-   <span data-ttu-id="8c85b-128">项是数学方程式中的一个组成部分。</span><span class="sxs-lookup"><span data-stu-id="8c85b-128">A term is a component of a mathematical equation.</span></span> <span data-ttu-id="8c85b-129">例如，多项式方程式中的项可以包括变量和常量的组合。</span><span class="sxs-lookup"><span data-stu-id="8c85b-129">For example, a term in a polynomial equation might include a combination of variables and constants.</span></span>

-   <span data-ttu-id="8c85b-130">\*\* 在 Microsoft 时序算法中包括的 ARIMA 公式使用“自动回归” \*\* 和“移动平均值”这两个项。</span><span class="sxs-lookup"><span data-stu-id="8c85b-130">The ARIMA formula that is included in the Microsoft Time Series algorithm uses both *autoregressive* and *moving average* terms.</span></span>

-   <span data-ttu-id="8c85b-131">\*\* 时序模型可以是“静态的” \*\* 或“非静态的”。</span><span class="sxs-lookup"><span data-stu-id="8c85b-131">Time series models can be *stationary* or *nonstationary*.</span></span> <span data-ttu-id="8c85b-132">\*\* “静态模型” \*\* 是还原为平均值的那些模型（尽管它们可能具有循环），而“非静态模型” \*\* 不具有平衡焦点，需要承受“充量”或外部变量引入的更大差异或变化。</span><span class="sxs-lookup"><span data-stu-id="8c85b-132">*Stationary models* are those that revert to a mean, though they might have cycles, whereas *nonstationary* models do not have a focus of equilibrium and are subject to greater variance or change introduced by *shocks*, or external variables.</span></span>

-   <span data-ttu-id="8c85b-133">\*\* “差分”的目标是使时序稳定且变得静态。</span><span class="sxs-lookup"><span data-stu-id="8c85b-133">The goal of *differencing* is to make a time series stabilize and become stationary.</span></span>

-   <span data-ttu-id="8c85b-134">“差分阶数”  \*\* 表示为时序取的值之间的差分的次数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-134">The  *order of difference* represents the number of times that the difference between values is taken for a time series.</span></span>

 <span data-ttu-id="8c85b-135">Microsoft 时序算法的工作方式是在某一数据序列中取值，然后尝试将数据适合于某一模式。</span><span class="sxs-lookup"><span data-stu-id="8c85b-135">The Microsoft Time Series algorithm works by taking values in a data series and attempting to fit the data to a pattern.</span></span> <span data-ttu-id="8c85b-136">如果该数据序列已不是静态的，则该算法将应用差分阶数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-136">If the data series is are not already stationary, the algorithm applies an order of difference.</span></span> <span data-ttu-id="8c85b-137">差分阶数中的每个增加都往往使该时序更为静态。</span><span class="sxs-lookup"><span data-stu-id="8c85b-137">Each increase in the order of difference tends to make the time series more stationary.</span></span>

 <span data-ttu-id="8c85b-138">例如，如果你有时序 (z1，z2，...，zn) 并使用一种不同的顺序执行计算，则将获取一个新系列 (y1，y2,...., yn-1) ，其中，*彝语 = zi +1-zi*。</span><span class="sxs-lookup"><span data-stu-id="8c85b-138">For example, if you have the time series (z1, z2, ..., zn) and perform calculations using one order of difference, you obtain a new series (y1, y2,...., yn-1), where *yi = zi+1-zi*.</span></span> <span data-ttu-id="8c85b-139">当差分阶数为2时，该算法将基于从第一个顺序公式派生的 y 序列，生成另一个序列 (x1，x2，...，xn-2) 。</span><span class="sxs-lookup"><span data-stu-id="8c85b-139">When the difference order is 2, the algorithm generates another series (x1, x2, ..., xn-2), based on the y series that was derived from the first order equation.</span></span> <span data-ttu-id="8c85b-140">差分的正确量依赖于数据。</span><span class="sxs-lookup"><span data-stu-id="8c85b-140">The correct amount of differencing depends on the data.</span></span> <span data-ttu-id="8c85b-141">单个差分阶数在显示不变趋势的模型中最常见；第二个差分阶数可指示随着时间而变化的趋势。</span><span class="sxs-lookup"><span data-stu-id="8c85b-141">A single order of differencing is most common in models that show a constant trend; a second order of differencing can indicate a trend that varies with time.</span></span>

 <span data-ttu-id="8c85b-142">默认情况下，在 Microsoft 时序算法中使用的差分阶数为 -1，这意味着该算法将自动检测差分阶数的最佳值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-142">By default, the order of difference used in the Microsoft Time Series algorithm is -1, meaning that the algorithm will automatically detect the best value for the difference order.</span></span> <span data-ttu-id="8c85b-143">通常，该最佳值为 1（在需要差分时），但在某些情况下，该算法将该值增加到最大值 2。</span><span class="sxs-lookup"><span data-stu-id="8c85b-143">Typically, that best value is 1 (when differencing is required), but under certain circumstances the algorithm will increase that value to a maximum of 2.</span></span>

 <span data-ttu-id="8c85b-144">Microsoft 时序算法通过使用自动回归值确定最佳的 ARIMA 差分阶数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-144">The Microsoft Time Series algorithm determines the optimal ARIMA difference order by using the autoregression values.</span></span> <span data-ttu-id="8c85b-145">该算法检查 AR 值并且设置一个隐藏的参数 ARIMA_AR_ORDER，这表示 AR 项的阶数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-145">The algorithm examines the AR values and sets a hidden parameter, ARIMA_AR_ORDER, representing the order of the AR terms.</span></span> <span data-ttu-id="8c85b-146">此隐藏的参数 ARIMA_AR_ORDER 的值范围是从 -1 到 8。</span><span class="sxs-lookup"><span data-stu-id="8c85b-146">This hidden parameter, ARIMA_AR_ORDER, has a range of values from -1 to 8.</span></span> <span data-ttu-id="8c85b-147">在为默认值 -1 时，该算法将自动选择适当的差分阶数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-147">At the default value of -1, the algorithm will automatically select the appropriate difference order.</span></span>

 <span data-ttu-id="8c85b-148">只要 ARIMA_AR_ORDER 的值大于 1，该算法就将时序乘以多项式项。</span><span class="sxs-lookup"><span data-stu-id="8c85b-148">Whenever the value of ARIMA_AR_ORDER is greater than 1, the algorithm multiplies the time series by a polynomial term.</span></span> <span data-ttu-id="8c85b-149">如果多项式公式的一个项解析为 1 的根或接近 1，则该算法将尝试通过删除该项并将差分阶数增加 1，保持该模型的稳定性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-149">If one term of the polynomial formula resolves to a root of 1 or close to 1, the algorithm attempts to preserve the stability of the model by removing the term and increasing the difference order by 1.</span></span> <span data-ttu-id="8c85b-150">如果差分阶数已是最大值，则该项将删除并且差分阶数不更改。</span><span class="sxs-lookup"><span data-stu-id="8c85b-150">If the difference order is already at the maximum, the term is removed and the difference order does not change.</span></span>

 <span data-ttu-id="8c85b-151">例如，如果 AR 的值 = 2，则生成的 AR 多项式项可能如下所示： 1-1.4 B +. 45B ^ 2 = (9B)  (1-0.5 B) 。</span><span class="sxs-lookup"><span data-stu-id="8c85b-151">For example, if the value of AR = 2,   the resulting AR polynomial term might look like this: 1 - 1.4B + .45B^2 = (1- .9B) (1- 0.5B).</span></span> <span data-ttu-id="8c85b-152">请注意 "9B" 一 (词，其中的根为 0.9) 。</span><span class="sxs-lookup"><span data-stu-id="8c85b-152">Note the term (1- .9B) which has a root of about 0.9.</span></span> <span data-ttu-id="8c85b-153">该算法从多项式公式中清除此项，但无法将差分阶数增加 1，因为该差分阶数已处于最大值 2。</span><span class="sxs-lookup"><span data-stu-id="8c85b-153">The algorithm eliminates this term from the polynomial formula but cannot increase the difference order by one because it is already at the maximum value of 2.</span></span>

 <span data-ttu-id="8c85b-154">务须注意的是：唯一能够 **强制** 更改差分阶数的方式就是使用不受支持的参数 ARIMA_DIFFERENCE_ORDER。</span><span class="sxs-lookup"><span data-stu-id="8c85b-154">It is important to note that the only way that you can **force** a change in difference order is to use the unsupported parameter, ARIMA_DIFFERENCE_ORDER.</span></span> <span data-ttu-id="8c85b-155">这个隐藏参数控制算法对时序执行差分的次数，可以通过键入自定义算法参数来设置该参数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-155">This hidden parameter controls how many times the algorithm performs differencing on the time series, and can be set by typing a custom algorithm parameter.</span></span> <span data-ttu-id="8c85b-156">但是，我们不建议您更改此值，除非您已经做好试验的准备，并且熟悉会涉及到的计算。</span><span class="sxs-lookup"><span data-stu-id="8c85b-156">However, we do not recommend that you change this value unless you are prepared to experiment and are familiar with the calculations involved.</span></span> <span data-ttu-id="8c85b-157">还请注意，目前没有任何机制（包括隐藏参数）可供您控制触发差分阶数增加的阈值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-157">Also note that there is currently no mechanism, including hidden parameters, to let you control the threshold at which the increase in difference order is triggered.</span></span>

 <span data-ttu-id="8c85b-158">最后要注意的是，上述公式为简化的情况，没有季节性提示。</span><span class="sxs-lookup"><span data-stu-id="8c85b-158">Finally, note that the formula described above is the simplified case, with no seasonality hints.</span></span> <span data-ttu-id="8c85b-159">如果提供季节性提示，则对于每个季节性提示，单独的 AR 多项式项将添加到方程式的左侧，并且将应用相同的策略以便消除可能导致差分序列不稳定的项。</span><span class="sxs-lookup"><span data-stu-id="8c85b-159">If seasonality hints are provided, then a separate AR polynomial term is added to the left of the equation for each seasonality hint, and the same strategy is applied to eliminate terms that might destabilize the differenced series.</span></span>

## <a name="customizing-the-microsoft-time-series-algorithm"></a><span data-ttu-id="8c85b-160">自定义 Microsoft 时序算法</span><span class="sxs-lookup"><span data-stu-id="8c85b-160">Customizing the Microsoft Time Series Algorithm</span></span>
 <span data-ttu-id="8c85b-161">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法支持以下参数，这些参数会影响所生成挖掘模型的行为、性能和精确性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-161">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm supports the following parameters that affect the behavior, performance, and accuracy of the resulting mining model.</span></span>

> [!NOTE]
>  <span data-ttu-id="8c85b-162">在所有版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中均提供 Microsoft 时序算法；但是，仅在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的特定版本中才支持某些高级功能，包括用于自定义时序分析的参数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-162">The Microsoft Time Series algorithm is available in all editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]; however, some advanced features, including parameters for customizing the time series analysis, are supported only in specific editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8c85b-163">有关 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]各版本支持的功能列表，请参阅 [SQL Server 2012 各个版本支持的功能](https://go.microsoft.com/fwlink/?linkid=232473)。</span><span class="sxs-lookup"><span data-stu-id="8c85b-163">For a list of features that are supported by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473).</span></span>

### <a name="detection-of-seasonality"></a><span data-ttu-id="8c85b-164">季节性检测</span><span class="sxs-lookup"><span data-stu-id="8c85b-164">Detection of Seasonality</span></span>
 <span data-ttu-id="8c85b-165">ARIMA 和 ARTXP 算法都支持季节性检测或周期检测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-165">Both ARIMA and ARTXP algorithms support detection of seasonality or periodicity.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="8c85b-166">在定型之前使用快速傅立叶变换检测季节性。</span><span class="sxs-lookup"><span data-stu-id="8c85b-166">uses Fast Fourier transformation to detect seasonality before training.</span></span> <span data-ttu-id="8c85b-167">但是，您可以通过设置算法参数，影响季节性检测以及时序分析的结果。</span><span class="sxs-lookup"><span data-stu-id="8c85b-167">However, you can affect seasonality detection, and the results of time series analysis, by setting algorithm parameters.</span></span>

-   <span data-ttu-id="8c85b-168">通过更改 AUTODETECT_SEASONALITY\*\* 的值，可以影响生成的时间段的可能数目。</span><span class="sxs-lookup"><span data-stu-id="8c85b-168">By changing the value of *AUTODETECT_SEASONALITY*, you can influence the number of possible time segments that are generated.</span></span>

-   <span data-ttu-id="8c85b-169">通过为 PERIODICITY_HINT\*\* 设置一个值或多个值，可以为算法提供有关数据中预期周期的信息并有可能提高检测精度。</span><span class="sxs-lookup"><span data-stu-id="8c85b-169">By setting a value or multiple values for *PERIODICITY_HINT*, you can provide the algorithm with information about expected cycles in the data and potentially increase the accuracy of detection.</span></span>

> [!NOTE]
>  <span data-ttu-id="8c85b-170">ARTXP 和 ARIMA 算法都对季节性提示非常敏感。</span><span class="sxs-lookup"><span data-stu-id="8c85b-170">Both the ARTXP and ARIMA algorithms are very sensitive to seasonality hints.</span></span> <span data-ttu-id="8c85b-171">因此，提供错误提示可能会对结果产生不利影响。</span><span class="sxs-lookup"><span data-stu-id="8c85b-171">Therefore, providing the wrong hint can adversely affect results.</span></span>

### <a name="choosing-an-algorithm-and-specifying-the-blend-of-algorithms"></a><span data-ttu-id="8c85b-172">选择算法和指定算法混合</span><span class="sxs-lookup"><span data-stu-id="8c85b-172">Choosing an Algorithm and Specifying the Blend of Algorithms</span></span>
 <span data-ttu-id="8c85b-173">默认情况下，在选择 MIXED 选项时， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 会将算法组合起来并向它们分配相等的权重。</span><span class="sxs-lookup"><span data-stu-id="8c85b-173">By default, or when you select the MIXED option, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] combines the algorithms and assigns them equal weight.</span></span> <span data-ttu-id="8c85b-174">不过，在 [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)] 中，可以指定特定的算法，或者可以通过设置参数来自定义结果中各算法的比例，该参数针对短期预测或长期预测为结果加权。</span><span class="sxs-lookup"><span data-stu-id="8c85b-174">However, in [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)], you can specify a particular algorithm, or you can customize the proportion of each algorithm in the results by setting a parameter that weights the results towards either the short or the long-term prediction.</span></span> <span data-ttu-id="8c85b-175">默认情况下，FORECAST_METHOD\*\* 参数将设置为 MIXED，[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 使用这两个算法，并对其值加权以最大化每个算法的强度。</span><span class="sxs-lookup"><span data-stu-id="8c85b-175">By default, the *FORECAST_METHOD* parameter is set to MIXED, and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses both algorithms and then weights their values to maximize the strengths of each algorithm.</span></span>

-   <span data-ttu-id="8c85b-176">若要控制算法选择，可以设置 FORECAST_METHOD\*\* 参数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-176">To control the choice of algorithm, you set the *FORECAST_METHOD* parameter.</span></span>

-   <span data-ttu-id="8c85b-177">如果要使用交叉预测，则必须使用 ARTXP 或 MIXED 选项，原因是 ARIMA 不支持交叉预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-177">If you want to use cross-prediction, you must use either the ARTXP or the MIXED option because ARIMA does not support cross-prediction.</span></span>

-   <span data-ttu-id="8c85b-178">如果更看重短期预测，则将 FORECAST_METHOD\*\* 设置为 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="8c85b-178">Set the *FORECAST_METHOD* to ARTXP if you want to favor short-term prediction.</span></span>

-   <span data-ttu-id="8c85b-179">如果想要改进长期预测，则将 FORECAST_METHOD\*\* 设置为 ARIMA。</span><span class="sxs-lookup"><span data-stu-id="8c85b-179">Set the *FORECAST_METHOD* to ARIMA if you want to improve long-term prediction.</span></span>

 <span data-ttu-id="8c85b-180">在 [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)]中，还可以自定义 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 混合使用 ARIMA 和 ARTXP 算法组合的方式。</span><span class="sxs-lookup"><span data-stu-id="8c85b-180">In [!INCLUDE[ssEnterpriseEd10](../../includes/ssenterpriseed10-md.md)], you can also customize how [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] mixes the combination of the ARIMA and ARTXP algorithms.</span></span> <span data-ttu-id="8c85b-181">可以通过设置 PREDICTION_SMOOTHING\*\* 参数控制混合的起点和变化速率：</span><span class="sxs-lookup"><span data-stu-id="8c85b-181">You can control both the starting point for the mixture, and the rate of change by setting the *PREDICTION_SMOOTHING* parameter:</span></span>

-   <span data-ttu-id="8c85b-182">如果将 PREDICTION_SMOOTHING\*\* 设置为 0，则模型将仅使用 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="8c85b-182">If you set *PREDICTION_SMOOTHING* to 0, the model uses ARTXP only.</span></span>

-   <span data-ttu-id="8c85b-183">如果将 PREDICTION_SMOOTHING\*\* 设置为 1，则模型将仅使用 ARIMA。</span><span class="sxs-lookup"><span data-stu-id="8c85b-183">If you set *PREDICTION_SMOOTHING* to 1, the model uses ARIMA only.</span></span>

-   <span data-ttu-id="8c85b-184">如果将 PREDICTION_SMOOTHING\*\* 设置为 0 和 1 之间的某个值，则模型对 ARTXP 算法所加的权重将随着预测步长增加而按指数规律减小。</span><span class="sxs-lookup"><span data-stu-id="8c85b-184">If you set *PREDICTION_SMOOTHING* to a value between 0 and 1, the model weights the ARTXP algorithm as an exponentially decreasing function of the prediction steps.</span></span> <span data-ttu-id="8c85b-185">同时，模型还将 ARIMA 算法的权重设置为 ARTXP 权重的 1 补数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-185">At the same time, the model also weights the ARIMA algorithm as the 1-complement of the ARTXP weight.</span></span> <span data-ttu-id="8c85b-186">模型使用规范化和一个稳定常量来平滑曲线。</span><span class="sxs-lookup"><span data-stu-id="8c85b-186">The model uses normalization and a stabilization constant to smooth the curves.</span></span>

 <span data-ttu-id="8c85b-187">一般来说，如果最多预测 5 个时间段，则 ARTXP 几乎总是最佳选择。</span><span class="sxs-lookup"><span data-stu-id="8c85b-187">In general, if you predict up to 5 time slices, ARTXP is almost always the better choice.</span></span> <span data-ttu-id="8c85b-188">但是，当增加要预测的时间段的个数时，ARIMA 的性能通常会更好。</span><span class="sxs-lookup"><span data-stu-id="8c85b-188">However, as you increase the number of time slices to predict, ARIMA typically performs better.</span></span>

 <span data-ttu-id="8c85b-189">下图演示当 PREDICTION_SMOOTHING\*\* 设置为默认值 0.5 时模型如何混合使用这两个算法。</span><span class="sxs-lookup"><span data-stu-id="8c85b-189">The following diagram illustrates how the model blends the algorithms when *PREDICTION_SMOOTHING* is set to the default value, 0.5.</span></span> <span data-ttu-id="8c85b-190">ARIMA 和 ARTXP 开始时权重相等，但随着预测步骤数增加，ARIMA 的权重越来越大。</span><span class="sxs-lookup"><span data-stu-id="8c85b-190">ARIMA and ARTXP are weighted equally at first, but as the number of prediction steps increases, ARIMA is weighed more heavily.</span></span>

 <span data-ttu-id="8c85b-191">![时序算法混合的默认曲线](../media/time-series-mixing-default.gif "时序算法混合的默认曲线")</span><span class="sxs-lookup"><span data-stu-id="8c85b-191">![default curve for mix of time series algorithms](../media/time-series-mixing-default.gif "default curve for mix of time series algorithms")</span></span>

 <span data-ttu-id="8c85b-192">而下图演示当 PREDICTION_SMOOTHING\*\* 设置为 0.2 时如何混合使用这两个算法。</span><span class="sxs-lookup"><span data-stu-id="8c85b-192">In contrast, the following diagram illustrates the blending of the algorithms when *PREDICTION_SMOOTHING* is set to 0.2.</span></span> <span data-ttu-id="8c85b-193">对于步骤 [!INCLUDE[tabValue](../../includes/tabvalue-md.md)]，模型为 ARIMA 加的权重为 0.2，为 ARTXP 加的权重为 0.8。</span><span class="sxs-lookup"><span data-stu-id="8c85b-193">For step [!INCLUDE[tabValue](../../includes/tabvalue-md.md)], the model weights ARIMA as 0.2 and ARTXP as 0.8.</span></span> <span data-ttu-id="8c85b-194">此后，ARIMA 的权重将按指数规律增大，而 ARTXP 的权重将按指数规律减小。</span><span class="sxs-lookup"><span data-stu-id="8c85b-194">Thereafter, the weight of ARIMA exponentially increases and the weight of ARTXP exponentially decreases.</span></span>

 <span data-ttu-id="8c85b-195">![时序模型混合的衰减曲线](../media/time-series-blending-curve.gif "时序模型混合的衰减曲线")</span><span class="sxs-lookup"><span data-stu-id="8c85b-195">![decay curve for time series model mixing](../media/time-series-blending-curve.gif "decay curve for time series model mixing")</span></span>

### <a name="setting-algorithm-parameters"></a><span data-ttu-id="8c85b-196">设置算法参数</span><span class="sxs-lookup"><span data-stu-id="8c85b-196">Setting Algorithm Parameters</span></span>
 <span data-ttu-id="8c85b-197">下表介绍可用于 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法的参数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-197">The following table describes the parameters that can be used with the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm.</span></span>

|<span data-ttu-id="8c85b-198">参数</span><span class="sxs-lookup"><span data-stu-id="8c85b-198">Parameter</span></span>|<span data-ttu-id="8c85b-199">说明</span><span class="sxs-lookup"><span data-stu-id="8c85b-199">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="8c85b-200">*AUTO_DETECT_PERIODICITY*</span><span class="sxs-lookup"><span data-stu-id="8c85b-200">*AUTO_DETECT_PERIODICITY*</span></span>|<span data-ttu-id="8c85b-201">指定一个介于 [!INCLUDE[tabValue](../../includes/tabvalue-md.md)] 和 1 之间的数值，用于检测周期。</span><span class="sxs-lookup"><span data-stu-id="8c85b-201">Specifies a numeric value between [!INCLUDE[tabValue](../../includes/tabvalue-md.md)] and 1 that detects periodicity.</span></span> <span data-ttu-id="8c85b-202">默认值为 0.6。</span><span class="sxs-lookup"><span data-stu-id="8c85b-202">The default is 0.6.</span></span><br /><br /> <span data-ttu-id="8c85b-203">如果将此值设置为比较接近于 [!INCLUDE[tabValue](../../includes/tabvalue-md.md)]的数，则只检测周期性强的数据的周期。</span><span class="sxs-lookup"><span data-stu-id="8c85b-203">If the value is closer to [!INCLUDE[tabValue](../../includes/tabvalue-md.md)], periodicity is detected only for strongly periodic data.</span></span><br /><br /> <span data-ttu-id="8c85b-204">如果将此值设置为比较接近于 1 的数，则往往会发现许多接近周期的模式并倾向于自动生成周期提示。</span><span class="sxs-lookup"><span data-stu-id="8c85b-204">Setting this value closer to 1 favors the discovery of many patterns that are almost periodic and the automatic generation of periodicity hints.</span></span><br /><br /> <span data-ttu-id="8c85b-205">注意：处理大量的周期提示可能会导致模型定型时间明显延长，不过模型会更精确。</span><span class="sxs-lookup"><span data-stu-id="8c85b-205">Note: Dealing with many periodicity hints will likely lead to significantly longer model training times, but more accurate models.</span></span>|
|<span data-ttu-id="8c85b-206">*COMPLEXITY_PENALTY*</span><span class="sxs-lookup"><span data-stu-id="8c85b-206">*COMPLEXITY_PENALTY*</span></span>|<span data-ttu-id="8c85b-207">控制决策树的增长。</span><span class="sxs-lookup"><span data-stu-id="8c85b-207">Controls the growth of the decision tree.</span></span> <span data-ttu-id="8c85b-208">默认值为 0.1。</span><span class="sxs-lookup"><span data-stu-id="8c85b-208">The default is 0.1.</span></span><br /><br /> <span data-ttu-id="8c85b-209">减少该值将增大拆分的几率。</span><span class="sxs-lookup"><span data-stu-id="8c85b-209">Decreasing this value increases the chance of a split.</span></span> <span data-ttu-id="8c85b-210">增大该值将减小拆分的几率。</span><span class="sxs-lookup"><span data-stu-id="8c85b-210">Increasing this value decreases the chance of a split.</span></span><br /><br /> <span data-ttu-id="8c85b-211">注意：此参数仅在某些版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-211">Note: This parameter is only available in some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="8c85b-212">*FORECAST_METHOD*</span><span class="sxs-lookup"><span data-stu-id="8c85b-212">*FORECAST_METHOD*</span></span>|<span data-ttu-id="8c85b-213">指定要用于分析和预测的算法。</span><span class="sxs-lookup"><span data-stu-id="8c85b-213">Specifies which algorithm to use for analysis and prediction.</span></span> <span data-ttu-id="8c85b-214">可能值为 ARTXP、ARIMA 或 MIXED。</span><span class="sxs-lookup"><span data-stu-id="8c85b-214">Possible values are ARTXP, ARIMA, or MIXED.</span></span> <span data-ttu-id="8c85b-215">默认值为 MIXED。</span><span class="sxs-lookup"><span data-stu-id="8c85b-215">The default is MIXED.</span></span>|
|<span data-ttu-id="8c85b-216">*HISTORIC_MODEL_COUNT*</span><span class="sxs-lookup"><span data-stu-id="8c85b-216">*HISTORIC_MODEL_COUNT*</span></span>|<span data-ttu-id="8c85b-217">指定将要生成的历史模型的数量。</span><span class="sxs-lookup"><span data-stu-id="8c85b-217">Specifies the number of historic models that will be built.</span></span> <span data-ttu-id="8c85b-218">默认值为 1。</span><span class="sxs-lookup"><span data-stu-id="8c85b-218">The default is 1.</span></span><br /><br /> <span data-ttu-id="8c85b-219">注意：此参数仅在某些版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-219">Note: This parameter is only available in some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="8c85b-220">*HISTORICAL_MODEL_GAP*</span><span class="sxs-lookup"><span data-stu-id="8c85b-220">*HISTORICAL_MODEL_GAP*</span></span>|<span data-ttu-id="8c85b-221">指定两个连续的历史模型之间的时间间隔。</span><span class="sxs-lookup"><span data-stu-id="8c85b-221">Specifies the time lag between two consecutive historic models.</span></span> <span data-ttu-id="8c85b-222">默认值为 10。</span><span class="sxs-lookup"><span data-stu-id="8c85b-222">The default is 10.</span></span> <span data-ttu-id="8c85b-223">该值表示时间单位数，其中单位由模型定义。</span><span class="sxs-lookup"><span data-stu-id="8c85b-223">The value represents a number of time units, where the unit is defined by the model.</span></span><br /><br /> <span data-ttu-id="8c85b-224">例如，如果将此值设置为 g，则将以 g、2\*g、3\*g（依此类推）的时间间隔为被时间段截断的数据生成历史模型。</span><span class="sxs-lookup"><span data-stu-id="8c85b-224">For example, setting this value to g causes historic models to be built for data that is truncated by time slices at intervals of g, 2\*g, 3\*g, and so on.</span></span><br /><br /> <span data-ttu-id="8c85b-225">注意：此参数仅在某些版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-225">Note: This parameter is only available in some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="8c85b-226">*INSTABILITY_SENSITIVITY*</span><span class="sxs-lookup"><span data-stu-id="8c85b-226">*INSTABILITY_SENSITIVITY*</span></span>|<span data-ttu-id="8c85b-227">控制预测方差超过特定阈值的点，在该点后 ARTXP 算法将禁止预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-227">Controls the point at which prediction variance exceeds a certain threshold, after which the ARTXP algorithm suppresses predictions.</span></span> <span data-ttu-id="8c85b-228">默认值为 1。</span><span class="sxs-lookup"><span data-stu-id="8c85b-228">The default value is 1.</span></span><br /><br /> <span data-ttu-id="8c85b-229">注意：此参数不适用于仅使用 ARIMA 的模型。</span><span class="sxs-lookup"><span data-stu-id="8c85b-229">Note: This parameter does not apply to models that use ARIMA only.</span></span><br /><br /> <span data-ttu-id="8c85b-230">默认值 1 提供与 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]相同的行为。</span><span class="sxs-lookup"><span data-stu-id="8c85b-230">The default value of 1 provides the same behavior as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="8c85b-231">监视每个预测的规范化标准偏差。</span><span class="sxs-lookup"><span data-stu-id="8c85b-231">monitors the normalized standard deviation for each prediction.</span></span> <span data-ttu-id="8c85b-232">对于任何预测，只要该值超过阈值，时序算法就会返回 NULL 并停止预测过程。</span><span class="sxs-lookup"><span data-stu-id="8c85b-232">As soon as this value exceeds the threshold for any prediction, the time series algorithm returns a NULL and stops the prediction process.</span></span><br /><br /> <span data-ttu-id="8c85b-233">值 [!INCLUDE[tabValue](../../includes/tabvalue-md.md)] 将停止不稳定的检测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-233">A value of [!INCLUDE[tabValue](../../includes/tabvalue-md.md)] stops instability detection.</span></span> <span data-ttu-id="8c85b-234">这意味着无论方差为多少，都可以创建无限个预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-234">This means that you can create an infinite number of predictions, regardless of the variance.</span></span><br /><br /> <span data-ttu-id="8c85b-235">注意：此参数只能在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise 中进行修改。</span><span class="sxs-lookup"><span data-stu-id="8c85b-235">Note: This parameter can only be modified in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise.</span></span> <span data-ttu-id="8c85b-236">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Standard 中， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 仅使用默认值 1。</span><span class="sxs-lookup"><span data-stu-id="8c85b-236">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Standard, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses only the default value of 1.</span></span>|
|<span data-ttu-id="8c85b-237">*MAXIMUM_SERIES_VALUE*</span><span class="sxs-lookup"><span data-stu-id="8c85b-237">*MAXIMUM_SERIES_VALUE*</span></span>|<span data-ttu-id="8c85b-238">指定用于预测的最大值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-238">Specifies the maximum value to use for predictions.</span></span> <span data-ttu-id="8c85b-239">此参数与*MINIMUM_SERIES_VALUE*一起使用，以将预测约束为某个预期范围。</span><span class="sxs-lookup"><span data-stu-id="8c85b-239">This parameter is used, together with *MINIMUM_SERIES_VALUE*, to constrain the predictions to some expected range.</span></span> <span data-ttu-id="8c85b-240">例如，您可以指定任何一天的预测销售数量决不应超过库存产品数量。</span><span class="sxs-lookup"><span data-stu-id="8c85b-240">For example, you can specify that the predicted sales quantity for any day should never exceed the number of products in inventory.</span></span><br /><br /> <span data-ttu-id="8c85b-241">注意：此参数仅在某些版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-241">Note: This parameter is only available in some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="8c85b-242">*MINIMUM_SERIES_VALUE*</span><span class="sxs-lookup"><span data-stu-id="8c85b-242">*MINIMUM_SERIES_VALUE*</span></span>|<span data-ttu-id="8c85b-243">指定可以预测的最小值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-243">Specifies the minimum value that can be predicted.</span></span> <span data-ttu-id="8c85b-244">此参数与 MAXIMUM_SERIES_VALUE\*\* 一起用于将预测约束到某一预期范围。</span><span class="sxs-lookup"><span data-stu-id="8c85b-244">This parameter is used, together with *MAXIMUM_SERIES_VALUE*, to constrain the predictions to some expected range.</span></span> <span data-ttu-id="8c85b-245">例如，可以指定预测的销售额决不应为负数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-245">For example, you can specify that the predicted sales quantity should never be a negative number.</span></span><br /><br /> <span data-ttu-id="8c85b-246">注意：此参数仅在某些版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-246">Note: This parameter is only available in some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|
|<span data-ttu-id="8c85b-247">*MINIMUM_SUPPORT*</span><span class="sxs-lookup"><span data-stu-id="8c85b-247">*MINIMUM_SUPPORT*</span></span>|<span data-ttu-id="8c85b-248">指定在每个时序树中生成一个拆分所需的最小时间段数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-248">Specifies the minimum number of time slices that are required to generate a split in each time series tree.</span></span> <span data-ttu-id="8c85b-249">默认值为 10。</span><span class="sxs-lookup"><span data-stu-id="8c85b-249">The default is 10.</span></span>|
|<span data-ttu-id="8c85b-250">*MISSING_VALUE_SUBSTITUTION*</span><span class="sxs-lookup"><span data-stu-id="8c85b-250">*MISSING_VALUE_SUBSTITUTION*</span></span>|<span data-ttu-id="8c85b-251">指定如何填补历史数据中的空白。</span><span class="sxs-lookup"><span data-stu-id="8c85b-251">Specifies how gaps in historical data are filled.</span></span> <span data-ttu-id="8c85b-252">默认情况下，不允许数据中存在空白。</span><span class="sxs-lookup"><span data-stu-id="8c85b-252">By default, gaps in data are not allowed.</span></span> <span data-ttu-id="8c85b-253">如果数据中包含多个序列，则序列也不能有参差不齐的边缘。</span><span class="sxs-lookup"><span data-stu-id="8c85b-253">If your data contains multiple series, the series also cannot have ragged edges.</span></span> <span data-ttu-id="8c85b-254">也就是说，所有序列都应具有相同的起点和终点。</span><span class="sxs-lookup"><span data-stu-id="8c85b-254">That is, all series should have the same start and end points.</span></span> <span data-ttu-id="8c85b-255">对时序模型执行 `PREDICTION JOIN` 时，[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 还使用此参数的值来填补新数据中的空白。</span><span class="sxs-lookup"><span data-stu-id="8c85b-255">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] also uses the value of this parameter to fill gaps in new data when you perform a `PREDICTION JOIN` on time series model.</span></span> <span data-ttu-id="8c85b-256">下表将列出此参数的可能值：</span><span class="sxs-lookup"><span data-stu-id="8c85b-256">The following table lists the possible values for this parameter:</span></span><br /><br /> <span data-ttu-id="8c85b-257">无：默认值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-257">None: Default.</span></span> <span data-ttu-id="8c85b-258">用沿定型模型曲线绘制的值来替换缺失值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-258">Replaces missing values with values plotted along the curve of the trained model.</span></span><br /><br /> <span data-ttu-id="8c85b-259">上一个：重复前一时间段中的值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-259">Previous: Repeats the value from the previous time slice.</span></span><br /><br /> <span data-ttu-id="8c85b-260">平均值：使用定型时所用的时间段的变动平均值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-260">Mean: Uses a moving average of time slices used in training.</span></span><br /><br /> <span data-ttu-id="8c85b-261">数值常量：使用指定的数字来替换所有缺失值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-261">Numeric constant: Uses the specified number to replace all missing values.</span></span>|
|<span data-ttu-id="8c85b-262">*PERIODICITY_HINT*</span><span class="sxs-lookup"><span data-stu-id="8c85b-262">*PERIODICITY_HINT*</span></span>|<span data-ttu-id="8c85b-263">提供算法的有关数据周期的提示。</span><span class="sxs-lookup"><span data-stu-id="8c85b-263">Provides a hint to the algorithm as to the periodicity of the data.</span></span> <span data-ttu-id="8c85b-264">例如，如果销售额按年度变化，且序列中的度量单位是月，则周期为 12。</span><span class="sxs-lookup"><span data-stu-id="8c85b-264">For example, if sales vary by year, and the unit of measurement in the series is months, the periodicity is 12.</span></span> <span data-ttu-id="8c85b-265">此参数采用 {n [, n]} 格式，其中 n 为任意正数。</span><span class="sxs-lookup"><span data-stu-id="8c85b-265">This parameter takes the format of {n [, n]}, where n is any positive number.</span></span><br /><br /> <span data-ttu-id="8c85b-266">方括号 [] 中的 n 是可选项，并且可以按需多次重复。</span><span class="sxs-lookup"><span data-stu-id="8c85b-266">The n in the brackets [] is optional and can be repeated as frequently as needed.</span></span> <span data-ttu-id="8c85b-267">例如，若要为按月提供的数据提供多个周期提示，则可以输入 {12, 3, 1} 来检测年度、季度和月的模式。</span><span class="sxs-lookup"><span data-stu-id="8c85b-267">For example, to provide multiple periodicity hints for data supplied monthly, you might enter {12, 3, 1} to detect patterns for the year, quarter, and month.</span></span> <span data-ttu-id="8c85b-268">但是，周期对模型质量有重大影响。</span><span class="sxs-lookup"><span data-stu-id="8c85b-268">However, periodicity has a strong effect on model quality.</span></span> <span data-ttu-id="8c85b-269">如果给出的提示与实际周期不同，则会对结果造成不良影响。</span><span class="sxs-lookup"><span data-stu-id="8c85b-269">If the hint that you give differs from the actual periodicity, your results can be adversely affected.</span></span><br /><br /> <span data-ttu-id="8c85b-270">默认值为 {1}。</span><span class="sxs-lookup"><span data-stu-id="8c85b-270">The default is {1}.</span></span><br /><br /> <span data-ttu-id="8c85b-271">注意：需要大括号。</span><span class="sxs-lookup"><span data-stu-id="8c85b-271">Note: The braces are required.</span></span> <span data-ttu-id="8c85b-272">另外，此参数具有字符串数据类型。</span><span class="sxs-lookup"><span data-stu-id="8c85b-272">Also, this parameter has a string data type.</span></span> <span data-ttu-id="8c85b-273">因此，如果在数据挖掘扩展插件 (DMX) 语句中键入此参数，则必须用引号将数字和大括号括起来。</span><span class="sxs-lookup"><span data-stu-id="8c85b-273">Therefore, if you type this parameter as part of a Data Mining Extensions (DMX) statement, you must enclose the number and braces in quotation marks.</span></span>|
|<span data-ttu-id="8c85b-274">*PREDICTION_SMOOTHING*</span><span class="sxs-lookup"><span data-stu-id="8c85b-274">*PREDICTION_SMOOTHING*</span></span>|<span data-ttu-id="8c85b-275">指定应如何混合模型以优化预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-275">Specifies how the model should be mixed to optimize forecasting.</span></span> <span data-ttu-id="8c85b-276">此参数仅在某些版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中可用。</span><span class="sxs-lookup"><span data-stu-id="8c85b-276">This parameter is only available in some editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="8c85b-277">可以键入 [!INCLUDE[tabValue](../../includes/tabvalue-md.md)] 和 1 之间的任何值，也可以使用以下值之一：</span><span class="sxs-lookup"><span data-stu-id="8c85b-277">You can type any value between [!INCLUDE[tabValue](../../includes/tabvalue-md.md)] and 1 or use one of the following values:</span></span><br /><br /> [!INCLUDE[tabValue](../../includes/tabvalue-md.md)]<span data-ttu-id="8c85b-278">：指定预测仅使用 ARTXP。</span><span class="sxs-lookup"><span data-stu-id="8c85b-278">: Specifies that prediction uses ARTXP only.</span></span> <span data-ttu-id="8c85b-279">针对较少的预测来优化预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-279">Forecasting is optimized for fewer predictions.</span></span><br /><br /> <span data-ttu-id="8c85b-280">0.5： (默认值) 指定用于预测这两种算法都应使用并混合结果。</span><span class="sxs-lookup"><span data-stu-id="8c85b-280">0.5: (Default) Specifies that for prediction both algorithms should be used and the results blended.</span></span><br /><br /> <span data-ttu-id="8c85b-281">1：指定预测仅使用 ARIMA。</span><span class="sxs-lookup"><span data-stu-id="8c85b-281">1: Specifies that prediction uses ARIMA only.</span></span> <span data-ttu-id="8c85b-282">针对多个预测来优化预测。</span><span class="sxs-lookup"><span data-stu-id="8c85b-282">Forecasting is optimized for many predictions.</span></span><br /><br /> <br /><br /> <span data-ttu-id="8c85b-283">注意：使用*FORECAST_METHOD*参数控制培训。</span><span class="sxs-lookup"><span data-stu-id="8c85b-283">Note: Use the *FORECAST_METHOD* parameter to control training.</span></span>|

### <a name="modeling-flags"></a><span data-ttu-id="8c85b-284">建模标志</span><span class="sxs-lookup"><span data-stu-id="8c85b-284">Modeling Flags</span></span>
 <span data-ttu-id="8c85b-285">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法支持下列建模标志。</span><span class="sxs-lookup"><span data-stu-id="8c85b-285">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm supports the following modeling flags.</span></span> <span data-ttu-id="8c85b-286">创建挖掘结构或挖掘模型时，定义建模标志以指定分析期间如何处理每列中的值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-286">When you create the mining structure or mining model, you define modeling flags to specify how values in each column are handled during analysis.</span></span> <span data-ttu-id="8c85b-287">有关详细信息，请参阅[建模标志（数据挖掘）](modeling-flags-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="8c85b-287">For more information, see [Modeling Flags &#40;Data Mining&#41;](modeling-flags-data-mining.md).</span></span>

|<span data-ttu-id="8c85b-288">建模标志</span><span class="sxs-lookup"><span data-stu-id="8c85b-288">Modeling Flag</span></span>|<span data-ttu-id="8c85b-289">说明</span><span class="sxs-lookup"><span data-stu-id="8c85b-289">Description</span></span>|
|-------------------|-----------------|
|<span data-ttu-id="8c85b-290">NOT NULL</span><span class="sxs-lookup"><span data-stu-id="8c85b-290">NOT NULL</span></span>|<span data-ttu-id="8c85b-291">指示该列不能包含 Null。</span><span class="sxs-lookup"><span data-stu-id="8c85b-291">Indicates that the column cannot contain a null.</span></span> <span data-ttu-id="8c85b-292">如果 Analysis Services 在模型定型过程中遇到 Null 值，将会导致错误。</span><span class="sxs-lookup"><span data-stu-id="8c85b-292">An error will result if Analysis Services encounters a null during model training.</span></span><br /><br /> <span data-ttu-id="8c85b-293">适用于挖掘结构列。</span><span class="sxs-lookup"><span data-stu-id="8c85b-293">Applies to mining structure columns.</span></span>|
|<span data-ttu-id="8c85b-294">MODEL_EXISTENCE_ONLY</span><span class="sxs-lookup"><span data-stu-id="8c85b-294">MODEL_EXISTENCE_ONLY</span></span>|<span data-ttu-id="8c85b-295">表示该列将被视为具有两个可能状态：Missing 和 Existing。</span><span class="sxs-lookup"><span data-stu-id="8c85b-295">Means that the column will be treated as having two possible states: Missing and Existing.</span></span> <span data-ttu-id="8c85b-296">Null 表示缺失值。</span><span class="sxs-lookup"><span data-stu-id="8c85b-296">A null is a missing value.</span></span><br /><br /> <span data-ttu-id="8c85b-297">适用于挖掘模型列。</span><span class="sxs-lookup"><span data-stu-id="8c85b-297">Applies to mining model columns.</span></span>|

## <a name="requirements"></a><span data-ttu-id="8c85b-298">要求</span><span class="sxs-lookup"><span data-stu-id="8c85b-298">Requirements</span></span>
 <span data-ttu-id="8c85b-299">时序模型中必须包含一个含有唯一值的 Key Time 列、输入列以及至少一个可预测列。</span><span class="sxs-lookup"><span data-stu-id="8c85b-299">A time series model must contain a key time column that contains unique values, input columns, and at least one predictable column.</span></span>

### <a name="input-and-predictable-columns"></a><span data-ttu-id="8c85b-300">输入列和可预测列</span><span class="sxs-lookup"><span data-stu-id="8c85b-300">Input and Predictable Columns</span></span>
 <span data-ttu-id="8c85b-301">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法支持特定的输入列内容类型、可预测列内容类型和建模标志，如下表所列。</span><span class="sxs-lookup"><span data-stu-id="8c85b-301">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm supports the specific input column content types, predictable column content types, and modeling flags that are listed in the following table.</span></span>

|<span data-ttu-id="8c85b-302">列</span><span class="sxs-lookup"><span data-stu-id="8c85b-302">Column</span></span>|<span data-ttu-id="8c85b-303">内容类型</span><span class="sxs-lookup"><span data-stu-id="8c85b-303">Content types</span></span>|
|------------|-------------------|
|<span data-ttu-id="8c85b-304">输入属性</span><span class="sxs-lookup"><span data-stu-id="8c85b-304">Input attribute</span></span>|<span data-ttu-id="8c85b-305">Continuous、Key、Key Time 和 Table</span><span class="sxs-lookup"><span data-stu-id="8c85b-305">Continuous ,Key, Key Time, and Table</span></span>|
|<span data-ttu-id="8c85b-306">可预测属性</span><span class="sxs-lookup"><span data-stu-id="8c85b-306">Predictable attribute</span></span>|<span data-ttu-id="8c85b-307">Continuous 和 Table</span><span class="sxs-lookup"><span data-stu-id="8c85b-307">Continuous, Table</span></span>|

> [!NOTE]
>  <span data-ttu-id="8c85b-308">支持 Cyclical 和 Ordered 内容类型，但算法会将它们视为离散值，不会进行特殊处理。</span><span class="sxs-lookup"><span data-stu-id="8c85b-308">Cyclical and Ordered content types are supported, but the algorithm treats them as discrete values and does not perform special processing.</span></span>

## <a name="see-also"></a><span data-ttu-id="8c85b-309">另请参阅</span><span class="sxs-lookup"><span data-stu-id="8c85b-309">See Also</span></span>
 <span data-ttu-id="8c85b-310">[Microsoft 时序算法](microsoft-time-series-algorithm.md)[时序模型查询示例](time-series-model-query-examples.md) [&#40;Analysis Services 数据挖掘的时序模型的挖掘模型内容&#41;](mining-model-content-for-time-series-models-analysis-services-data-mining.md)</span><span class="sxs-lookup"><span data-stu-id="8c85b-310">[Microsoft Time Series Algorithm](microsoft-time-series-algorithm.md) [Time Series Model Query Examples](time-series-model-query-examples.md) [Mining Model Content for Time Series Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-time-series-models-analysis-services-data-mining.md)</span></span>


