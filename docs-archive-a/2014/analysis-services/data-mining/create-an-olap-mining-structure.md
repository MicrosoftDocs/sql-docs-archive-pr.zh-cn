---
title: 创建 OLAP 挖掘结构 |Microsoft Docs
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21cbdc9d-d33c-4026-b9ef-1be2bd92b3b1
author: minewiskan
ms.author: owend
ms.openlocfilehash: c470af6865bf6bb44202b73ffd70cf3c7c1ee8e2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588756"
---
# <a name="create-an-olap-mining-structure"></a><span data-ttu-id="df9b9-102">创建 OLAP 挖掘结构</span><span class="sxs-lookup"><span data-stu-id="df9b9-102">Create an OLAP Mining Structure</span></span>
  <span data-ttu-id="df9b9-103">基于 OLAP 多维数据集或其他多维数据存储区创建数据挖掘模型有很多好处。</span><span class="sxs-lookup"><span data-stu-id="df9b9-103">There are many advantages to creating a data mining model based on an OLAP cube or other multidimensional data store.</span></span> <span data-ttu-id="df9b9-104">OLAP 解决方案已经包含大量的组织良好、整洁且格式正确的数据；但是，这些数据十分复杂，以致用户难以通过即席浏览找到有意义的模式。</span><span class="sxs-lookup"><span data-stu-id="df9b9-104">An OLAP solution already contains huge amounts of data that is well organized, cleaned and properly formatted; however, the complexity of the data is such that users are unlikely to find meaningful patterns by ad hoc exploration.</span></span> <span data-ttu-id="df9b9-105">数据挖掘提供发现新关联和提供可操作意见的能力。</span><span class="sxs-lookup"><span data-stu-id="df9b9-105">Data mining offers the ability to discover new correlations and provide actionable insight.</span></span>  
  
 <span data-ttu-id="df9b9-106">本主题介绍如何基于现有多维解决方案中的维度和相关度量值创建 OLAP 挖掘结构。</span><span class="sxs-lookup"><span data-stu-id="df9b9-106">This topic describes how to create an OLAP mining structure, based on a dimension and related measures in an existing multidimensional solution.</span></span>  
  
 [<span data-ttu-id="df9b9-107">要求</span><span class="sxs-lookup"><span data-stu-id="df9b9-107">Requirements</span></span>](#bkmk_Reqs)  
  
 [<span data-ttu-id="df9b9-108">OLAP 数据挖掘过程的概述</span><span class="sxs-lookup"><span data-stu-id="df9b9-108">Overview of OLAP Data Mining Process</span></span>](#bkmk_Overview)  
  
 [<span data-ttu-id="df9b9-109">在 OLAP 解决方案中使用数据挖掘的方案</span><span class="sxs-lookup"><span data-stu-id="df9b9-109">Scenarios for Using Data Mining in OLAP Solutions</span></span>](#bkmk_OLAP_Scenarios)  
  
 [<span data-ttu-id="df9b9-110">筛选器</span><span class="sxs-lookup"><span data-stu-id="df9b9-110">Filters</span></span>](#bkmk_Filters)  
  
 [<span data-ttu-id="df9b9-111">使用嵌套表</span><span class="sxs-lookup"><span data-stu-id="df9b9-111">Using Nested Tables</span></span>](#bkmk_Nested)  
  
 [<span data-ttu-id="df9b9-112">数据挖掘维度</span><span class="sxs-lookup"><span data-stu-id="df9b9-112">Data Mining Dimensions</span></span>](#bkmk_DMDimension)  
  
##  <a name="requirements-for-olap-mining-structure-and-models"></a><a name="bkmk_Reqs"></a><span data-ttu-id="df9b9-113">OLAP 挖掘结构和模型的要求</span><span class="sxs-lookup"><span data-stu-id="df9b9-113">Requirements for OLAP Mining Structure and Models</span></span>  
 <span data-ttu-id="df9b9-114">如果您在设计 OLAP 挖掘模型，则您的数据源在用于生成多维数据集的数据库中应该已存在。</span><span class="sxs-lookup"><span data-stu-id="df9b9-114">If you are designing an OLAP mining model, your data source already exists, in the database that was used to build the cube.</span></span> <span data-ttu-id="df9b9-115">您不能连接到远程多维数据集并生成数据挖掘对象；多维数据集对象必须在与数据库相同的解决方案内作为将生成的挖掘结构提供。</span><span class="sxs-lookup"><span data-stu-id="df9b9-115">You cannot connect to a remote cube and build data mining objects; the cube objects must be available within the same solution as the database as the mining structure that you will build.</span></span>  
  
 <span data-ttu-id="df9b9-116">如果没有原始项目文件，或者不想更改它们，则可以使用 Visual Studio 中的选项“从服务器导入(多维或数据挖掘)”\*\*\*\* 获取元数据和解决方案对象的副本。</span><span class="sxs-lookup"><span data-stu-id="df9b9-116">If you do not have the original project files, or do not wish to alter them, you can use the option in Visual Studio, **Import from Server (Multidimensional or Data Mining)**, to get a copy of the metadata and solution objects.</span></span> <span data-ttu-id="df9b9-117">然后，您可以修改部署目标，编辑数据源，并且在不影响现有对象的情况下使用多维数据集对象。</span><span class="sxs-lookup"><span data-stu-id="df9b9-117">You can then modify the deployment target, edit data sources, and work with the cube objects without affecting the existing objects.</span></span>  
  
 <span data-ttu-id="df9b9-118">有关详细信息，请参阅 [使用 Analysis Services 导入向导导入数据挖掘项目](import-a-data-mining-project-using-the-analysis-services-import-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="df9b9-118">For more information, see [Import a Data Mining Project using the Analysis Services Import Wizard](import-a-data-mining-project-using-the-analysis-services-import-wizard.md).</span></span>  
  
##  <a name="overview-of-olap-data-mining-process"></a><a name="bkmk_Overview"></a><span data-ttu-id="df9b9-119">OLAP 数据挖掘过程概述</span><span class="sxs-lookup"><span data-stu-id="df9b9-119">Overview of OLAP Data Mining Process</span></span>  
 <span data-ttu-id="df9b9-120">通过在解决方案资源管理器中右键单击“挖掘结构”\*\*\*\* 节点，然后选择“新建挖掘结构”\*\*\*\* 来启动数据挖掘向导。</span><span class="sxs-lookup"><span data-stu-id="df9b9-120">Start the Data Mining Wizard by right-clicking the **Mining Structures** node in Solution Explorer, and selecting  **New Mining Structure**.</span></span> <span data-ttu-id="df9b9-121">该向导可指导您通过以下步骤创建新挖掘结构和模型的结构：</span><span class="sxs-lookup"><span data-stu-id="df9b9-121">The wizard guides you through the following steps to create the structure for a new structure and model:</span></span>  
  
1.  <span data-ttu-id="df9b9-122">**选择定义方法**：选择数据源类型，然后选择 **“从现有多维数据集”**。</span><span class="sxs-lookup"><span data-stu-id="df9b9-122">**Select the Definition Method**: Here you select a data source type, and choose **From existing cube**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="df9b9-123">如上所述，您用作数据源的 OLAP 多维数据集必须在挖掘结构所在的相同数据库中存在。</span><span class="sxs-lookup"><span data-stu-id="df9b9-123">The OLAP cube that you use as a source must exist within the same database as the mining structure, as described above.</span></span> <span data-ttu-id="df9b9-124">此外，不能使用 PowerPivot for Excel 外接程序创建的多维数据集作为数据挖掘的源。</span><span class="sxs-lookup"><span data-stu-id="df9b9-124">Also, you cannot use a cube created by the PowerPivot for Excel add-in as a source for data mining.</span></span>  
  
2.  <span data-ttu-id="df9b9-125">**创建数据挖掘结构**：确定是仅生成结构还是生成具有挖掘模型的结构。</span><span class="sxs-lookup"><span data-stu-id="df9b9-125">**Create the Data Mining Structure**: Determine whether you will build just a structure, or a structure with a mining model.</span></span>  
  
     <span data-ttu-id="df9b9-126">必须也为分析您的数据选择适当的算法。</span><span class="sxs-lookup"><span data-stu-id="df9b9-126">You must also choose an appropriate algorithm for analyzing your data.</span></span> <span data-ttu-id="df9b9-127">有关哪种算法最适合特定任务的指南，请参阅 HYPERLINK“ms-help://SQL111033/as_1devconc/html/ed1fc83b-b98c-437e-bf53-4ff001b92d64.htm”数据挖掘算法（Analysis Services - 数据挖掘）。</span><span class="sxs-lookup"><span data-stu-id="df9b9-127">For guidance on which algorithm is best for certain tasks, see  HYPERLINK "ms-help://SQL111033/as_1devconc/html/ed1fc83b-b98c-437e-bf53-4ff001b92d64.htm" Data Mining Algorithms (Analysis Services - Data Mining).</span></span>  
  
3.  <span data-ttu-id="df9b9-128">**选择源多维数据集维度**：此步骤与选择数据源相同。</span><span class="sxs-lookup"><span data-stu-id="df9b9-128">**Select the Source Cube Dimension**: This step is the same as selecting a data source.</span></span> <span data-ttu-id="df9b9-129">您需要选择单个维度，该维度包含用于定型的最重要数据。</span><span class="sxs-lookup"><span data-stu-id="df9b9-129">You need to choose the single dimension that contains the most important data used for in training your model.</span></span> <span data-ttu-id="df9b9-130">您可以在以后从其他维度添加数据或筛选维度。</span><span class="sxs-lookup"><span data-stu-id="df9b9-130">You can add data from other dimensions later, or filter the dimension.</span></span>  
  
4.  <span data-ttu-id="df9b9-131">**选择事例键**：在刚选择的维度内，选择要用作事例数据的唯一标识符的属性（列）。</span><span class="sxs-lookup"><span data-stu-id="df9b9-131">**Select the Case Key**: Within the dimension that you just selected, choose an attribute (column) to serve as the unique identifier for your case data.</span></span>  
  
     <span data-ttu-id="df9b9-132">通常，将为您预先选择一列，但如果实际上存在多个键，您可以更改该列。</span><span class="sxs-lookup"><span data-stu-id="df9b9-132">Typically a column will be pre-selected for you, but you can change the column if in fact there are multiple keys.</span></span>  
  
5.  <span data-ttu-id="df9b9-133">**选择事例级别列**：从所选维度中选择属性，以及适用于您的分析的相关度量值。</span><span class="sxs-lookup"><span data-stu-id="df9b9-133">**Selecting Case Level Columns**: Here you choose the attributes from the selected dimension, and the related measures, that are relevant to your analysis.</span></span> <span data-ttu-id="df9b9-134">此步骤相当于从表中选择列。</span><span class="sxs-lookup"><span data-stu-id="df9b9-134">This step is equivalent to selecting columns from a table.</span></span>  
  
     <span data-ttu-id="df9b9-135">向导将自动包括以便您查看和选择使用来自所选维度的属性创建的任何度量值。</span><span class="sxs-lookup"><span data-stu-id="df9b9-135">The wizard automatically includes for your review and selection any measures that were created using attributes from the selected dimension.</span></span>  
  
     <span data-ttu-id="df9b9-136">例如，如果您的多维数据集包含基于客户的地理位置计算运费的度量值，并且您选择 Customer 维度作为用于建模的主数据源，则该度量值将建议为添加到模型的候选项。</span><span class="sxs-lookup"><span data-stu-id="df9b9-136">For example, if your cube contains a measure that calculates freight cost based on the customer's geographical location, and you chose the Customer dimension as your main data source for modeling, the measure will be proposed as a candidate for adding to the model.</span></span> <span data-ttu-id="df9b9-137">避免添加过多直接基于属性的度量值，因为在各列之间已存在一个在度量值公式中定义的隐式关系，并且此（预期）关联的强度可能会掩盖您可能发现的其他关系。</span><span class="sxs-lookup"><span data-stu-id="df9b9-137">Beware of adding too many measures that are already directly based on attributes, as there is already one implicit relationship between the columns, as defined in the measure formula, and the strength of this (expected) correlation can obscure other relationships that you might otherwise discover.</span></span>  
  
6.  <span data-ttu-id="df9b9-138">**指定挖掘模型列用法**：对于您添加到结构中的每个属性或度量值，必须指定该属性是应该用作预测还是用作输入。</span><span class="sxs-lookup"><span data-stu-id="df9b9-138">**Specify Mining Model Column Usage**: For each attribute or measure that you added to the structure, you must specify whether the attribute should be used for prediction, or used as input.</span></span> <span data-ttu-id="df9b9-139">如果您没有选择上述任何选项，仍将对数据进行处理，但数据将不用于分析；不过，数据将在您以后启用钻取时用作后台数据。</span><span class="sxs-lookup"><span data-stu-id="df9b9-139">If you do not select either of these options, the data will be processed but will not be used for analysis; however, it will be available as background data in case you later enable drillthrough.</span></span>  
  
7.  <span data-ttu-id="df9b9-140">**添加嵌套表**：单击可以添加相关表。</span><span class="sxs-lookup"><span data-stu-id="df9b9-140">**Add nested tables**: Click to add related tables.</span></span> <span data-ttu-id="df9b9-141">在 **“选择度量值组维度”** 对话框中，您可以从与当前维度相关的维度中选择单个维度。</span><span class="sxs-lookup"><span data-stu-id="df9b9-141">In the **Select a Measure Group Dimension** dialog box, you can choose a single dimension from among the dimensions that are related to the current dimension.</span></span>  
  
     <span data-ttu-id="df9b9-142">接下来，您可以使用 **“选择嵌套表键”** 对话框定义新维度与包含事例数据的维度的关联方式。</span><span class="sxs-lookup"><span data-stu-id="df9b9-142">Next, you use the **Select a Nested Table Key** dialog box to define how the new dimension is related to the dimension that contains the case data.</span></span>  
  
     <span data-ttu-id="df9b9-143">使用 **“选择嵌套表列”** 对话框可以从您要在分析中使用的新维度中选择属性和度量值。</span><span class="sxs-lookup"><span data-stu-id="df9b9-143">Use the **Select Nested Table Columns** dialog box to choose the attributes and measures from the new dimension that you want to use in analysis.</span></span> <span data-ttu-id="df9b9-144">您还必须指定嵌套属性是否将用于预测。</span><span class="sxs-lookup"><span data-stu-id="df9b9-144">You must also specify whether the nested attribute will be used for prediction.</span></span>  
  
     <span data-ttu-id="df9b9-145">在添加了您可能需要的所有嵌套属性后，返回到 **“指定挖掘模型列用法”** 页，然后单击 **“下一步”**。</span><span class="sxs-lookup"><span data-stu-id="df9b9-145">After you have added all the nested attributes you might need, return to the page, **Specify Mining Model Column Usage**, and click **Next**.</span></span>  
  
8.  <span data-ttu-id="df9b9-146">**指定列的内容和数据类型**：此时，您已添加了将用于分析的所有数据，并且必须为每个属性指定数据类型 \*\* 和 \*\* 内容类型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-146">**Specify Columns Content and Data Type**: By this point, you have added all the data that will be used for analysis, and must specify the *data type* and *content type* for each attribute.</span></span>  
  
     <span data-ttu-id="df9b9-147">在 OLAP 模型中，您没有自动检测到数据类型的选项，因为数据类型已由多维解决方案定义并且不能更改。</span><span class="sxs-lookup"><span data-stu-id="df9b9-147">In an OLAP model, you do not have the option to automatically detect data types, because the data type is already defined by the multidimensional solution and cannot be changed.</span></span> <span data-ttu-id="df9b9-148">键也是自动标识的。</span><span class="sxs-lookup"><span data-stu-id="df9b9-148">Keys are also automatically identified.</span></span> <span data-ttu-id="df9b9-149">有关详细信息，请参阅[数据类型（数据挖掘）](data-types-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="df9b9-149">For more information, see  [Data Types &#40;Data Mining&#41;](data-types-data-mining.md).</span></span>  
  
     <span data-ttu-id="df9b9-150">为模型中使用的每个列选择的 *内容类型* 将告知算法数据的处理方式。</span><span class="sxs-lookup"><span data-stu-id="df9b9-150">The *content type* that you choose for each column that you use in the model tells the algorithm how the data should be processed.</span></span> <span data-ttu-id="df9b9-151">有关详细信息，请参阅[内容类型（数据挖掘）](content-types-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="df9b9-151">For more information, see [Content Types &#40;Data Mining&#41;](content-types-data-mining.md).</span></span>  
  
9. <span data-ttu-id="df9b9-152">**对源多维数据集进行切片**：从中，您可以定义多维数据集中的筛选器，以便只选择目标更明确的数据和定型模型的子集。</span><span class="sxs-lookup"><span data-stu-id="df9b9-152">**Slicing the source cube**: Here you can define filters in a cube to select just a subset of data and train models that are more targeted.</span></span>  
  
     <span data-ttu-id="df9b9-153">您通过以下方式筛选多维数据集：选择要对其筛选的维度，选择包含您要使用的条件的层次结构级别，然后键入要用作筛选器的条件。</span><span class="sxs-lookup"><span data-stu-id="df9b9-153">You filter a cube by choosing the dimension to filter on, selecting the level of the hierarchy that contains the criteria you want to use, and then typing a condition to use as the filter.</span></span>  
  
10. <span data-ttu-id="df9b9-154">**创建测试集**：在此页上，您可以告知向导应留出多少数据以便测试模型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-154">**Create Testing Set**: On this page, you can tell the wizard how much data should be set aside for use in testing the model.</span></span> <span data-ttu-id="df9b9-155">如果数据将支持多个模型，则最好是创建一个保留数据集，以便能基于同一数据测试所有模型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-155">If your data will support multiple models, it is a good idea to create a holdout data set, so that all models can be tested on the same data.</span></span>  
  
     <span data-ttu-id="df9b9-156">有关详细信息，请参阅 [测试和验证（数据挖掘）](testing-and-validation-data-mining.md)生成数据挖掘项目。</span><span class="sxs-lookup"><span data-stu-id="df9b9-156">For more information, see [Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md).</span></span>  
  
11. <span data-ttu-id="df9b9-157">**完成向导**：在此页上，您可以为新的挖掘结构和关联的挖掘模型提供名称，并保存该结构和模型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-157">**Completing the Wizard**: On this page, you give a name to the new mining structure and the associated mining model, and save the structure and model.</span></span>  
  
     <span data-ttu-id="df9b9-158">在此页上，还可以设置以下选项：</span><span class="sxs-lookup"><span data-stu-id="df9b9-158">On this page, you can also can set the following options:</span></span>  
  
    -   <span data-ttu-id="df9b9-159">**允许钻取**</span><span class="sxs-lookup"><span data-stu-id="df9b9-159">**Allow drillthrough**</span></span>  
  
    -   <span data-ttu-id="df9b9-160">**创建挖掘模型维度**</span><span class="sxs-lookup"><span data-stu-id="df9b9-160">**Create mining model dimension**</span></span>  
  
    -   <span data-ttu-id="df9b9-161">**使用挖掘模型维度创建多维数据集**</span><span class="sxs-lookup"><span data-stu-id="df9b9-161">**Create cube using mining model dimension**</span></span>  
  
     <span data-ttu-id="df9b9-162">若要了解有关这些选项的详细信息，请参阅本主题后面的部分 [了解数据挖掘维度和钻取](#bkmk_DMDimension)。</span><span class="sxs-lookup"><span data-stu-id="df9b9-162">To learn more about these options, see the section later in this topic, [Understanding Data Mining Dimensions and Drillthrough](#bkmk_DMDimension).</span></span>  
  
 <span data-ttu-id="df9b9-163">此时，该挖掘结构及其模型仅为元数据；您将需要处理它们以获取结果。</span><span class="sxs-lookup"><span data-stu-id="df9b9-163">At this point the mining structure and its model are just metadata; you will need to process them both to get results.</span></span>  
  
##  <a name="scenarios-for-use-of-data-mining-with-olap-data"></a><a name="bkmk_OLAP_Scenarios"></a><span data-ttu-id="df9b9-164">将数据挖掘用于 OLAP 数据的方案</span><span class="sxs-lookup"><span data-stu-id="df9b9-164">Scenarios for Use of Data Mining with OLAP Data</span></span>  
 <span data-ttu-id="df9b9-165">OLAP 多维数据集通常包含如此多的成员和维度，以至于很难知道从何处开始进行数据挖掘。</span><span class="sxs-lookup"><span data-stu-id="df9b9-165">OLAP cubes frequently contain so many members and dimensions that it can be difficult to know where to begin with data mining.</span></span> <span data-ttu-id="df9b9-166">为了帮助标识多维数据集所包含的模式，通常需要标识单个相关维度，然后开始浏览与该维度相关的模式。</span><span class="sxs-lookup"><span data-stu-id="df9b9-166">To help identify the patterns that the cubes contain, typically you identify a single dimension of interest, and then begin to explore patterns related to that dimension.</span></span> <span data-ttu-id="df9b9-167">下表列出了几项常见的 OLAP 数据挖掘任务，说明了一些可能要应用各项任务的示例场景，并标识了要用于各项任务的数据挖掘算法。</span><span class="sxs-lookup"><span data-stu-id="df9b9-167">The following table lists several common OLAP data mining tasks, describes sample scenarios in which you might apply each task, and identifies the data mining algorithm to use for each task.</span></span>  
  
|<span data-ttu-id="df9b9-168">任务</span><span class="sxs-lookup"><span data-stu-id="df9b9-168">Task</span></span>|<span data-ttu-id="df9b9-169">示例方案</span><span class="sxs-lookup"><span data-stu-id="df9b9-169">Sample scenario</span></span>|<span data-ttu-id="df9b9-170">算法</span><span class="sxs-lookup"><span data-stu-id="df9b9-170">Algorithm</span></span>|  
|----------|---------------------|---------------|  
|<span data-ttu-id="df9b9-171">将成员分组为分类</span><span class="sxs-lookup"><span data-stu-id="df9b9-171">Group members into clusters</span></span>|<span data-ttu-id="df9b9-172">根据客户成员属性、客户购买的产品和客户支出的金额，将客户维度分段。</span><span class="sxs-lookup"><span data-stu-id="df9b9-172">Segment a customer dimension based on customer member properties, the products that the customers buy, and the amount of money that the customers spend.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="df9b9-173">聚类分析算法</span><span class="sxs-lookup"><span data-stu-id="df9b9-173">Clustering Algorithm</span></span>|  
|<span data-ttu-id="df9b9-174">查找受关注的或异常的成员</span><span class="sxs-lookup"><span data-stu-id="df9b9-174">Find interesting or abnormal members</span></span>|<span data-ttu-id="df9b9-175">根据销售额、利润、存储地点和存储量标识 Store 维度中受关注的或异常的商店。</span><span class="sxs-lookup"><span data-stu-id="df9b9-175">Identify interesting or abnormal stores in a store dimension based on sales, profit, store location, and store size.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="df9b9-176">决策树算法</span><span class="sxs-lookup"><span data-stu-id="df9b9-176">Decision Trees Algorithm</span></span>|  
|<span data-ttu-id="df9b9-177">查找受关注的或异常的单元</span><span class="sxs-lookup"><span data-stu-id="df9b9-177">Find interesting or abnormal cells</span></span>|<span data-ttu-id="df9b9-178">标识随时间变化而呈典型趋势的商店销售额。</span><span class="sxs-lookup"><span data-stu-id="df9b9-178">Identify store sales that go against typical trends over time.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="df9b9-179">时序算法</span><span class="sxs-lookup"><span data-stu-id="df9b9-179">Time Series Algorithm</span></span>|  
|<span data-ttu-id="df9b9-180">查找相关性</span><span class="sxs-lookup"><span data-stu-id="df9b9-180">Find correlations</span></span>|<span data-ttu-id="df9b9-181">确定导致服务器停机的因素，包括区域、计算机类型、操作系或购买日期。</span><span class="sxs-lookup"><span data-stu-id="df9b9-181">Identify factors that are related to server downtime, including region, machine type, OS, or purchase date.</span></span>|[!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="df9b9-182">Naïve Bayes 算法</span><span class="sxs-lookup"><span data-stu-id="df9b9-182">Naïve Bayes algorithm</span></span>|  
  
##  <a name="slicing-a-cube-vs-filtering-models"></a><a name="bkmk_Filters"></a><span data-ttu-id="df9b9-183">对多维数据集和筛选模型进行切片</span><span class="sxs-lookup"><span data-stu-id="df9b9-183">Slicing a Cube vs. Filtering Models</span></span>  
 <span data-ttu-id="df9b9-184">在您生成模型时对多维数据集进行切片类似于在关系挖掘模型上创建筛选器。</span><span class="sxs-lookup"><span data-stu-id="df9b9-184">Slicing the cube while you are building a model is like creating a filter on a relational mining model.</span></span> <span data-ttu-id="df9b9-185">在关系模型上，数据源上的筛选器将定义为 SQL 语句中的 WHERE 子句；在多维数据集中，使用编辑器来通过 MDX 创建筛选器语句。</span><span class="sxs-lookup"><span data-stu-id="df9b9-185">In a relational model, the filter on the data source is defined as a WHERE clause on a SQL statement; in a cube, you use the editor to create filter statements using MDX.</span></span>  
  
 <span data-ttu-id="df9b9-186">例如，一个多维数据集可能包含与在全球购买产品有关的信息，但对于您的市场活动，您要基于在英国居住、年龄超过 30 岁的女性客户的分析创建一个模型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-186">For example, a cube might contains information about purchases of products worldwide, but for your marketing campaign, you want to create a model based on analysis of female customers over 30 who live in the United Kingdom.</span></span>  
  
 <span data-ttu-id="df9b9-187">在此方案中，您将创建两个筛选器：</span><span class="sxs-lookup"><span data-stu-id="df9b9-187">In this scenario, you would create two filters:</span></span>  
  
-   <span data-ttu-id="df9b9-188">对于第一个筛选器，您将选择 "地域" 维度，选择 "区域" 层次结构，然后使用 "**筛选表达式**" 列表从可能的值中选择 "英国"。</span><span class="sxs-lookup"><span data-stu-id="df9b9-188">For the first filter, you would choose the Geography dimension, choose the hierarchy for Region, and then use the **Filter Expression** list to choose "United Kingdom" from the possible values.</span></span>  
  
-   <span data-ttu-id="df9b9-189">对于第二个筛选器，可以选择 "客户" 维度，选择 "性别" 属性，然后从属性值列表中选择 "女性"。</span><span class="sxs-lookup"><span data-stu-id="df9b9-189">For the second filter, you would choose the Customer dimension, select the Gender attribute, and select "Female" from the list of attribute values.</span></span>  
  
 <span data-ttu-id="df9b9-190">在已创建挖掘结构后，可以修改多维数据集数据和筛选条件的定义。</span><span class="sxs-lookup"><span data-stu-id="df9b9-190">After the mining structure has been created, you can modify both the definition of the cube data and the filter criteria.</span></span> <span data-ttu-id="df9b9-191">有关详细信息，请参阅 [Filter the Source Cube for a Mining Structure](../filter-the-source-cube-for-a-mining-structure.md)。</span><span class="sxs-lookup"><span data-stu-id="df9b9-191">For more information, see [Filter the Source Cube for a Mining Structure](../filter-the-source-cube-for-a-mining-structure.md).</span></span>  
  
 <span data-ttu-id="df9b9-192">**“挖掘结构”** 选项卡和 **“挖掘模型”** 选项卡均提供通过单击 **“定义多维数据集切片”** 向现有挖掘结构添加筛选器的选项。</span><span class="sxs-lookup"><span data-stu-id="df9b9-192">Both the **Mining Structure** tab and the **Mining Model** tab provide an option to add a filter to an existing mining structure, by clicking **Define a Cube Slice**.</span></span> <span data-ttu-id="df9b9-193">**“多维数据集切片”** 对话框可帮助您通过从下拉列表中选择值来生成有效的 MDX 筛选表达式。</span><span class="sxs-lookup"><span data-stu-id="df9b9-193">The **Slice Cube** dialog box helps you build a valid MDX filter expression by choosing value from dropdown lists.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="df9b9-194">请注意，用于设计和浏览多维数据集的界面在 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]中已更改。</span><span class="sxs-lookup"><span data-stu-id="df9b9-194">Note that the interface for designing and browsing cubes has been changed in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="df9b9-195">有关详细信息，请参阅 [浏览多维数据集中的数据和元数据](../multidimensional-models/browse-data-and-metadata-in-cube.md)。</span><span class="sxs-lookup"><span data-stu-id="df9b9-195">For more information, see [Browse data and metadata in Cube](../multidimensional-models/browse-data-and-metadata-in-cube.md).</span></span>  
  
 <span data-ttu-id="df9b9-196">您可以根据需要在多维数据集上添加任意多的筛选器以返回使用挖掘模型所需的数据。</span><span class="sxs-lookup"><span data-stu-id="df9b9-196">You can add as many filters on the cube as are required to return the data that you need for the mining model.</span></span> <span data-ttu-id="df9b9-197">还可以在各个多维数据集切片上定义切片。</span><span class="sxs-lookup"><span data-stu-id="df9b9-197">You can also define slices on individual cube slices.</span></span> <span data-ttu-id="df9b9-198">例如，如果结构中包含两个基于产品的嵌套表，则可以将一个表切为 2004 年 3 月，将另一个表切为 2004 年 4 月。</span><span class="sxs-lookup"><span data-stu-id="df9b9-198">For example, if your structure contains two nested tables that are based on products, you could slice one table on March 2004 and the other table on April 2004.</span></span> <span data-ttu-id="df9b9-199">然后，可以使用结果模型根据三月份的购物情况预测四月份的购物情况。</span><span class="sxs-lookup"><span data-stu-id="df9b9-199">The resulting model could then be used to predict purchases made in April based on the purchases that were made in March.</span></span>  
  
##  <a name="using-nested-tables-in-an-olap-mining-model"></a><a name="bkmk_Nested"></a><span data-ttu-id="df9b9-200">在 OLAP 挖掘模型中使用嵌套表</span><span class="sxs-lookup"><span data-stu-id="df9b9-200">Using Nested Tables in an OLAP Mining Model</span></span>  
 <span data-ttu-id="df9b9-201">在您使用数据挖掘向导基于多维数据集数据生成模型时，可以通过指定相关维度的名称，然后选择要添加到模型的属性或度量值，来添加嵌套表。</span><span class="sxs-lookup"><span data-stu-id="df9b9-201">When you use the Data Mining Wizard to build a model based on cube data, you can add nested tables by specifying the names of related dimensions and then choosing the attributes or measures to add to the model</span></span>  
  
 <span data-ttu-id="df9b9-202">例如，如果用于事例数据的主维度是 Customer，则可以将 Products 维度作为相关维度添加，因为预期客户可能会在一段时间中订购多个产品，并且多维数据集已通过订单事实表将各客户链接到许多产品。</span><span class="sxs-lookup"><span data-stu-id="df9b9-202">For example, if the main dimension used for case data is Customer, you might add as a related dimension the Products dimension, because you expect that a customer might have ordered multiple products over time, and the cube already links each customer to the many products via the order fact tables.</span></span>  
  
 <span data-ttu-id="df9b9-203">您通过单击 **“添加嵌套表”** ，在向导的 **“指定挖掘模型列用法”** 页中添加嵌套表。</span><span class="sxs-lookup"><span data-stu-id="df9b9-203">You add nested tables in the **Specify Mining Model Column Usage** page of the wizard, by clicking **Add Nested Tables**.</span></span> <span data-ttu-id="df9b9-204">这将打开一个对话框，该对话框将指导您完成选择相关维度以及任何度量值的过程。</span><span class="sxs-lookup"><span data-stu-id="df9b9-204">A dialog box opens that guides you through process of choosing a related dimension, as well as any measures.</span></span> <span data-ttu-id="df9b9-205">案例和嵌套维度必须由某一外键相关，并且度量值必须使用在事例或嵌套表中已包含的属性之一。</span><span class="sxs-lookup"><span data-stu-id="df9b9-205">The case and nested dimensions must be related by a foreign key, and measures must use one of the attributes that are already included in the case or nested tables.</span></span> <span data-ttu-id="df9b9-206">遗憾的是，这些限制实际上并不太能缩小范围，因此您必须注意仅选择那些对建模有用的属性。</span><span class="sxs-lookup"><span data-stu-id="df9b9-206">Unfortunately, these restrictions really don't do much to narrow the scope, so you must be careful to select only those attributes that are useful for modeling.</span></span>  
  
 <span data-ttu-id="df9b9-207">对于您添加到嵌套表的每个属性或度量值，您必须通过在 **“选择嵌套表列”** 对话框中选择 **“可预测”** 或 **“输入”** ，指定嵌套属性是否将用于预测。</span><span class="sxs-lookup"><span data-stu-id="df9b9-207">For each attribute or measure that you add to the nested table, you must specify whether the nested attribute will be used for prediction or not, by selecting **Predictable** or **Input** in the **Select Nested Table Columns** dialog box.</span></span> <span data-ttu-id="df9b9-208">如果没有选择上述任何选项，数据将添加到挖掘结构，但不用于分析。</span><span class="sxs-lookup"><span data-stu-id="df9b9-208">If you do not select either of these options, the data will be added to the mining structure but not used for analysis.</span></span>  
  
 <span data-ttu-id="df9b9-209">对于每个属性和度量值，您还必须指定属性是离散、离散化还是连续的。</span><span class="sxs-lookup"><span data-stu-id="df9b9-209">For each attribute and measure, you must also specify whether the attribute is discrete, discretized, or continuous.</span></span> <span data-ttu-id="df9b9-210">该向导将基于属性的数据类型来预先选择默认值，但您可能需要根据算法要求，更改这些默认值。</span><span class="sxs-lookup"><span data-stu-id="df9b9-210">The wizard will preselect a default based on the data type of the attribute, but you might need to change these, depending on the algorithm requirements.</span></span> <span data-ttu-id="df9b9-211">如果你选择的内容类型与你选择的算法不兼容 (例如，你可以将连续数值类型与) 的简单 Bayes 模型一起使用，而不会收到错误消息，直到你尝试处理该模型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-211">If you choose a content type that is not compatible with the algorithm you have chosen (for example, you use a continuous numeric type with a Naïve Bayes model), you won't get an error message till you try to process the model.</span></span>  
  
 <span data-ttu-id="df9b9-212">在您完成设置这些选项后，向导会将嵌套表添加到事例表中。</span><span class="sxs-lookup"><span data-stu-id="df9b9-212">When you are done setting these options, the wizard adds the nested table to the case table.</span></span> <span data-ttu-id="df9b9-213">嵌套表的默认名称为嵌套维度的名称，但是您可以重命名嵌套表和嵌套表的列。</span><span class="sxs-lookup"><span data-stu-id="df9b9-213">The default name for the nested table is the nested dimension name, but you can rename the nested table and its columns.</span></span> <span data-ttu-id="df9b9-214">您可以重复此过程，向挖掘结构添加多个嵌套表。</span><span class="sxs-lookup"><span data-stu-id="df9b9-214">You can repeat this process to add multiple nested tables to the mining structure.</span></span>  
  
 <span data-ttu-id="df9b9-215">能够像这样使用嵌套表数据是功能强大的 SQL Server 数据挖掘的一项功能，并且在多维数据集中，在使用相关数据子集方面几乎没有任何限制。</span><span class="sxs-lookup"><span data-stu-id="df9b9-215">The ability to use nested table data like this is a feature of SQL Server data mining that is particularly powerful, and in a cube, there are almost limitless possibilities for using related subsets of data.</span></span>  
  
##  <a name="understanding-data-mining-dimensions-and-drillthrough"></a><a name="bkmk_DMDimension"></a><span data-ttu-id="df9b9-216">了解数据挖掘维度和钻取</span><span class="sxs-lookup"><span data-stu-id="df9b9-216">Understanding Data Mining Dimensions and Drillthrough</span></span>  
 <span data-ttu-id="df9b9-217">通过选项 **“允许钻取”**，您可以在浏览模型时对基础多维数据集数据运行查询。</span><span class="sxs-lookup"><span data-stu-id="df9b9-217">The option, **Allow drillthrough**, lets you run queries against the underlying cube data while you are browsing the model.</span></span> <span data-ttu-id="df9b9-218">这些数据不包含在新的数据挖掘维度中，但 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库可以使用数据绑定从源多维数据集检索信息。</span><span class="sxs-lookup"><span data-stu-id="df9b9-218">The data is not contained in the new data mining dimension, but the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database can use the data bindings to retrieve the information from the source cube.</span></span>  
  
 <span data-ttu-id="df9b9-219">通过选项 **“创建挖掘模型维度”**，您可以在现有多维数据集内生成包含算法发现的模式的新维度。</span><span class="sxs-lookup"><span data-stu-id="df9b9-219">The option, **Create mining model dimension**, lets you generate a new dimension within the existing cube that contains the patterns discovered by the algorithm.</span></span> <span data-ttu-id="df9b9-220">新维度内的层次结构在很大程度上由模型类型确定。</span><span class="sxs-lookup"><span data-stu-id="df9b9-220">The hierarchy within the new dimension is determined largely by the model type.</span></span> <span data-ttu-id="df9b9-221">例如，聚类分析模型的表示形式是较为平面的，(All) 节点位于层次结构的顶部并且每个群集位于下一级别中。</span><span class="sxs-lookup"><span data-stu-id="df9b9-221">For example, the representation of a clustering model is fairly flat, with the (All) node at the top of the hierarchy and each cluster in the next level.</span></span> <span data-ttu-id="df9b9-222">相反，为决策树模型创建的维度可能具有表示树的分支的非常深的层次结构。</span><span class="sxs-lookup"><span data-stu-id="df9b9-222">In contrast, the dimension that is created for a decision tree model might have a very deep hierarchy, representing the branching of the tree.</span></span>  
  
 <span data-ttu-id="df9b9-223">通过选项 **“使用挖掘模型维度创建多维数据集”**，您可以将新的数据挖掘维度导出到新的多维数据集中。</span><span class="sxs-lookup"><span data-stu-id="df9b9-223">The option, **Create cube using mining model dimension**, lets you export the new data mining dimension into a new cube.</span></span> <span data-ttu-id="df9b9-224">在数据挖掘维度上进行钻取所需的任何对象都将自动包含。</span><span class="sxs-lookup"><span data-stu-id="df9b9-224">Any objects that are required for drillthrough on the data mining dimension will be included automatically.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="df9b9-225">只有以下模型类型支持数据挖掘维度的创建：基于 Microsoft 聚类分析算法、Microsoft 决策树算法或 Microsoft 关联算法的模型。</span><span class="sxs-lookup"><span data-stu-id="df9b9-225">Only these model types support the creation of data mining dimensions: models based on the Microsoft Clustering algorithm, the Microsoft Decision Trees algorithm, or the Microsoft Association algorithm.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="df9b9-226">另请参阅</span><span class="sxs-lookup"><span data-stu-id="df9b9-226">See Also</span></span>  
 <span data-ttu-id="df9b9-227">[数据挖掘算法 &#40;Analysis Services 数据挖掘&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="df9b9-227">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="df9b9-228">[挖掘结构列](mining-structure-columns.md) </span><span class="sxs-lookup"><span data-stu-id="df9b9-228">[Mining Structure Columns](mining-structure-columns.md) </span></span>  
 <span data-ttu-id="df9b9-229">[挖掘模型列](mining-model-columns.md) </span><span class="sxs-lookup"><span data-stu-id="df9b9-229">[Mining Model Columns](mining-model-columns.md) </span></span>  
 <span data-ttu-id="df9b9-230">[挖掘模型属性](mining-model-properties.md) </span><span class="sxs-lookup"><span data-stu-id="df9b9-230">[Mining Model Properties](mining-model-properties.md) </span></span>  
 [<span data-ttu-id="df9b9-231">挖掘结构和结构列的属性</span><span class="sxs-lookup"><span data-stu-id="df9b9-231">Properties for Mining Structure and Structure Columns</span></span>](properties-for-mining-structure-and-structure-columns.md)  
  
  
