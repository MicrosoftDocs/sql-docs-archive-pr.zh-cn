---
title: 使用 SQL Server Profiler 来监视数据挖掘 (Analysis Services 数据挖掘) |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Profiler [SQL Server Profiler], Analysis Services
ms.assetid: 655ac93c-5c5c-4565-914b-915327f7d349
author: minewiskan
ms.author: owend
ms.openlocfilehash: eb59d122e07a51c6546eee8affd31cc9eea1028b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87577069"
---
# <a name="using-sql-server-profiler-to-monitor-data-mining-analysis-services---data-mining"></a><span data-ttu-id="65afa-102">使用 SQL Server 事件探查器监视数据挖掘（Analysis Services – 数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="65afa-102">Using SQL Server Profiler to Monitor Data Mining (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="65afa-103">如果您具有必要的权限，可以使用 SQL Server Profiler 监视作为请求发送到 SQL Server Analysis Services 实例的数据挖掘活动。</span><span class="sxs-lookup"><span data-stu-id="65afa-103">If you have the necessary permissions, you can use SQL Server Profiler to monitor data mining activities that are issued as requests sent to an instance of SQL Server Analysis Services.</span></span> <span data-ttu-id="65afa-104">数据挖掘活动可以包括处理模型或结构、预测查询或内容查询或者创建新模型或结构。</span><span class="sxs-lookup"><span data-stu-id="65afa-104">Data mining activity can include the processing of models or structures, prediction queries or content queries, or the creation of new models or structures.</span></span>  
  
 <span data-ttu-id="65afa-105">SQL Server Profiler 使用 `trace` 监视多个客户端发来的请求，其中包括 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]、SQL Server Management Studio、Web 服务或 Excel 数据挖掘外接程序，但前提是这些活动均使用同一 SQL Server Analysis Services 实例。</span><span class="sxs-lookup"><span data-stu-id="65afa-105">SQL Server Profiler uses a `trace` to monitor requests sent from multiple clients, including [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], SQL Server Management Studio, Web services, or the Data Mining Add-ins for Excel, so long as the activities all use the same instance of SQL Server Analysis Services.</span></span> <span data-ttu-id="65afa-106">必须为要监视的每个 SQL Server Analysis Services 实例创建一个单独的跟踪。</span><span class="sxs-lookup"><span data-stu-id="65afa-106">You must create a separate trace for each instance of SQL Server Analysis Services that you want to monitor.</span></span> <span data-ttu-id="65afa-107">有关跟踪的常规信息和如何使用 SQL Server Profiler，请参阅 [使用 SQL Server Profiler 监视 Analysis Services](../instances/use-sql-server-profiler-to-monitor-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="65afa-107">For general information about traces, and how to use SQL Server Profiler, see [Use SQL Server Profiler to Monitor Analysis Services](../instances/use-sql-server-profiler-to-monitor-analysis-services.md).</span></span>  
  
 <span data-ttu-id="65afa-108">有关要捕获的事件类型的具体指南，请参阅[为重播创建探查器跟踪 (Analysis Services)](../instances/create-profiler-traces-for-replay-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="65afa-108">For specific guidance about the types of events to capture, see [Create Profiler Traces for Replay &#40;Analysis Services&#41;](../instances/create-profiler-traces-for-replay-analysis-services.md).</span></span>  
  
## <a name="using-traces-to-monitor-data-mining"></a><span data-ttu-id="65afa-109">使用跟踪监视数据挖掘</span><span class="sxs-lookup"><span data-stu-id="65afa-109">Using Traces to Monitor Data Mining</span></span>  
 <span data-ttu-id="65afa-110">如果在跟踪中捕获信息，则可以指定是否将该信息保存到 SQL Server 实例中的文件夹或表中。</span><span class="sxs-lookup"><span data-stu-id="65afa-110">When you capture information in a trace, you can specify whether the information is saved in a file or in a table on an instance of SQL Server.</span></span> <span data-ttu-id="65afa-111">无论使用什么方法存储该数据，都可以使用 SQL Server Profiler 根据事件查看跟踪和筛选。</span><span class="sxs-lookup"><span data-stu-id="65afa-111">Regardless of the method you use to store the data, you can use SQL Server Profiler to view the trace and filter by events.</span></span> <span data-ttu-id="65afa-112">下表列出了默认 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 跟踪中影响数据挖掘的一些事件和子类。</span><span class="sxs-lookup"><span data-stu-id="65afa-112">The following table lists some of the events and subclasses in the default [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] trace that are of interest for data mining.</span></span>  
  
|<span data-ttu-id="65afa-113">EventClass</span><span class="sxs-lookup"><span data-stu-id="65afa-113">EventClass</span></span>|<span data-ttu-id="65afa-114">EventSubclass</span><span class="sxs-lookup"><span data-stu-id="65afa-114">EventSubclass</span></span>|<span data-ttu-id="65afa-115">说明</span><span class="sxs-lookup"><span data-stu-id="65afa-115">Description</span></span>|  
|----------------|-------------------|-----------------|  
|<span data-ttu-id="65afa-116">**查询开始**</span><span class="sxs-lookup"><span data-stu-id="65afa-116">**Query Begin**</span></span><br /><br /> <span data-ttu-id="65afa-117">**查询结束**</span><span class="sxs-lookup"><span data-stu-id="65afa-117">**Query End**</span></span>|<span data-ttu-id="65afa-118">**0 - MDXQuery**</span><span class="sxs-lookup"><span data-stu-id="65afa-118">**0 - MDXQuery**</span></span>|<span data-ttu-id="65afa-119">包含对 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 存储过程的所有调用的文本。</span><span class="sxs-lookup"><span data-stu-id="65afa-119">Contains the text of all calls to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] stored procedures.</span></span>|  
|<span data-ttu-id="65afa-120">**查询开始**</span><span class="sxs-lookup"><span data-stu-id="65afa-120">**Query Begin**</span></span><br /><br /> <span data-ttu-id="65afa-121">**查询结束**</span><span class="sxs-lookup"><span data-stu-id="65afa-121">**Query End**</span></span>|<span data-ttu-id="65afa-122">**1 - DMXQuery**</span><span class="sxs-lookup"><span data-stu-id="65afa-122">**1 - DMXQuery**</span></span>|<span data-ttu-id="65afa-123">包含数据挖掘扩展插件 (DMX) 语句的文本和结果。</span><span class="sxs-lookup"><span data-stu-id="65afa-123">Contains the text and results of Data Mining Extensions (DMX) statements.</span></span>|  
|<span data-ttu-id="65afa-124">**进度报告开始**</span><span class="sxs-lookup"><span data-stu-id="65afa-124">**Progress Report Begin**</span></span><br /><br /> <span data-ttu-id="65afa-125">**进度报告结束**</span><span class="sxs-lookup"><span data-stu-id="65afa-125">**Progress Report End**</span></span>|<span data-ttu-id="65afa-126">**34 - DataMiningProgress**</span><span class="sxs-lookup"><span data-stu-id="65afa-126">**34 - DataMiningProgress**</span></span>|<span data-ttu-id="65afa-127">提供有关数据挖掘算法的进度的信息：例如，如果正在生成聚类分析模型，则此进度消息指出正在生成哪一个候选分类。</span><span class="sxs-lookup"><span data-stu-id="65afa-127">Provides information about the progress of the data mining algorithm: for example, if you are building a clustering model, the progress message tells you which candidate cluster is being built</span></span>|  
|<span data-ttu-id="65afa-128">**查询开始**</span><span class="sxs-lookup"><span data-stu-id="65afa-128">**Query Begin**</span></span><br /><br /> <span data-ttu-id="65afa-129">**查询结束**</span><span class="sxs-lookup"><span data-stu-id="65afa-129">**Query End**</span></span>|<span data-ttu-id="65afa-130">EXECUTESQL</span><span class="sxs-lookup"><span data-stu-id="65afa-130">EXECUTESQL</span></span>|<span data-ttu-id="65afa-131">包含正在执行的 Transact-SQL 查询的文本</span><span class="sxs-lookup"><span data-stu-id="65afa-131">Contains the text of the Transact-SQL query that is being executed</span></span>|  
|<span data-ttu-id="65afa-132">**查询开始**</span><span class="sxs-lookup"><span data-stu-id="65afa-132">**Query Begin**</span></span><br /><br /> <span data-ttu-id="65afa-133">**查询结束**</span><span class="sxs-lookup"><span data-stu-id="65afa-133">**Query End**</span></span>|<span data-ttu-id="65afa-134">**2-SQLQuery**</span><span class="sxs-lookup"><span data-stu-id="65afa-134">**2- SQLQuery**</span></span>|<span data-ttu-id="65afa-135">包含任意针对以系统表形式存在的架构行集的查询的文本。</span><span class="sxs-lookup"><span data-stu-id="65afa-135">Contains the text of any queries against the schema rowsets in the form of system tables.</span></span>|  
|<span data-ttu-id="65afa-136">**发现开始**</span><span class="sxs-lookup"><span data-stu-id="65afa-136">**DISCOVER Begin**</span></span><br /><br /> <span data-ttu-id="65afa-137">**发现结束**</span><span class="sxs-lookup"><span data-stu-id="65afa-137">**DISCOVER End**</span></span>|<span data-ttu-id="65afa-138">多种</span><span class="sxs-lookup"><span data-stu-id="65afa-138">Multiple</span></span>|<span data-ttu-id="65afa-139">包含封装在 XMLA 中的 DMX 函数调用或 DISCOVER 语句的文本。</span><span class="sxs-lookup"><span data-stu-id="65afa-139">Contains the text of DMX function calls or DISCOVER statements, encapsulated in XMLA.</span></span>|  
|<span data-ttu-id="65afa-140">**错误**</span><span class="sxs-lookup"><span data-stu-id="65afa-140">**Error**</span></span>|<span data-ttu-id="65afa-141">（无）</span><span class="sxs-lookup"><span data-stu-id="65afa-141">(none)</span></span>|<span data-ttu-id="65afa-142">包含服务器发送到客户端的错误的文本。</span><span class="sxs-lookup"><span data-stu-id="65afa-142">Contains the text of errors sent by the server to the client.</span></span><br /><br /> <span data-ttu-id="65afa-143">以“错误(数据挖掘):”\*\*\*\* 或“信息(数据挖掘):”\*\*\*\* 开头的错误消息专门在响应 DMX 请求时生成。</span><span class="sxs-lookup"><span data-stu-id="65afa-143">Error messages prefaced with **Error (Data Mining):** or **Informational (Data Mining):** are generated specifically in response to DMX requests.</span></span> <span data-ttu-id="65afa-144">但只查看这些错误消息是不够的。</span><span class="sxs-lookup"><span data-stu-id="65afa-144">However, it not sufficient to view only these error messages.</span></span> <span data-ttu-id="65afa-145">其他错误（例如由分析器生成的错误）虽然不具有此前缀，但也与数据挖掘有关。</span><span class="sxs-lookup"><span data-stu-id="65afa-145">Other errors, such as those generated by the parser, may be related to data mining but do not have this prefix.</span></span>|  
  
 <span data-ttu-id="65afa-146">通过查看跟踪日志中的命令语句，还可以看到由客户端发送到 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务器的复杂语句（包括对系统存储过程的调用）的语法。</span><span class="sxs-lookup"><span data-stu-id="65afa-146">By viewing the command statements in the trace log, you can also see the syntax of complex statements sent by the client to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server, including calls to system stored procedures.</span></span> <span data-ttu-id="65afa-147">您可以借助该信息进行调试，或者也可以将有效语句用作创建新预测查询或模型的模板。</span><span class="sxs-lookup"><span data-stu-id="65afa-147">This information can be useful for debugging, or you can use valid statements as a template for creating new prediction queries or models.</span></span> <span data-ttu-id="65afa-148">有关可以通过跟踪捕获的存储过程调用的一些示例，请参阅 [群集模型查询示例](clustering-model-query-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="65afa-148">For some examples of stored procedure calls that you can capture via a trace, see [Clustering Model Query Examples](clustering-model-query-examples.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="65afa-149">另请参阅</span><span class="sxs-lookup"><span data-stu-id="65afa-149">See Also</span></span>  
 <span data-ttu-id="65afa-150">[监视 Analysis Services 实例](../instances/monitor-an-analysis-services-instance.md) </span><span class="sxs-lookup"><span data-stu-id="65afa-150">[Monitor an Analysis Services Instance](../instances/monitor-an-analysis-services-instance.md) </span></span>  
 [<span data-ttu-id="65afa-151">使用 &#40;XEvents&#41; SQL Server 扩展事件监视 Analysis Services</span><span class="sxs-lookup"><span data-stu-id="65afa-151">Use SQL Server Extended Events &#40;XEvents&#41; to Monitor Analysis Services</span></span>](../instances/monitor-analysis-services-with-sql-server-extended-events.md)  
  
  
