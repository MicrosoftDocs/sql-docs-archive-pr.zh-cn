---
title: 时序模型的挖掘模型内容 (Analysis Services 数据挖掘) |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- time series algorithms [Analysis Services]
- time series [Analysis Services]
- mining model content, time series models
ms.assetid: bb225387-fbbf-4189-b172-9daa2495fa9c
author: minewiskan
ms.author: owend
ms.openlocfilehash: fc9186b0250f0bdb8dd5ad91cc7e84782218bbc2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87589356"
---
# <a name="mining-model-content-for-time-series-models-analysis-services---data-mining"></a><span data-ttu-id="46875-102">时序模型的挖掘模型内容（Analysis Services - 数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="46875-102">Mining Model Content for Time Series Models (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="46875-103">所有挖掘模型均使用相同的结构存储其内容。</span><span class="sxs-lookup"><span data-stu-id="46875-103">All mining models use the same structure to store their content.</span></span> <span data-ttu-id="46875-104">该结构是根据数据挖掘内容架构行集而定义的。</span><span class="sxs-lookup"><span data-stu-id="46875-104">This structure is defined according to the data mining content schema rowset.</span></span> <span data-ttu-id="46875-105">但在该标准结构中，包含信息的节点以不同方式排列以表示各种类型的树。</span><span class="sxs-lookup"><span data-stu-id="46875-105">However, within that standard structure, the nodes that contain information are arranged in different ways to represent various kinds of trees.</span></span> <span data-ttu-id="46875-106">本主题介绍在基于 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 时序算法的挖掘模型中这些节点的组织方式以及每个节点的含义。</span><span class="sxs-lookup"><span data-stu-id="46875-106">This topic describes how the nodes are organized, and what each node means, for mining models that are based on the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Time Series algorithm.</span></span>  
  
 <span data-ttu-id="46875-107">有关适用于所有模型类型的一般挖掘模型内容的说明，请参阅 [挖掘模型内容（Analysis Services - 数据挖掘）](mining-model-content-analysis-services-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-107">For an explanation of general mining model content that applies to all model types, see [Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md).</span></span>  
  
 <span data-ttu-id="46875-108">查看本主题时，通过浏览时序模型的内容您可能会发现，遵从本主题的说明会很有帮助。</span><span class="sxs-lookup"><span data-stu-id="46875-108">When reviewing this topic, you might find it useful follow along by browsing the contents of a time series model.</span></span> <span data-ttu-id="46875-109">可以通过完成数据挖掘基础教程来创建时序模型。</span><span class="sxs-lookup"><span data-stu-id="46875-109">You can create a time series model by completing the Basic Data Mining tutorial.</span></span> <span data-ttu-id="46875-110">在教程中创建的模型是混合模型，该模型同时使用 ARIMA 和 ARTXP 算法来定型数据。</span><span class="sxs-lookup"><span data-stu-id="46875-110">The model you create in the tutorial is a mixed model that trains data by using both the ARIMA and ARTXP algorithms.</span></span> <span data-ttu-id="46875-111">有关详细信息，请参阅[创建预测结构和模型 &#40;中级数据挖掘教程&#41;](../../tutorials/creating-a-forecasting-structure-and-model-intermediate-data-mining-tutorial.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-111">For more information, see [Creating a Forecasting Structure and Model &#40;Intermediate Data Mining Tutorial&#41;](../../tutorials/creating-a-forecasting-structure-and-model-intermediate-data-mining-tutorial.md).</span></span> <span data-ttu-id="46875-112">有关如何查看挖掘模型内容的信息，请参阅 [数据挖掘模型查看器](data-mining-model-viewers.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-112">For information about how to view the contents of a mining model, see [Data Mining Model Viewers](data-mining-model-viewers.md).</span></span>  
  
## <a name="understanding-the-structure-of-a-time-series-model"></a><span data-ttu-id="46875-113">了解时序模型的结构</span><span class="sxs-lookup"><span data-stu-id="46875-113">Understanding the Structure of a Time Series Model</span></span>  
 <span data-ttu-id="46875-114">时序模型具有表示该模型及其元数据的单一父节点。</span><span class="sxs-lookup"><span data-stu-id="46875-114">A time series model has a single parent node that represents the model and its metadata.</span></span> <span data-ttu-id="46875-115">根据用于创建该模型的算法的不同，在该父节点下面有一个或两个时序树。</span><span class="sxs-lookup"><span data-stu-id="46875-115">Underneath that parent node, there are one or two time series trees, depending on the algorithm that you used to create the model.</span></span>  
  
 <span data-ttu-id="46875-116">如果创建混合模型，则两个单独的树会添加到该模型中，一个适用于 ARIMA 算法，另一个适用于 ARTXP 算法。</span><span class="sxs-lookup"><span data-stu-id="46875-116">If you create a mixed model, two separate trees are added to the model, one for ARIMA and one for ARTXP.</span></span> <span data-ttu-id="46875-117">如果选择仅使用 ARTXP 算法和 ARIMA 算法中的一个，则将拥有对应于所选算法的单个树。</span><span class="sxs-lookup"><span data-stu-id="46875-117">If you choose to use only the ARTXP algorithm or only the ARIMA algorithm, you will have a single tree that corresponds to that algorithm.</span></span> <span data-ttu-id="46875-118">可以通过设置 FORECAST_METHOD 参数来指定要使用的算法。</span><span class="sxs-lookup"><span data-stu-id="46875-118">You specify which algorithm to use by setting the FORECAST_METHOD parameter.</span></span> <span data-ttu-id="46875-119">有关是使用 ARTXP、ARIMA 还是使用混合模型的详细信息，请参阅 [Microsoft 时序算法](microsoft-time-series-algorithm.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-119">For more information about whether to use ARTXP, ARIMA, or a mixed model, see [Microsoft Time Series Algorithm](microsoft-time-series-algorithm.md).</span></span>  
  
 <span data-ttu-id="46875-120">以下关系图中显示的是使用默认设置创建的时序数据挖掘模型的一个示例，旨在创建混合模型。</span><span class="sxs-lookup"><span data-stu-id="46875-120">The following diagram shows an example of a time series data mining model that was created with the default settings, to create a mixed model.</span></span> <span data-ttu-id="46875-121">该关系图左侧显示的是 ARTXP 模型，右侧显示的是 ARIMA 模型，这样，您就可以更轻松地比较这两个模型之间的不同之处。</span><span class="sxs-lookup"><span data-stu-id="46875-121">So that you can more easily compare the differences between the two models, here the ARTXP model is shown on the left side of the diagram and the ARIMA model is shown in the right side of the diagram.</span></span>  <span data-ttu-id="46875-122">由 ARTXP 算法创建的结构是拆分为越来越小的分支的树状结构，而由 ARIMA 算法创建的结构更像是一个棱锥图，从较小的组件向上构建。</span><span class="sxs-lookup"><span data-stu-id="46875-122">Whereas ARTXP is a tree-like structure that splits into smaller and smaller branches, the structure created by the ARIMA algorithm is more like a pyramid built upwards from smaller components.</span></span>  
  
 <span data-ttu-id="46875-123">![时序模型的模型内容结构](../media/modelcontentstructure-ts.gif "时序模型的模型内容结构")</span><span class="sxs-lookup"><span data-stu-id="46875-123">![Structure of model content for time series models](../media/modelcontentstructure-ts.gif "Structure of model content for time series models")</span></span>  
  
 <span data-ttu-id="46875-124">在 ARIMA 和 ARTXP 树中，信息以完全不同的方式排列，这一点很重要，须牢记。而且应将这两种树视为只在根节点处相关。</span><span class="sxs-lookup"><span data-stu-id="46875-124">The important point to remember is that information is arranged within the ARIMA and ARTXP trees in completely different ways, and you should consider the two trees as related only at the root node.</span></span> <span data-ttu-id="46875-125">尽管为方便起见而在一个模型中表示这两种表示形式，但应将其视为两个独立的模型。</span><span class="sxs-lookup"><span data-stu-id="46875-125">Although the two representations are presented in one model for convenience, they should be treated as two independent models.</span></span> <span data-ttu-id="46875-126">ARTXP 表示实际树结构，而 ARIMA 则不然。</span><span class="sxs-lookup"><span data-stu-id="46875-126">ARTXP represents an actual tree structure, but ARIMA does not.</span></span>  
  
 <span data-ttu-id="46875-127">当您使用 Microsoft 一般模型内容树查看器查看同时使用 ARIMA 和 ARTXP 的模型时，ARTXP 和 ARIMA 模型的节点将全部表示为父时序模型的子节点。</span><span class="sxs-lookup"><span data-stu-id="46875-127">When you use the Microsoft Generic Model Content Tree Viewer to view a model that uses both ARIMA and ARTXP, the nodes for the ARTXP and ARIMA models are all presented as child nodes of the parent time series model.</span></span> <span data-ttu-id="46875-128">不过，您可以轻松根据应用于这些节点的标签来区分这两个模型。</span><span class="sxs-lookup"><span data-stu-id="46875-128">However, you can easily tell them apart by the labels applied to the nodes.</span></span>  
  
-   <span data-ttu-id="46875-129">第一组节点标有“(全部)”，表示 ARTXP 算法的分析结果。</span><span class="sxs-lookup"><span data-stu-id="46875-129">The first set of nodes is labeled (All), and represents the results of analysis by the ARTXP algorithm.</span></span>  
  
-   <span data-ttu-id="46875-130">第二组节点标有“ARIMA”标签，表示 ARIMA 算法的分析结果。</span><span class="sxs-lookup"><span data-stu-id="46875-130">The second set of nodes is labeled ARIMA, and represents the results of analysis by the ARIMA algorithm.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="46875-131">仅为实现向后兼容，保留了 ARTXP 树上的名称“(全部)”。</span><span class="sxs-lookup"><span data-stu-id="46875-131">The name (All) on the ARTXP tree is retained only for backward compatibility.</span></span> <span data-ttu-id="46875-132">在 SQL Server 2008 以前的版本中，时序算法使用单一算法（ARTXP 算法）进行分析。</span><span class="sxs-lookup"><span data-stu-id="46875-132">Prior to SQL Server 2008, the Time Series algorithm used a single algorithm for analysis, the ARTXP algorithm.</span></span>  
  
 <span data-ttu-id="46875-133">以下各节说明了节点在这些模型类型中的排列方式。</span><span class="sxs-lookup"><span data-stu-id="46875-133">The following sections explain how the nodes are arranged within each of these model types.</span></span>  
  
### <a name="structure-of-an-artxp-model"></a><span data-ttu-id="46875-134">ARTXP 模型的结构</span><span class="sxs-lookup"><span data-stu-id="46875-134">Structure of an ARTXP Model</span></span>  
 <span data-ttu-id="46875-135">ARTXP 算法创建的模型与决策树模型相似。</span><span class="sxs-lookup"><span data-stu-id="46875-135">The ARTXP algorithm creates a model similar to a decision trees model.</span></span> <span data-ttu-id="46875-136">它对可预测属性进行分组，并且只要发现显著差异就会拆分这些组。</span><span class="sxs-lookup"><span data-stu-id="46875-136">It groups predictable attributes and splits them whenever significant differences are found.</span></span> <span data-ttu-id="46875-137">因此，每个 ARTXP 模型均包含对应于每个可预测属性的单独分支。</span><span class="sxs-lookup"><span data-stu-id="46875-137">Therefore, each ARTXP model contains a separate branch for each predictable attribute.</span></span> <span data-ttu-id="46875-138">例如，数据挖掘基础教程创建的模型可以预测几个不同地区的销售额。</span><span class="sxs-lookup"><span data-stu-id="46875-138">For example, the Basic Data Mining tutorial creates a model that predicts the amount of sales for several regions.</span></span> <span data-ttu-id="46875-139">在本例中， **[Amount]** 为可预测属性，并为每个地区创建一个单独的分支。</span><span class="sxs-lookup"><span data-stu-id="46875-139">In this case, **[Amount]** is the predictable attribute and a separate branch is created for each region.</span></span> <span data-ttu-id="46875-140">如果有两个可预测属性 **[Amount]** 和 **[Quantity]**，则将为每个属性和地区组合创建一个单独的分支。</span><span class="sxs-lookup"><span data-stu-id="46875-140">If you had two predictable attributes, **[Amount]** and **[Quantity]**, a separate branch would be created for each combination of an attribute and a region.</span></span>  
  
 <span data-ttu-id="46875-141">ARTXP 分支的顶端节点所含的信息与决策树根节点中所含的信息相同。</span><span class="sxs-lookup"><span data-stu-id="46875-141">The top node for the ARTXP branch contains the same information that is in a decision tree root node.</span></span> <span data-ttu-id="46875-142">该信息包括该节点的子节点数目 (CHILDREN_CARDINALITY)、满足该节点条件的事例数 (NODE_SUPPORT) 和多种说明性统计信息 (NODE_DISTRIBUTION)。</span><span class="sxs-lookup"><span data-stu-id="46875-142">This includes the number of children for that node (CHILDREN_CARDINALITY), the number of cases that meet the conditions of this node (NODE_SUPPORT), and a variety of descriptive statistics (NODE_DISTRIBUTION).</span></span>  
  
 <span data-ttu-id="46875-143">如果该节点没有任何子节点，这就意味着未找到可证明将事例分为更多子组是正确做法的重要条件。</span><span class="sxs-lookup"><span data-stu-id="46875-143">If the node does not have any children, this means that no significant conditions were found that would justify dividing the cases into further subgroups.</span></span> <span data-ttu-id="46875-144">此分支止于该点，且该节点称为“ \*\* 叶节点”。</span><span class="sxs-lookup"><span data-stu-id="46875-144">The branch ends at this point and the node is termed a *leaf node*.</span></span> <span data-ttu-id="46875-145">该叶节点包含 ARTXP 公式的构造块：属性、系数和值。</span><span class="sxs-lookup"><span data-stu-id="46875-145">The leaf node contains the attributes, coefficients, and values that are the building blocks of the ARTXP formula.</span></span>  
  
 <span data-ttu-id="46875-146">某些分支可能具有类似于决策树模型的其他拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-146">Some branches may have additional splits, similar to a decision trees model.</span></span> <span data-ttu-id="46875-147">例如，表示欧洲地区销售额的树的分支拆分为两个分支。</span><span class="sxs-lookup"><span data-stu-id="46875-147">For example, the branch of the tree that represents sales for the Europe region splits into two branches.</span></span> <span data-ttu-id="46875-148">如果发现导致两个组之间存在显著差异的条件，则发生拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-148">A split occurs when a condition is found that causes a significant difference between the two groups.</span></span> <span data-ttu-id="46875-149">父节点指出引起拆分的属性的名称，如 [Amount]，以及该父节点中包含的事例数。</span><span class="sxs-lookup"><span data-stu-id="46875-149">The parent node tells you the name of the attribute that caused the split, such as [Amount], and how many cases there are in the parent node.</span></span> <span data-ttu-id="46875-150">叶节点提供更多详细信息：属性的值，例如 [Sales] >10000 与 [Sales] \< 10000) 、支持每个条件的事例数，以及 ARTXP 公式。</span><span class="sxs-lookup"><span data-stu-id="46875-150">The leaf nodes provide more detail: the value of the attribute, such as [Sales] >10,000 vs. [Sales] \< 10,000), the number of cases that support each condition, and the ARTXP formula.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="46875-151">如果希望查看公式，则可以在叶节点级别（而非中间节点或根节点级别）找到完整的回归公式。</span><span class="sxs-lookup"><span data-stu-id="46875-151">If you want to view the formulas, you can find the complete regression formula at the leaf node level, but not in an intermediate or root node.</span></span>  
  
### <a name="structure-of-an-arima-model"></a><span data-ttu-id="46875-152">ARIMA 模型的结构</span><span class="sxs-lookup"><span data-stu-id="46875-152">Structure of an ARIMA Model</span></span>  
 <span data-ttu-id="46875-153">ARIMA 算法为数据 (序列的每个组合（如 **[Region]**) ）和可预测 (属性（如 **[Sales]**) ）创建了一条信息，这些信息是描述可预测属性随时间变化的公式。</span><span class="sxs-lookup"><span data-stu-id="46875-153">The ARIMA algorithm creates a single piece of information for each combination of a data series (such as **[Region]**) and a predictable attribute (such as **[Sales Amount]**)-the equation that describes the change of the predictable attribute over time.</span></span>  
  
 <span data-ttu-id="46875-154">适用于每个序列的公式从多个组件派生，每个公式都与在数据中找到的每个周期性结构相对应。</span><span class="sxs-lookup"><span data-stu-id="46875-154">The equation for each series is derived from multiple components, one for each periodic structure that was found in the data.</span></span> <span data-ttu-id="46875-155">例如，如果拥有按月收集的销售数据，则该算法可能会检测到按月、季度或年度的周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-155">For example, if you have sales data that is collected on a monthly basis, the algorithm might detect monthly, quarterly, or yearly periodic structures.</span></span>  
  
 <span data-ttu-id="46875-156">该算法为找到的每个周期输出一组单独的父节点和子节点。</span><span class="sxs-lookup"><span data-stu-id="46875-156">The algorithm outputs a separate set of parent and child nodes for each periodicity it finds.</span></span> <span data-ttu-id="46875-157">对于单一时间段，默认周期为 1，且该周期会自动添加到所有模型中。</span><span class="sxs-lookup"><span data-stu-id="46875-157">The default periodicity is 1, for a single time slice, and is automatically added into all models.</span></span> <span data-ttu-id="46875-158">在 PERIODICITY_HINT 参数中输入多个值即可指定可能的周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-158">You can specify possible periodic structures by entering multiple values in the PERIODICITY_HINT parameter.</span></span> <span data-ttu-id="46875-159">但是，如果该算法不检测周期性结构，则它就不会输出用于提示的结果。</span><span class="sxs-lookup"><span data-stu-id="46875-159">However, if the algorithm does not detect a periodic structure, it will not output results for that hint.</span></span>  
  
 <span data-ttu-id="46875-160">在模型内容中输出的每个周期性结构均包含以下组成节点：</span><span class="sxs-lookup"><span data-stu-id="46875-160">Each periodic structure that is output in the model content contains the following component nodes:</span></span>  
  
-   <span data-ttu-id="46875-161">一个自动回归阶数\*\* (AR) 节点</span><span class="sxs-lookup"><span data-stu-id="46875-161">A node for the *autoregressive order* (AR)</span></span>  
  
-   <span data-ttu-id="46875-162">一个移动平均值\*\* (MA) 节点</span><span class="sxs-lookup"><span data-stu-id="46875-162">A node for the *moving average* (MA)</span></span>  
  
 <span data-ttu-id="46875-163">有关这些术语的含义的信息，请参阅 [Microsoft 时序算法](microsoft-time-series-algorithm.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-163">For information about the meaning of these terms, see [Microsoft Time Series Algorithm](microsoft-time-series-algorithm.md).</span></span>  
  
 <span data-ttu-id="46875-164">“ \*\* 差分阶数”是公式的重要组成部分，将在公式中表示出来。</span><span class="sxs-lookup"><span data-stu-id="46875-164">The *difference order* is an important part of the formula, and is represented in the equation.</span></span> <span data-ttu-id="46875-165">有关如何使用差分阶数的详细信息，请参阅 [Microsoft 时序算法技术参考](microsoft-time-series-algorithm-technical-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-165">For more information about how the difference order is used, see [Microsoft Time Series Algorithm Technical Reference](microsoft-time-series-algorithm-technical-reference.md).</span></span>  
  
## <a name="model-content-for-time-series"></a><span data-ttu-id="46875-166">时序模型内容</span><span class="sxs-lookup"><span data-stu-id="46875-166">Model Content for Time Series</span></span>  
 <span data-ttu-id="46875-167">本节提供的详细信息和示例仅针对挖掘模型内容中与时序模型有特殊关系的列。</span><span class="sxs-lookup"><span data-stu-id="46875-167">This section provides detail and examples only for those columns in the mining model content that have particular relevance for time series models.</span></span>  
  
 <span data-ttu-id="46875-168">有关架构行集中通用列（如 MODEL_CATALOG 和 MODEL_NAME）的信息，或有关挖掘模型技术的说明，请参阅 [挖掘模型内容（Analysis Services - 数据挖掘）](mining-model-content-analysis-services-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-168">For information about general-purpose columns in the schema rowset, such as MODEL_CATALOG and MODEL_NAME, or for explanations of mining model terminology, see [Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md).</span></span>  
  
 <span data-ttu-id="46875-169">MODEL_CATALOG</span><span class="sxs-lookup"><span data-stu-id="46875-169">MODEL_CATALOG</span></span>  
 <span data-ttu-id="46875-170">存储模型的数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="46875-170">Name of the database where the model is stored.</span></span>  
  
 <span data-ttu-id="46875-171">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-171">MODEL_NAME</span></span>  
 <span data-ttu-id="46875-172">模型的名称。</span><span class="sxs-lookup"><span data-stu-id="46875-172">Name of the model.</span></span>  
  
 <span data-ttu-id="46875-173">ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-173">ATTRIBUTE_NAME</span></span>  
 <span data-ttu-id="46875-174">节点中表示的数据序列的可预测属性</span><span class="sxs-lookup"><span data-stu-id="46875-174">The predictable attribute for the data series represented in the node.</span></span> <span data-ttu-id="46875-175">（与 MSOLAP_MODEL_COLUMN 具有相同的值）。</span><span class="sxs-lookup"><span data-stu-id="46875-175">(The same value as for MSOLAP_MODEL_COLUMN.)</span></span>  
  
 <span data-ttu-id="46875-176">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-176">NODE_NAME</span></span>  
 <span data-ttu-id="46875-177">节点的名称。</span><span class="sxs-lookup"><span data-stu-id="46875-177">The name of the node.</span></span>  
  
 <span data-ttu-id="46875-178">当前，该列包含与 NODE_UNIQUE_NAME 相同的值，尽管这一情况在以后的版本中可能会发生变化。</span><span class="sxs-lookup"><span data-stu-id="46875-178">Currently, this column contains the same value as NODE_UNIQUE_NAME, although this might change in future releases.</span></span>  
  
 <span data-ttu-id="46875-179">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-179">NODE_UNIQUE_NAME</span></span>  
 <span data-ttu-id="46875-180">节点的唯一名称。</span><span class="sxs-lookup"><span data-stu-id="46875-180">The unique name of the node.</span></span> <span data-ttu-id="46875-181">模型父节点的名称始终都是 **TS**。</span><span class="sxs-lookup"><span data-stu-id="46875-181">The model parent node is always named **TS**.</span></span>  
  
 <span data-ttu-id="46875-182">**ARTXP：** 每个节点的表示方法均为 TS 后面加一个十六进制数值。</span><span class="sxs-lookup"><span data-stu-id="46875-182">**ARTXP:** Each node is represented by TS followed by a hexadecimal numeric value.</span></span> <span data-ttu-id="46875-183">节点的顺序无关紧要。</span><span class="sxs-lookup"><span data-stu-id="46875-183">The order of the nodes is unimportant.</span></span>  
  
 <span data-ttu-id="46875-184">例如，直接位于 TS 树下面的 ARTXP 节点的编号可能为 TS00000001-TS0000000b。</span><span class="sxs-lookup"><span data-stu-id="46875-184">For example, the ARTXP nodes directly under the TS tree might be numbered TS00000001-TS0000000b.</span></span>  
  
 <span data-ttu-id="46875-185">**ARIMA：** ARIMA 树中的每个节点的表示方法均为 TA 后面加一个十六进制数值。</span><span class="sxs-lookup"><span data-stu-id="46875-185">**ARIMA:** Each node in an ARIMA tree is represented by TA followed by a hexadecimal numeric value.</span></span> <span data-ttu-id="46875-186">子节点包含父节点的唯一名称，该名称后跟一个指示该节点中序列的另一个十六进制数字。</span><span class="sxs-lookup"><span data-stu-id="46875-186">The child nodes contain the unique name of the parent node followed by another hexadecimal number indicating the sequence within the node.</span></span>  
  
 <span data-ttu-id="46875-187">所有 ARIMA 树的结构均完全相同。</span><span class="sxs-lookup"><span data-stu-id="46875-187">All ARIMA trees are structured exactly the same.</span></span> <span data-ttu-id="46875-188">每个根均包含节点和命名约定，下表中将举例说明这一情况：</span><span class="sxs-lookup"><span data-stu-id="46875-188">Each root contains the nodes and naming convention exemplified in the following table:</span></span>  
  
|<span data-ttu-id="46875-189">ARIMA 节点 ID 和类型</span><span class="sxs-lookup"><span data-stu-id="46875-189">ARIMA Node ID and type</span></span>|<span data-ttu-id="46875-190">节点名称示例</span><span class="sxs-lookup"><span data-stu-id="46875-190">Example of node name</span></span>|  
|----------------------------|--------------------------|  
|<span data-ttu-id="46875-191">ARIMA 根 (27)</span><span class="sxs-lookup"><span data-stu-id="46875-191">ARIMA Root (27)</span></span>|<span data-ttu-id="46875-192">TA0000000b</span><span class="sxs-lookup"><span data-stu-id="46875-192">TA0000000b</span></span>|  
|<span data-ttu-id="46875-193">ARIMA 周期性结构 (28)</span><span class="sxs-lookup"><span data-stu-id="46875-193">ARIMA Periodic Structure (28)</span></span>|<span data-ttu-id="46875-194">TA0000000b00000000</span><span class="sxs-lookup"><span data-stu-id="46875-194">TA0000000b00000000</span></span>|  
|<span data-ttu-id="46875-195">ARIMA 自动回归 (29)</span><span class="sxs-lookup"><span data-stu-id="46875-195">ARIMA Auto Regressive (29)</span></span>|<span data-ttu-id="46875-196">TA0000000b000000000</span><span class="sxs-lookup"><span data-stu-id="46875-196">TA0000000b000000000</span></span>|  
|<span data-ttu-id="46875-197">ARIMA 移动平均值 (30)</span><span class="sxs-lookup"><span data-stu-id="46875-197">ARIMA Moving Average (30)</span></span>|<span data-ttu-id="46875-198">TA0000000b000000001</span><span class="sxs-lookup"><span data-stu-id="46875-198">TA0000000b000000001</span></span>|  
  
 <span data-ttu-id="46875-199">NODE_TYPE</span><span class="sxs-lookup"><span data-stu-id="46875-199">NODE_TYPE</span></span>  
 <span data-ttu-id="46875-200">时序模型可输出以下节点类型，具体情况取决于使用的算法。</span><span class="sxs-lookup"><span data-stu-id="46875-200">A time series model outputs the following node types, depending on the algorithm.</span></span>  
  
 <span data-ttu-id="46875-201">**ARTXP：**</span><span class="sxs-lookup"><span data-stu-id="46875-201">**ARTXP:**</span></span>  
  
|<span data-ttu-id="46875-202">节点类型 ID</span><span class="sxs-lookup"><span data-stu-id="46875-202">Node Type ID</span></span>|<span data-ttu-id="46875-203">说明</span><span class="sxs-lookup"><span data-stu-id="46875-203">Description</span></span>|  
|------------------|-----------------|  
|<span data-ttu-id="46875-204">1（模型）</span><span class="sxs-lookup"><span data-stu-id="46875-204">1 (Model)</span></span>|<span data-ttu-id="46875-205">时序</span><span class="sxs-lookup"><span data-stu-id="46875-205">Time series</span></span>|  
|<span data-ttu-id="46875-206">3（内部）</span><span class="sxs-lookup"><span data-stu-id="46875-206">3 (Interior)</span></span>|<span data-ttu-id="46875-207">表示 ARTXP 时序树中的内部分支。</span><span class="sxs-lookup"><span data-stu-id="46875-207">Represents an interior branch within an ARTXP time series tree.</span></span>|  
|<span data-ttu-id="46875-208">16（时序树）</span><span class="sxs-lookup"><span data-stu-id="46875-208">16 (Time series tree)</span></span>|<span data-ttu-id="46875-209">对应于可预测属性和序列的 ARTXP 树的根。</span><span class="sxs-lookup"><span data-stu-id="46875-209">Root of ARTXP tree that corresponds to a predictable attribute and series.</span></span>|  
|<span data-ttu-id="46875-210">15（时序）</span><span class="sxs-lookup"><span data-stu-id="46875-210">15 (Time series)</span></span>|<span data-ttu-id="46875-211">ARTXP 树中的叶节点。</span><span class="sxs-lookup"><span data-stu-id="46875-211">Leaf node in ARTXP tree.</span></span>|  
  
 <span data-ttu-id="46875-212">**ARIMA：**</span><span class="sxs-lookup"><span data-stu-id="46875-212">**ARIMA:**</span></span>  
  
|<span data-ttu-id="46875-213">节点类型 ID</span><span class="sxs-lookup"><span data-stu-id="46875-213">Node Type ID</span></span>|<span data-ttu-id="46875-214">说明</span><span class="sxs-lookup"><span data-stu-id="46875-214">Description</span></span>|  
|------------------|-----------------|  
|<span data-ttu-id="46875-215">27（ARIMA 根）</span><span class="sxs-lookup"><span data-stu-id="46875-215">27 (ARIMA Root)</span></span>|<span data-ttu-id="46875-216">ARIMA 树的顶端节点。</span><span class="sxs-lookup"><span data-stu-id="46875-216">The top node of an ARIMA tree.</span></span>|  
|<span data-ttu-id="46875-217">28（ARIMA 周期性结构）</span><span class="sxs-lookup"><span data-stu-id="46875-217">28 (ARIMA Periodic Structure)</span></span>|<span data-ttu-id="46875-218">描述单个周期性结构的 ARIMA 树的组件。</span><span class="sxs-lookup"><span data-stu-id="46875-218">Component of an ARIMA tree that describes a single periodic structure.</span></span>|  
|<span data-ttu-id="46875-219">29（ARIMA 自动回归）</span><span class="sxs-lookup"><span data-stu-id="46875-219">29 (ARIMA Autoregressive)</span></span>|<span data-ttu-id="46875-220">包含适用于单个周期性结构的系数。</span><span class="sxs-lookup"><span data-stu-id="46875-220">Contains a coefficient for a single periodic structure.</span></span>|  
|<span data-ttu-id="46875-221">30（ARIMA 移动平均值）</span><span class="sxs-lookup"><span data-stu-id="46875-221">30 (ARIMA Moving Average)</span></span>|<span data-ttu-id="46875-222">包含适用于单个周期性结构的系数。</span><span class="sxs-lookup"><span data-stu-id="46875-222">Contains a coefficient for a single periodic structure.</span></span>|  
  
 <span data-ttu-id="46875-223">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="46875-223">NODE_CAPTION</span></span>  
 <span data-ttu-id="46875-224">与节点关联的标签或标题。</span><span class="sxs-lookup"><span data-stu-id="46875-224">A label or caption that is associated with the node.</span></span>  
  
 <span data-ttu-id="46875-225">此属性主要用于显示目的。</span><span class="sxs-lookup"><span data-stu-id="46875-225">This property is primarily for display purposes.</span></span>  
  
 <span data-ttu-id="46875-226">**ARTXP：** 包含适用于节点的拆分条件，显示为属性与值范围的组合。</span><span class="sxs-lookup"><span data-stu-id="46875-226">**ARTXP:** Contains the split condition for the node, displayed as a combination of attribute and value range.</span></span>  
  
 <span data-ttu-id="46875-227">**ARIMA：** 包含 ARIMA 公式的缩写形式。</span><span class="sxs-lookup"><span data-stu-id="46875-227">**ARIMA:** Contains the short form of the ARIMA equation.</span></span>  
  
 <span data-ttu-id="46875-228">有关 ARIMA 公式的格式的信息，请参阅 [ARIMA 挖掘图例](#bkmk_ARIMA_2)。</span><span class="sxs-lookup"><span data-stu-id="46875-228">For information about the format of the ARIMA equation, see [Mining Legend for ARIMA](#bkmk_ARIMA_2).</span></span>  
  
 <span data-ttu-id="46875-229">CHILDREN_CARDINALITY</span><span class="sxs-lookup"><span data-stu-id="46875-229">CHILDREN_CARDINALITY</span></span>  
 <span data-ttu-id="46875-230">节点所具有的直接子节点的数目。</span><span class="sxs-lookup"><span data-stu-id="46875-230">The number of direct children that the node has.</span></span>  
  
 <span data-ttu-id="46875-231">PARENT_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-231">PARENT_UNIQUE_NAME</span></span>  
 <span data-ttu-id="46875-232">节点的父节点的唯一名称。</span><span class="sxs-lookup"><span data-stu-id="46875-232">The unique name of the node's parent.</span></span> <span data-ttu-id="46875-233">根级别上的任何节点均返回 NULL。</span><span class="sxs-lookup"><span data-stu-id="46875-233">NULL is returned for any nodes at the root level.</span></span>  
  
 <span data-ttu-id="46875-234">NODE_DESCRIPTION</span><span class="sxs-lookup"><span data-stu-id="46875-234">NODE_DESCRIPTION</span></span>  
 <span data-ttu-id="46875-235">当前节点中规则、拆分或公式的文本形式的说明。</span><span class="sxs-lookup"><span data-stu-id="46875-235">A description in text of the rules, splits, or formulas in the current node.</span></span>  
  
 <span data-ttu-id="46875-236">**ARTXP：** 有关详细信息，请参阅 [了解 ARTXP 树](#bkmk_ARTXP_1)。</span><span class="sxs-lookup"><span data-stu-id="46875-236">**ARTXP:** For more information, see [Understanding the ARTXP Tree](#bkmk_ARTXP_1).</span></span>  
  
 <span data-ttu-id="46875-237">**ARIMA：** 有关详细信息，请参阅 [了解 ARIMA 树](#bkmk_ARIMA_1)。</span><span class="sxs-lookup"><span data-stu-id="46875-237">**ARIMA:** For more information, see [Understanding the ARIMA Tree](#bkmk_ARIMA_1).</span></span>  
  
 <span data-ttu-id="46875-238">NODE_RULE</span><span class="sxs-lookup"><span data-stu-id="46875-238">NODE_RULE</span></span>  
 <span data-ttu-id="46875-239">当前节点中规则、拆分或公式的 XML 说明。</span><span class="sxs-lookup"><span data-stu-id="46875-239">An XML description of the rules, splits, or formulas in the current node.</span></span>  
  
 <span data-ttu-id="46875-240">**ARTXP：** NODE_RULE 通常对应于 NODE_CAPTION。</span><span class="sxs-lookup"><span data-stu-id="46875-240">**ARTXP:** The NODE_RULE generally corresponds to the NODE_CAPTION.</span></span>  
  
 <span data-ttu-id="46875-241">**ARIMA：** 有关详细信息，请参阅 [了解 ARIMA 树](#bkmk_ARIMA_1)。</span><span class="sxs-lookup"><span data-stu-id="46875-241">**ARIMA:** For more information, see [Understanding the ARIMA Tree](#bkmk_ARIMA_1).</span></span>  
  
 <span data-ttu-id="46875-242">MARGINAL_RULE</span><span class="sxs-lookup"><span data-stu-id="46875-242">MARGINAL_RULE</span></span>  
 <span data-ttu-id="46875-243">该节点特定的拆分或内容的 XML 说明。</span><span class="sxs-lookup"><span data-stu-id="46875-243">An XML description of the split or content that is specific to that node.</span></span>  
  
 <span data-ttu-id="46875-244">**ARTXP：** MARGINAL_RULE 通常对应于 NODE_DESCRIPTION。</span><span class="sxs-lookup"><span data-stu-id="46875-244">**ARTXP:** The MARGINAL_RULE generally corresponds to the NODE_DESCRIPTION.</span></span>  
  
 <span data-ttu-id="46875-245">**ARIMA：** 始终为空，改用 NODE_RULE。</span><span class="sxs-lookup"><span data-stu-id="46875-245">**ARIMA:** Always blank; use NODE_RULE instead.</span></span>  
  
 <span data-ttu-id="46875-246">NODE_PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="46875-246">NODE_PROBABILITY</span></span>  
 <span data-ttu-id="46875-247">**ARTXP：** 对于树节点，始终为 1。</span><span class="sxs-lookup"><span data-stu-id="46875-247">**ARTXP:** For tree nodes, always 1.</span></span> <span data-ttu-id="46875-248">对于叶节点，表示从模型根节点到达该节点的概率。</span><span class="sxs-lookup"><span data-stu-id="46875-248">For leaf nodes, the probability of reaching the node from the model root node.</span></span>  
  
 <span data-ttu-id="46875-249">**ARIMA：** 始终为 0。</span><span class="sxs-lookup"><span data-stu-id="46875-249">**ARIMA:** Always 0.</span></span>  
  
 <span data-ttu-id="46875-250">MARGINAL_PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="46875-250">MARGINAL_PROBABILITY</span></span>  
 <span data-ttu-id="46875-251">**ARTXP：** 对于树节点，始终为 1。</span><span class="sxs-lookup"><span data-stu-id="46875-251">**ARTXP:** For tree nodes, always 1.</span></span> <span data-ttu-id="46875-252">对于叶节点，表示从其直接父节点到达该节点的概率。</span><span class="sxs-lookup"><span data-stu-id="46875-252">For leaf nodes, the probability of reaching the node from the immediate parent node.</span></span>  
  
 <span data-ttu-id="46875-253">**ARIMA：** 始终为 0。</span><span class="sxs-lookup"><span data-stu-id="46875-253">**ARIMA:** Always 0.</span></span>  
  
 <span data-ttu-id="46875-254">NODE_DISTRIBUTION</span><span class="sxs-lookup"><span data-stu-id="46875-254">NODE_DISTRIBUTION</span></span>  
 <span data-ttu-id="46875-255">包含节点的概率直方图的表。</span><span class="sxs-lookup"><span data-stu-id="46875-255">A table that contains the probability histogram of the node.</span></span> <span data-ttu-id="46875-256">在时序模型中，该嵌套表包含组成实际回归公式所需的全部组件。</span><span class="sxs-lookup"><span data-stu-id="46875-256">In a time series model, this nested table contains all the components required to assemble the actual regression formula.</span></span>  
  
 <span data-ttu-id="46875-257">有关 ARTXP 树中节点分布表的详细信息，请参阅 [了解 ARTXP 树](#bkmk_ARTXP_1)。</span><span class="sxs-lookup"><span data-stu-id="46875-257">For more information about the node distribution table in an ARTXP tree, see [Understanding the ARTXP Tree](#bkmk_ARTXP_1).</span></span>  
  
 <span data-ttu-id="46875-258">有关 ARIMA 树中节点分布表的详细信息，请参阅 [了解 ARIMA 树](#bkmk_ARIMA_1)。</span><span class="sxs-lookup"><span data-stu-id="46875-258">For more information about the node distribution table in an ARIMA tree, see [Understanding the ARIMA Tree](#bkmk_ARIMA_1).</span></span>  
  
 <span data-ttu-id="46875-259">如果希望看到组成可读格式的所有常量和其他组件，请使用 [时序查看器](browse-a-model-using-the-microsoft-time-series-viewer.md)，单击该节点并打开 **“挖掘图例”**。</span><span class="sxs-lookup"><span data-stu-id="46875-259">If you wish to see all the constants and other components composed into a readable format, use the [Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md), click the node, and open the **Mining Legend**.</span></span>  
  
 <span data-ttu-id="46875-260">NODE_SUPPORT</span><span class="sxs-lookup"><span data-stu-id="46875-260">NODE_SUPPORT</span></span>  
 <span data-ttu-id="46875-261">支持此节点的事例的数目。</span><span class="sxs-lookup"><span data-stu-id="46875-261">The number of cases that support this node.</span></span>  
  
 <span data-ttu-id="46875-262">**ARTXP：** 对于“(全部)”\*\*\*\* 节点，指示分支中包括的时间段的总数。</span><span class="sxs-lookup"><span data-stu-id="46875-262">**ARTXP:** For the **(All)** node, indicates the total number of time slices included in the branch.</span></span>  
  
 <span data-ttu-id="46875-263">对于终端节点，指示 NODE_CAPTION 所描述的范围内包括的时间段的数目。</span><span class="sxs-lookup"><span data-stu-id="46875-263">For terminal nodes, indicates the number of time slices that are included in the range that is described by NODE_CAPTION.</span></span> <span data-ttu-id="46875-264">终端节点中时间段的数目始终等于分支“(全部)”\*\*\*\* 节点的 NODE_SUPPORT 值。</span><span class="sxs-lookup"><span data-stu-id="46875-264">The number of time slices in the terminal nodes always sums to the NODE_SUPPORT value of the branch **(All)** node.</span></span>  
  
 <span data-ttu-id="46875-265">**ARIMA：** 支持当前周期性结构的事例的计数。</span><span class="sxs-lookup"><span data-stu-id="46875-265">**ARIMA:** A count of cases that support the current periodic structure.</span></span> <span data-ttu-id="46875-266">当前周期性结构的所有节点中均重复出现支持值。</span><span class="sxs-lookup"><span data-stu-id="46875-266">The value for support is repeated in all nodes of the current periodic structure.</span></span>  
  
 <span data-ttu-id="46875-267">MSOLAP_MODEL_COLUMN</span><span class="sxs-lookup"><span data-stu-id="46875-267">MSOLAP_MODEL_COLUMN</span></span>  
 <span data-ttu-id="46875-268">节点中表示的数据序列的可预测属性</span><span class="sxs-lookup"><span data-stu-id="46875-268">The predictable attribute for the data series represented in the node.</span></span> <span data-ttu-id="46875-269">（其值与 ATTRIBUTE_NAME 的值相同）。</span><span class="sxs-lookup"><span data-stu-id="46875-269">(The same value as for ATTRIBUTE_NAME.)</span></span>  
  
 <span data-ttu-id="46875-270">MSOLAP_NODE_SCORE</span><span class="sxs-lookup"><span data-stu-id="46875-270">MSOLAP_NODE_SCORE</span></span>  
 <span data-ttu-id="46875-271">描述树或拆分的信息值的特性的数值。</span><span class="sxs-lookup"><span data-stu-id="46875-271">A numeric value that characterizes the information value of the tree or split.</span></span>  
  
 <span data-ttu-id="46875-272">**ARTXP：** 对于没有拆分的节点，值始终为 0.0。</span><span class="sxs-lookup"><span data-stu-id="46875-272">**ARTXP:** Value is always 0.0 for nodes without a split.</span></span> <span data-ttu-id="46875-273">对于包含拆分的节点，值表示该拆分的受关注度分数。</span><span class="sxs-lookup"><span data-stu-id="46875-273">For nodes with a split, the value represents the interestingness score of the split.</span></span>  
  
 <span data-ttu-id="46875-274">有关计分方法的详细信息，请参阅[功能选择（数据挖掘）](feature-selection-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-274">For more information about scoring methods, see [Feature Selection &#40;Data Mining&#41;](feature-selection-data-mining.md).</span></span>  
  
 <span data-ttu-id="46875-275">**ARIMA：**  ARIMA 模型的 Bayesian 信息标准 (BIC) 分数。</span><span class="sxs-lookup"><span data-stu-id="46875-275">**ARIMA:**  The Bayesian Information Criterion (BIC) score of the ARIMA model.</span></span> <span data-ttu-id="46875-276">对与该公式相关的所有 ARIMA 节点设置相同的分数。</span><span class="sxs-lookup"><span data-stu-id="46875-276">The same score is set on all the ARIMA nodes related to the equation.</span></span>  
  
 <span data-ttu-id="46875-277">MSOLAP_NODE_SHORT_CAPTION</span><span class="sxs-lookup"><span data-stu-id="46875-277">MSOLAP_NODE_SHORT_CAPTION</span></span>  
 <span data-ttu-id="46875-278">**ARTXP：**  与 NODE_DESCRIPTION 相同的信息。</span><span class="sxs-lookup"><span data-stu-id="46875-278">**ARTXP:**  Same information as the NODE_DESCRIPTION.</span></span>  
  
 <span data-ttu-id="46875-279">**ARIMA：** 与 NODE_CAPTION 相同的信息，即 ARIMA 公式的缩写。</span><span class="sxs-lookup"><span data-stu-id="46875-279">**ARIMA:** Same information as the NODE_CAPTION: that is, the short form of the ARIMA equation.</span></span>  
  
##  <a name="understanding-the-artxp-tree"></a><a name="bkmk_ARTXP_1"></a><span data-ttu-id="46875-280">了解 ARTXP 树</span><span class="sxs-lookup"><span data-stu-id="46875-280">Understanding the ARTXP Tree</span></span>  
 <span data-ttu-id="46875-281">ARTXP 模型将线性数据区与根据某些其他因素进行拆分的数据区明确分隔开。</span><span class="sxs-lookup"><span data-stu-id="46875-281">The ARTXP model clearly separates the areas of the data that are linear from the areas of the data that split on some other factor.</span></span> <span data-ttu-id="46875-282">只要能够直接以独立变量的函数表示可预测属性的变化，就可以通过计算回归公式来表示该关系。</span><span class="sxs-lookup"><span data-stu-id="46875-282">Wherever the changes in the predictable attribute can be directly represented as a function of the independent variables, a regression formula is calculated to represent that relationship</span></span>  
  
 <span data-ttu-id="46875-283">例如，如果大多数数据序列的时间和销售额直接相关，则每个序列将包含在一个时序树 (NODE_TYPE =16) 中，该树没有对应于每个数据序列的子节点，而只有对应于回归公式的子节点。</span><span class="sxs-lookup"><span data-stu-id="46875-283">For example, if there is a direct correlation between time and sales for most of the data series, each series would be contained within a time series tree (NODE_TYPE =16) that has no child nodes for each data series, only a regression equation.</span></span> <span data-ttu-id="46875-284">但是，如果为非线性关系，则 ARTXP 时序树可以根据条件拆分为子节点，正如决策树模型一样。</span><span class="sxs-lookup"><span data-stu-id="46875-284">However, if the relationship is not linear, an ARTXP time series tree can split on conditions into child nodes, just like a decision tree model.</span></span> <span data-ttu-id="46875-285">使用 **Microsoft 一般内容树查看器** 查看模型内容，可以看到发生拆分的位置以及拆分影响趋势线的方式。</span><span class="sxs-lookup"><span data-stu-id="46875-285">By viewing the model content in the **Microsoft Generic Content Tree Viewer** you can see where the splits occur, and how it affects the trend line.</span></span>  
  
 <span data-ttu-id="46875-286">为了更好地了解这种行为，您可以查看在 [数据挖掘基础教程](../../tutorials/basic-data-mining-tutorial.md)中创建的时序模型。</span><span class="sxs-lookup"><span data-stu-id="46875-286">To better understand this behavior, you can review the time series model created in the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span> <span data-ttu-id="46875-287">此模型基于 AdventureWorks 数据仓库，不会使用特别复杂的数据。</span><span class="sxs-lookup"><span data-stu-id="46875-287">This model, based on the AdventureWorks data warehouse, does not use particularly complex data.</span></span> <span data-ttu-id="46875-288">因此，ARTXP 树中的拆分并不多。</span><span class="sxs-lookup"><span data-stu-id="46875-288">Therefore, there are not many splits in the ARTXP tree.</span></span> <span data-ttu-id="46875-289">然而，甚至该相对简单的模型都将演示三种不同的拆分：</span><span class="sxs-lookup"><span data-stu-id="46875-289">However, even this relatively simple model illustrates three different kinds of splits:</span></span>  
  
-   <span data-ttu-id="46875-290">太平洋地区的 [Amount] 趋势线基于时间键进行拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-290">The [Amount] trend line for the Pacific region splits on the time key.</span></span> <span data-ttu-id="46875-291">基于时间键进行拆分是指在某个时间点，趋势发生了变化。</span><span class="sxs-lookup"><span data-stu-id="46875-291">A split on the time key means that there is a change in the trend at a certain point in time.</span></span> <span data-ttu-id="46875-292">趋势线仅在到达某一时间点之前为线性，之后该曲线即呈现另一种形状。</span><span class="sxs-lookup"><span data-stu-id="46875-292">The trend line was linear only up to a certain point, and then the curve assumed a different shape.</span></span> <span data-ttu-id="46875-293">例如，一个时序可能持续到 2002 年 8 月 6 日为止，该日期后即开始另一个时序。</span><span class="sxs-lookup"><span data-stu-id="46875-293">For example, one time series might continue until August 6, 2002, and another time series start after that date.</span></span>  
  
-   <span data-ttu-id="46875-294">北美地区的 [Amount] 趋势线基于另一个变量进行拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-294">The [Amount] trend line for the North America region splits on another variable.</span></span> <span data-ttu-id="46875-295">在本例中，北美的趋势线根据用于欧洲地区的相同模型的值进行拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-295">In this case, the trend for North America splits based on the value for the same model in the Europe region.</span></span> <span data-ttu-id="46875-296">换言之，该算法检测到如果欧洲的值改变，则北美的值也会随之改变。</span><span class="sxs-lookup"><span data-stu-id="46875-296">In other words, the algorithm detected that when the value for Europe changes, the value for North America A also changes.</span></span>  
  
-   <span data-ttu-id="46875-297">欧洲地区的销售额趋势线基于其自身进行拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-297">The trend line for Europe region splits on itself.</span></span>  
  
 <span data-ttu-id="46875-298">每个拆分意味着什么？</span><span class="sxs-lookup"><span data-stu-id="46875-298">What does each split mean?</span></span> <span data-ttu-id="46875-299">解释模型内容传达的信息是一门艺术，要求对该数据及其在商业环境中的含义有深入了解。</span><span class="sxs-lookup"><span data-stu-id="46875-299">Interpreting the information conveyed by the model content is an art that requires a deep understanding of the data and its meaning in the business context.</span></span>  
  
-   <span data-ttu-id="46875-300">北美和欧洲地区的趋势之间的显而易见的连系可能只意味着欧洲的数据序列具有更大的平均信息量，从而致使北美地区的趋势显得比较弱。</span><span class="sxs-lookup"><span data-stu-id="46875-300">The apparent link between the trends for the North America and Europe regions may signify only that the data series for Europe has more entropy, which causes the trend for the North America to appear weaker.</span></span> <span data-ttu-id="46875-301">或者，对这两个地区的计分可能并不存在显著差异，并且它们之间的相关也可能是偶然的，只是基于先对欧洲地区进行计算，后对北美地区进行计算。</span><span class="sxs-lookup"><span data-stu-id="46875-301">Or, there might be no significant difference in the scoring for the two, and the correlation could be accidental, based simply on computing Europe before computing North America.</span></span> <span data-ttu-id="46875-302">但您可能希望查看这些数据并确定二者之间的相关性是否为假，或者希望进行调查以了解是否可能涉及到了某些其他因素。</span><span class="sxs-lookup"><span data-stu-id="46875-302">However, you might want to review the data and make sure whether the correlation is false, or investigate to see if some other factor might involved.</span></span>  
  
-   <span data-ttu-id="46875-303">基于时间键的拆分意味着该线的渐变方面发生了统计上的显著变化。</span><span class="sxs-lookup"><span data-stu-id="46875-303">The split on the time key means that there is a statistically significant change in the gradient of the line.</span></span> <span data-ttu-id="46875-304">这可能是由数学因素（如每个范围的支持）或计算拆分所需的平均信息量所致。</span><span class="sxs-lookup"><span data-stu-id="46875-304">This might have been caused by mathematical factors such as the support for each range, or the calculations of entropy required for the split.</span></span> <span data-ttu-id="46875-305">因此，就模型在现实世界的意义而言，该拆分可能没有多大价值。</span><span class="sxs-lookup"><span data-stu-id="46875-305">Thus, this split might not be interesting in terms of the model's meaning in the real world.</span></span> <span data-ttu-id="46875-306">但如果查看该拆分中指示的时间段，则可能会发现数据中未表示的有价值的相关性，例如从该时间开始且可能已影响到数据的促销或其他事件。</span><span class="sxs-lookup"><span data-stu-id="46875-306">However, when you review the time period indicated in the split, you might find interesting correlations that are not represented in the data, such a sales promotion or other event that began at that time and that may have affected the data.</span></span>  
  
 <span data-ttu-id="46875-307">如果数据包含其他属性，则您很可能会发现树中分支的更有价值的示例。</span><span class="sxs-lookup"><span data-stu-id="46875-307">If the data contained other attributes, you would very likely see more interesting examples of branching in the tree.</span></span> <span data-ttu-id="46875-308">例如，如果跟踪天气信息并将该信息用作分析的属性，则您可能会发现树中有多个表示销售额和天气的复杂交互的拆分。</span><span class="sxs-lookup"><span data-stu-id="46875-308">For example, if you tracked weather information and used that as an attribute for analysis, you might see multiple splits in the tree that represent the complex interaction of sales and weather.</span></span>  
  
 <span data-ttu-id="46875-309">总之，数据挖掘可用于提供关于发生潜在有价值现象的领域的提示，但要准确解释该信息在商业环境下的价值，商业用户须做进一步调查且具有相关的专业技能。</span><span class="sxs-lookup"><span data-stu-id="46875-309">In short, data mining is useful for providing hints about where potentially interesting phenomena occur, but further investigation and the expertise of the business users is necessary to accurately interpret the worth of the information in context.</span></span>  
  
### <a name="elements-of-the-artxp-time-series-formula"></a><span data-ttu-id="46875-310">ARTXP 时序公式的元素</span><span class="sxs-lookup"><span data-stu-id="46875-310">Elements of the ARTXP Time Series Formula</span></span>  
 <span data-ttu-id="46875-311">若要查看 ARTXP 树或分支的完整公式，建议使用 **Microsoft 时序查看器** 的 [“挖掘图例”](browse-a-model-using-the-microsoft-time-series-viewer.md)，其将以可读格式显示所有常量。</span><span class="sxs-lookup"><span data-stu-id="46875-311">To view the complete formula for an ARTXP tree or branch, we recommend that you use the **Mining Legend** of the [Microsoft Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md), which presents all of the constants in a readable format.</span></span>  
  
-   [<span data-ttu-id="46875-312">查看时序模型的公式（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="46875-312">View the Formula for a Time Series Model &#40;Data Mining&#41;</span></span>](view-the-formula-for-a-time-series-model-data-mining.md)  
  
 <span data-ttu-id="46875-313">下一节将给出示例公式并解释基本术语。</span><span class="sxs-lookup"><span data-stu-id="46875-313">The following section presents a sample equation and explains the basic terms.</span></span>  
  
#### <a name="mining-legend-for-an-artxp-formula"></a><span data-ttu-id="46875-314">ARTXP 公式的挖掘图例</span><span class="sxs-lookup"><span data-stu-id="46875-314">Mining Legend for an ARTXP Formula</span></span>  
 <span data-ttu-id="46875-315">以下示例将给出模型的某个组成部分的 ARTXP 公式，如 **“挖掘图例”** 中所示。</span><span class="sxs-lookup"><span data-stu-id="46875-315">The following example shows the ARTXP formula for one part of the model, as displayed in the **Mining Legend**.</span></span> <span data-ttu-id="46875-316">若要查看该公式，请在 Microsoft 时序查看器中打开在“数据挖掘基础教程”中创建的 [Forecasting] 模型，单击“模型”\*\*\*\* 选项卡，选择对应于 R250: Europe 数据序列的树。</span><span class="sxs-lookup"><span data-stu-id="46875-316">To view this formula, open the [Forecasting] model that you created in the Basic Data Mining Tutorial in the Microsoft Time Series viewer, click the **Model** tab, and select the tree for the R250: Europe data series.</span></span>  
  
 <span data-ttu-id="46875-317">若要查看此示例使用的公式，请单击表示 2003 年 7 月 5 日当天或之后的数据序列的节点。</span><span class="sxs-lookup"><span data-stu-id="46875-317">To view the equation used for this example, click the node that represents the date series on or after 7/5/2003.</span></span>  
  
 <span data-ttu-id="46875-318">树节点公式示例：</span><span class="sxs-lookup"><span data-stu-id="46875-318">Example of tree node equation:</span></span>  
  
 <span data-ttu-id="46875-319">Quantity = 21.322</span><span class="sxs-lookup"><span data-stu-id="46875-319">Quantity = 21.322</span></span>  
  
 <span data-ttu-id="46875-320">-0.293 \* 数量 (R250 北美，-7) + 0.069 \* 数量 (R250 欧洲，-1) + 0.023\*</span><span class="sxs-lookup"><span data-stu-id="46875-320">-0.293 \* Quantity(R250 North America,-7) + 0.069 \* Quantity(R250 Europe,-1) + 0.023 \*</span></span>  
  
 <span data-ttu-id="46875-321">Quantity(R250 Europe,-3) -0.142 \* Quantity(R750 Europe,-8)</span><span class="sxs-lookup"><span data-stu-id="46875-321">Quantity(R250 Europe,-3) -0.142 \* Quantity(R750 Europe,-8)</span></span>  
  
 <span data-ttu-id="46875-322">在本例中，值 21.322 表示对 Quantity 进行预测（作为公式的以下元素的一个函数）得到的预测值。</span><span class="sxs-lookup"><span data-stu-id="46875-322">In this case, the value 21.322 represents the value that is predicted for Quantity as a function of the following elements of the equation.</span></span>  
  
 <span data-ttu-id="46875-323">例如，一个元素的数量为 (R250 北美，-7) 。</span><span class="sxs-lookup"><span data-stu-id="46875-323">For example, one element is Quantity(R250 North America,-7).</span></span> <span data-ttu-id="46875-324">该表示法表示北美地区在 t-7 或当前时间段之前七个时间段的数量。</span><span class="sxs-lookup"><span data-stu-id="46875-324">This notation means the quantity for the North America region at t-7, or seven time slices before the current time slice.</span></span> <span data-ttu-id="46875-325">此数据序列的值乘以系数 -0.293。</span><span class="sxs-lookup"><span data-stu-id="46875-325">The value for this data series is multiplied by the coefficient -0.293.</span></span> <span data-ttu-id="46875-326">各元素的系数在定型过程中导出，其基于数据中的趋势。</span><span class="sxs-lookup"><span data-stu-id="46875-326">The coefficient for each element is derived during the training process and is based on trends in the data.</span></span>  
  
 <span data-ttu-id="46875-327">由于该模型已计算出欧洲地区的 R250 模型的数量由几个其他数据序列的值决定，因此该公式中有多个元素。</span><span class="sxs-lookup"><span data-stu-id="46875-327">There are multiple elements in this equation because the model has calculated that the quantity of the R250 model in the Europe region is dependent on the values of several other data series.</span></span>  
  
#### <a name="model-content-for-an-artxp-formula"></a><span data-ttu-id="46875-328">ARTXP 公式的模型内容</span><span class="sxs-lookup"><span data-stu-id="46875-328">Model Content for an ARTXP Formula</span></span>  
 <span data-ttu-id="46875-329">下表使用 [Microsoft 一般内容树查看器（数据挖掘）](../microsoft-generic-content-tree-viewer-data-mining.md)中所示的相关节点的内容，显示该公式的相同信息。</span><span class="sxs-lookup"><span data-stu-id="46875-329">The following table shows the same information for the formula, using the contents of the relevant node as displayed in the [Microsoft Generic Content Tree Viewer &#40;Data Mining&#41;](../microsoft-generic-content-tree-viewer-data-mining.md).</span></span>  
  
|<span data-ttu-id="46875-330">ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-330">ATTRIBUTE_NAME</span></span>|<span data-ttu-id="46875-331">ATTRIBUTE_VALUE</span><span class="sxs-lookup"><span data-stu-id="46875-331">ATTRIBUTE_VALUE</span></span>|<span data-ttu-id="46875-332">Support</span><span class="sxs-lookup"><span data-stu-id="46875-332">SUPPORT</span></span>|<span data-ttu-id="46875-333">PROBABILITY</span><span class="sxs-lookup"><span data-stu-id="46875-333">PROBABILITY</span></span>|<span data-ttu-id="46875-334">方差</span><span class="sxs-lookup"><span data-stu-id="46875-334">VARIANCE</span></span>|<span data-ttu-id="46875-335">VALUETYPE</span><span class="sxs-lookup"><span data-stu-id="46875-335">VALUETYPE</span></span>|  
|---------------------|----------------------|-------------|-----------------|--------------|---------------|  
|<span data-ttu-id="46875-336">Quantity(R250 Europe,y-intercept)</span><span class="sxs-lookup"><span data-stu-id="46875-336">Quantity(R250 Europe,y-intercept)</span></span>|<span data-ttu-id="46875-337">21.3223433563772</span><span class="sxs-lookup"><span data-stu-id="46875-337">21.3223433563772</span></span>|<span data-ttu-id="46875-338">11</span><span class="sxs-lookup"><span data-stu-id="46875-338">11</span></span>|<span data-ttu-id="46875-339">0</span><span class="sxs-lookup"><span data-stu-id="46875-339">0</span></span>|<span data-ttu-id="46875-340">1.65508795539661</span><span class="sxs-lookup"><span data-stu-id="46875-340">1.65508795539661</span></span>|<span data-ttu-id="46875-341">11（截距）</span><span class="sxs-lookup"><span data-stu-id="46875-341">11 (Intercept)</span></span>|  
|<span data-ttu-id="46875-342">Quantity(R250 Europe,-1)</span><span class="sxs-lookup"><span data-stu-id="46875-342">Quantity(R250 Europe,-1)</span></span>|<span data-ttu-id="46875-343">0.0691694140876526</span><span class="sxs-lookup"><span data-stu-id="46875-343">0.0691694140876526</span></span>|<span data-ttu-id="46875-344">0</span><span class="sxs-lookup"><span data-stu-id="46875-344">0</span></span>|<span data-ttu-id="46875-345">0</span><span class="sxs-lookup"><span data-stu-id="46875-345">0</span></span>|<span data-ttu-id="46875-346">0</span><span class="sxs-lookup"><span data-stu-id="46875-346">0</span></span>|<span data-ttu-id="46875-347">7（系数）</span><span class="sxs-lookup"><span data-stu-id="46875-347">7 (Coefficient)</span></span>|  
|<span data-ttu-id="46875-348">Quantity(R250 Europe,-1)</span><span class="sxs-lookup"><span data-stu-id="46875-348">Quantity(R250 Europe,-1)</span></span>|<span data-ttu-id="46875-349">20.6363635858123</span><span class="sxs-lookup"><span data-stu-id="46875-349">20.6363635858123</span></span>|<span data-ttu-id="46875-350">0</span><span class="sxs-lookup"><span data-stu-id="46875-350">0</span></span>|<span data-ttu-id="46875-351">0</span><span class="sxs-lookup"><span data-stu-id="46875-351">0</span></span>|<span data-ttu-id="46875-352">182.380682874818</span><span class="sxs-lookup"><span data-stu-id="46875-352">182.380682874818</span></span>|<span data-ttu-id="46875-353">9（统计信息）</span><span class="sxs-lookup"><span data-stu-id="46875-353">9 (Statistics)</span></span>|  
|<span data-ttu-id="46875-354">Quantity(R750 Europe,-8)</span><span class="sxs-lookup"><span data-stu-id="46875-354">Quantity(R750 Europe,-8)</span></span>|<span data-ttu-id="46875-355">-0.1421203048299</span><span class="sxs-lookup"><span data-stu-id="46875-355">-0.1421203048299</span></span>|<span data-ttu-id="46875-356">0</span><span class="sxs-lookup"><span data-stu-id="46875-356">0</span></span>|<span data-ttu-id="46875-357">0</span><span class="sxs-lookup"><span data-stu-id="46875-357">0</span></span>|<span data-ttu-id="46875-358">0</span><span class="sxs-lookup"><span data-stu-id="46875-358">0</span></span>|<span data-ttu-id="46875-359">7（系数）</span><span class="sxs-lookup"><span data-stu-id="46875-359">7 (Coefficient)</span></span>|  
|<span data-ttu-id="46875-360">Quantity(R750 Europe,-8)</span><span class="sxs-lookup"><span data-stu-id="46875-360">Quantity(R750 Europe,-8)</span></span>|<span data-ttu-id="46875-361">22.5454545333019</span><span class="sxs-lookup"><span data-stu-id="46875-361">22.5454545333019</span></span>|<span data-ttu-id="46875-362">0</span><span class="sxs-lookup"><span data-stu-id="46875-362">0</span></span>|<span data-ttu-id="46875-363">0</span><span class="sxs-lookup"><span data-stu-id="46875-363">0</span></span>|<span data-ttu-id="46875-364">104.362130048408</span><span class="sxs-lookup"><span data-stu-id="46875-364">104.362130048408</span></span>|<span data-ttu-id="46875-365">9（统计信息）</span><span class="sxs-lookup"><span data-stu-id="46875-365">9 (Statistics)</span></span>|  
|<span data-ttu-id="46875-366">Quantity(R250 Europe,-3)</span><span class="sxs-lookup"><span data-stu-id="46875-366">Quantity(R250 Europe,-3)</span></span>|<span data-ttu-id="46875-367">0.0234095979448281</span><span class="sxs-lookup"><span data-stu-id="46875-367">0.0234095979448281</span></span>|<span data-ttu-id="46875-368">0</span><span class="sxs-lookup"><span data-stu-id="46875-368">0</span></span>|<span data-ttu-id="46875-369">0</span><span class="sxs-lookup"><span data-stu-id="46875-369">0</span></span>|<span data-ttu-id="46875-370">0</span><span class="sxs-lookup"><span data-stu-id="46875-370">0</span></span>|<span data-ttu-id="46875-371">7（系数）</span><span class="sxs-lookup"><span data-stu-id="46875-371">7 (Coefficient)</span></span>|  
|<span data-ttu-id="46875-372">Quantity(R250 Europe,-3)</span><span class="sxs-lookup"><span data-stu-id="46875-372">Quantity(R250 Europe,-3)</span></span>|<span data-ttu-id="46875-373">24.8181818883176</span><span class="sxs-lookup"><span data-stu-id="46875-373">24.8181818883176</span></span>|<span data-ttu-id="46875-374">0</span><span class="sxs-lookup"><span data-stu-id="46875-374">0</span></span>|<span data-ttu-id="46875-375">0</span><span class="sxs-lookup"><span data-stu-id="46875-375">0</span></span>|<span data-ttu-id="46875-376">176.475304989169</span><span class="sxs-lookup"><span data-stu-id="46875-376">176.475304989169</span></span>|<span data-ttu-id="46875-377">9（统计信息）</span><span class="sxs-lookup"><span data-stu-id="46875-377">9 (Statistics)</span></span>|  
|<span data-ttu-id="46875-378">Quantity(R250 North America,-7)</span><span class="sxs-lookup"><span data-stu-id="46875-378">Quantity(R250 North America,-7)</span></span>|<span data-ttu-id="46875-379">-0.292914186039869</span><span class="sxs-lookup"><span data-stu-id="46875-379">-0.292914186039869</span></span>|<span data-ttu-id="46875-380">0</span><span class="sxs-lookup"><span data-stu-id="46875-380">0</span></span>|<span data-ttu-id="46875-381">0</span><span class="sxs-lookup"><span data-stu-id="46875-381">0</span></span>|<span data-ttu-id="46875-382">0</span><span class="sxs-lookup"><span data-stu-id="46875-382">0</span></span>|<span data-ttu-id="46875-383">7（系数）</span><span class="sxs-lookup"><span data-stu-id="46875-383">7 (Coefficient)</span></span>|  
|<span data-ttu-id="46875-384">Quantity(R250 North America,-7)</span><span class="sxs-lookup"><span data-stu-id="46875-384">Quantity(R250 North America,-7)</span></span>|<span data-ttu-id="46875-385">10.36363640433</span><span class="sxs-lookup"><span data-stu-id="46875-385">10.36363640433</span></span>|<span data-ttu-id="46875-386">0</span><span class="sxs-lookup"><span data-stu-id="46875-386">0</span></span>|<span data-ttu-id="46875-387">0</span><span class="sxs-lookup"><span data-stu-id="46875-387">0</span></span>|<span data-ttu-id="46875-388">701.882534898676</span><span class="sxs-lookup"><span data-stu-id="46875-388">701.882534898676</span></span>|<span data-ttu-id="46875-389">9（统计信息）</span><span class="sxs-lookup"><span data-stu-id="46875-389">9 (Statistics)</span></span>|  
  
 <span data-ttu-id="46875-390">通过比较这些示例您可以看出，挖掘模型内容包含的信息与 **“挖掘图例”** 中提供的信息相同，但还额外增加了 *variance* 和 *support*两列内容。</span><span class="sxs-lookup"><span data-stu-id="46875-390">As you can see from comparing these examples, the mining model content contains the same information that is available in the **Mining Legend**, but with additional columns for *variance* and *support*.</span></span> <span data-ttu-id="46875-391">支持值指示支持该公式所述趋势的事例的计数。</span><span class="sxs-lookup"><span data-stu-id="46875-391">The value for support indicates the count of cases that support the trend described by this equation.</span></span>  
  
### <a name="using-the-artxp-time-series-formula"></a><span data-ttu-id="46875-392">使用 ARTXP 时序公式</span><span class="sxs-lookup"><span data-stu-id="46875-392">Using the ARTXP Time Series Formula</span></span>  
 <span data-ttu-id="46875-393">对于大多数商业用户来说，ARTXP 模型内容的值在于既提供数据的树视图又提供数据的线性表示。</span><span class="sxs-lookup"><span data-stu-id="46875-393">For most business users, the value of the ARTXP model content is that it combines both a tree view and a linear representation of the data.</span></span>  
  
-   <span data-ttu-id="46875-394">如果可预测属性的变化可以表示为独立变量的线性函数，则算法将自动计算回归公式并在单独的节点中输出该序列。</span><span class="sxs-lookup"><span data-stu-id="46875-394">If the changes in the predictable attribute can be represented as a linear function of the independent variables, the algorithm will automatically compute the regression equation and output that series in a separate node</span></span>  
  
-   <span data-ttu-id="46875-395">只要关系无法表示为线性关系，时序就将分支成决策树状。</span><span class="sxs-lookup"><span data-stu-id="46875-395">Whenever the relationship cannot be expressed as a linear correlation, the time series branches like a decision tree.</span></span>  
  
 <span data-ttu-id="46875-396">使用 [Microsoft 时序查看器](browse-a-model-using-the-microsoft-time-series-viewer.md) 浏览模型内容，可以看到发生拆分的位置以及拆分影响趋势线的方式。</span><span class="sxs-lookup"><span data-stu-id="46875-396">By browsing the model content in the [Microsoft Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md) you can see where the split occurs, and how it affects the trend line.</span></span>  
  
 <span data-ttu-id="46875-397">如果数据序列的任何部分的时间和销售额直接相关，则获取该公式的最简单的方法是从 **“挖掘图例”** 复制该公式，然后将其粘贴到有助于说明模型的文档或演示文稿中。</span><span class="sxs-lookup"><span data-stu-id="46875-397">If a direct correlation exists between time and sales for any part of the data series, the easiest way to get the formula is to copy the formula from the **Mining Legend**, and then paste it into a document or presentation to help explain the model.</span></span> <span data-ttu-id="46875-398">也可从该树的 NODE_DISTRIBUTION 表中提取平均值、系数和其他信息，然后将提取的信息用于计算趋势的扩展范围。</span><span class="sxs-lookup"><span data-stu-id="46875-398">Alternatively, you could extract the mean, coefficient, and other information from the NODE_DISTRIBUTION table for that tree and use it to compute extensions of the trend.</span></span> <span data-ttu-id="46875-399">如果整个序列表现出一致的线性关系，则公式将包含在“(全部)”节点中。</span><span class="sxs-lookup"><span data-stu-id="46875-399">If the entire series exhibits a consistent linear relationship, the equation is contained in the (All) node.</span></span> <span data-ttu-id="46875-400">只要树中有分支，公式就包含在叶节点中。</span><span class="sxs-lookup"><span data-stu-id="46875-400">If there is any branching in the tree, the equation is contained in the leaf node.</span></span>  
  
 <span data-ttu-id="46875-401">以下查询将从挖掘模型返回所有 ARTXP 叶节点和包含公式的嵌套表 NODE_DISTRIBUTION。</span><span class="sxs-lookup"><span data-stu-id="46875-401">The following query returns all the ARTXP leaf nodes from a mining model, together with the nested table, NODE_DISTRIBUTION, which contains the equation.</span></span>  
  
```  
SELECT MODEL_NAME, ATTRIBUTE_NAME, NODE_NAME,  
NODE_CAPTION,   
(SELECT ATTRIBUTE_NAME, ATTRIBUTE_VALUE, [VARIANCE], VALUETYPE  
FROM NODE_DISTRIBUTION) as t  
FROM Forecasting.CONTENT  
WHERE NODE_TYPE = 15  
```  
  
##  <a name="understanding-the-arima-tree"></a><a name="bkmk_ARIMA_1"></a> <span data-ttu-id="46875-402">了解 ARIMA 树</span><span class="sxs-lookup"><span data-stu-id="46875-402">Understanding the ARIMA Tree</span></span>  
 <span data-ttu-id="46875-403">ARIMA 模型中的每个结构都对应一个“ \*\* 周期”或“ \*\* 周期性结构”。</span><span class="sxs-lookup"><span data-stu-id="46875-403">Each structure in an ARIMA model corresponds to a *periodicity* or *periodic structure*.</span></span> <span data-ttu-id="46875-404">周期性结构指数据在整个数据序列中重复的模式。</span><span class="sxs-lookup"><span data-stu-id="46875-404">A periodic structure is a pattern of data that repeats throughout the data series.</span></span> <span data-ttu-id="46875-405">该模式在统计限度内允许发生微小变动。</span><span class="sxs-lookup"><span data-stu-id="46875-405">Some minor variation in the pattern is allowed, within statistical limits.</span></span> <span data-ttu-id="46875-406">周期根据定型数据中使用的默认时间单位进行测量。</span><span class="sxs-lookup"><span data-stu-id="46875-406">Periodicity is measured according to the default time units that were used in the training data.</span></span> <span data-ttu-id="46875-407">例如，如果定型数据提供日销售数据，则默认时间单位为一天，且所有周期性结构均定义为指定的天数。</span><span class="sxs-lookup"><span data-stu-id="46875-407">For example, if the training data provides sales data for each day, the default time unit is one day, and all periodic structures are defined as a specified number of days.</span></span>  
  
 <span data-ttu-id="46875-408">该算法检测到的每个周期均获取其各自的结构节点。</span><span class="sxs-lookup"><span data-stu-id="46875-408">Each period that is detected by the algorithm gets its own structure node.</span></span> <span data-ttu-id="46875-409">例如，如果正在分析日销售数据，则模型可能会检测到表示周的周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-409">For example, if you are analyzing daily sales data, the model might detect periodic structures that represent weeks.</span></span> <span data-ttu-id="46875-410">在这种情况下，该算法将在完成的模型中创建两个周期性结构：一个用于默认的日周期，表示为 {1} ，另一个用于表示的周 {7} 。</span><span class="sxs-lookup"><span data-stu-id="46875-410">In this case, the algorithm will create two periodic structures in the finished model: one for the default daily period, denoted as {1}, and one for weeks, indicated by {7}.</span></span>  
  
 <span data-ttu-id="46875-411">例如，以下查询将从挖掘模型返回所有 ARIMA 结构。</span><span class="sxs-lookup"><span data-stu-id="46875-411">For example, the following query returns all the ARIMA structures from a mining model.</span></span>  
  
```  
SELECT MODEL_NAME, ATTRIBUTE_NAME, NODE_NAME, NODE_CAPTION  
FROM Forecasting.CONTENT  
WHERE NODE_TYPE = 27  
```  
  
 <span data-ttu-id="46875-412">示例结果：</span><span class="sxs-lookup"><span data-stu-id="46875-412">Example results:</span></span>  
  
|<span data-ttu-id="46875-413">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-413">MODEL_NAME</span></span>|<span data-ttu-id="46875-414">ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-414">ATTRIBUTE_NAME</span></span>|<span data-ttu-id="46875-415">NODE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-415">NODE_NAME</span></span>|<span data-ttu-id="46875-416">NODE_TYPE</span><span class="sxs-lookup"><span data-stu-id="46875-416">NODE_TYPE</span></span>|<span data-ttu-id="46875-417">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="46875-417">NODE_CAPTION</span></span>|  
|-----------------|---------------------|----------------|----------------|-------------------|  
|<span data-ttu-id="46875-418">预测</span><span class="sxs-lookup"><span data-stu-id="46875-418">Forecasting</span></span>|<span data-ttu-id="46875-419">M200 Europe:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-419">M200 Europe:Quantity</span></span>|<span data-ttu-id="46875-420">TA00000000</span><span class="sxs-lookup"><span data-stu-id="46875-420">TA00000000</span></span>|<span data-ttu-id="46875-421">27</span><span class="sxs-lookup"><span data-stu-id="46875-421">27</span></span>|<span data-ttu-id="46875-422">ARIMA (1,0,1)</span><span class="sxs-lookup"><span data-stu-id="46875-422">ARIMA (1,0,1)</span></span>|  
|<span data-ttu-id="46875-423">预测</span><span class="sxs-lookup"><span data-stu-id="46875-423">Forecasting</span></span>|<span data-ttu-id="46875-424">M200 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-424">M200 North America:Quantity</span></span>|<span data-ttu-id="46875-425">TA00000001</span><span class="sxs-lookup"><span data-stu-id="46875-425">TA00000001</span></span>|<span data-ttu-id="46875-426">27</span><span class="sxs-lookup"><span data-stu-id="46875-426">27</span></span>|<span data-ttu-id="46875-427">ARIMA (1,0,4) X (1,1,4)(6)</span><span class="sxs-lookup"><span data-stu-id="46875-427">ARIMA (1,0,4) X (1,1,4)(6)</span></span>|  
|<span data-ttu-id="46875-428">预测</span><span class="sxs-lookup"><span data-stu-id="46875-428">Forecasting</span></span>|<span data-ttu-id="46875-429">M200 Pacific:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-429">M200 Pacific:Quantity</span></span>|<span data-ttu-id="46875-430">TA00000002</span><span class="sxs-lookup"><span data-stu-id="46875-430">TA00000002</span></span>|<span data-ttu-id="46875-431">27</span><span class="sxs-lookup"><span data-stu-id="46875-431">27</span></span>|<span data-ttu-id="46875-432">ARIMA (2,0,8) X (1,0,0)(4)</span><span class="sxs-lookup"><span data-stu-id="46875-432">ARIMA (2,0,8) X (1,0,0)(4)</span></span>|  
|<span data-ttu-id="46875-433">预测</span><span class="sxs-lookup"><span data-stu-id="46875-433">Forecasting</span></span>|<span data-ttu-id="46875-434">M200 Pacific:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-434">M200 Pacific:Quantity</span></span>|<span data-ttu-id="46875-435">TA00000002</span><span class="sxs-lookup"><span data-stu-id="46875-435">TA00000002</span></span>|<span data-ttu-id="46875-436">27</span><span class="sxs-lookup"><span data-stu-id="46875-436">27</span></span>|<span data-ttu-id="46875-437">ARIMA (2,0,8) X (1,0,0)(4)</span><span class="sxs-lookup"><span data-stu-id="46875-437">ARIMA (2,0,8) X (1,0,0)(4)</span></span>|  
|<span data-ttu-id="46875-438">预测</span><span class="sxs-lookup"><span data-stu-id="46875-438">Forecasting</span></span>|<span data-ttu-id="46875-439">R250 Europe:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-439">R250 Europe:Quantity</span></span>|<span data-ttu-id="46875-440">TA00000003</span><span class="sxs-lookup"><span data-stu-id="46875-440">TA00000003</span></span>|<span data-ttu-id="46875-441">27</span><span class="sxs-lookup"><span data-stu-id="46875-441">27</span></span>|<span data-ttu-id="46875-442">ARIMA (1,0,7)</span><span class="sxs-lookup"><span data-stu-id="46875-442">ARIMA (1,0,7)</span></span>|  
|<span data-ttu-id="46875-443">预测</span><span class="sxs-lookup"><span data-stu-id="46875-443">Forecasting</span></span>|<span data-ttu-id="46875-444">R250 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-444">R250 North America:Quantity</span></span>|<span data-ttu-id="46875-445">TA00000004</span><span class="sxs-lookup"><span data-stu-id="46875-445">TA00000004</span></span>|<span data-ttu-id="46875-446">27</span><span class="sxs-lookup"><span data-stu-id="46875-446">27</span></span>|<span data-ttu-id="46875-447">ARIMA (1,0,2)</span><span class="sxs-lookup"><span data-stu-id="46875-447">ARIMA (1,0,2)</span></span>|  
|<span data-ttu-id="46875-448">预测</span><span class="sxs-lookup"><span data-stu-id="46875-448">Forecasting</span></span>|<span data-ttu-id="46875-449">R250 Pacific:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-449">R250 Pacific:Quantity</span></span>|<span data-ttu-id="46875-450">TA00000005</span><span class="sxs-lookup"><span data-stu-id="46875-450">TA00000005</span></span>|<span data-ttu-id="46875-451">27</span><span class="sxs-lookup"><span data-stu-id="46875-451">27</span></span>|<span data-ttu-id="46875-452">ARIMA (2,0,2) X (1,1,2)(12)</span><span class="sxs-lookup"><span data-stu-id="46875-452">ARIMA (2,0,2) X (1,1,2)(12)</span></span>|  
|<span data-ttu-id="46875-453">预测</span><span class="sxs-lookup"><span data-stu-id="46875-453">Forecasting</span></span>|<span data-ttu-id="46875-454">R750 Europe:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-454">R750 Europe:Quantity</span></span>|<span data-ttu-id="46875-455">TA00000006</span><span class="sxs-lookup"><span data-stu-id="46875-455">TA00000006</span></span>|<span data-ttu-id="46875-456">27</span><span class="sxs-lookup"><span data-stu-id="46875-456">27</span></span>|<span data-ttu-id="46875-457">ARIMA (2,1,1) X (1,1,5)(6)</span><span class="sxs-lookup"><span data-stu-id="46875-457">ARIMA (2,1,1) X (1,1,5)(6)</span></span>|  
|<span data-ttu-id="46875-458">预测</span><span class="sxs-lookup"><span data-stu-id="46875-458">Forecasting</span></span>|<span data-ttu-id="46875-459">T1000 Europe:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-459">T1000 Europe:Quantity</span></span>|<span data-ttu-id="46875-460">TA00000009</span><span class="sxs-lookup"><span data-stu-id="46875-460">TA00000009</span></span>|<span data-ttu-id="46875-461">27</span><span class="sxs-lookup"><span data-stu-id="46875-461">27</span></span>|<span data-ttu-id="46875-462">ARIMA (1,0,1)</span><span class="sxs-lookup"><span data-stu-id="46875-462">ARIMA (1,0,1)</span></span>|  
|<span data-ttu-id="46875-463">预测</span><span class="sxs-lookup"><span data-stu-id="46875-463">Forecasting</span></span>|<span data-ttu-id="46875-464">T1000 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-464">T1000 North America:Quantity</span></span>|<span data-ttu-id="46875-465">TA0000000a</span><span class="sxs-lookup"><span data-stu-id="46875-465">TA0000000a</span></span>|<span data-ttu-id="46875-466">27</span><span class="sxs-lookup"><span data-stu-id="46875-466">27</span></span>|<span data-ttu-id="46875-467">ARIMA (1,1,1)</span><span class="sxs-lookup"><span data-stu-id="46875-467">ARIMA (1,1,1)</span></span>|  
|<span data-ttu-id="46875-468">预测</span><span class="sxs-lookup"><span data-stu-id="46875-468">Forecasting</span></span>|<span data-ttu-id="46875-469">T1\`000 Pacific:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-469">T1\`000 Pacific:Quantity</span></span>|<span data-ttu-id="46875-470">TA0000000b</span><span class="sxs-lookup"><span data-stu-id="46875-470">TA0000000b</span></span>|<span data-ttu-id="46875-471">27</span><span class="sxs-lookup"><span data-stu-id="46875-471">27</span></span>|<span data-ttu-id="46875-472">ARIMA (1,0,3)</span><span class="sxs-lookup"><span data-stu-id="46875-472">ARIMA (1,0,3)</span></span>|  
  
 <span data-ttu-id="46875-473">也可使用 [Microsoft 一般内容树查看器（数据挖掘）](../microsoft-generic-content-tree-viewer-data-mining.md)浏览以上结果。根据这些结果，可以一眼判断出哪些序列是完全线性的，哪些序列具有多个周期性结构，以及所发现的周期是多少。</span><span class="sxs-lookup"><span data-stu-id="46875-473">From these results, which you can also browse by using the [Microsoft Generic Content Tree Viewer &#40;Data Mining&#41;](../microsoft-generic-content-tree-viewer-data-mining.md), you can tell at a glance which series are completely linear, which have multiple periodic structures, and what the discovered periodicities are.</span></span>  
  
 <span data-ttu-id="46875-474">例如，M200 Europe 序列的 ARIMA 公式的缩写显示只检测到了默认周期或者说日周期。</span><span class="sxs-lookup"><span data-stu-id="46875-474">For example, the short form of the ARIMA Equation for the M200 Europe series tells you that only the default, or daily, cycle was detected.</span></span> <span data-ttu-id="46875-475">NODE_CAPTION 列给出了公式的缩写形式。</span><span class="sxs-lookup"><span data-stu-id="46875-475">The short form of the equation is provided in the NODE_CAPTION column.</span></span>  
  
 <span data-ttu-id="46875-476">但对于 M200 North America 序列，还找到了另一个周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-476">However, for the M200 North America series, an additional periodic structure was found.</span></span> <span data-ttu-id="46875-477">节点 TA00000001 具有两个子节点，一个节点带有公式 (1,0,4)，另一个节点带有公式 (1,1,4)(6)。</span><span class="sxs-lookup"><span data-stu-id="46875-477">The node TA00000001 has two child nodes, one with the equation, (1,0,4), and one with the equation, (1,1,4)(6).</span></span> <span data-ttu-id="46875-478">这些公式将串连起来并呈现于父节点中。</span><span class="sxs-lookup"><span data-stu-id="46875-478">These equations are concatenated and presented in the parent node.</span></span>  
  
 <span data-ttu-id="46875-479">对于每个周期性结构，模型内容也像子节点一样提供“ \*\* 阶数”和“ \*\* 移动平均值”。</span><span class="sxs-lookup"><span data-stu-id="46875-479">For each periodic structure, the model content also provides the *order* and the *moving average* as child nodes.</span></span> <span data-ttu-id="46875-480">例如，以下查询检索前面示例中列出的其中一个节点的子节点。</span><span class="sxs-lookup"><span data-stu-id="46875-480">For example, the following query retrieves the child nodes of one of the nodes listed in the previous example.</span></span> <span data-ttu-id="46875-481">注意：必须将列 PARENT_UNIQUE_NAME 括在括号内，以便将它与同名保留关键字区分开来。</span><span class="sxs-lookup"><span data-stu-id="46875-481">Notice that the column, PARENT_UNIQUE_NAME, must be enclosed in brackets to distinguish it from the reserved keyword of the same name.</span></span>  
  
```  
SELECT *   
FROM Forecasting.CONTENT  
WHERE [PARENT_UNIQUE_NAME] = ' TA00000001'  
```  
  
 <span data-ttu-id="46875-482">由于这是一个 ARIMA 树，而不是 ARTXP 树，因此不能使用 [IsDescendant (DMX)](/sql/dmx/isdescendant-dmx) 函数返回此周期性结构的子节点。</span><span class="sxs-lookup"><span data-stu-id="46875-482">Because this is an ARIMA tree, not an ARTXP tree, you cannot use the [IsDescendant &#40;DMX&#41;](/sql/dmx/isdescendant-dmx) function to return the child nodes of this periodic structure.</span></span> <span data-ttu-id="46875-483">但可以使用属性和节点类型对结果进行筛选，并返回某些子节点，这些子节点提供有关公式的创建方式（包括移动平均值和差分阶数）的更多详细信息。</span><span class="sxs-lookup"><span data-stu-id="46875-483">Instead, you can use the attribute and node types to filter the results and return the child nodes that provide more detail about how the equation was built, including the moving averages and difference order.</span></span>  
  
```  
SELECT MODEL_NAME, ATTRIBUTE_NAME, NODE_UNIQUE_NAME,  
NODE_TYPE,  NODE_CAPTION  
FROM Forecasting.CONTENT  
WHERE [MSOLAP_MODEL_COLUMN] ='M200 North America:Quantity'  
AND (NODE_TYPE = 29 or NODE_TYPE = 30)  
```  
  
 <span data-ttu-id="46875-484">示例结果：</span><span class="sxs-lookup"><span data-stu-id="46875-484">Example results:</span></span>  
  
|<span data-ttu-id="46875-485">MODEL_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-485">MODEL_NAME</span></span>|<span data-ttu-id="46875-486">ATTRIBUTE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-486">ATTRIBUTE_NAME</span></span>|<span data-ttu-id="46875-487">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="46875-487">NODE_UNIQUE_NAME</span></span>|<span data-ttu-id="46875-488">NODE_TYPE</span><span class="sxs-lookup"><span data-stu-id="46875-488">NODE_TYPE</span></span>|<span data-ttu-id="46875-489">NODE_CAPTION</span><span class="sxs-lookup"><span data-stu-id="46875-489">NODE_CAPTION</span></span>|  
|-----------------|---------------------|------------------------|----------------|-------------------|  
|<span data-ttu-id="46875-490">预测</span><span class="sxs-lookup"><span data-stu-id="46875-490">Forecasting</span></span>|<span data-ttu-id="46875-491">M200 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-491">M200 North America:Quantity</span></span>|<span data-ttu-id="46875-492">TA00000001000000010</span><span class="sxs-lookup"><span data-stu-id="46875-492">TA00000001000000010</span></span>|<span data-ttu-id="46875-493">29</span><span class="sxs-lookup"><span data-stu-id="46875-493">29</span></span>|<span data-ttu-id="46875-494">ARIMA {1,0.961832044807041}</span><span class="sxs-lookup"><span data-stu-id="46875-494">ARIMA {1,0.961832044807041}</span></span>|  
|<span data-ttu-id="46875-495">预测</span><span class="sxs-lookup"><span data-stu-id="46875-495">Forecasting</span></span>|<span data-ttu-id="46875-496">M200 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-496">M200 North America:Quantity</span></span>|<span data-ttu-id="46875-497">TA00000001000000011</span><span class="sxs-lookup"><span data-stu-id="46875-497">TA00000001000000011</span></span>|<span data-ttu-id="46875-498">30</span><span class="sxs-lookup"><span data-stu-id="46875-498">30</span></span>|<span data-ttu-id="46875-499">ARIMA {1,-3.51073103693271E-02,2.15731642954099,-0.220314343327742,-1.33151478258758}</span><span class="sxs-lookup"><span data-stu-id="46875-499">ARIMA {1,-3.51073103693271E-02,2.15731642954099,-0.220314343327742,-1.33151478258758}</span></span>|  
|<span data-ttu-id="46875-500">预测</span><span class="sxs-lookup"><span data-stu-id="46875-500">Forecasting</span></span>|<span data-ttu-id="46875-501">M200 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-501">M200 North America:Quantity</span></span>|<span data-ttu-id="46875-502">TA00000001000000000</span><span class="sxs-lookup"><span data-stu-id="46875-502">TA00000001000000000</span></span>|<span data-ttu-id="46875-503">29</span><span class="sxs-lookup"><span data-stu-id="46875-503">29</span></span>|<span data-ttu-id="46875-504">ARIMA {1,0.643565911081657}</span><span class="sxs-lookup"><span data-stu-id="46875-504">ARIMA {1,0.643565911081657}</span></span>|  
|<span data-ttu-id="46875-505">预测</span><span class="sxs-lookup"><span data-stu-id="46875-505">Forecasting</span></span>|<span data-ttu-id="46875-506">M200 North America:Quantity</span><span class="sxs-lookup"><span data-stu-id="46875-506">M200 North America:Quantity</span></span>|<span data-ttu-id="46875-507">TA00000001000000001</span><span class="sxs-lookup"><span data-stu-id="46875-507">TA00000001000000001</span></span>|<span data-ttu-id="46875-508">30</span><span class="sxs-lookup"><span data-stu-id="46875-508">30</span></span>|<span data-ttu-id="46875-509">ARIMA {1,1.45035399809581E-02,-4.40489283927752E-02,-0.19203901352577,0.242202497643993}</span><span class="sxs-lookup"><span data-stu-id="46875-509">ARIMA {1,1.45035399809581E-02,-4.40489283927752E-02,-0.19203901352577,0.242202497643993}</span></span>|  
  
 <span data-ttu-id="46875-510">以上示例说明深化到 ARIMA 树中的程度越高，发现的详细信息就越多，不过父节点中也同样组合并呈现重要信息。</span><span class="sxs-lookup"><span data-stu-id="46875-510">These examples illustrate that the further you drill down into the ARIMA tree, the more detail is revealed, but the important information is combined and presented in the parent node as well.</span></span>  
  
### <a name="time-series-formula-for-arima"></a><span data-ttu-id="46875-511">ARIMA 的时序公式</span><span class="sxs-lookup"><span data-stu-id="46875-511">Time Series Formula for ARIMA</span></span>  
 <span data-ttu-id="46875-512">若要查看各个 ARIMA 节点的完整公式，建议使用 **Microsoft 时序查看器** 的 [“挖掘图例”](browse-a-model-using-the-microsoft-time-series-viewer.md)，由此可以查看已采用一致格式构成的公式的自动回归阶数、移动平均值和其他元素。</span><span class="sxs-lookup"><span data-stu-id="46875-512">To view the complete formula for any ARIMA node, we recommend that you use the **Mining Legend** of the [Microsoft Time Series Viewer](browse-a-model-using-the-microsoft-time-series-viewer.md), which presents the autoregressive order, moving averages, and other elements of the equation already composed in a consistent format.</span></span>  
  
-   [<span data-ttu-id="46875-513">查看时序模型的公式（数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="46875-513">View the Formula for a Time Series Model &#40;Data Mining&#41;</span></span>](view-the-formula-for-a-time-series-model-data-mining.md)  
  
 <span data-ttu-id="46875-514">本节将给出示例公式并解释基本术语。</span><span class="sxs-lookup"><span data-stu-id="46875-514">This section presents a sample equation and explains the basic terms.</span></span>  
  
####  <a name="mining-legend-for-arima-formula"></a><a name="bkmk_ARIMA_2"></a><span data-ttu-id="46875-515">ARIMA 公式的挖掘图例</span><span class="sxs-lookup"><span data-stu-id="46875-515">Mining Legend for ARIMA Formula</span></span>  
 <span data-ttu-id="46875-516">以下示例将给出模型的某一组成部分的 ARIMA 公式，如挖掘图例中所示。</span><span class="sxs-lookup"><span data-stu-id="46875-516">The following example shows the ARIMA formula for one part of the model, as displayed in the Mining Legend.</span></span> <span data-ttu-id="46875-517">若要查看该公式，请使用“Microsoft 时序查看器”\*\*\*\* 打开 **Forecasting** 模型，单击“模型”\*\*\*\* 选项卡，选择对应于 **R250: Europe** 数据序列的树，然后单击表示在 2003/7/5 或其后日期的日期序列的节点。</span><span class="sxs-lookup"><span data-stu-id="46875-517">To view this formula, open the **Forecasting** model by using the **Microsoft Time Series viewer**, click the **Model** tab, select the tree for the **R250: Europe** data series, and then click the node that represents the date series on or after 7/5/2003.</span></span> <span data-ttu-id="46875-518">挖掘图例以可读格式构造所有常量，如以下示例所示：</span><span class="sxs-lookup"><span data-stu-id="46875-518">The mining legend composes all of the constants in a readable format, shown in this example:</span></span>  
  
 <span data-ttu-id="46875-519">ARIMA 公式：</span><span class="sxs-lookup"><span data-stu-id="46875-519">ARIMA equation:</span></span>  
  
 <span data-ttu-id="46875-520">ARIMA ({1,1} 、0、{1、1.49791920964142、1.10640053499397、0.888873034670339、-5.05429403071953 e-02、-0.905265316720334、-0.961908900643379、-0.649991020901922} ) 截获：56.8888888888889</span><span class="sxs-lookup"><span data-stu-id="46875-520">ARIMA ({1,1},0,{1,1.49791920964142,1.10640053499397,0.888873034670339,-5.05429403071953E-02,-0.905265316720334,-0.961908900643379,-0.649991020901922}) Intercept:56.8888888888889</span></span>  
  
 <span data-ttu-id="46875-521">该公式采用长 ARIMA 格式，其中包括系数和截距的值。</span><span class="sxs-lookup"><span data-stu-id="46875-521">This equation is the long ARIMA format, which includes the values of the coefficients and the intercept.</span></span> <span data-ttu-id="46875-522">此公式的短格式为 {1,0,7} ，其中，1指示时间段的计数，0表示术语差分顺序，7指示系数的数量。</span><span class="sxs-lookup"><span data-stu-id="46875-522">The short format for this equation would be {1,0,7}, where 1 indicates the period as a count of time slices, 0 indicates the term difference order, and 7 indicates the number of coefficients.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="46875-523">由 Analysis Services 计算得出的常量用于计算方差，但在用户界面中的任何位置均不显示该常量本身。</span><span class="sxs-lookup"><span data-stu-id="46875-523">A constant is calculated by Analysis Services for computing variance, but the constant itself is not displayed anywhere in the user interface.</span></span> <span data-ttu-id="46875-524">不过，如果选择 **“图表”** 视图中的 **“显示偏差”** ，则可以查看序列中任意一点的方差，该方差是此常量的函数。</span><span class="sxs-lookup"><span data-stu-id="46875-524">However, you can view the variance for any point in the series as a function of this constant if you select **Show Deviations,** in **Chart** view.</span></span> <span data-ttu-id="46875-525">各数据序列的工具提示显示特定预测点的方差。</span><span class="sxs-lookup"><span data-stu-id="46875-525">The Tooltip for each data series shows the variance for a specific predicted point.</span></span>  
  
#### <a name="model-content-for-arima-formula"></a><span data-ttu-id="46875-526">ARIMA 公式的模型内容</span><span class="sxs-lookup"><span data-stu-id="46875-526">Model Content for ARIMA Formula</span></span>  
 <span data-ttu-id="46875-527">ARIMA 模型遵循标准结构，其不同类型的节点中包含不同的信息。</span><span class="sxs-lookup"><span data-stu-id="46875-527">An ARIMA model follows a standard structure, with different information contained in nodes of different types.</span></span> <span data-ttu-id="46875-528">若要查看 ARIMA 模型的模型内容，请将查看器更改为 **Microsoft 一般内容树查看器**，然后展开含有属性名 **R250 Europe: Quantity**的节点。</span><span class="sxs-lookup"><span data-stu-id="46875-528">To view the model content for the ARIMA model, change the viewer to the **Microsoft Generic Content Tree Viewer**, and then expand the node that has the attribute name, **R250 Europe: Quantity**.</span></span>  
  
 <span data-ttu-id="46875-529">数据序列的 ARIMA 模型包含四种不同格式的基本周期性公式，可根据不同的应用选用不同的公式。</span><span class="sxs-lookup"><span data-stu-id="46875-529">An ARIMA model for a data series contains the basic periodic equation in four different formats, which you can choose from depending on the application.</span></span>  
  
 <span data-ttu-id="46875-530">**NODE_CAPTION：** 显示公式的缩写。</span><span class="sxs-lookup"><span data-stu-id="46875-530">**NODE_CAPTION:** Displays the short format of the equation.</span></span> <span data-ttu-id="46875-531">缩写指出表示的周期性结构的数目以及这些结构有多少系数。</span><span class="sxs-lookup"><span data-stu-id="46875-531">The short format tells you how many periodic structures are represented, and how many coefficients they have.</span></span> <span data-ttu-id="46875-532">例如，如果公式缩写为 {4,0,6}，则节点表示一个带有 6 个系数的周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-532">For example, if the short format of the equation is {4,0,6}, the node represents one periodic structure with 6 coefficients.</span></span> <span data-ttu-id="46875-533">如果短格式类似于 {2,0,8} x {1,0,0} (4) ，则节点包含两个周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-533">If the short format is something like {2,0,8} x {1,0,0}(4), the node contains two periodic structures.</span></span>  
  
 <span data-ttu-id="46875-534">**NODE DESCRIPTION：** 显示公式的长格式，这也是 **“挖掘图例”** 中显示的公式的格式。</span><span class="sxs-lookup"><span data-stu-id="46875-534">**NODE DESCRIPTION:** Displays the long format of the equation, which is also the form of the equation that appears in the **Mining Legend**.</span></span> <span data-ttu-id="46875-535">公式的长格式类似于公式的缩写，不同之处在于前者显示系数的实际值，而后者是进行计数。</span><span class="sxs-lookup"><span data-stu-id="46875-535">The long form of the equation is similar to the short form, except that the actual values of the coefficients are displayed instead of being counted.</span></span>  
  
 <span data-ttu-id="46875-536">**NODE_RULE：** 显示公式的 XML 表示形式。</span><span class="sxs-lookup"><span data-stu-id="46875-536">**NODE_RULE:** Displays an XML representation of the equation.</span></span> <span data-ttu-id="46875-537">根据节点类型的不同，XML 表示形式可以包括单个或多个周期性结构。</span><span class="sxs-lookup"><span data-stu-id="46875-537">Depending on the node type, the XML representation can include single or multiple periodic structures.</span></span> <span data-ttu-id="46875-538">下表中说明如何将 XML 节点上滚到 ARIMA 模型的较高级别。</span><span class="sxs-lookup"><span data-stu-id="46875-538">The following table illustrates how XML nodes are rolled up to higher levels of the ARIMA model.</span></span>  
  
|<span data-ttu-id="46875-539">节点类型</span><span class="sxs-lookup"><span data-stu-id="46875-539">Node Type</span></span>|<span data-ttu-id="46875-540">XML 内容</span><span class="sxs-lookup"><span data-stu-id="46875-540">XML content</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="46875-541">27（ARIMA 根）</span><span class="sxs-lookup"><span data-stu-id="46875-541">27 (ARIMA Root)</span></span>|<span data-ttu-id="46875-542">包括数据序列的所有周期性结构和每个周期性结构的所有子节点的内容。</span><span class="sxs-lookup"><span data-stu-id="46875-542">Includes all periodic structures for the data series, and the content of all child nodes for each periodic structure.</span></span>|  
|<span data-ttu-id="46875-543">28（ARIMA 周期性结构）</span><span class="sxs-lookup"><span data-stu-id="46875-543">28 (ARIMA Periodic Structure)</span></span>|<span data-ttu-id="46875-544">定义单个周期性结构，包括其自动回归期限节点及其移动平均值系数。</span><span class="sxs-lookup"><span data-stu-id="46875-544">Defines a single periodic structure, including its autoregressive term node and its moving average coefficients.</span></span>|  
|<span data-ttu-id="46875-545">29（ARIMA 自动回归）</span><span class="sxs-lookup"><span data-stu-id="46875-545">29 (ARIMA Autoregressive)</span></span>|<span data-ttu-id="46875-546">列出单个周期性结构的期限。</span><span class="sxs-lookup"><span data-stu-id="46875-546">Lists the terms for a single periodic structure.</span></span>|  
|<span data-ttu-id="46875-547">30（ARIMA 移动平均值）</span><span class="sxs-lookup"><span data-stu-id="46875-547">30 (ARIMA Moving Average)</span></span>|<span data-ttu-id="46875-548">列出单个周期性结构的系数。</span><span class="sxs-lookup"><span data-stu-id="46875-548">Lists the coefficients for a single periodic structure.</span></span>|  
  
 <span data-ttu-id="46875-549">**NODE_DISTRIBUTION：** 在嵌套表中显示公式中的各项，可查询该表获取特定的项。</span><span class="sxs-lookup"><span data-stu-id="46875-549">**NODE_DISTRIBUTION:** Displays terms of the equation in a nested table, which you can query to obtain specific terms.</span></span> <span data-ttu-id="46875-550">节点分布表遵从与 XML 规则相同的层次结构。</span><span class="sxs-lookup"><span data-stu-id="46875-550">The node distribution table follows the same hierarchical structure as the XML rules.</span></span> <span data-ttu-id="46875-551">亦即 ARIMA 序列的根节点 (NODE_TYPE = 27) 包含整个公式的截距值和周期，公式中可能包含多个周期，而该序列的子节点仅包含某个周期性结构或该周期性结构的子节点特有的信息。</span><span class="sxs-lookup"><span data-stu-id="46875-551">That is, the root node of the ARIMA series (NODE_TYPE = 27) contains the intercept value and the periodicities for the complete equation, which can include multiple periodicities, whereas the child nodes contain only information specific to a certain periodic structure or to the child nodes of that periodic structure.</span></span>  
  
|<span data-ttu-id="46875-552">节点类型</span><span class="sxs-lookup"><span data-stu-id="46875-552">Node Type</span></span>|<span data-ttu-id="46875-553">Attribute</span><span class="sxs-lookup"><span data-stu-id="46875-553">Attribute</span></span>|<span data-ttu-id="46875-554">值类型</span><span class="sxs-lookup"><span data-stu-id="46875-554">Value type</span></span>|  
|---------------|---------------|----------------|  
|<span data-ttu-id="46875-555">27（ARIMA 根）</span><span class="sxs-lookup"><span data-stu-id="46875-555">27 (ARIMA Root)</span></span>|<span data-ttu-id="46875-556">截距</span><span class="sxs-lookup"><span data-stu-id="46875-556">Intercept</span></span><br /><br /> <span data-ttu-id="46875-557">周期</span><span class="sxs-lookup"><span data-stu-id="46875-557">Periodicity</span></span>|<span data-ttu-id="46875-558">11</span><span class="sxs-lookup"><span data-stu-id="46875-558">11</span></span>|  
|<span data-ttu-id="46875-559">28（ARIMA 周期性结构）</span><span class="sxs-lookup"><span data-stu-id="46875-559">28 (ARIMA Periodic Structure)</span></span>|<span data-ttu-id="46875-560">周期</span><span class="sxs-lookup"><span data-stu-id="46875-560">Periodicity</span></span><br /><br /> <span data-ttu-id="46875-561">自动回归阶数</span><span class="sxs-lookup"><span data-stu-id="46875-561">Auto Regressive order</span></span><br /><br /> <span data-ttu-id="46875-562">差分阶数</span><span class="sxs-lookup"><span data-stu-id="46875-562">Difference order</span></span><br /><br /> <span data-ttu-id="46875-563">移动平均值阶数</span><span class="sxs-lookup"><span data-stu-id="46875-563">Moving average order</span></span>|<span data-ttu-id="46875-564">12</span><span class="sxs-lookup"><span data-stu-id="46875-564">12</span></span><br /><br /> <span data-ttu-id="46875-565">13</span><span class="sxs-lookup"><span data-stu-id="46875-565">13</span></span><br /><br /> <span data-ttu-id="46875-566">15</span><span class="sxs-lookup"><span data-stu-id="46875-566">15</span></span><br /><br /> <span data-ttu-id="46875-567">14</span><span class="sxs-lookup"><span data-stu-id="46875-567">14</span></span>|  
|<span data-ttu-id="46875-568">29（ARIMA 自动回归）</span><span class="sxs-lookup"><span data-stu-id="46875-568">29 (ARIMA Autoregressive)</span></span>|<span data-ttu-id="46875-569">系数</span><span class="sxs-lookup"><span data-stu-id="46875-569">Coefficient</span></span><br /><br /> <span data-ttu-id="46875-570">（系数的补数）</span><span class="sxs-lookup"><span data-stu-id="46875-570">(complement of coefficient)</span></span>|<span data-ttu-id="46875-571">7</span><span class="sxs-lookup"><span data-stu-id="46875-571">7</span></span>|  
|<span data-ttu-id="46875-572">30（ARIMA 移动平均值）</span><span class="sxs-lookup"><span data-stu-id="46875-572">30 (ARIMA Moving Average)</span></span>|<span data-ttu-id="46875-573">t 时的值</span><span class="sxs-lookup"><span data-stu-id="46875-573">Value at t</span></span><br /><br /> <span data-ttu-id="46875-574">t-1 时的值</span><span class="sxs-lookup"><span data-stu-id="46875-574">Value at t-1</span></span><br /><br /> <span data-ttu-id="46875-575">...</span><span class="sxs-lookup"><span data-stu-id="46875-575">...</span></span><br /><br /> <span data-ttu-id="46875-576">t-n 时的值</span><span class="sxs-lookup"><span data-stu-id="46875-576">Value at t-n</span></span>|<span data-ttu-id="46875-577">7</span><span class="sxs-lookup"><span data-stu-id="46875-577">7</span></span>|  
  
 <span data-ttu-id="46875-578">“ \*\* 移动平均值阶数”的值指示序列中移动平均值的数目。</span><span class="sxs-lookup"><span data-stu-id="46875-578">The value for the *moving average order* indicates the number of moving averages in a series.</span></span> <span data-ttu-id="46875-579">通常，如果序列中有 n 个字词，则移动平均线的计算结果为 n-1 次，但可减少该数字以方便计算。</span><span class="sxs-lookup"><span data-stu-id="46875-579">Generally the moving average is calculated n-1 times if there are n terms in a series, but the number can be reduced for easier computation.</span></span>  
  
 <span data-ttu-id="46875-580">“ \*\* 自动回归阶数”的值指示自动回归序列的数目。</span><span class="sxs-lookup"><span data-stu-id="46875-580">The value for *autoregressive order* indicates the number of autoregressive series.</span></span>  
  
 <span data-ttu-id="46875-581">“ \*\* 差分阶数”的值指示比较或区分序列的次数。</span><span class="sxs-lookup"><span data-stu-id="46875-581">The value for *difference order* indicates how many times the series are compared, or differenced.</span></span>  
  
 <span data-ttu-id="46875-582">有关可能的值类型的枚举，请参阅[microsoft.analysisservices.sharepoint.integration.dll. AdomdServer. MiningValueType](/previous-versions/sql/sql-server-2014/ms144375(v=sql.120))。</span><span class="sxs-lookup"><span data-stu-id="46875-582">For an enumeration of the possible value types, see [Microsoft.AnalysisServices.AdomdServer.MiningValueType](/previous-versions/sql/sql-server-2014/ms144375(v=sql.120)).</span></span>  
  
### <a name="using-the-arima-tree-information"></a><span data-ttu-id="46875-583">使用 ARIMA 树信息</span><span class="sxs-lookup"><span data-stu-id="46875-583">Using the ARIMA Tree Information</span></span>  
 <span data-ttu-id="46875-584">如果在企业解决方案中使用基于 ARIMA 算法的预测，则可能希望将公式粘贴到报表中以演示用于创建该预测的方法。</span><span class="sxs-lookup"><span data-stu-id="46875-584">If you use predictions that are based on the ARIMA algorithm in a business solution, you might want to paste the equation into a report to demonstrate the method that was used to create the prediction.</span></span> <span data-ttu-id="46875-585">可以使用标题表示缩写格式的公式，也可以使用说明表示长格式的公式。</span><span class="sxs-lookup"><span data-stu-id="46875-585">You can use the caption to present the formulas in short format, or the description to present the formulas in long format.</span></span>  
  
 <span data-ttu-id="46875-586">如果正在开发使用时序预测的应用程序，则可能会发现从模型内容中获取 ARIMA 公式，然后做出自己的预测会很有帮助。</span><span class="sxs-lookup"><span data-stu-id="46875-586">If you are developing an application that uses time series predictions, you might find it useful to obtain the ARIMA equation from the model content and then make your own predictions.</span></span> <span data-ttu-id="46875-587">若要获取用于任何特定输出的 ARIMA 公式，则可以直接在 ARIMA 根中查询该特定属性，如前面的示例中所示。</span><span class="sxs-lookup"><span data-stu-id="46875-587">To obtain the ARIMA equation for any particular output, you can query the ARIMA root for that particular attribute directly, as shown in the previous examples.</span></span>  
  
 <span data-ttu-id="46875-588">如果知道包含所需序列的节点的 ID，则可以选择两种方法来检索构成公式的各个部分：</span><span class="sxs-lookup"><span data-stu-id="46875-588">If you know the ID of the node that contains the series you want, you have two options to retrieve the components of the equation:</span></span>  
  
-   <span data-ttu-id="46875-589">嵌套表格式：使用 DMX 查询或通过 OLEDB 客户端查询。</span><span class="sxs-lookup"><span data-stu-id="46875-589">Nested table format: Use a DMX query or query via OLEDB client.</span></span>  
  
-   <span data-ttu-id="46875-590">XML 表示形式：使用 XML 查询。</span><span class="sxs-lookup"><span data-stu-id="46875-590">XML representation: Use an XML query.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="46875-591">备注</span><span class="sxs-lookup"><span data-stu-id="46875-591">Remarks</span></span>  
 <span data-ttu-id="46875-592">由于 ARTXP 树的每个拆分的信息均位于该树中的不同位置，因此可能很难从 ARTXP 树中检索信息。</span><span class="sxs-lookup"><span data-stu-id="46875-592">It can be difficult to retrieve information from an ARTXP tree, because information for each split is in a different place within the tree.</span></span> <span data-ttu-id="46875-593">因而对于 ARTXP 模型，必须获取公式的各个部分，然后进行些许处理来重组完整的公式。</span><span class="sxs-lookup"><span data-stu-id="46875-593">Therefore, with an ARTXP model, you must get all the pieces and then do some processing to reconstitute the complete formula.</span></span> <span data-ttu-id="46875-594">相比之下，从 ARIMA 模型检索公式要容易一些，原因是从 ARIMA 树的任何位置均可获取该公式。</span><span class="sxs-lookup"><span data-stu-id="46875-594">Retrieving an equation from an ARIMA model is easier because the formula has been made available throughout the tree.</span></span> <span data-ttu-id="46875-595">有关如何创建检索该信息的查询的信息，请参阅 [时序模型查询示例](time-series-model-query-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="46875-595">For information about how to create a query to retrieve this information, see [Time Series Model Query Examples](time-series-model-query-examples.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="46875-596">另请参阅</span><span class="sxs-lookup"><span data-stu-id="46875-596">See Also</span></span>  
 <span data-ttu-id="46875-597">[挖掘模型内容 &#40;Analysis Services 数据挖掘&#41;](mining-model-content-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="46875-597">[Mining Model Content &#40;Analysis Services - Data Mining&#41;](mining-model-content-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="46875-598">[Microsoft 时序算法](microsoft-time-series-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="46875-598">[Microsoft Time Series Algorithm](microsoft-time-series-algorithm.md) </span></span>  
 <span data-ttu-id="46875-599">[时序模型查询示例](time-series-model-query-examples.md) </span><span class="sxs-lookup"><span data-stu-id="46875-599">[Time Series Model Query Examples](time-series-model-query-examples.md) </span></span>  
 [<span data-ttu-id="46875-600">Microsoft Time Series Algorithm Technical Reference</span><span class="sxs-lookup"><span data-stu-id="46875-600">Microsoft Time Series Algorithm Technical Reference</span></span>](microsoft-time-series-algorithm-technical-reference.md)  
  
  
