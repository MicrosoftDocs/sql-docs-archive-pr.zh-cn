---
title: 交叉验证公式 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: fd1ea582-29a1-4154-8de2-47bab3539b4d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 878d88f695b2cdbf3c999c54568304accc54e3d9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87581040"
---
# <a name="cross-validation-formulas"></a><span data-ttu-id="bbc1b-102">交叉验证公式</span><span class="sxs-lookup"><span data-stu-id="bbc1b-102">Cross-Validation Formulas</span></span>
  <span data-ttu-id="bbc1b-103">生成交叉验证报表后，它将包含每个模型的准确性度量值，具体取决于挖掘模型的类型（即，用于创建模型的算法）、可预测属性的数据类型和可预测属性值（如果有）。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-103">When you generate a cross-validation report, it contains accuracy measures for each model, depending on the type of mining model (that is, the algorithm that was used to create the model), the data type of the predictable attribute, and the predictable attribute value, if any.</span></span>  
  
 <span data-ttu-id="bbc1b-104">本节列出了交叉验证报表中使用的度量值，并介绍了计算方法。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-104">This section lists the measures used in the cross-validation report and describes the method of calculation.</span></span>  
  
 <span data-ttu-id="bbc1b-105">有关按模型类型细分准确性度量值，请参阅 [交叉验证报表中的度量值](measures-in-the-cross-validation-report.md)。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-105">For a breakdown of the accuracy measures by model type, see [Measures in the Cross-Validation Report](measures-in-the-cross-validation-report.md).</span></span>  
  
## <a name="formulas-used-for-cross-validation-measures"></a><span data-ttu-id="bbc1b-106">用于交叉验证度量值的公式</span><span class="sxs-lookup"><span data-stu-id="bbc1b-106">Formulas used for Cross-Validation Measures</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="bbc1b-107">**重要：** 这些准确性度量值是针对每个目标属性计算的。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-107">**Important:** These measures of accuracy are computed for each target attribute.</span></span> <span data-ttu-id="bbc1b-108">对于每个属性，您可指定或省略目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-108">For each attribute you can specify or omit a target value.</span></span> <span data-ttu-id="bbc1b-109">如果数据集中的事例不具有任何目标属性值，则会将该事例视为包含名为“缺失值” \*\* 的特殊值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-109">If a case in the data set does not have any value for the target attribute, the case is treated as having a special value called the *missing value*.</span></span> <span data-ttu-id="bbc1b-110">在针对特定目标属性计算准确性度量值时，具有缺失值的行不计算在内。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-110">Rows that have missing values are not counted when computing the accuracy measure for a particular target attribute.</span></span> <span data-ttu-id="bbc1b-111">注意，由于分数是针对每个属性分别计算的；如果目标属性存在值，但其他属性缺失值，则不会影响目标属性的分数。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-111">Note that because the scores are computed for each attribute individually, if values are present for the target attribute but missing for other attributes, it does not affect the score for the target attribute.</span></span>  
  
|<span data-ttu-id="bbc1b-112">度量</span><span class="sxs-lookup"><span data-stu-id="bbc1b-112">Measure</span></span>|<span data-ttu-id="bbc1b-113">适用于</span><span class="sxs-lookup"><span data-stu-id="bbc1b-113">Applies To</span></span>|<span data-ttu-id="bbc1b-114">实现</span><span class="sxs-lookup"><span data-stu-id="bbc1b-114">Implementation</span></span>|  
|-------------|----------------|--------------------|  
|<span data-ttu-id="bbc1b-115">**真正值**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-115">**True positive**</span></span>|<span data-ttu-id="bbc1b-116">离散属性，值已指定</span><span class="sxs-lookup"><span data-stu-id="bbc1b-116">Discrete attribute, value is specified</span></span>|<span data-ttu-id="bbc1b-117">满足以下条件的事例计数：</span><span class="sxs-lookup"><span data-stu-id="bbc1b-117">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="bbc1b-118">事例包含目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-118">Case contains the target value.</span></span><br /><br /> <span data-ttu-id="bbc1b-119">模型已预测事例包含目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-119">Model predicted that case contains the target value.</span></span>|  
|<span data-ttu-id="bbc1b-120">**真负**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-120">**True Negative**</span></span>|<span data-ttu-id="bbc1b-121">离散属性，值已指定</span><span class="sxs-lookup"><span data-stu-id="bbc1b-121">Discrete attribute, value is specified</span></span>|<span data-ttu-id="bbc1b-122">满足以下条件的事例计数：</span><span class="sxs-lookup"><span data-stu-id="bbc1b-122">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="bbc1b-123">事例不包含目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-123">Case does not contain the target value.</span></span><br /><br /> <span data-ttu-id="bbc1b-124">模型已预测事例不包含目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-124">Model predicted that case does not contain the target value.</span></span>|  
|<span data-ttu-id="bbc1b-125">**假正**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-125">**False positive**</span></span>|<span data-ttu-id="bbc1b-126">离散属性，值已指定</span><span class="sxs-lookup"><span data-stu-id="bbc1b-126">Discrete attribute, value is specified</span></span>|<span data-ttu-id="bbc1b-127">满足以下条件的事例计数：</span><span class="sxs-lookup"><span data-stu-id="bbc1b-127">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="bbc1b-128">实际值等于目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-128">Actual value is equal to target value.</span></span><br /><br /> <span data-ttu-id="bbc1b-129">模型已预测事例包含目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-129">Model predicted that case contains the target value.</span></span>|  
|<span data-ttu-id="bbc1b-130">**假负**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-130">**False Negative**</span></span>|<span data-ttu-id="bbc1b-131">离散属性，值已指定</span><span class="sxs-lookup"><span data-stu-id="bbc1b-131">Discrete attribute, value is specified</span></span>|<span data-ttu-id="bbc1b-132">满足以下条件的事例计数：</span><span class="sxs-lookup"><span data-stu-id="bbc1b-132">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="bbc1b-133">实际值不等于目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-133">Actual value not equal to target value.</span></span><br /><br /> <span data-ttu-id="bbc1b-134">模型已预测事例不包含目标值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-134">Model predicted that case does not contain the target value.</span></span>|  
|<span data-ttu-id="bbc1b-135">**通过/失败**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-135">**Pass/fail**</span></span>|<span data-ttu-id="bbc1b-136">离散属性，无指定的目标</span><span class="sxs-lookup"><span data-stu-id="bbc1b-136">Discrete attribute, no specified target</span></span>|<span data-ttu-id="bbc1b-137">满足以下条件的事例计数：</span><span class="sxs-lookup"><span data-stu-id="bbc1b-137">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="bbc1b-138">如果具有最高概率的预测状态与输入状态相同并且概率大于 **“状态阈值”** 的值，则通过。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-138">Pass if the predicted state with the highest probability is the same as the input state and probability is greater than the value of **State Threshold**.</span></span><br /><br /> <span data-ttu-id="bbc1b-139">否则，将会失败。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-139">Otherwise, fail.</span></span>|  
|<span data-ttu-id="bbc1b-140">**起**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-140">**Lift**</span></span>|<span data-ttu-id="bbc1b-141">离散属性。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-141">Discrete attribute.</span></span> <span data-ttu-id="bbc1b-142">可以指定目标值，但目标值并不是必需的。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-142">Target value can be specified but is not required.</span></span>|<span data-ttu-id="bbc1b-143">具有目标属性值的所有行的平均对数可能性，其中，每个事例的对数可能性计算为 Log(ActualProbability/MarginalProbability)。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-143">The mean log likelihood for all rows with values for the target attribute, where log likelihood for each case is calculated as Log(ActualProbability/MarginalProbability).</span></span> <span data-ttu-id="bbc1b-144">为了计算该平均值，对数可能性值的总和将除以输入数据集的行数（但不包括缺少目标属性值的那些行）。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-144">To compute the mean, the sum of the log likelihood values is divided by the number of rows in the input dataset, excluding rows with missing values for the target attribute.</span></span><br /><br /> <span data-ttu-id="bbc1b-145">提升可以为正值，也可以为负值。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-145">Lift can be either a negative or positive value.</span></span> <span data-ttu-id="bbc1b-146">正值意味着有效模型优于随机推测。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-146">A positive value means an effective model that outperforms the random guess.</span></span>|  
|<span data-ttu-id="bbc1b-147">**对数评分**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-147">**Log score**</span></span>|<span data-ttu-id="bbc1b-148">离散属性。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-148">Discrete attribute.</span></span> <span data-ttu-id="bbc1b-149">可以指定目标值，但目标值并不是必需的。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-149">Target value can be specified but is not required.</span></span>|<span data-ttu-id="bbc1b-150">每个事例的实际概率的对数和除以输入数据集中的行数，不包括缺少目标属性值的行。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-150">Log of the actual probability for each case, summed, and then divided by the number of rows in the input dataset, excluding rows with missing values for the target attribute.</span></span><br /><br /> <span data-ttu-id="bbc1b-151">由于概率用小数表示，因此，对数分数始终是负数。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-151">Because probability is represented as a decimal fraction, log scores are always negative numbers.</span></span> <span data-ttu-id="bbc1b-152">接近 0 的分数是较好的分数。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-152">A score that is closer to 0 is a better score.</span></span>|  
|<span data-ttu-id="bbc1b-153">**事例可能性**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-153">**Case likelihood**</span></span>|<span data-ttu-id="bbc1b-154">群集</span><span class="sxs-lookup"><span data-stu-id="bbc1b-154">Cluster</span></span>|<span data-ttu-id="bbc1b-155">所有事例的分类可能性得分的总和除以分区中的事例数，不包括缺少目标属性值的行。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-155">Sum of the cluster likelihood scores for all cases, divided by the number of cases in the partition, excluding rows with missing values for the target attribute.</span></span>|  
|<span data-ttu-id="bbc1b-156">**平均绝对误差**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-156">**Mean absolute error**</span></span>|<span data-ttu-id="bbc1b-157">连续属性</span><span class="sxs-lookup"><span data-stu-id="bbc1b-157">Continuous attribute</span></span>|<span data-ttu-id="bbc1b-158">分区中所有事例的绝对误差的总和除以分区中的事例数。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-158">Sum of the absolute error for all cases in the partition, divided by the number of cases in the partition.</span></span>|  
|<span data-ttu-id="bbc1b-159">**平方根平均平方误差**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-159">**Root mean square error**</span></span>|<span data-ttu-id="bbc1b-160">连续属性</span><span class="sxs-lookup"><span data-stu-id="bbc1b-160">Continuous attribute</span></span>|<span data-ttu-id="bbc1b-161">分区的平均平方误差的平方根。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-161">Square root of the mean squared error for the partition.</span></span>|  
|<span data-ttu-id="bbc1b-162">**均方根误差**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-162">**Root mean squared error**</span></span>|<span data-ttu-id="bbc1b-163">离散属性。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-163">Discrete attribute.</span></span> <span data-ttu-id="bbc1b-164">可以指定目标值，但目标值并不是必需的。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-164">Target value can be specified but is not required.</span></span>|<span data-ttu-id="bbc1b-165">概率得分补数的平方的平方根除以分区中的事例数，不包括缺少目标属性值的行。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-165">Square root of the mean of the squares of complement of the probability score, divided by the number of cases in the partition, excluding rows with missing values for the target attribute.</span></span>|  
|<span data-ttu-id="bbc1b-166">**均方根误差**</span><span class="sxs-lookup"><span data-stu-id="bbc1b-166">**Root mean squared error**</span></span>|<span data-ttu-id="bbc1b-167">离散属性，无指定的目标。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-167">Discrete attribute, no specified target.</span></span>|<span data-ttu-id="bbc1b-168">概率得分补数的平方的平方根除以分区中的事例数，不包括缺少目标属性值的事例。</span><span class="sxs-lookup"><span data-stu-id="bbc1b-168">Square root of the mean of the squares of complement of the probability score, divided by the number of cases in the partition, excluding cases with missing values for the target attribute.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="bbc1b-169">另请参阅</span><span class="sxs-lookup"><span data-stu-id="bbc1b-169">See Also</span></span>  
 <span data-ttu-id="bbc1b-170">[测试和验证 &#40;数据挖掘&#41;](testing-and-validation-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="bbc1b-170">[Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md) </span></span>  
 [<span data-ttu-id="bbc1b-171">交叉验证（Analysis Services - 数据挖掘）</span><span class="sxs-lookup"><span data-stu-id="bbc1b-171">Cross-Validation &#40;Analysis Services - Data Mining&#41;</span></span>](cross-validation-analysis-services-data-mining.md)  
  
  
