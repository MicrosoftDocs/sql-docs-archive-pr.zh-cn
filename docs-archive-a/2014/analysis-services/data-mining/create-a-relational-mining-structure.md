---
title: 创建关系挖掘结构 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- dimensions [Analysis Services], data mining
- data mining [Analysis Services], structure
- mining structures [Analysis Services], creating
- relational mining models [Analysis Services]
- OLAP mining models [Analysis Services]
ms.assetid: 5547d639-377d-4ca7-88fc-ce1f9e2babc5
author: minewiskan
ms.author: owend
ms.openlocfilehash: 34316c0e462a922abf5c5ab069e5150e61db232d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87578529"
---
# <a name="create-a-relational-mining-structure"></a><span data-ttu-id="9736d-102">创建关系挖掘结构</span><span class="sxs-lookup"><span data-stu-id="9736d-102">Create a Relational Mining Structure</span></span>
  <span data-ttu-id="9736d-103">大多数数据挖掘模型都基于关系数据源。</span><span class="sxs-lookup"><span data-stu-id="9736d-103">Most data mining models are based on relational data sources.</span></span> <span data-ttu-id="9736d-104">创建关系数据挖掘模型的好处是，您可以汇集即席数据并定型和更新模型，此操作不会像创建多维数据集那样复杂。</span><span class="sxs-lookup"><span data-stu-id="9736d-104">The advantages of creating a relational data mining model are that you can assemble ad hoc data and train and update a model without the complexity of creating a cube.</span></span>  
  
 <span data-ttu-id="9736d-105">关系挖掘结构可从不同源绘制数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-105">A relational mining structure can draw data from disparate sources.</span></span> <span data-ttu-id="9736d-106">只要原始数据可定义为数据源视图的一部分，就可以将该数据存储在表、文件或关系数据库系统中。</span><span class="sxs-lookup"><span data-stu-id="9736d-106">The raw data can be stored in tables, files, or relational database systems, so long as the data can be defined as part of data source view.</span></span> <span data-ttu-id="9736d-107">例如，如果数据位于 Excel、SQL Server 数据仓库或 SQL Server 报表数据库中，或位于通过 OLE DB 或 ODBC 访问接口访问的外部源中，则应使用关系挖掘结构。</span><span class="sxs-lookup"><span data-stu-id="9736d-107">For example, you should use a relational mining structure if your data is in Excel, a SQL Server data warehouse or SQL Server reporting database, or in external sources that are accessed via the OLE DB or ODBC providers.</span></span>  
  
 <span data-ttu-id="9736d-108">本主题概述了如何使用数据挖掘向导来创建关系挖掘结构。</span><span class="sxs-lookup"><span data-stu-id="9736d-108">This topic provides an overview of how to use the Data Mining Wizard to create a relational mining structure.</span></span>  
  
 [<span data-ttu-id="9736d-109">要求</span><span class="sxs-lookup"><span data-stu-id="9736d-109">Requirements</span></span>](#BKMK_Relational_Structure)  
  
 [<span data-ttu-id="9736d-110">创建关系挖掘结构的过程</span><span class="sxs-lookup"><span data-stu-id="9736d-110">Process for Creating a Relational Mining Structure</span></span>](#BKMK_Relational_Structure)  
  
 [<span data-ttu-id="9736d-111">如何选择数据源</span><span class="sxs-lookup"><span data-stu-id="9736d-111">How to Choose Data Sources</span></span>](#BKMK_ChooseRelData)  
  
 [<span data-ttu-id="9736d-112">如何指定内容类型和数据类型</span><span class="sxs-lookup"><span data-stu-id="9736d-112">How to Specify Content Type and Data Type</span></span>](#bkmk_ContentDataType)  
  
 [<span data-ttu-id="9736d-113">创建维持数据集的原因和方式</span><span class="sxs-lookup"><span data-stu-id="9736d-113">Why and How to Create a Holdout Data Set</span></span>](#bkmk_Holdout)  
  
 [<span data-ttu-id="9736d-114">启用钻取的原因和方式</span><span class="sxs-lookup"><span data-stu-id="9736d-114">Why and How to Enable Drillthrough</span></span>](#BKMK_DrillThru)  
  
## <a name="requirements"></a><span data-ttu-id="9736d-115">要求</span><span class="sxs-lookup"><span data-stu-id="9736d-115">Requirements</span></span>  
 <span data-ttu-id="9736d-116">首先，您必须具有现有数据源。</span><span class="sxs-lookup"><span data-stu-id="9736d-116">First, you must have an existing data source.</span></span> <span data-ttu-id="9736d-117">如果数据源尚不存在，则可使用数据源设计器设置一个数据源。</span><span class="sxs-lookup"><span data-stu-id="9736d-117">You can use the Data Source designer to set up a data source, if one does not already exist.</span></span> <span data-ttu-id="9736d-118">有关详细信息，请参阅 [创建数据源（SSAS 多维）](../multidimensional-models/create-a-data-source-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-118">For more information, see [Create a Data Source &#40;SSAS Multidimensional&#41;](../multidimensional-models/create-a-data-source-ssas-multidimensional.md).</span></span>  
  
 <span data-ttu-id="9736d-119">接下来，请使用数据源视图向导将所需数据汇集到单个数据源视图中。</span><span class="sxs-lookup"><span data-stu-id="9736d-119">Next, use the Data Source View Wizard to assemble required data into a single data source view.</span></span> <span data-ttu-id="9736d-120">有关如何使用数据源视图选择、转换、筛选或管理数据的详细信息，请参阅 [多维模型中的数据源视图](../multidimensional-models/data-source-views-in-multidimensional-models.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-120">For more information about how you can select, transform, filter, or manage data with data source views, see [Data Source Views in Multidimensional Models](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span></span>  
  
##  <a name="overview-of-process"></a><a name="BKMK_Relational_Structure"></a> <span data-ttu-id="9736d-121">过程概述</span><span class="sxs-lookup"><span data-stu-id="9736d-121">Overview of Process</span></span>  
 <span data-ttu-id="9736d-122">通过在解决方案资源管理器中右键单击“挖掘结构”节点，然后选择“添加新的挖掘结构”来启动数据挖掘向导\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="9736d-122">Start the Data Mining Wizard, by right-clicking the **Mining Structures** node in Solution Explorer, and selecting **Add New Mining Structure**.</span></span> <span data-ttu-id="9736d-123">该向导可指导您通过以下步骤创建新关系挖掘模型的结构：</span><span class="sxs-lookup"><span data-stu-id="9736d-123">The wizard guides you through the following steps to create the structure for a new relational mining model:</span></span>  
  
1.  <span data-ttu-id="9736d-124">**选择定义方法**：选择数据源类型，然后选择 **“从关系数据库或数据仓库”**。</span><span class="sxs-lookup"><span data-stu-id="9736d-124">**Select the Definition Method**: Here you select a data source type, and choose **From relational database or data warehouse**.</span></span>  
  
2.  <span data-ttu-id="9736d-125">**创建数据挖掘结构**：确定是仅生成结构还是生成具有挖掘模型的结构。</span><span class="sxs-lookup"><span data-stu-id="9736d-125">**Create the Data Mining Structure**: Determine whether you will build just a structure, or a structure with a mining model.</span></span>  
  
     <span data-ttu-id="9736d-126">也可以为初始模型选择适当的算法。</span><span class="sxs-lookup"><span data-stu-id="9736d-126">You also choose an appropriate algorithm for your initial model.</span></span> <span data-ttu-id="9736d-127">有关最适合特定任务的算法的指导，请参阅[数据挖掘算法（Analysis Services - 数据挖掘）](data-mining-algorithms-analysis-services-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-127">For guidance on which algorithm is best for certain tasks, see [Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md).</span></span>  
  
3.  <span data-ttu-id="9736d-128">**选择数据源视图**：选择要用于定型模型的数据源视图。</span><span class="sxs-lookup"><span data-stu-id="9736d-128">**Select Data Source View**: Choose a data sources view to use in training your model.</span></span> <span data-ttu-id="9736d-129">该数据源视图也可以包含用于测试的数据或不相关的数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-129">The data source view can also contain data used for testing, or unrelated data.</span></span> <span data-ttu-id="9736d-130">您可以选择结构和模型中实际使用的数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-130">You get to pick and choose which data is actually used in the structure and in the model.</span></span> <span data-ttu-id="9736d-131">还可以稍后对数据应用筛选器。</span><span class="sxs-lookup"><span data-stu-id="9736d-131">You can also apply filters to the data later on.</span></span>  
  
4.  <span data-ttu-id="9736d-132">**指定表类型**：选择包含用于分析的事例的表。</span><span class="sxs-lookup"><span data-stu-id="9736d-132">**Specify Table Types**: Select the table that contains the cases used for analysis.</span></span> <span data-ttu-id="9736d-133">对于某些数据集（特别是用于生成市场篮模型的数据集），您也可以包含要用作嵌套表的相关表。</span><span class="sxs-lookup"><span data-stu-id="9736d-133">For some data sets, especially ones used for building market basket models, you might also include a related table, to use as a nested table.</span></span>  
  
     <span data-ttu-id="9736d-134">对于每个表，您必须指定相应的键，以便算法了解如何标识唯一记录和相关记录（如果您已添加嵌套表）。</span><span class="sxs-lookup"><span data-stu-id="9736d-134">For each table, you must specify the key, so that the algorithm knows how to identify a unique record, and related records if you have added a nested table.</span></span>  
  
     <span data-ttu-id="9736d-135">有关详细信息，请参阅 [Mining Structure Columns](mining-structure-columns.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-135">For more information, see [Mining Structure Columns](mining-structure-columns.md).</span></span>  
  
5.  <span data-ttu-id="9736d-136">**指定定型数据**：在此页上，您可以选择包含用于分析的最重要数据的 *事例表*。</span><span class="sxs-lookup"><span data-stu-id="9736d-136">**Specify the Training Data**: On this page, you choose as the *case table*, which is the table that contains the most important data for analysis.</span></span>  
  
     <span data-ttu-id="9736d-137">对于某些数据集（特别是用于生成市场篮模型的数据集），您也可以包含相关表。</span><span class="sxs-lookup"><span data-stu-id="9736d-137">For some data sets, especially ones used for building market basket models, you might also include a related table.</span></span> <span data-ttu-id="9736d-138">嵌套表中的值将作为与主表中单个行（或事例）相关的多个值进行处理。</span><span class="sxs-lookup"><span data-stu-id="9736d-138">The values in that nested table will be handled as multiple values that are all related to a single row (or case) in the main table.</span></span>  
  
6.  <span data-ttu-id="9736d-139">**指定列内容和数据类型**：对于结构中使用的每个列，您必须同时选择 *数据类型* 和 *内容类型*。</span><span class="sxs-lookup"><span data-stu-id="9736d-139">**Specify Columns Content and Data Types**: For each column that you use in the structure, you must choose both a *data type* and a *content type*.</span></span>  
  
     <span data-ttu-id="9736d-140">向导将自动检测可能的数据类型，但不需要使用向导建议的数据类型。</span><span class="sxs-lookup"><span data-stu-id="9736d-140">The wizard will automatically detect possible data types, but you don't need to use the data type recommended by the wizard.</span></span> <span data-ttu-id="9736d-141">例如，即使数据包含数字，它们也可能代表类别数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-141">For example, even if your data contains numbers, they might be representative of categorical data.</span></span> <span data-ttu-id="9736d-142">将自动为指定为键的列分配该特定模型类型的正确数据类型。</span><span class="sxs-lookup"><span data-stu-id="9736d-142">Columns that you specify as keys are automatically assigned the correct data type for that particular model type.</span></span> <span data-ttu-id="9736d-143">有关详细信息，请参阅[挖掘模型列](mining-model-columns.md)和[数据类型（数据挖掘）](data-types-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-143">For more information, see [Mining Model Columns](mining-model-columns.md) and [Data Types &#40;Data Mining&#41;](data-types-data-mining.md).</span></span>  
  
     <span data-ttu-id="9736d-144">为模型中使用的每个列选择的 *内容类型* 将告知算法数据的处理方式。</span><span class="sxs-lookup"><span data-stu-id="9736d-144">The *content type* that you choose for each column that you use in the model tells the algorithm how the data should be processed.</span></span>  
  
     <span data-ttu-id="9736d-145">例如，您可能会决定离散化数字，而不是使用连续值。</span><span class="sxs-lookup"><span data-stu-id="9736d-145">For example, you might decide to discretize numbers, rather than use continuous values.</span></span> <span data-ttu-id="9736d-146">您也可以要求算法自动检测列的最佳内容类型。</span><span class="sxs-lookup"><span data-stu-id="9736d-146">You can also ask the algorithm to automatically detect the best content type for the column.</span></span> <span data-ttu-id="9736d-147">有关详细信息，请参阅[内容类型（数据挖掘）](content-types-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-147">For more information, see [Content Types &#40;Data Mining&#41;](content-types-data-mining.md).</span></span>  
  
7.  <span data-ttu-id="9736d-148">**创建测试集**：在此页上，您可以告知向导应留出多少数据以便测试模型。</span><span class="sxs-lookup"><span data-stu-id="9736d-148">**Create Testing Set**: On this page, you can tell the wizard how much data should be set aside for use in testing the model.</span></span> <span data-ttu-id="9736d-149">如果数据将支持多个模型，则最好是创建一个保留数据集，以便能基于同一数据测试所有模型。</span><span class="sxs-lookup"><span data-stu-id="9736d-149">If your data will support multiple models, it is a good idea to create a holdout data set, so that all models can be tested on the same data.</span></span>  
  
     <span data-ttu-id="9736d-150">有关详细信息，请参阅 [测试和验证（数据挖掘）](testing-and-validation-data-mining.md)生成数据挖掘项目。</span><span class="sxs-lookup"><span data-stu-id="9736d-150">For more information, see [Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md).</span></span>  
  
8.  <span data-ttu-id="9736d-151">**完成向导**：在此页上，您可以为新的挖掘结构和关联的挖掘模型提供名称，并保存该结构和模型。</span><span class="sxs-lookup"><span data-stu-id="9736d-151">**Completing the Wizard**: On this page, you give a name to the new mining structure and the associated mining model, and save the structure and model.</span></span>  
  
     <span data-ttu-id="9736d-152">也可以根据模型类型设置一些重要选项。</span><span class="sxs-lookup"><span data-stu-id="9736d-152">You also can set some important options, depending on the model type.</span></span> <span data-ttu-id="9736d-153">例如，可以对该结构启用钻取功能。</span><span class="sxs-lookup"><span data-stu-id="9736d-153">For example, you can enable drillthrough on the structure.</span></span>  
  
     <span data-ttu-id="9736d-154">此时，该挖掘结构及其模型仅为元数据；您将需要处理它们以获取结果。</span><span class="sxs-lookup"><span data-stu-id="9736d-154">At this point the mining structure and its model are just metadata; you will need to process them both to get results.</span></span>  
  
##  <a name="how-to-choose-relational-data"></a><a name="BKMK_ChooseRelData"></a><span data-ttu-id="9736d-155">如何选择关系数据</span><span class="sxs-lookup"><span data-stu-id="9736d-155">How to Choose Relational Data</span></span>  
 <span data-ttu-id="9736d-156">关系挖掘结构可以基于可通过 OLE DB 数据源获取的任何数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-156">Relational mining structures can be based on any data that is available through an OLE DB data source.</span></span> <span data-ttu-id="9736d-157">如果源数据包含在多个表内，则您可以使用数据源视图将所需的表和列汇集在同一位置。</span><span class="sxs-lookup"><span data-stu-id="9736d-157">If the source data is contained within multiple tables, you use a data source view to assemble the tables and columns that you need in one place.</span></span>  
  
 <span data-ttu-id="9736d-158">如果表包括任何一对多关系（例如，您要分析的每个客户都有多个采购记录），您可以添加这两个表，然后使用一个表作为事例表，将该关系的多方的数据作为嵌套表进行链接。</span><span class="sxs-lookup"><span data-stu-id="9736d-158">If the tables include any one-to-many relationships-for example, you have multiple purchase records for each customer that you want to analyze-you can add both tables, and then use one table as the case table, linking data on the many side of the relationship as a nested table.</span></span>  
  
 <span data-ttu-id="9736d-159">挖掘结构中的数据是从现有数据源视图中的内容派生而来的。</span><span class="sxs-lookup"><span data-stu-id="9736d-159">The data in a mining structure is derived from whatever is in the existing data source view.</span></span> <span data-ttu-id="9736d-160">可以在数据源视图内根据需要修改数据，并添加基础关系数据中可能不会显示的关系或派生列。</span><span class="sxs-lookup"><span data-stu-id="9736d-160">You can modify data as you need within the data source view, adding relationships or derived columns that might not be present in the underlying relational data.</span></span> <span data-ttu-id="9736d-161">您也可以在数据源视图内创建命名计算或聚合。</span><span class="sxs-lookup"><span data-stu-id="9736d-161">You can also create named calculations or aggregations within the data source view.</span></span> <span data-ttu-id="9736d-162">如果您无法控制数据源中数据的排列方式，或者您需要尝试对数据挖掘模型使用不同的数据聚合，这些功能会很有用。</span><span class="sxs-lookup"><span data-stu-id="9736d-162">These features are very handy if you do not have control over the arrangement of data in the data source, or if you want to experiment with different aggregations of data for your data mining models.</span></span>  
  
 <span data-ttu-id="9736d-163">您无需使用所有可用数据；可以选择要包含在挖掘结构中的列。</span><span class="sxs-lookup"><span data-stu-id="9736d-163">You do not have to use all the data that is available; you can pick and choose which columns to include in the mining structure.</span></span> <span data-ttu-id="9736d-164">所有基于该结构的模型然后可使用这些列，或者您可以为特定模型将某些列标记为 `Ignore`。</span><span class="sxs-lookup"><span data-stu-id="9736d-164">All models that are based on that structure then can use those columns, or you can flag certain columns as `Ignore` for a particular model.</span></span> <span data-ttu-id="9736d-165">可以使数据挖掘模型的用户从该挖掘模型的结果进行深化，以查看没有包括在挖掘模型中的其他挖掘结构列。</span><span class="sxs-lookup"><span data-stu-id="9736d-165">You can enable users of a data mining model to drill down from the results of the mining model to see additional mining structure columns that were not included in the mining model itself.</span></span>  
  
##  <a name="how-to-specify-content-type-and-data-type"></a><a name="bkmk_ContentDataType"></a><span data-ttu-id="9736d-166">如何指定内容类型和数据类型</span><span class="sxs-lookup"><span data-stu-id="9736d-166">How to Specify Content Type and Data Type</span></span>  
 <span data-ttu-id="9736d-167">数据类型与在 SQL Server 或其他应用程序接口中指定的数据类型极其相似：日期和时间、不同大小的数字、布尔值、文本及其他离散数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-167">The data type is pretty much the same as the data types you specify in SQL Server or other application interfaces: dates and times, numbers of different sizes, Boolean values, text and other discrete data.</span></span>  
  
 <span data-ttu-id="9736d-168">但是，内容数据对数据挖掘非常重要并会影响分析结果。</span><span class="sxs-lookup"><span data-stu-id="9736d-168">However, content types are important for data mining and affect the outcome of analysis.</span></span> <span data-ttu-id="9736d-169">内容数据将告诉算法应如何处理数据：是应按照连续范围处理数字还是应将数字转换成二进制？</span><span class="sxs-lookup"><span data-stu-id="9736d-169">The content type tells the algorithm what it should do with the data: should numbers be treated on a continuous scale, or binned?</span></span> <span data-ttu-id="9736d-170">有多少个可能的值？</span><span class="sxs-lookup"><span data-stu-id="9736d-170">How many potential values are there?</span></span> <span data-ttu-id="9736d-171">每个值是否都不重复？</span><span class="sxs-lookup"><span data-stu-id="9736d-171">Is each value distinct?</span></span> <span data-ttu-id="9736d-172">如果值是一个键，它是什么类型的键，它表示日期/时间值、序列还是其他类型的键？</span><span class="sxs-lookup"><span data-stu-id="9736d-172">If the value is a key, what kind of key is it - does it indicate a date/time value, a sequence, or some other kind of key?</span></span>  
  
 <span data-ttu-id="9736d-173">请注意，数据类型的选择会限制内容类型的选择。</span><span class="sxs-lookup"><span data-stu-id="9736d-173">Note that the choice of data type can limit your choice of content types.</span></span> <span data-ttu-id="9736d-174">例如，您无法离散化非数字值。</span><span class="sxs-lookup"><span data-stu-id="9736d-174">For example, you cannot discretize values that are not numeric.</span></span> <span data-ttu-id="9736d-175">如果您无法查看所需内容类型，则可单击 **“上一步”** 返回到数据类型页，并尝试其他数据类型。</span><span class="sxs-lookup"><span data-stu-id="9736d-175">If you cannot see the content type that you want, you can click **Back** to return to the data type page and try a different data type.</span></span>  
  
 <span data-ttu-id="9736d-176">您无需过多担心内容类型会出错。</span><span class="sxs-lookup"><span data-stu-id="9736d-176">You need not worry too much about getting the content type wrong.</span></span> <span data-ttu-id="9736d-177">只要挖掘结构中的数据类型集支持新的内容类型，就可以很轻松地创建新模型并更改该模型中的内容类型。</span><span class="sxs-lookup"><span data-stu-id="9736d-177">It is very easy to create a new model and change the content type within the model, as long as the new content type is supported by the data type set in the mining structure.</span></span> <span data-ttu-id="9736d-178">为了满足试验需求或其他算法的要求，使用不同的内容类型创建多个模型也是一项很常见的操作。</span><span class="sxs-lookup"><span data-stu-id="9736d-178">It is also very common to create multiple models using different content types, either as an experiment, or to meet the requirements of a different algorithm.</span></span>  
  
 <span data-ttu-id="9736d-179">例如，如果数据包含一个收入列，则可在使用 Microsoft 决策树算法时创建两个不同的模型，并将该列交替配置为连续数字或离散范围。</span><span class="sxs-lookup"><span data-stu-id="9736d-179">For example, if your data contains an income column, you could create two different models when using the Microsoft Decision Trees algorithm, and configure the column alternately as either continuous numbers or discrete ranges.</span></span> <span data-ttu-id="9736d-180">但是，如果您添加使用 Microsoft Naïve Bayes 算法的模型，则会强制您仅将该列更改为离散化值，因为该算法不支持连续数字。</span><span class="sxs-lookup"><span data-stu-id="9736d-180">However, if you added a model using the Microsoft Naïve Bayes algorithm, you would be forced to change the column to discretized values only, because that algorithm does not support continuous numbers.</span></span>  
  
##  <a name="why-and-how-to-split-data-into-training-and-testing-sets"></a><a name="bkmk_Holdout"></a><span data-ttu-id="9736d-181">将数据拆分为定型集和测试集的原因和方式</span><span class="sxs-lookup"><span data-stu-id="9736d-181">Why and How to Split Data into Training and Testing Sets</span></span>  
 <span data-ttu-id="9736d-182">在该向导即将结束时，您必须确定是否将数据分区为定型集和测试集。</span><span class="sxs-lookup"><span data-stu-id="9736d-182">Near the end of the wizard, you must decide whether to partition your data into training and testing sets.</span></span> <span data-ttu-id="9736d-183">用于设置随机抽样的部分数据以进行测试的功能非常方便，因为它确保对与新挖掘结构关联的所有挖掘模型使用一致的测试数据集。</span><span class="sxs-lookup"><span data-stu-id="9736d-183">The ability to provision a randomly sampled portion of the data for testing is very convenient, as it ensures that a consistent set of test data is available for use with all mining models associated with the new mining structure.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="9736d-184">请注意，此选项无法用于所有模型类型。</span><span class="sxs-lookup"><span data-stu-id="9736d-184">Note that this option is not available for all model types.</span></span> <span data-ttu-id="9736d-185">例如，如果您创建一个预测模型，则将无法使用维持，因为时序算法要求数据中没有空白。</span><span class="sxs-lookup"><span data-stu-id="9736d-185">For example, if you create a forecasting model, you won't be able to use holdout, because the time series algorithm requires that there be no gaps in data.</span></span> <span data-ttu-id="9736d-186">有关支持维持数据集的模型类型的列表，请参阅 [定型数据集和测试数据集](training-and-testing-data-sets.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-186">For a list of the model types that support holdout data sets, see [Training and Testing Data Sets](training-and-testing-data-sets.md).</span></span>  
  
 <span data-ttu-id="9736d-187">若要创建此维持数据集，您需要指定要用于测试的数据的百分比。</span><span class="sxs-lookup"><span data-stu-id="9736d-187">To create this holdout data set, you specify the percentage of the data you want to use for testing.</span></span> <span data-ttu-id="9736d-188">所有剩余数据将用于定型。</span><span class="sxs-lookup"><span data-stu-id="9736d-188">All remaining data will be used for training.</span></span> <span data-ttu-id="9736d-189">（可选）您可以设置用于测试的事例的最大数目，或设置用于启动随机选择过程的种子值。</span><span class="sxs-lookup"><span data-stu-id="9736d-189">Optionally, you can set a maximum number of cases to use for testing, or set a seed value to use in starting the random selection process.</span></span>  
  
 <span data-ttu-id="9736d-190">维持数据集的定义与挖掘结构存储在一起，因此在每次基于该结构创建新模型时，都可以使用该测试数据集来评估模型的准确性。</span><span class="sxs-lookup"><span data-stu-id="9736d-190">The definition of the holdout test set is stored with the mining structure, so that whenever you create a new model based on the structure, the testing data set will be available for assessing the accuracy of the model.</span></span> <span data-ttu-id="9736d-191">如果您删除挖掘结构的缓存，则有关用于定型的事例和用于测试的事例的信息也将被删除。</span><span class="sxs-lookup"><span data-stu-id="9736d-191">If you delete the cache of the mining structure, the information about which cases were used for training and which were used for testing will be deleted as well.</span></span>  
  
##  <a name="why-and-how-to-enable-drillthrough"></a><a name="BKMK_DrillThru"></a><span data-ttu-id="9736d-192">启用钻取的原因和方式</span><span class="sxs-lookup"><span data-stu-id="9736d-192">Why and How to Enable Drillthrough</span></span>  
 <span data-ttu-id="9736d-193">在该向导即将结束时，您可以选择启用 *钻取*。</span><span class="sxs-lookup"><span data-stu-id="9736d-193">Almost at the very end of the wizard, you have the option to enable *drillthrough*.</span></span> <span data-ttu-id="9736d-194">此选项很容易被忽略，但它很重要。</span><span class="sxs-lookup"><span data-stu-id="9736d-194">It is easy to miss this option, but it's an important one.</span></span> <span data-ttu-id="9736d-195">使用钻取功能，可以通过查询挖掘模型来查看挖掘结构中的源数据。</span><span class="sxs-lookup"><span data-stu-id="9736d-195">Drillthrough lets you view source data in the mining structure by querying the mining model.</span></span>  
  
 <span data-ttu-id="9736d-196">为何此功能会很有用？</span><span class="sxs-lookup"><span data-stu-id="9736d-196">Why is this useful?</span></span> <span data-ttu-id="9736d-197">假设您查看的是聚类分析模型的结果，并希望查看已放入特定分类的客户。</span><span class="sxs-lookup"><span data-stu-id="9736d-197">Suppose you are viewing the results of a clustering model, and want to see the customers who were put into a specific cluster.</span></span> <span data-ttu-id="9736d-198">通过使用钻取功能，您可以查看详细信息（例如，联系人信息）。</span><span class="sxs-lookup"><span data-stu-id="9736d-198">By using drillthrough, you can view details such as contact information.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="9736d-199">若要使用钻取功能，您必须在创建挖掘结构时启用它。</span><span class="sxs-lookup"><span data-stu-id="9736d-199">To use drillthrough, you must enable it when you create the mining structure.</span></span> <span data-ttu-id="9736d-200">以后，您可以通过对模型设置属性来对其启用钻取功能，但挖掘结构要求一开始就设置此选项。</span><span class="sxs-lookup"><span data-stu-id="9736d-200">You can enable drillthrough on models later, by setting a property on the model, but mining structures require that this option be set at the beginning.</span></span> <span data-ttu-id="9736d-201">有关详细信息，请参阅 [钻取查询（数据挖掘）](drillthrough-queries-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="9736d-201">For more information, see [Drillthrough Queries &#40;Data Mining&#41;](drillthrough-queries-data-mining.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9736d-202">另请参阅</span><span class="sxs-lookup"><span data-stu-id="9736d-202">See Also</span></span>  
 <span data-ttu-id="9736d-203">[数据挖掘设计器](data-mining-designer.md) </span><span class="sxs-lookup"><span data-stu-id="9736d-203">[Data Mining Designer](data-mining-designer.md) </span></span>  
 <span data-ttu-id="9736d-204">[数据挖掘向导 &#40;Analysis Services 数据挖掘&#41;](data-mining-wizard-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="9736d-204">[Data Mining Wizard &#40;Analysis Services - Data Mining&#41;](data-mining-wizard-analysis-services-data-mining.md) </span></span>  
 <span data-ttu-id="9736d-205">[挖掘模型属性](mining-model-properties.md) </span><span class="sxs-lookup"><span data-stu-id="9736d-205">[Mining Model Properties](mining-model-properties.md) </span></span>  
 <span data-ttu-id="9736d-206">[挖掘结构和结构列的属性](properties-for-mining-structure-and-structure-columns.md) </span><span class="sxs-lookup"><span data-stu-id="9736d-206">[Properties for Mining Structure and Structure Columns](properties-for-mining-structure-and-structure-columns.md) </span></span>  
 [<span data-ttu-id="9736d-207">挖掘结构任务和操作指南</span><span class="sxs-lookup"><span data-stu-id="9736d-207">Mining Structure Tasks and How-tos</span></span>](mining-structure-tasks-and-how-tos.md)  
  
  
