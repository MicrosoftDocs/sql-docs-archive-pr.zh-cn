---
title: 数据挖掘服务和数据源 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: b26fd6e3-7d87-4f66-ab47-5303b51b87da
author: minewiskan
ms.author: owend
ms.openlocfilehash: f4b86ff2603e58210a66e7b40401ff8da7c938b1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87589372"
---
# <a name="data-mining-services-and-data-sources"></a><span data-ttu-id="5a2ab-102">数据挖掘服务和数据源</span><span class="sxs-lookup"><span data-stu-id="5a2ab-102">Data Mining Services and Data Sources</span></span>
  <span data-ttu-id="5a2ab-103">数据挖掘需要连接到 SQL Server Analysis Services 实例才能工作。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-103">Data mining requires a connection to an instance of SQL Server Analysis Services.</span></span> <span data-ttu-id="5a2ab-104">数据挖掘不需要多维数据集中的数据，建议使用关系源；但是，数据挖掘使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 引擎提供的组件。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-104">Data from a cube is not required for data mining and the use of relational sources is recommended; however, data mining uses components provided by the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] engine.</span></span>  
  
 <span data-ttu-id="5a2ab-105">本主题提供了在连接到 SQL Server [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例以创建、处理、部署或查询数据挖掘模型时需要了解的信息。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-105">This topic provides information that you need to know when connecting to an instance of SQL Server [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to create, process, deploy, or query data mining models.</span></span>  
  
## <a name="data-mining-services"></a><span data-ttu-id="5a2ab-106">数据挖掘服务</span><span class="sxs-lookup"><span data-stu-id="5a2ab-106">Data Mining Services</span></span>  
 <span data-ttu-id="5a2ab-107">的服务器组件 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 是 msmdsrv.exe 应用程序，通常以 Windows 服务的形式运行。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-107">The server component of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is the msmdsrv.exe application, which ordinarily runs as a Windows service.</span></span> <span data-ttu-id="5a2ab-108">该应用程序包含安全组件、一个 XML for Analysis (XMLA) 侦听器组件、一个查询处理器组件以及执行下列功能的多个其他内部组件：</span><span class="sxs-lookup"><span data-stu-id="5a2ab-108">This application consists of security components, an XML for Analysis (XMLA) listener component, a query processor component and numerous other internal components that perform the following functions:</span></span>  
  
-   <span data-ttu-id="5a2ab-109">分析从客户端接收的语句</span><span class="sxs-lookup"><span data-stu-id="5a2ab-109">Parsing statements received from clients</span></span>  
  
-   <span data-ttu-id="5a2ab-110">管理元数据</span><span class="sxs-lookup"><span data-stu-id="5a2ab-110">Managing metadata</span></span>  
  
-   <span data-ttu-id="5a2ab-111">处理翻译</span><span class="sxs-lookup"><span data-stu-id="5a2ab-111">Handling transactions</span></span>  
  
-   <span data-ttu-id="5a2ab-112">处理计算</span><span class="sxs-lookup"><span data-stu-id="5a2ab-112">Processing calculations</span></span>  
  
-   <span data-ttu-id="5a2ab-113">存储维度和单元数据</span><span class="sxs-lookup"><span data-stu-id="5a2ab-113">Storing dimension and cell data</span></span>  
  
-   <span data-ttu-id="5a2ab-114">创建聚合</span><span class="sxs-lookup"><span data-stu-id="5a2ab-114">Creating aggregations</span></span>  
  
-   <span data-ttu-id="5a2ab-115">计划查询</span><span class="sxs-lookup"><span data-stu-id="5a2ab-115">Scheduling queries</span></span>  
  
-   <span data-ttu-id="5a2ab-116">缓存对象</span><span class="sxs-lookup"><span data-stu-id="5a2ab-116">Caching objects</span></span>  
  
-   <span data-ttu-id="5a2ab-117">管理服务器资源</span><span class="sxs-lookup"><span data-stu-id="5a2ab-117">Managing server resources</span></span>  
  
### <a name="xmla-listener"></a><span data-ttu-id="5a2ab-118">XMLA 侦听器</span><span class="sxs-lookup"><span data-stu-id="5a2ab-118">XMLA Listener</span></span>  
 <span data-ttu-id="5a2ab-119">XMLA 侦听器组件处理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 与其客户端之间的所有 XMLA 通信。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-119">The XMLA listener component handles all XMLA communications between [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and its clients.</span></span> <span data-ttu-id="5a2ab-120">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] `Port` msmdsrv.ini 文件中的配置设置可用于指定 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例侦听的端口。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-120">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] `Port` configuration setting in the msmdsrv.ini file can be used to specify a port on which an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance listens.</span></span> <span data-ttu-id="5a2ab-121">此文件中的值 0 指示 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 侦听默认端口。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-121">A value of 0 in this file indicates that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] listen on the default port.</span></span> <span data-ttu-id="5a2ab-122">除非另有指定，否则 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 使用下列默认的 TCP 端口：</span><span class="sxs-lookup"><span data-stu-id="5a2ab-122">Unless otherwise specified, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] uses the following default TCP ports:</span></span>  
  
|<span data-ttu-id="5a2ab-123">端口</span><span class="sxs-lookup"><span data-stu-id="5a2ab-123">Port</span></span>|<span data-ttu-id="5a2ab-124">说明</span><span class="sxs-lookup"><span data-stu-id="5a2ab-124">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="5a2ab-125">2383</span><span class="sxs-lookup"><span data-stu-id="5a2ab-125">2383</span></span>|<span data-ttu-id="5a2ab-126">的默认实例 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-126">Default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|  
|<span data-ttu-id="5a2ab-127">2382</span><span class="sxs-lookup"><span data-stu-id="5a2ab-127">2382</span></span>|<span data-ttu-id="5a2ab-128">其他实例的重定向程序 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-128">Redirector for other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|  
|<span data-ttu-id="5a2ab-129">在服务器启动时动态分配</span><span class="sxs-lookup"><span data-stu-id="5a2ab-129">Dynamically assigned at server startup</span></span>|<span data-ttu-id="5a2ab-130">的命名实例 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-130">Named instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>|  
  
 <span data-ttu-id="5a2ab-131">有关控制此服务所用端口的详细信息，请参阅 [将 Windows 防火墙配置为允许 Analysis Services 访问](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md)。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-131">For more information about controlling the ports used by this service, see [Configure the Windows Firewall to Allow Analysis Services Access](../instances/configure-the-windows-firewall-to-allow-analysis-services-access.md).</span></span>  
  
## <a name="connecting-to-data-sources"></a><span data-ttu-id="5a2ab-132">连接到数据源</span><span class="sxs-lookup"><span data-stu-id="5a2ab-132">Connecting to Data Sources</span></span>  
 <span data-ttu-id="5a2ab-133">每次创建或更新数据挖掘结构或模型时，都应使用由数据源定义的数据。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-133">Whenever you create or update a data mining structure or model, you use data that is defined by a data source.</span></span> <span data-ttu-id="5a2ab-134">数据源不包含数据（可能包括 Excel 工作簿、文本文件和 SQL Server 数据库）；它只定义连接信息。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-134">The data source does not contain the data, which might include Excel workbooks, text files, and SQL Server databases; it only defines the connection information.</span></span>  <span data-ttu-id="5a2ab-135">数据源视图 (DSV) 将充当数据源顶部的抽象层，并修改或映射从源中获得的数据。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-135">A data source view (DSV) serves as an abstraction layer on top of that source, modifying or mapping the data that is obtained from the source.</span></span>  
  
 <span data-ttu-id="5a2ab-136">介绍这些源各自的连接要求不在本主题讨论的范围内。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-136">It is beyond the scope of this topic to describe the connection requirements for each of these sources.</span></span> <span data-ttu-id="5a2ab-137">有关详细信息，请参阅访问接口的相关文档。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-137">For more information, see the documentation for the provider.</span></span> <span data-ttu-id="5a2ab-138">但一般来说，您在与访问接口进行交互时应了解 Analysis Services 的以下要求：</span><span class="sxs-lookup"><span data-stu-id="5a2ab-138">However, in general, you should be aware of the following requirements of Analysis Services, when interacting with providers:</span></span>  
  
-   <span data-ttu-id="5a2ab-139">因为数据挖掘是由服务器提供的服务，所以必须为 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例提供对数据源的访问权限。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-139">Because data mining is a service provided by a server, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance must be given access to the data source.</span></span>  <span data-ttu-id="5a2ab-140">访问权限包含两个方面：位置和标识。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-140">There are two aspects to access: location and identity.</span></span>  
  
     <span data-ttu-id="5a2ab-141">**位置** 意味着，如果使用仅存储在计算机上的数据生成一个模型，然后将该模型部署到服务器，则该模型会因找不到数据源而无法处理。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-141">**Location** means that, if you build a model using data that is stored only on your computer and then deploy the model to a server, the model would fail to process because the data source cannot be found.</span></span> <span data-ttu-id="5a2ab-142">若要解决此问题，您可能需要将数据传入运行 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 的同一 SQL Server 实例，或将文件移至共享位置。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-142">To resolve this problem, you might need to transfer data into the same SQL Server instance where [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is running, or move files to a shared location.</span></span>  
  
     <span data-ttu-id="5a2ab-143">**标识** 表示 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 上的服务必须能使用相应的凭据打开数据文件或数据源。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-143">**Identity** means that the services on [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] must be able to open the data file or data source with the appropriate credentials.</span></span> <span data-ttu-id="5a2ab-144">例如，在生成模型时，您可能已具有查看数据的不受限权限，而正在处理和更新服务器上的模型的用户可能具有对数据的受限访问权限或不具有对数据的访问权限，这会导致无法处理或影响模型内容。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-144">For example, when you built the model, you might have had unlimited permissions to view the data, but the user who is processing and updating the models on the server might have limited or no access to the data, which can cause failure to process or affect the contents of a model.</span></span> <span data-ttu-id="5a2ab-145">用于连接到远程数据源的帐户必须至少具有对数据的读取权限。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-145">At minimum, the account used for connecting to the remote data source must have read permissions to the data.</span></span>  
  
-   <span data-ttu-id="5a2ab-146">移动模型时，上述要求将适用：您必须设置对旧数据源的位置的适当访问权、复制数据源或配置新数据源。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-146">When you move a model, the same requirements apply: you must set up appropriate access to the location of the old data source, copy the data sources, or configure a new data source.</span></span> <span data-ttu-id="5a2ab-147">此外，您必须传输登录名和角色，或设置权限以允许在新位置处理和更新数据挖掘对象。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-147">Also, you must transfer logins and roles, or set up permissions to allow data mining objects to be processed and updated in the new location.</span></span>  
  
## <a name="configuring-permissions-and-server-properties"></a><span data-ttu-id="5a2ab-148">配置权限和服务器属性</span><span class="sxs-lookup"><span data-stu-id="5a2ab-148">Configuring Permissions and Server Properties</span></span>  
 <span data-ttu-id="5a2ab-149">数据挖掘需要对 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库具有其他权限。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-149">Data mining requires additional permissions on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="5a2ab-150">可以使用[“Analysis Server 属性”对话框 (Analysis Services)](../analysis-server-properties-dialog-box-analysis-services.md) 设置大多数数据挖掘属性。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-150">Most data mining properties can be set by using the [Analysis Server Properties Dialog Box &#40;Analysis Services&#41;](../analysis-server-properties-dialog-box-analysis-services.md).</span></span>  
  
 <span data-ttu-id="5a2ab-151">有关可以配置的属性的详细信息，请参阅[在 Analysis Services 中配置服务器属性](../server-properties/server-properties-in-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-151">For more information about the properties that you can configure, see [Configure Server Properties in Analysis Services](../server-properties/server-properties-in-analysis-services.md).</span></span>  
  
 <span data-ttu-id="5a2ab-152">下面的服务器属性与数据挖掘有特殊关系：</span><span class="sxs-lookup"><span data-stu-id="5a2ab-152">The following server properties are of particular relevance to data mining:</span></span>  
  
-   <span data-ttu-id="5a2ab-153">`AllowAdHocOpenRowsetQueries`控制对直接加载到服务器内存空间的 OLE DB 提供程序的即席访问。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-153">`AllowAdHocOpenRowsetQueries` Controls ad hoc access to OLE DB providers, which are loaded directly into server memory space.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="5a2ab-154">为了提高安全性，建议您将此属性设置为 `false`。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-154">To improve security, we recommend that you set this property to `false`.</span></span> <span data-ttu-id="5a2ab-155">默认值为 `false`。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-155">The default value is `false`.</span></span> <span data-ttu-id="5a2ab-156">但是，即使此属性设置为 `false`，用户仍可以继续创建单独查询，并且可以对允许的数据源使用 OPENQUERY。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-156">However, even if this property is set to `false`, users can continue to create singleton queries, and can use OPENQUERY on permitted data sources.</span></span>  
  
-   <span data-ttu-id="5a2ab-157">**AllowedProvidersInOpenRowset** 指定启用即席访问时的访问接口。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-157">**AllowedProvidersInOpenRowset** Specifies the provider, if ad hoc access is enabled.</span></span> <span data-ttu-id="5a2ab-158">通过输入一个以逗号分隔的 ProgID 列表，您可以指定多个访问接口。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-158">You can specify multiple providers, by entering a comma-separated list of ProgIDs.</span></span>  
  
-   <span data-ttu-id="5a2ab-159">**MaxConcurrentPredictionQueries** 控制服务器上由预测引起的负载。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-159">**MaxConcurrentPredictionQueries** Controls the load on the server caused by predictions.</span></span> <span data-ttu-id="5a2ab-160">默认值 0 允许对 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise 执行不受限制的查询，对 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Standard 最多执行五次并发查询。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-160">The default value of 0 allows unlimited queries for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Enterprise, and a maximum of five concurrent queries for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Standard.</span></span> <span data-ttu-id="5a2ab-161">超出限制的查询将被序列化，并且可能超时。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-161">Queries above the limit are serialized and may time out.</span></span>  
  
 <span data-ttu-id="5a2ab-162">服务器还提供了控制可使用哪些数据挖掘算法（包括对算法的所有限制）以及所有数据挖掘服务的默认值的其他属性。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-162">The server provides additional properties that control which data mining algorithms are available, including any restrictions on the algorithms, and the defaults for all data mining services.</span></span> <span data-ttu-id="5a2ab-163">但是，没有任何设置可以专门控制对数据挖掘存储过程的访问。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-163">However, there are no settings that allow you to control access to data mining stored procedures specifically.</span></span> <span data-ttu-id="5a2ab-164">有关详细信息，请参阅 [Data Mining Properties](../server-properties/data-mining-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-164">For more information, see [Data Mining Properties](../server-properties/data-mining-properties.md).</span></span>  
  
 <span data-ttu-id="5a2ab-165">还可以设置允许用户优化服务器并控制客户端使用的安全性的属性。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-165">You can also set properties that let you tune the server and control security for client usage.</span></span> <span data-ttu-id="5a2ab-166">有关详细信息，请参阅 [Feature Properties](../server-properties/feature-properties.md)。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-166">For more information, see [Feature Properties](../server-properties/feature-properties.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5a2ab-167">有关各个版本对插件算法的支持的详细信息 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，请参阅[SQL Server 2012 (各个版本支持的功能](https://go.microsoft.com/fwlink/?linkid=232473) https://go.microsoft.com/fwlink/?linkid=232473) 。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-167">For more information about Support for plug-in algorithms by the editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Features Supported by the Editions of SQL Server 2012](https://go.microsoft.com/fwlink/?linkid=232473) (https://go.microsoft.com/fwlink/?linkid=232473).</span></span>  
  
## <a name="programmatic-access-to-data-mining-objects"></a><span data-ttu-id="5a2ab-168">对数据挖掘对象的编程访问</span><span class="sxs-lookup"><span data-stu-id="5a2ab-168">Programmatic Access to Data Mining Objects</span></span>  
 <span data-ttu-id="5a2ab-169">您可以使用下列对象模型创建与 Analysis Services 数据库的连接和处理数据挖掘对象：</span><span class="sxs-lookup"><span data-stu-id="5a2ab-169">You can use the following object models to create a connection to an Analysis Services database and work with data mining objects:</span></span>  
  
 <span data-ttu-id="5a2ab-170">**ADO** 使用 OLE DB 连接到 Analysis Services 服务器。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-170">**ADO** Uses OLE DB to connect to an Analysis Services server.</span></span> <span data-ttu-id="5a2ab-171">使用 ADO 时，客户端仅限于架构行集查询和 DMX 语句。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-171">When you use ADO, the client is limited to schema rowset queries and DMX statements.</span></span>  
  
 <span data-ttu-id="5a2ab-172">**ADO.NET** 与其他访问接口相比，可以更好地与 SQL Server 访问接口进行交互。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-172">**ADO.NET** Interacts with SQL Server providers better than other providers.</span></span> <span data-ttu-id="5a2ab-173">使用数据适配器存储动态行集。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-173">Uses data adaptors to store dynamic rowsets.</span></span> <span data-ttu-id="5a2ab-174">使用数据集对象，该数据集对象是作为数据表存储的服务器数据的缓存，可将该服务器数据更新或另存为 XML 格式。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-174">Uses the dataset object, which is a cache of the server data stored as data tables that can be updated or saved as XML.</span></span>  
  
 <span data-ttu-id="5a2ab-175">**ADOMD.NET** 为处理数据挖掘和 OLAP 而优化的托管数据访问接口。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-175">**ADOMD.NET** A managed data provider that is optimized for working with data mining and OLAP.</span></span> <span data-ttu-id="5a2ab-176">ADOMD.NET 速度比 ADO.NET 更快，并且更能有效地利用内存。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-176">ADOMD.NET is faster and more memory-efficient than ADO.NET.</span></span> <span data-ttu-id="5a2ab-177">您还可以通过 ADOMD.NET 检索有关服务器对象的元数据。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-177">ADOMD.NET also lets you retrieve metadata about server objects.</span></span> <span data-ttu-id="5a2ab-178">建议用于客户端应用程序，除非 .NET 不可用。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-178">Recommended for client applications except when .NET is not available.</span></span>  
  
 <span data-ttu-id="5a2ab-179">**Server ADOMD** 用于在服务器上直接访问 Analysis Services 对象的对象模型。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-179">**Server ADOMD** Object model for accessing Analysis Services objects directly on the server.</span></span> <span data-ttu-id="5a2ab-180">供 Analysis Services 存储过程使用；不能用于客户端。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-180">Used by Analysis Services stored procedures; not for client use.</span></span>  
  
 <span data-ttu-id="5a2ab-181">替换决策支持对象 (DSO) 的 Analysis Services 的**AMO** 管理接口。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-181">**AMO** Management interface for Analysis Services that replaces Decision Support Objects (DSO).</span></span> <span data-ttu-id="5a2ab-182">与使用其他接口相比，在使用 AMO 时，循环访问对象等操作需要更高的权限。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-182">Operations such as iterating objects require higher permissions when using AMO than when using other interfaces.</span></span> <span data-ttu-id="5a2ab-183">这是因为 AMO 直接访问元数据，而 ADOMD.NET 和其他接口仅访问数据库架构。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-183">That is because AMO accesses metadata directly, whereas ADOMD.NET and other interfaces access only the database schemas.</span></span>  
  
### <a name="browse-and-query-access-to-servers"></a><span data-ttu-id="5a2ab-184">对服务器的浏览和查询访问权限</span><span class="sxs-lookup"><span data-stu-id="5a2ab-184">Browse and Query Access to Servers</span></span>  
 <span data-ttu-id="5a2ab-185">可通过在 OLAP/数据挖掘模式下使用 Analysis Service 实例来执行所有类型的预测，但具有下列限制：</span><span class="sxs-lookup"><span data-stu-id="5a2ab-185">You can perform all kinds of predictions by using a instance of Analysis Services in OLAP/Data Mining mode, with the following restrictions:</span></span>  
  
-   <span data-ttu-id="5a2ab-186">如果使用 Server ADOMD，则可以在不进行连接的情况下使用 DMX 访问该服务器。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-186">If you use server ADOMD, you can use DMX to access the server without making a connection.</span></span> <span data-ttu-id="5a2ab-187">然后可以将结果直接复制到数据表中。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-187">You can then copy the results directly into a data table.</span></span> <span data-ttu-id="5a2ab-188">但是，不能将 Server ADOMD 用于远程实例；您只能查询本地服务器。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-188">However, you cannot use Server ADOMD with remote instances; you can query only the local server.</span></span>  
  
-   <span data-ttu-id="5a2ab-189">对于数据挖掘，ADO.NET 不支持命名参数。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-189">ADO.NET does not support named parameters for data mining.</span></span> <span data-ttu-id="5a2ab-190">您必须使用 ADOMD.NET。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-190">You must use ADOMD.NET.</span></span>  
  
-   <span data-ttu-id="5a2ab-191">通过 ADOMD.NET，您可以传递整个表以将其作为参数使用；因此，您可以使用客户端上的数据或服务器无法使用的数据。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-191">ADOMD.NET lets you pass an entire table to use as the parameter; therefore, you can use data on the client, or data that is unavailable to the server.</span></span> <span data-ttu-id="5a2ab-192">您还可以将具有形状的表作为预测输入使用。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-192">You can also use shaped tables as prediction input.</span></span>  
  
### <a name="using-data-mining-stored-procedures"></a><span data-ttu-id="5a2ab-193">使用数据挖掘存储过程</span><span class="sxs-lookup"><span data-stu-id="5a2ab-193">Using Data Mining Stored Procedures</span></span>  
 <span data-ttu-id="5a2ab-194">存储过程的一个常见用途是封装查询以便重复使用。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-194">A common use of stored procedures is to encapsulate queries for reuse.</span></span> <span data-ttu-id="5a2ab-195">客户端可以使用 CALL 来运行存储过程，包括 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 系统存储过程。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-195">The client can use CALL to run stored procedures, including [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] system stored procedures.</span></span>  
  
 <span data-ttu-id="5a2ab-196">如果该过程返回数据集，客户端将接收具有嵌套表（包含行）的数据集或数据表。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-196">If the procedure returns a dataset, the client will receive a dataset or datatable with a nested table containing the rows.</span></span> <span data-ttu-id="5a2ab-197">例如，如果根据模型内容创建查询，查询将返回整个模型。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-197">For example, if you create a query against the model content, the query returns the entire model.</span></span> <span data-ttu-id="5a2ab-198">若要避免返回过多的行，您可以使用 ADOMD+ 对象模型编写存储过程。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-198">To avoid bringing back too many rows, you can write stored procedures by using the ADOMD+ object model.</span></span>  
  
 <span data-ttu-id="5a2ab-199">若要编写服务器存储过程，则必须引用 Microsoft.AnalysisServices.AdomdServer 命名空间。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-199">To write a server stored procedure, you must reference the Microsoft.AnalysisServices.AdomdServer namespace.</span></span> <span data-ttu-id="5a2ab-200">有关如何创建和使用存储过程的详细信息，请参阅 [User Defined Functions and Stored Procedures](https://docs.microsoft.com/analysis-services/adomd/multidimensional-models-adomd-net-server/user-defined-functions-and-stored-procedures)。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-200">For more information about how to create and use stored procedures, see [User Defined Functions and Stored Procedures](https://docs.microsoft.com/analysis-services/adomd/multidimensional-models-adomd-net-server/user-defined-functions-and-stored-procedures).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5a2ab-201">存储过程不能用于更改数据服务器对象的安全性。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-201">Stored procedures cannot be used to change security on data server objects.</span></span> <span data-ttu-id="5a2ab-202">执行存储过程时，将使用用户的当前上下文来确定对所有服务器对象的访问权限。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-202">When you execute a stored procedure, the user's current context is used to determine access to all server objects.</span></span> <span data-ttu-id="5a2ab-203">因此，对于访问的任何数据库对象，用户必须拥有相应权限。</span><span class="sxs-lookup"><span data-stu-id="5a2ab-203">Therefore, users must have appropriate permissions on any database objects that they access.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5a2ab-204">另请参阅</span><span class="sxs-lookup"><span data-stu-id="5a2ab-204">See Also</span></span>  
 <span data-ttu-id="5a2ab-205">[物理体系结构 &#40;Analysis Services 多维数据&#41;](../multidimensional-models/olap-physical/understanding-microsoft-olap-physical-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="5a2ab-205">[Physical Architecture &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models/olap-physical/understanding-microsoft-olap-physical-architecture.md) </span></span>  
 <span data-ttu-id="5a2ab-206">[物理体系结构 &#40;Analysis Services 数据挖掘&#41;](physical-architecture-analysis-services-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="5a2ab-206">[Physical Architecture &#40;Analysis Services - Data Mining&#41;](physical-architecture-analysis-services-data-mining.md) </span></span>  
 [<span data-ttu-id="5a2ab-207">管理数据挖掘解决方案和对象</span><span class="sxs-lookup"><span data-stu-id="5a2ab-207">Management of Data Mining Solutions and Objects</span></span>](management-of-data-mining-solutions-and-objects.md)  
  
  
