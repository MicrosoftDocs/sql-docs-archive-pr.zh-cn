---
title: SSAS 表格)  (关系 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21e0144a-3cfd-4bc7-87ff-bb7d1800ed2f
author: minewiskan
ms.author: owend
ms.openlocfilehash: eac90102e4595bf19cbeb7eefc22e975ecf53610
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87692553"
---
# <a name="relationships-ssas-tabular"></a><span data-ttu-id="fc3ec-102">关系（SSAS 表格）</span><span class="sxs-lookup"><span data-stu-id="fc3ec-102">Relationships (SSAS Tabular)</span></span>
  <span data-ttu-id="fc3ec-103">在表格模型中，关系是两个数据表之间的连接。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-103">In tabular models, a relationship is a connection between two tables of data.</span></span> <span data-ttu-id="fc3ec-104">该关系确立两个表中的数据应该如何相关。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-104">The relationship establishes how the data in the two tables should be correlated.</span></span> <span data-ttu-id="fc3ec-105">例如，Customers 表和 Orders 表可以彼此相关，以便显示与每个订单关联的客户名称。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-105">For example, a Customers table and an Orders table can be related in order to show the customer name that is associated with each order.</span></span>  
  
 <span data-ttu-id="fc3ec-106">当使用“表导入向导”从相同数据源导入时，选择要导入的表（数据源中）中已存在的关系将在模型中重新创建。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-106">When using the Table Import Wizard to import from the same data source, relationships that already exist in tables (at the data source) that you choose to import will be re-created in the model.</span></span> <span data-ttu-id="fc3ec-107">通过使用关系图视图中的模型设计器或使用“管理关系”对话框，可以查看检测到的关系和自动重新创建的关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-107">You can view relationships that were detected and re-created automatically by using the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="fc3ec-108">还可以通过使用关系图视图中的模型设计器或使用“创建关系”或“管理关系”对话框，手动创建表之间的新关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-108">You can also create new relationships between tables manually by using the model designer in Diagram View or by using the Create Relationship or Manage Relationships dialog box.</span></span>  
  
 <span data-ttu-id="fc3ec-109">在定义了两个表之间的关系（在导入过程中自动创建或手动创建）之后，便能够使用相关列筛选数据以及在相关表中查找值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-109">After relationships between tables have been defined, either automatically during import or created manually, you will be able to filter data by using related columns and look up values in related tables.</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="fc3ec-110">如果您的模型包含多个关系，则关系图视图可以更好地展现表之间的关系和创建新关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-110">If your model contains many relationships, Diagram View can better help you better visualize and create new relationships between tables.</span></span>  
  
 <span data-ttu-id="fc3ec-111">本主题的内容：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-111">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="fc3ec-112">优点</span><span class="sxs-lookup"><span data-stu-id="fc3ec-112">Benefits</span></span>](#what)  
  
-   [<span data-ttu-id="fc3ec-113">关系的要求</span><span class="sxs-lookup"><span data-stu-id="fc3ec-113">Requirements for Relationships</span></span>](#requirements)  
  
-   [<span data-ttu-id="fc3ec-114">关系的推理</span><span class="sxs-lookup"><span data-stu-id="fc3ec-114">Inference of Relationships</span></span>](#detection)  
  
-   [<span data-ttu-id="fc3ec-115">导入数据时检测关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-115">Detection of Relationships When Importing Data</span></span>](#bkmk_detection)  
  
-   [<span data-ttu-id="fc3ec-116">手动创建关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-116">Manually Create Relationships</span></span>](#bkmk_manually_create)  
  
-   [<span data-ttu-id="fc3ec-117">重复的值和其他错误</span><span class="sxs-lookup"><span data-stu-id="fc3ec-117">Duplicate Values and Other Errors</span></span>](#bkmk_dupl_errors)  
  
-   [<span data-ttu-id="fc3ec-118">相关任务</span><span class="sxs-lookup"><span data-stu-id="fc3ec-118">Related Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits"></a><a name="what"></a> <span data-ttu-id="fc3ec-119">优势</span><span class="sxs-lookup"><span data-stu-id="fc3ec-119">Benefits</span></span>  
 <span data-ttu-id="fc3ec-120">关系是两个数据表之间的连接，它基于每个表中的一列或多列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-120">A relationship is a connection between two tables of data, based on one or more columns in each table.</span></span> <span data-ttu-id="fc3ec-121">要理解关系为何有用，可以想像一下在业务中跟踪客户订单数据。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-121">To see why relationships are useful, imagine that you track data for customer orders in your business.</span></span> <span data-ttu-id="fc3ec-122">可以在具有以下结构的一个表中跟踪所有数据：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-122">You could track all the data in a single table that has a structure like the following:</span></span>  
  
|<span data-ttu-id="fc3ec-123">CustomerID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-123">CustomerID</span></span>|<span data-ttu-id="fc3ec-124">名称</span><span class="sxs-lookup"><span data-stu-id="fc3ec-124">Name</span></span>|<span data-ttu-id="fc3ec-125">EMail</span><span class="sxs-lookup"><span data-stu-id="fc3ec-125">EMail</span></span>|<span data-ttu-id="fc3ec-126">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="fc3ec-126">DiscountRate</span></span>|<span data-ttu-id="fc3ec-127">OrderID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-127">OrderID</span></span>|<span data-ttu-id="fc3ec-128">OrderDate</span><span class="sxs-lookup"><span data-stu-id="fc3ec-128">OrderDate</span></span>|<span data-ttu-id="fc3ec-129">产品</span><span class="sxs-lookup"><span data-stu-id="fc3ec-129">Product</span></span>|<span data-ttu-id="fc3ec-130">数量</span><span class="sxs-lookup"><span data-stu-id="fc3ec-130">Quantity</span></span>|  
|----------------|----------|-----------|------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="fc3ec-131">1</span><span class="sxs-lookup"><span data-stu-id="fc3ec-131">1</span></span>|<span data-ttu-id="fc3ec-132">Ashton</span><span class="sxs-lookup"><span data-stu-id="fc3ec-132">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="fc3ec-133">.05</span><span class="sxs-lookup"><span data-stu-id="fc3ec-133">.05</span></span>|<span data-ttu-id="fc3ec-134">256</span><span class="sxs-lookup"><span data-stu-id="fc3ec-134">256</span></span>|<span data-ttu-id="fc3ec-135">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="fc3ec-135">2010-01-07</span></span>|<span data-ttu-id="fc3ec-136">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="fc3ec-136">Compact Digital</span></span>|<span data-ttu-id="fc3ec-137">11</span><span class="sxs-lookup"><span data-stu-id="fc3ec-137">11</span></span>|  
|<span data-ttu-id="fc3ec-138">1</span><span class="sxs-lookup"><span data-stu-id="fc3ec-138">1</span></span>|<span data-ttu-id="fc3ec-139">Ashton</span><span class="sxs-lookup"><span data-stu-id="fc3ec-139">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="fc3ec-140">.05</span><span class="sxs-lookup"><span data-stu-id="fc3ec-140">.05</span></span>|<span data-ttu-id="fc3ec-141">255</span><span class="sxs-lookup"><span data-stu-id="fc3ec-141">255</span></span>|<span data-ttu-id="fc3ec-142">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="fc3ec-142">2010-01-03</span></span>|<span data-ttu-id="fc3ec-143">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="fc3ec-143">SLR Camera</span></span>|<span data-ttu-id="fc3ec-144">15</span><span class="sxs-lookup"><span data-stu-id="fc3ec-144">15</span></span>|  
|<span data-ttu-id="fc3ec-145">2</span><span class="sxs-lookup"><span data-stu-id="fc3ec-145">2</span></span>|<span data-ttu-id="fc3ec-146">Jaworski</span><span class="sxs-lookup"><span data-stu-id="fc3ec-146">Jaworski</span></span>|michal.jaworski@contoso.com|<span data-ttu-id="fc3ec-147">.10</span><span class="sxs-lookup"><span data-stu-id="fc3ec-147">.10</span></span>|<span data-ttu-id="fc3ec-148">254</span><span class="sxs-lookup"><span data-stu-id="fc3ec-148">254</span></span>|<span data-ttu-id="fc3ec-149">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="fc3ec-149">2010-01-03</span></span>|<span data-ttu-id="fc3ec-150">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="fc3ec-150">Budget Movie-Maker</span></span>|<span data-ttu-id="fc3ec-151">27</span><span class="sxs-lookup"><span data-stu-id="fc3ec-151">27</span></span>|  
  
 <span data-ttu-id="fc3ec-152">这种方法可以用，但会存储大量冗余数据，如每个订单的客户电子邮件地址。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-152">This approach can work, but it involves storing a lot of redundant data, such as the customer e-mail address for every order.</span></span> <span data-ttu-id="fc3ec-153">存储成本低廉，但如果电子邮件地址发生更改，就必须确保更新该客户的每一行数据。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-153">Storage is cheap, but you have to make sure you update every row for that customer if the e-mail address changes.</span></span> <span data-ttu-id="fc3ec-154">针对这一问题，一种解决方法是将数据拆分到多个表中，然后在这些表之间定义关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-154">One solution to this problem is to split the data into multiple tables and define relationships between those tables.</span></span> <span data-ttu-id="fc3ec-155">这就是关系数据库 \*\* （如 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]）中使用的方法。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-155">This is the approach used in *relational databases* like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="fc3ec-156">例如，导入模型的某个数据库可以使用三个相关表来表示订单数据：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-156">For example, a database that you import into a model might represent order data by using three related tables:</span></span>  
  
### <a name="customers"></a><span data-ttu-id="fc3ec-157">客户</span><span class="sxs-lookup"><span data-stu-id="fc3ec-157">Customers</span></span>  
  
|<span data-ttu-id="fc3ec-158">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="fc3ec-158">[CustomerID]</span></span>|<span data-ttu-id="fc3ec-159">名称</span><span class="sxs-lookup"><span data-stu-id="fc3ec-159">Name</span></span>|<span data-ttu-id="fc3ec-160">电子邮件</span><span class="sxs-lookup"><span data-stu-id="fc3ec-160">Email</span></span>|  
|--------------------|----------|-----------|  
|<span data-ttu-id="fc3ec-161">1</span><span class="sxs-lookup"><span data-stu-id="fc3ec-161">1</span></span>|<span data-ttu-id="fc3ec-162">Ashton</span><span class="sxs-lookup"><span data-stu-id="fc3ec-162">Ashton</span></span>|chris.ashton@contoso.com|  
|<span data-ttu-id="fc3ec-163">2</span><span class="sxs-lookup"><span data-stu-id="fc3ec-163">2</span></span>|<span data-ttu-id="fc3ec-164">Jaworski</span><span class="sxs-lookup"><span data-stu-id="fc3ec-164">Jaworski</span></span>|michal.jaworski@contoso.com|  
  
### <a name="customerdiscounts"></a><span data-ttu-id="fc3ec-165">CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="fc3ec-165">CustomerDiscounts</span></span>  
  
|<span data-ttu-id="fc3ec-166">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="fc3ec-166">[CustomerID]</span></span>|<span data-ttu-id="fc3ec-167">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="fc3ec-167">DiscountRate</span></span>|  
|--------------------|------------------|  
|<span data-ttu-id="fc3ec-168">1</span><span class="sxs-lookup"><span data-stu-id="fc3ec-168">1</span></span>|<span data-ttu-id="fc3ec-169">.05</span><span class="sxs-lookup"><span data-stu-id="fc3ec-169">.05</span></span>|  
|<span data-ttu-id="fc3ec-170">2</span><span class="sxs-lookup"><span data-stu-id="fc3ec-170">2</span></span>|<span data-ttu-id="fc3ec-171">.10</span><span class="sxs-lookup"><span data-stu-id="fc3ec-171">.10</span></span>|  
  
### <a name="orders"></a><span data-ttu-id="fc3ec-172">Orders</span><span class="sxs-lookup"><span data-stu-id="fc3ec-172">Orders</span></span>  
  
|<span data-ttu-id="fc3ec-173">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="fc3ec-173">[CustomerID]</span></span>|<span data-ttu-id="fc3ec-174">OrderID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-174">OrderID</span></span>|<span data-ttu-id="fc3ec-175">OrderDate</span><span class="sxs-lookup"><span data-stu-id="fc3ec-175">OrderDate</span></span>|<span data-ttu-id="fc3ec-176">产品</span><span class="sxs-lookup"><span data-stu-id="fc3ec-176">Product</span></span>|<span data-ttu-id="fc3ec-177">数量</span><span class="sxs-lookup"><span data-stu-id="fc3ec-177">Quantity</span></span>|  
|--------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="fc3ec-178">1</span><span class="sxs-lookup"><span data-stu-id="fc3ec-178">1</span></span>|<span data-ttu-id="fc3ec-179">256</span><span class="sxs-lookup"><span data-stu-id="fc3ec-179">256</span></span>|<span data-ttu-id="fc3ec-180">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="fc3ec-180">2010-01-07</span></span>|<span data-ttu-id="fc3ec-181">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="fc3ec-181">Compact Digital</span></span>|<span data-ttu-id="fc3ec-182">11</span><span class="sxs-lookup"><span data-stu-id="fc3ec-182">11</span></span>|  
|<span data-ttu-id="fc3ec-183">1</span><span class="sxs-lookup"><span data-stu-id="fc3ec-183">1</span></span>|<span data-ttu-id="fc3ec-184">255</span><span class="sxs-lookup"><span data-stu-id="fc3ec-184">255</span></span>|<span data-ttu-id="fc3ec-185">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="fc3ec-185">2010-01-03</span></span>|<span data-ttu-id="fc3ec-186">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="fc3ec-186">SLR Camera</span></span>|<span data-ttu-id="fc3ec-187">15</span><span class="sxs-lookup"><span data-stu-id="fc3ec-187">15</span></span>|  
|<span data-ttu-id="fc3ec-188">2</span><span class="sxs-lookup"><span data-stu-id="fc3ec-188">2</span></span>|<span data-ttu-id="fc3ec-189">254</span><span class="sxs-lookup"><span data-stu-id="fc3ec-189">254</span></span>|<span data-ttu-id="fc3ec-190">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="fc3ec-190">2010-01-03</span></span>|<span data-ttu-id="fc3ec-191">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="fc3ec-191">Budget Movie-Maker</span></span>|<span data-ttu-id="fc3ec-192">27</span><span class="sxs-lookup"><span data-stu-id="fc3ec-192">27</span></span>|  
  
 <span data-ttu-id="fc3ec-193">如果从同一数据库导入这些表，则“表导入向导”可以根据 [方括号] 中的列来检测这些表之间的关系，并可以在模型设计器中再现这些关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-193">If you import these tables from the same database, the Table Import Wizard can detect the relationships between the tables based on the columns that are in [brackets], and can reproduce these relationships in the model designer.</span></span> <span data-ttu-id="fc3ec-194">有关详细信息，请参阅本主题中的 [关系的自动检测和推理](#detection) 。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-194">For more information, see [Automatic Detection and Inference of Relationships](#detection) in this topic.</span></span> <span data-ttu-id="fc3ec-195">如果从多个源导入表，则可以手动创建关系，如 [创建两个表之间的关系（SSAS 表格）](create-a-relationship-between-two-tables-ssas-tabular.md)所述。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-195">If you import tables from multiple sources, you can manually create relationships as described in [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
### <a name="columns-and-keys"></a><span data-ttu-id="fc3ec-196">列和键</span><span class="sxs-lookup"><span data-stu-id="fc3ec-196">Columns and Keys</span></span>  
 <span data-ttu-id="fc3ec-197">关系基于每个表中包含相同数据的列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-197">Relationships are based on columns in each table that contain the same data.</span></span> <span data-ttu-id="fc3ec-198">例如，Customers 和 Orders 表可以彼此相关，因为它们都包含存储客户 ID 的列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-198">For example, the Customers and Orders tables can be related to each other because they both contain a column that stores a customer ID.</span></span> <span data-ttu-id="fc3ec-199">在本示例中，列名称相同，但这不是必需的。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-199">In the example, the column names are the same, but this is not a requirement.</span></span> <span data-ttu-id="fc3ec-200">只要 Orders 表的所有行都包含也存储在 Customers 表中的 ID，一列可以是 CustomerID，另一列可以是 CustomerNumber。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-200">One could be CustomerID and another CustomerNumber, as long as all of the rows in the Orders table contain an ID that is also stored in the Customers table.</span></span>  
  
 <span data-ttu-id="fc3ec-201">在关系数据库中，有几种类型的键 \*\*，键通常是具有指定属性的列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-201">In a relational database, there are several types of *keys*, which are typically just columns with special properties.</span></span> <span data-ttu-id="fc3ec-202">在关系数据库中，可以使用以下四种类型的键：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-202">The following four types of keys can be used in relational databases:</span></span>  
  
-   <span data-ttu-id="fc3ec-203">*主键*：唯一标识表中的一行，如 Customers 表中的 CustomerID。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-203">*Primary key*: uniquely identifies a row in a table, such as CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="fc3ec-204">*备用键* （或 *候选键*）：主键之外的唯一列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-204">*Alternate key* (or *candidate key*): a column other than the primary key that is unique.</span></span> <span data-ttu-id="fc3ec-205">例如，Employees 表可能存储雇员 ID 和社会保障号，这两者都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-205">For example, an Employees table might store an employee ID and a social security number, both of which are unique.</span></span>  
  
-   <span data-ttu-id="fc3ec-206">*外键*：引用另一表中唯一列的列，如 Orders 表中的 CustomerID（可引用 Customers 表中的 CustomerID）。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-206">*Foreign key*: a column that refers to a unique column in another table, such as CustomerID in the Orders table, which refers to CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="fc3ec-207">组合键\*\*：由多列组成的键。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-207">*Composite key*: a key that is composed of more than one column.</span></span> <span data-ttu-id="fc3ec-208">表格模型中不支持组合键。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-208">Composite keys are not supported in tabular models.</span></span> <span data-ttu-id="fc3ec-209">有关详细信息，请参阅本主题中的“组合键和查找列”。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-209">For more information, see "Composite Keys and Lookup Columns" in this topic.</span></span>  
  
 <span data-ttu-id="fc3ec-210">在表格模型中，主键或备用键称为“相关查找列” \*\* 或“查找列” \*\*。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-210">In tabular models, the primary key or alternate key is referred to as the *related lookup column*, or just *lookup column*.</span></span> <span data-ttu-id="fc3ec-211">如果表既有主键又有备用键，则主键和备用键都可作为查找列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-211">If a table has both a primary and alternate key, you can use either as the lookup column.</span></span> <span data-ttu-id="fc3ec-212">外键称为“源列” \*\* 或简单地称为“列” \*\*。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-212">The foreign key is referred to as the *source column* or just *column*.</span></span> <span data-ttu-id="fc3ec-213">在我们的示例中，将在 Orders 表的 CustomerID（列）和 Customers 表的 CustomerID（查找列）之间定义关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-213">In our example, a relationship would be defined between CustomerID in the Orders table (the column) and CustomerID (the lookup column) in the Customers table.</span></span> <span data-ttu-id="fc3ec-214">如果从关系数据库导入数据，默认情况下，模型设计器会从一个表中选择外键，从另一个表中选择相应的主键。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-214">If you import data from a relational database, by default the model designer chooses the foreign key from one table and the corresponding primary key from the other table.</span></span> <span data-ttu-id="fc3ec-215">但是，您可以将具有唯一值的任意列用作查找列。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-215">However, you can use any column that has unique values for the lookup column.</span></span>  
  
### <a name="types-of-relationships"></a><span data-ttu-id="fc3ec-216">关系类型</span><span class="sxs-lookup"><span data-stu-id="fc3ec-216">Types of Relationships</span></span>  
 <span data-ttu-id="fc3ec-217">Customers 与 Orders 之间的关系是“一对多关系”\*\*。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-217">The relationship between Customers and Orders is a *one-to-many relationship*.</span></span> <span data-ttu-id="fc3ec-218">每个客户都可以有多个订单，但一个订单不能有多个客户。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-218">Every customer can have multiple orders, but an order cannot have multiple customers.</span></span> <span data-ttu-id="fc3ec-219">其他关系类型还有“一对一”\*\* 和“多对多”\*\*。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-219">The other types of relationships are *one-to-one* and *many-to-many*.</span></span> <span data-ttu-id="fc3ec-220">为每个客户定义一个折扣率的 CustomerDiscounts 表与 Customers 表具有一对一关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-220">The CustomerDiscounts table, which defines a single discount rate for each customer, is in a one-to-one relationship with the Customers table.</span></span> <span data-ttu-id="fc3ec-221">Products 和 Customers 之间的直接关系就是多对多关系的一个示例，在这种关系中，一个客户可以购买多种产品，同一种产品可由很多客户购买。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-221">An example of a many-to-many relationship is a direct relationship between Products and Customers, in which a customer can buy many products and the same product can be bought by many customers.</span></span> <span data-ttu-id="fc3ec-222">在用户界面中，模型设计器不支持多对多关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-222">The model designer does not support many-to-many relationships in the user interface.</span></span> <span data-ttu-id="fc3ec-223">有关详细信息，请参阅本主题中的[多对多关系](#bkmk_many_to_many)。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-223">For more information, see "[Many-to-Many Relationships](#bkmk_many_to_many)" in this topic.</span></span>  
  
 <span data-ttu-id="fc3ec-224">下表显示了三个表之间的关系：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-224">The following table shows the relationships between the three tables:</span></span>  
  
|<span data-ttu-id="fc3ec-225">关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-225">Relationship</span></span>|<span data-ttu-id="fc3ec-226">类型</span><span class="sxs-lookup"><span data-stu-id="fc3ec-226">Type</span></span>|<span data-ttu-id="fc3ec-227">查找列</span><span class="sxs-lookup"><span data-stu-id="fc3ec-227">Lookup Column</span></span>|<span data-ttu-id="fc3ec-228">列</span><span class="sxs-lookup"><span data-stu-id="fc3ec-228">Column</span></span>|  
|------------------|----------|-------------------|------------|  
|<span data-ttu-id="fc3ec-229">Customers-CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="fc3ec-229">Customers-CustomerDiscounts</span></span>|<span data-ttu-id="fc3ec-230">一对一</span><span class="sxs-lookup"><span data-stu-id="fc3ec-230">one-to-one</span></span>|<span data-ttu-id="fc3ec-231">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-231">Customers.CustomerID</span></span>|<span data-ttu-id="fc3ec-232">CustomerDiscounts.CustomerID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-232">CustomerDiscounts.CustomerID</span></span>|  
|<span data-ttu-id="fc3ec-233">Customers-Orders</span><span class="sxs-lookup"><span data-stu-id="fc3ec-233">Customers-Orders</span></span>|<span data-ttu-id="fc3ec-234">一对多</span><span class="sxs-lookup"><span data-stu-id="fc3ec-234">one-to-many</span></span>|<span data-ttu-id="fc3ec-235">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-235">Customers.CustomerID</span></span>|<span data-ttu-id="fc3ec-236">Orders.CustomerID</span><span class="sxs-lookup"><span data-stu-id="fc3ec-236">Orders.CustomerID</span></span>|  
  
### <a name="relationships-and-performance"></a><span data-ttu-id="fc3ec-237">关系和性能</span><span class="sxs-lookup"><span data-stu-id="fc3ec-237">Relationships and Performance</span></span>  
 <span data-ttu-id="fc3ec-238">在创建任何关系之后，对于任何公式，如果它们使用新创建的关系中所涉及的各表中的列，模型设计器通常必须对其进行重新计算。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-238">After any relationship has been created, the model designer typically must recalculate any formulas that use columns from tables in the newly created relationship.</span></span> <span data-ttu-id="fc3ec-239">处理可能需要一些时间，这取决于数据量和关系的复杂度。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-239">Processing can take some time depending on the amount of data and the complexity of the relationships.</span></span>  
  
##  <a name="requirements-for-relationships"></a><a name="requirements"></a><span data-ttu-id="fc3ec-240">关系的要求</span><span class="sxs-lookup"><span data-stu-id="fc3ec-240">Requirements for Relationships</span></span>  
 <span data-ttu-id="fc3ec-241">创建关系时，模型设计器必须遵守几项要求：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-241">The model designer has several requirements that must be followed when creating relationships:</span></span>  
  
### <a name="single-active-relationship-between-tables"></a><span data-ttu-id="fc3ec-242">表之间的单个活动关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-242">Single Active Relationship between Tables</span></span>  
 <span data-ttu-id="fc3ec-243">多个关系会导致表之间存在不明确的依赖关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-243">Multiple relationships could result in ambiguous dependencies between tables.</span></span> <span data-ttu-id="fc3ec-244">若要创建准确的计算，需要从一个表到下一个表的单一路径。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-244">To create accurate calculations, you need a single path from one table to the next.</span></span> <span data-ttu-id="fc3ec-245">因此，每对表之间只能存在一个活动关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-245">Therefore, there can be only one active relationship between each pair of tables.</span></span> <span data-ttu-id="fc3ec-246">例如，在 AdventureWorks DW 2012 中，表 DimDate 包含一个列 DateKey，该列与表 FactInternetSales 中的以下三个不同列相关：OrderDate、DueDate 和 ShipDate。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-246">For example, in AdventureWorks DW 2012, the table, DimDate, contains a column, DateKey, that is related to three different columns in the table, FactInternetSales: OrderDate, DueDate, and ShipDate.</span></span> <span data-ttu-id="fc3ec-247">如果您试图导入这些表，则会成功创建第一个关系，但是在创建涉及相同列的后续关系时会接收到下面的错误：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-247">If you attempt to import these tables, the first relationship is created successfully, but you will receive the following error on successive relationships that involve the same column:</span></span>  
  
 <span data-ttu-id="fc3ec-248">\*关系：表 [列 1]-> 表 [列 2]-状态：错误-原因：在表和之间无法创建关系 \<table 1> \<table 2> 。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-248">\* Relationship: table[column 1]-> table[column 2]   - Status: error   - Reason: A relationship cannot be created between tables \<table 1> and \<table 2>.</span></span> <span data-ttu-id="fc3ec-249">在两个表之间只能存在一个直接或间接关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-249">Only one direct or indirect relationship can exist between two tables.</span></span>  
  
 <span data-ttu-id="fc3ec-250">如果您有两个表并且这两个表之间存在多个关系，则需要导入包含查找列的表的多个副本，并在每对表之间创建一个关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-250">If you have two tables and multiple relationships between them, then you will need to import multiple copies of the table that contains the lookup column, and create one relationship between each pair of tables.</span></span>  
  
 <span data-ttu-id="fc3ec-251">表之间可以有许多非活动关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-251">There can be many inactive relationships between tables.</span></span> <span data-ttu-id="fc3ec-252">表之间要使用的路径在查询时由报表客户端指定。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-252">The path to use between tables is specified by the reporting client at query time.</span></span>  
  
### <a name="one-relationship-for-each-source-column"></a><span data-ttu-id="fc3ec-253">每个源列具有一个关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-253">One Relationship for Each Source Column</span></span>  
 <span data-ttu-id="fc3ec-254">源列无法具有多个关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-254">A source column cannot participate in multiple relationships.</span></span> <span data-ttu-id="fc3ec-255">如果您已在一个关系中将某列用作源列，但希望使用该列连接到其他表中的另一个相关的查找列，则可以创建该列的副本并使用该列创建新的关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-255">If you have used a column as a source column in one relationship already, but want to use that column to connect to another related lookup column in a different table, you can create a copy of the column, and use that column for the new relationship.</span></span>  
  
 <span data-ttu-id="fc3ec-256">可使用计算列中的 DAX 公式轻松创建具有完全相同值的列的副本。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-256">It is easy to create a copy of a column that has the exact same values, by using a DAX formula in a calculated column.</span></span> <span data-ttu-id="fc3ec-257">有关详细信息，请参阅[创建计算列（SSAS 表格）](ssas-calculated-columns-create-a-calculated-column.md)。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-257">For more information, see [Create a Calculated Column &#40;SSAS Tabular&#41;](ssas-calculated-columns-create-a-calculated-column.md).</span></span>  
  
### <a name="unique-identifier-for-each-table"></a><span data-ttu-id="fc3ec-258">每个表的唯一标识符</span><span class="sxs-lookup"><span data-stu-id="fc3ec-258">Unique Identifier for Each Table</span></span>  
 <span data-ttu-id="fc3ec-259">每个表都必须具有一个单独的列，用于唯一标识该表中的每一行。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-259">Each table must have a single column that uniquely identifies each row in that table.</span></span> <span data-ttu-id="fc3ec-260">该列通常称为主键。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-260">This column is often referred to as the primary key.</span></span>  
  
### <a name="unique-lookup-columns"></a><span data-ttu-id="fc3ec-261">唯一查找列</span><span class="sxs-lookup"><span data-stu-id="fc3ec-261">Unique Lookup Columns</span></span>  
 <span data-ttu-id="fc3ec-262">查找列中的数据值必须是唯一的。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-262">The data values in the lookup column must be unique.</span></span> <span data-ttu-id="fc3ec-263">也就是说，该列不能包含重复值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-263">In other words, the column cannot contain duplicates.</span></span> <span data-ttu-id="fc3ec-264">在表格模型中，Null 和空字符串等效于空白，而空白是一种独特的数据值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-264">In Tabular models, nulls and empty strings are equivalent to a blank, which is a distinct data value.</span></span> <span data-ttu-id="fc3ec-265">这意味着查找列中不能包含多个 Null 值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-265">This means that you cannot have multiple nulls in the lookup column.</span></span>  
  
### <a name="compatible-data-types"></a><span data-ttu-id="fc3ec-266">兼容的数据类型</span><span class="sxs-lookup"><span data-stu-id="fc3ec-266">Compatible Data Types</span></span>  
 <span data-ttu-id="fc3ec-267">源列和查找列中的数据类型必须兼容。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-267">The data types in the source column and lookup column must be compatible.</span></span> <span data-ttu-id="fc3ec-268">有关数据类型的详细信息，请参阅[支持的数据类型（SSAS 表格）](data-types-supported-ssas-tabular.md)。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-268">For more information about data types, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
### <a name="composite-keys-and-lookup-columns"></a><span data-ttu-id="fc3ec-269">组合键和查找列</span><span class="sxs-lookup"><span data-stu-id="fc3ec-269">Composite Keys and Lookup Columns</span></span>  
 <span data-ttu-id="fc3ec-270">不能在表格模型中使用组合键；必须始终有一列来唯一标识表中的每一行。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-270">You cannot use composite keys in a tabular model; you must always have one column that uniquely identifies each row in the table.</span></span> <span data-ttu-id="fc3ec-271">如果您试图导入的表中包含基于组合键的现有关系，表导入向导会忽略该关系，因为在表格模型中无法创建该关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-271">If you try to import tables that have an existing relationship based on a composite key, the Table Import Wizard will ignore that relationship because it cannot be created in the tabular model.</span></span>  
  
 <span data-ttu-id="fc3ec-272">如果要在模型设计器中创建两个表之间的关系，并且存在多个定义主键和外键的列，必须先组合这些值创建一个键列，然后才能创建关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-272">If you want to create a relationship between two tables in the model designer, and there are multiple columns defining the primary and foreign keys, you must combine the values to create a single key column before creating the relationship.</span></span> <span data-ttu-id="fc3ec-273">您可以在导入数据之前执行此操作，也可以在模型设计器中通过创建计算列来执行此操作。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-273">You can do this before you import the data, or you can do this in the model designer by creating a calculated column.</span></span>  
  
###  <a name="many-to-many-relationships"></a><a name="bkmk_many_to_many"></a><span data-ttu-id="fc3ec-274">多对多关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-274">Many-to-Many Relationships</span></span>  
 <span data-ttu-id="fc3ec-275">表格模型不支持多对多关系，您不能在模型设计器中添加“联接表” \*\* 。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-275">Tabular models do not support many-to-many relationships, and you cannot add *junction tables* in the model designer.</span></span> <span data-ttu-id="fc3ec-276">但可以使用 DAX 函数为多对多关系建模。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-276">However, you can use DAX functions to model many-to-many relationships.</span></span>  
  
### <a name="self-joins-and-loops"></a><span data-ttu-id="fc3ec-277">自联接和循环</span><span class="sxs-lookup"><span data-stu-id="fc3ec-277">Self-Joins and Loops</span></span>  
 <span data-ttu-id="fc3ec-278">表格模型表中不允许使用自联接。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-278">Self-joins are not permitted in tabular model tables.</span></span> <span data-ttu-id="fc3ec-279">自联接是一个表与其自身之间的递归关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-279">A self-join is a recursive relationship between a table and itself.</span></span> <span data-ttu-id="fc3ec-280">自联接通常用于定义父子层次结构。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-280">Self-joins are often used to define parent-child hierarchies.</span></span> <span data-ttu-id="fc3ec-281">例如，可以将 Employees 表联接到其自身，从而生成显示业务管理链的层次结构。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-281">For example, you could join an Employees table to itself to produce a hierarchy that shows the management chain at a business.</span></span>  
  
 <span data-ttu-id="fc3ec-282">模型设计器不允许在模型中的关系之间创建循环。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-282">The model designer does not allow loops to be created among relationships in a model.</span></span> <span data-ttu-id="fc3ec-283">换言之，禁止使用下面这组关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-283">In other words, the following set of relationships is prohibited.</span></span>  
  
 <span data-ttu-id="fc3ec-284">表 1、列 a 到表 2、列 f</span><span class="sxs-lookup"><span data-stu-id="fc3ec-284">Table 1, column a   to   Table 2, column f</span></span>  
  
 <span data-ttu-id="fc3ec-285">表 2、列 f 到表 3、列 n</span><span class="sxs-lookup"><span data-stu-id="fc3ec-285">Table 2, column f   to   Table 3, column n</span></span>  
  
 <span data-ttu-id="fc3ec-286">表 3、列 n 到表 1、列 a</span><span class="sxs-lookup"><span data-stu-id="fc3ec-286">Table 3, column n   to   Table 1, column a</span></span>  
  
 <span data-ttu-id="fc3ec-287">如果您试图创建的关系会导致创建循环，则会生成错误。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-287">If you try to create a relationship that would result in a loop being created, an error is generated.</span></span>  
  
##  <a name="inference-of-relationships"></a><a name="detection"></a><span data-ttu-id="fc3ec-288">关系的推理</span><span class="sxs-lookup"><span data-stu-id="fc3ec-288">Inference of Relationships</span></span>  
 <span data-ttu-id="fc3ec-289">在某些情况下，表之间的关系会自动链接。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-289">In some cases, relationships between tables are automatically chained.</span></span> <span data-ttu-id="fc3ec-290">例如，如果在以下前两组表之间创建关系，则会推断出其他两个表之间存在一个关系，进而自动建立一个关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-290">For example, if you create a relationship between the first two sets of tables below, a relationship is inferred to exist between the other two tables, and a relationship is automatically established.</span></span>  
  
 <span data-ttu-id="fc3ec-291">Products 和 Category -- 手动创建</span><span class="sxs-lookup"><span data-stu-id="fc3ec-291">Products and Category -- created manually</span></span>  
  
 <span data-ttu-id="fc3ec-292">Category 和 SubCategory -- 手动创建</span><span class="sxs-lookup"><span data-stu-id="fc3ec-292">Category and SubCategory -- created manually</span></span>  
  
 <span data-ttu-id="fc3ec-293">Products 和 SubCategory -- 推断出关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-293">Products and SubCategory -- relationship is inferred</span></span>  
  
 <span data-ttu-id="fc3ec-294">为使关系自动链接，关系方向必须相同，如上所示。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-294">In order for relationships to be automatically chained, the relationships must go in one direction, as shown above.</span></span> <span data-ttu-id="fc3ec-295">例如，如果初始关系是在 Sales 和 Products 以及 Sales 和 Customers 之间，则不会推断出关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-295">If the initial relationships were between, for example, Sales and Products, and Sales and Customers, a relationship is not inferred.</span></span> <span data-ttu-id="fc3ec-296">这是因为 Products 和 Customers 之间的关系是多对多关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-296">This is because the relationship between Products and Customers is a many-to-many relationship.</span></span>  
  
##  <a name="detection-of-relationships-when-importing-data"></a><a name="bkmk_detection"></a><span data-ttu-id="fc3ec-297">导入数据时检测关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-297">Detection of Relationships When Importing Data</span></span>  
 <span data-ttu-id="fc3ec-298">从关系数据源表中导入时，表导入向导将基于源架构数据检测这些源表中的现有关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-298">When you import from a relational data source table, the Table Import Wizard detects existing relationships in those source tables based on the source schema data.</span></span> <span data-ttu-id="fc3ec-299">如果导入相关的表，则将在模型中复制这些关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-299">If related tables are imported, those relationships will be duplicated in the model.</span></span>  
  
##  <a name="manually-create-relationships"></a><a name="bkmk_manually_create"></a><span data-ttu-id="fc3ec-300">手动创建关系</span><span class="sxs-lookup"><span data-stu-id="fc3ec-300">Manually Create Relationships</span></span>  
 <span data-ttu-id="fc3ec-301">尽管单个关系数据源中的表之间的大多数关系将会被自动检测到并且在表格模型中创建，但还有许多必须手动创建模型表之间的关系的情况。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-301">While most relationships between tables in a single relational data source will be detected automatically, and created in the tabular model, there are also many instances where you must manually create relationships between model tables.</span></span>  
  
 <span data-ttu-id="fc3ec-302">如果您的模型中包含来自多个数据源的数据，则可能需要手动关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-302">If your model contains data from multiple sources, you will likely have to manually create relationships.</span></span> <span data-ttu-id="fc3ec-303">例如，您可以从关系数据源导入 Customers、CustomerDiscounts 和 Orders 表。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-303">For example, you may import Customers, CustomerDiscounts, and Orders tables from a relational data source.</span></span> <span data-ttu-id="fc3ec-304">在源中的这些表之间存在的关系将在模型中自动创建。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-304">Relationships existing between those tables at the source are automatically created in the model.</span></span> <span data-ttu-id="fc3ec-305">然后，您可以添加来自不同源的其他表，例如，从 Microsoft Excel 工作簿中的 Geography 表导入区域数据。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-305">You may then add another table from a different source, for example, you import region data from a Geography table in a Microsoft Excel workbook.</span></span> <span data-ttu-id="fc3ec-306">然后，您可以手动在 Customers 表中的某一列和 Geography 表中的某一列之间创建关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-306">You can then manually create a relationship between a column in the Customers table and a column in the Geography table.</span></span>  
  
 <span data-ttu-id="fc3ec-307">若要手动在表格模型中创建关系，您可以使用关系图视图中的模型设计器或使用“管理关系”对话框。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-307">To manually create relationships in a tabular model, you can use the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="fc3ec-308">关系图视图以图形格式显示表以及表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-308">The diagram view displays tables, with relationships between them, in a graphical format.</span></span> <span data-ttu-id="fc3ec-309">您可以单击一个表中的某一列，将该列拖放到其他表中以便轻松地在两个表之间以正确顺序创建关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-309">You can click a column in one table and drag the cursor to another table to easily create a relationship, in the correct order, between the tables.</span></span> <span data-ttu-id="fc3ec-310">“管理关系”对话框会以简单的表格式显示表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-310">The Manage Relationships dialog box displays relationships between tables in a simple table format.</span></span> <span data-ttu-id="fc3ec-311">了解如何手动创建关系，请参阅 [创建两个表之间的关系（SSAS 表格）](create-a-relationship-between-two-tables-ssas-tabular.md)所述。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-311">To learn how to manually create relationships, see [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
##  <a name="duplicate-values-and-other-errors"></a><a name="bkmk_dupl_errors"></a><span data-ttu-id="fc3ec-312">重复的值和其他错误</span><span class="sxs-lookup"><span data-stu-id="fc3ec-312">Duplicate Values and Other Errors</span></span>  
 <span data-ttu-id="fc3ec-313">如果选择了在关系中不能使用的列，该列旁边将出现一个红色的 X。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-313">If you choose a column that cannot be used in the relationship, a red X appears next to the column.</span></span> <span data-ttu-id="fc3ec-314">您可以将光标暂停在错误图标之上，以查看提供有关该问题的详细信息的消息。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-314">You can pause the cursor over the error icon to view a message that provides more information about the problem.</span></span> <span data-ttu-id="fc3ec-315">导致无法在所选列之间创建关系的问题包括：</span><span class="sxs-lookup"><span data-stu-id="fc3ec-315">Problems that can make it impossible to create a relationship between the selected columns include the following:</span></span>  
  
|<span data-ttu-id="fc3ec-316">问题或消息</span><span class="sxs-lookup"><span data-stu-id="fc3ec-316">Problem or message</span></span>|<span data-ttu-id="fc3ec-317">解决方法</span><span class="sxs-lookup"><span data-stu-id="fc3ec-317">Resolution</span></span>|  
|------------------------|----------------|  
|<span data-ttu-id="fc3ec-318">无法创建关系，因为这两个选定的列包含重复值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-318">The relationship cannot be created because both columns selected contain duplicate values.</span></span>|<span data-ttu-id="fc3ec-319">若要创建有效的关系，您所选的一对列中应至少有一列必须包含唯一值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-319">To create a valid relationship, at least one column of the pair that you select must contain only unique values.</span></span><br /><br /> <span data-ttu-id="fc3ec-320">您可以编辑列来删除重复值，也可以反转列的顺序，以便将包含唯一值的列用作 **“相关查找列”**。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-320">You can either edit the columns to remove duplicates, or you can reverse the order of the columns so that the column that contains the unique values is used as the **Related Lookup Column**.</span></span>|  
|<span data-ttu-id="fc3ec-321">该列包含 Null 值或空值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-321">The column contains a null or empty value.</span></span>|<span data-ttu-id="fc3ec-322">对于 Null 值，无法将数据列相互联接。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-322">Data columns cannot be joined to each other on a null value.</span></span> <span data-ttu-id="fc3ec-323">对于每一行，关系中所用的两列都必须具有值。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-323">For every row, there must be a value in both of the columns that are used in a relationship.</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_related_tasks"></a> <span data-ttu-id="fc3ec-324">相关任务</span><span class="sxs-lookup"><span data-stu-id="fc3ec-324">Related Tasks</span></span>  
  
|<span data-ttu-id="fc3ec-325">主题</span><span class="sxs-lookup"><span data-stu-id="fc3ec-325">Topic</span></span>|<span data-ttu-id="fc3ec-326">说明</span><span class="sxs-lookup"><span data-stu-id="fc3ec-326">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="fc3ec-327">创建两个表之间的关系（SSAS 表格）</span><span class="sxs-lookup"><span data-stu-id="fc3ec-327">Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;</span></span>](create-a-relationship-between-two-tables-ssas-tabular.md)|<span data-ttu-id="fc3ec-328">介绍如何手动创建两个表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-328">Describes how to manually create a relationship between two tables.</span></span>|  
|[<span data-ttu-id="fc3ec-329">删除关系（SSAS 表格）</span><span class="sxs-lookup"><span data-stu-id="fc3ec-329">Delete Relationships &#40;SSAS Tabular&#41;</span></span>](relationships-ssas-tabular.md)|<span data-ttu-id="fc3ec-330">描述如何删除关系和删除关系带来的后果。</span><span class="sxs-lookup"><span data-stu-id="fc3ec-330">Describes how to delete a relationship and the ramifications of deleting relationships.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="fc3ec-331">另请参阅</span><span class="sxs-lookup"><span data-stu-id="fc3ec-331">See Also</span></span>  
 <span data-ttu-id="fc3ec-332">[&#40;SSAS 表格&#41;的表和列](tables-and-columns-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="fc3ec-332">[Tables and Columns &#40;SSAS Tabular&#41;](tables-and-columns-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="fc3ec-333">导入数据（SSAS 表格）</span><span class="sxs-lookup"><span data-stu-id="fc3ec-333">Import Data &#40;SSAS Tabular&#41;</span></span>](../import-data-ssas-tabular.md)  
  
  
