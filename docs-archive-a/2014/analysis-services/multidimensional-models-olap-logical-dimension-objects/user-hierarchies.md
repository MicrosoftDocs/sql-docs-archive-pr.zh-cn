---
title: 用户层次结构 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- members [Analysis Services], hierarchies
- dimensions [Analysis Services], hierarchies
- user hierarchies [Analysis Services]
- hierarchies [Analysis Services], multilevel
- hierarchies [Analysis Services], attribute
- attributes [Analysis Services], hierarchies
- parent-child hierarchies [Analysis Services]
- hierarchies [Analysis Services], user
- ragged hierarchies [Analysis Services]
- balanced hierarchies [Analysis Services]
- hierarchies [Analysis Services]
- OLAP objects [Analysis Services], hierarchies
- multilevel hierarchies [Analysis Services]
- unbalanced hierarchies [Analysis Services]
ms.assetid: 9394e9a3-2242-4f0e-85e0-25d499d2d3b6
author: minewiskan
ms.author: owend
ms.openlocfilehash: 533b244a8a5b6ec5e2866b068cfbf5eb6f31a7a3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87580973"
---
# <a name="user-hierarchies"></a><span data-ttu-id="fa12b-102">用户层次结构</span><span class="sxs-lookup"><span data-stu-id="fa12b-102">User Hierarchies</span></span>
  <span data-ttu-id="fa12b-103">用户定义的层次结构是用户定义的属性层次结构，用于 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 将维度的成员组织到层次结构中，并提供多维数据集中的导航路径。</span><span class="sxs-lookup"><span data-stu-id="fa12b-103">User-defined hierarchies are user-defined hierarchies of attributes that are used in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to organize the members of a dimension into hierarchical structures and provide navigation paths in a cube.</span></span> <span data-ttu-id="fa12b-104">例如，下表定义了时间维度的维度表。</span><span class="sxs-lookup"><span data-stu-id="fa12b-104">For example, the following table defines a dimension table for a time dimension.</span></span> <span data-ttu-id="fa12b-105">维度表支持三个属性，即年份、季度和月份。</span><span class="sxs-lookup"><span data-stu-id="fa12b-105">The dimension table supports three attributes, named Year, Quarter, and Month.</span></span>  
  
|<span data-ttu-id="fa12b-106">Year</span><span class="sxs-lookup"><span data-stu-id="fa12b-106">Year</span></span>|<span data-ttu-id="fa12b-107">Quarter</span><span class="sxs-lookup"><span data-stu-id="fa12b-107">Quarter</span></span>|<span data-ttu-id="fa12b-108">Month</span><span class="sxs-lookup"><span data-stu-id="fa12b-108">Month</span></span>|  
|----------|-------------|-----------|  
|<span data-ttu-id="fa12b-109">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-109">1999</span></span>|<span data-ttu-id="fa12b-110">第1季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-110">Quarter 1</span></span>|<span data-ttu-id="fa12b-111">一月</span><span class="sxs-lookup"><span data-stu-id="fa12b-111">Jan</span></span>|  
|<span data-ttu-id="fa12b-112">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-112">1999</span></span>|<span data-ttu-id="fa12b-113">第1季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-113">Quarter 1</span></span>|<span data-ttu-id="fa12b-114">二月</span><span class="sxs-lookup"><span data-stu-id="fa12b-114">Feb</span></span>|  
|<span data-ttu-id="fa12b-115">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-115">1999</span></span>|<span data-ttu-id="fa12b-116">第1季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-116">Quarter 1</span></span>|<span data-ttu-id="fa12b-117">三月</span><span class="sxs-lookup"><span data-stu-id="fa12b-117">Mar</span></span>|  
|<span data-ttu-id="fa12b-118">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-118">1999</span></span>|<span data-ttu-id="fa12b-119">第2季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-119">Quarter 2</span></span>|<span data-ttu-id="fa12b-120">四月</span><span class="sxs-lookup"><span data-stu-id="fa12b-120">Apr</span></span>|  
|<span data-ttu-id="fa12b-121">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-121">1999</span></span>|<span data-ttu-id="fa12b-122">第2季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-122">Quarter 2</span></span>|<span data-ttu-id="fa12b-123">五月</span><span class="sxs-lookup"><span data-stu-id="fa12b-123">May</span></span>|  
|<span data-ttu-id="fa12b-124">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-124">1999</span></span>|<span data-ttu-id="fa12b-125">第2季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-125">Quarter 2</span></span>|<span data-ttu-id="fa12b-126">Jun</span><span class="sxs-lookup"><span data-stu-id="fa12b-126">Jun</span></span>|  
|<span data-ttu-id="fa12b-127">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-127">1999</span></span>|<span data-ttu-id="fa12b-128">第3季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-128">Quarter 3</span></span>|<span data-ttu-id="fa12b-129">七月</span><span class="sxs-lookup"><span data-stu-id="fa12b-129">Jul</span></span>|  
|<span data-ttu-id="fa12b-130">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-130">1999</span></span>|<span data-ttu-id="fa12b-131">第3季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-131">Quarter 3</span></span>|<span data-ttu-id="fa12b-132">八月</span><span class="sxs-lookup"><span data-stu-id="fa12b-132">Aug</span></span>|  
|<span data-ttu-id="fa12b-133">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-133">1999</span></span>|<span data-ttu-id="fa12b-134">第3季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-134">Quarter 3</span></span>|<span data-ttu-id="fa12b-135">九月</span><span class="sxs-lookup"><span data-stu-id="fa12b-135">Sep</span></span>|  
|<span data-ttu-id="fa12b-136">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-136">1999</span></span>|<span data-ttu-id="fa12b-137">第四季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-137">Quarter 4</span></span>|<span data-ttu-id="fa12b-138">Oct</span><span class="sxs-lookup"><span data-stu-id="fa12b-138">Oct</span></span>|  
|<span data-ttu-id="fa12b-139">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-139">1999</span></span>|<span data-ttu-id="fa12b-140">第四季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-140">Quarter 4</span></span>|<span data-ttu-id="fa12b-141">十一月</span><span class="sxs-lookup"><span data-stu-id="fa12b-141">Nov</span></span>|  
|<span data-ttu-id="fa12b-142">1999</span><span class="sxs-lookup"><span data-stu-id="fa12b-142">1999</span></span>|<span data-ttu-id="fa12b-143">第四季度</span><span class="sxs-lookup"><span data-stu-id="fa12b-143">Quarter 4</span></span>|<span data-ttu-id="fa12b-144">Dec</span><span class="sxs-lookup"><span data-stu-id="fa12b-144">Dec</span></span>|  
  
 <span data-ttu-id="fa12b-145">用年份、季度和月份属性来构造时间维度中由用户定义的层次结构（即日历）。</span><span class="sxs-lookup"><span data-stu-id="fa12b-145">The Year, Quarter, and Month attributes are used to construct a user-defined hierarchy, named Calendar, in the time dimension.</span></span> <span data-ttu-id="fa12b-146">“日历”维度（常规维度）的级别和成员之间的关系如下面的关系图所示：</span><span class="sxs-lookup"><span data-stu-id="fa12b-146">The relationship between the levels and members of the Calendar dimension (a regular dimension) is shown in the following diagram.</span></span>  
  
 <span data-ttu-id="fa12b-147">![时间维度的级别和成员层次结构](../dev-guide/media/as-levelconcepts.gif "时间维度的级别和成员层次结构")</span><span class="sxs-lookup"><span data-stu-id="fa12b-147">![Level and member hierarchy for a time dimension](../dev-guide/media/as-levelconcepts.gif "Level and member hierarchy for a time dimension")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fa12b-148">默认的二级属性层次结构除外的其他任何层次结构都称为用户定义层次结构。</span><span class="sxs-lookup"><span data-stu-id="fa12b-148">Any hierarchy other than the default two-level attribute hierarchy is called a user-defined hierarchy.</span></span> <span data-ttu-id="fa12b-149">有关属性层次结构的详细信息，请参阅[属性和属性层次结构](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md)。</span><span class="sxs-lookup"><span data-stu-id="fa12b-149">For more information about attribute hierarchies, see [Attributes and Attribute Hierarchies](../multidimensional-models-olap-logical-dimension-objects/attributes-and-attribute-hierarchies.md).</span></span>  
  
## <a name="member-structures"></a><span data-ttu-id="fa12b-150">成员结构</span><span class="sxs-lookup"><span data-stu-id="fa12b-150">Member Structures</span></span>  
 <span data-ttu-id="fa12b-151">除父子层次结构以外，成员在层次结构中的位置由属性在层次结构定义中的顺序进行控制。</span><span class="sxs-lookup"><span data-stu-id="fa12b-151">With the exception of parent-child hierarchies, the positions of members within the hierarchy are controlled by the order of the attributes in the hierarchy's definition.</span></span> <span data-ttu-id="fa12b-152">层次结构定义中的每个属性均构成层次结构中的一个级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-152">Each attribute in the hierarchy definition constitutes a level in the hierarchy.</span></span> <span data-ttu-id="fa12b-153">成员在级别中的位置由用于创建该级别的属性的顺序来确定。</span><span class="sxs-lookup"><span data-stu-id="fa12b-153">The position of a member within a level is determined by the ordering of the attribute used to create the level.</span></span> <span data-ttu-id="fa12b-154">用户定义层次结构的成员结构可以占用四个基本窗体中的某一个，具体取决于成员之间的相互关系。</span><span class="sxs-lookup"><span data-stu-id="fa12b-154">The member structures of user-defined hierarchies can take one of four basic forms, depending on how the members are related to each other.</span></span>  
  
### <a name="balanced-hierarchies"></a><span data-ttu-id="fa12b-155">均衡层次结构</span><span class="sxs-lookup"><span data-stu-id="fa12b-155">Balanced Hierarchies</span></span>  
 <span data-ttu-id="fa12b-156">在均衡层次结构中，层次结构的所有分支降至相同的级别，并且每个成员的逻辑父级直接位于该成员的上一级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-156">In a balanced hierarchy, all branches of the hierarchy descend to the same level, and each member's logical parent is the level immediately above the member.</span></span> <span data-ttu-id="fa12b-157">在 [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] 示例 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库中，“产品”维度的“产品类别”层次结构就是一个均衡层次结构的示例。</span><span class="sxs-lookup"><span data-stu-id="fa12b-157">The Product Categories hierarchy of the Product dimension in the [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] sample [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database is a good example of a balanced hierarchy.</span></span> <span data-ttu-id="fa12b-158">“产品名称”级别的每个成员均在“子类别”级别中有一个父成员，而每个“子类别”级别在“类别”级别中也有一个父成员。</span><span class="sxs-lookup"><span data-stu-id="fa12b-158">Each member in the Product Name level has a parent member in the Subcategory level, which in turn has a parent member in the Category level.</span></span> <span data-ttu-id="fa12b-159">而且，层次结构中的每个分支在“产品名称”级别中都有叶成员。</span><span class="sxs-lookup"><span data-stu-id="fa12b-159">Also, every branch in the hierarchy has a leaf member in the Product Name level.</span></span>  
  
### <a name="unbalanced-hierarchies"></a><span data-ttu-id="fa12b-160">不均衡层次结构</span><span class="sxs-lookup"><span data-stu-id="fa12b-160">Unbalanced Hierarchies</span></span>  
 <span data-ttu-id="fa12b-161">在不均衡层次结构中，层次结构的分支降至不同级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-161">In an unbalanced hierarchy, branches of the hierarchy descend to different levels.</span></span> <span data-ttu-id="fa12b-162">父子层次结构是不均衡层次结构。</span><span class="sxs-lookup"><span data-stu-id="fa12b-162">Parent-child hierarchies are unbalanced hierarchies.</span></span> <span data-ttu-id="fa12b-163">例如，[!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] 示例 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库中的“组织”维度包含了表示每个雇员的成员。</span><span class="sxs-lookup"><span data-stu-id="fa12b-163">For example, the Organization dimension in the [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] sample [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database contains a member for each employee.</span></span> <span data-ttu-id="fa12b-164">CEO 是层次结构中的顶级成员，而部门经理和执行秘书直接位于 CEO 下面。</span><span class="sxs-lookup"><span data-stu-id="fa12b-164">The CEO is the top member in the hierarchy, and the division managers and executive secretary are immediately beneath the CEO.</span></span> <span data-ttu-id="fa12b-165">部门经理还有下属成员，但执行秘书没有。</span><span class="sxs-lookup"><span data-stu-id="fa12b-165">The division managers have subordinate members but the executive secretary does not.</span></span>  
  
 <span data-ttu-id="fa12b-166">最终用户可能无法区别不均衡层次结构和不规则层次结构。</span><span class="sxs-lookup"><span data-stu-id="fa12b-166">It may be impossible for end users to distinguish between unbalanced and ragged hierarchies.</span></span> <span data-ttu-id="fa12b-167">但可以使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 中的不同技术和属性来支持这两种层次结构类型。</span><span class="sxs-lookup"><span data-stu-id="fa12b-167">However, you employ different techniques and properties in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to support these two types of hierarchies.</span></span> <span data-ttu-id="fa12b-168">有关详细信息，请参阅[不规则层次结构](../multidimensional-models/user-defined-hierarchies-ragged-hierarchies.md)和[父子层次结构中的属性](../multidimensional-models/parent-child-dimension-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="fa12b-168">For more information, see [Ragged Hierarchies](../multidimensional-models/user-defined-hierarchies-ragged-hierarchies.md), and [Attributes in Parent-Child Hierarchies](../multidimensional-models/parent-child-dimension-attributes.md).</span></span>  
  
### <a name="ragged-hierarchies"></a><span data-ttu-id="fa12b-169">不规则层次结构</span><span class="sxs-lookup"><span data-stu-id="fa12b-169">Ragged Hierarchies</span></span>  
 <span data-ttu-id="fa12b-170">在不规则层次结构中，至少一个成员的逻辑父成员不直接位于该成员的上一级。</span><span class="sxs-lookup"><span data-stu-id="fa12b-170">In a ragged hierarchy, the logical parent member of at least one member is not in the level immediately above the member.</span></span> <span data-ttu-id="fa12b-171">这将导致层次结构的分支降至不同的级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-171">This can cause branches of the hierarchy to descend to different levels.</span></span> <span data-ttu-id="fa12b-172">例如，用洲、国家（地区） 和市县级别定义的“地域”维度中，各成员将按定义顺序显示，成员 Europe 显示在层次结构的顶层，成员 France 显示在中层，而成员 Paris 显示在底层。</span><span class="sxs-lookup"><span data-stu-id="fa12b-172">For example, in a Geography dimension defined with the levels Continent, CountryRegion, and City, in that order, the member Europe appears in the top level of the hierarchy, the member France appears in the middle level, and the member Paris appears in the bottom level.</span></span> <span data-ttu-id="fa12b-173">France 比 Europe 更具体，而 Paris 比 France 更具体。</span><span class="sxs-lookup"><span data-stu-id="fa12b-173">France is more specific than Europe, and Paris is more specific than France.</span></span> <span data-ttu-id="fa12b-174">对此常规层次结构进行以下更改：</span><span class="sxs-lookup"><span data-stu-id="fa12b-174">To this regular hierarchy, the following changes are made:</span></span>  
  
-   <span data-ttu-id="fa12b-175">将 Vatican City 成员添加到国家（地区）级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-175">The Vatican City member is added to the CountryRegion level.</span></span>  
  
-   <span data-ttu-id="fa12b-176">向市县级别添加成员并将这些成员与国家（地区）级别中的 Vatican City 成员建立关联。</span><span class="sxs-lookup"><span data-stu-id="fa12b-176">Members are added to the City level and are associated with the Vatican City member in the CountryRegion level.</span></span>  
  
-   <span data-ttu-id="fa12b-177">将省市自治区级别添加到国家（地区）级别和市县级别之间。</span><span class="sxs-lookup"><span data-stu-id="fa12b-177">A level, named Province, is added between the CountryRegion and City levels.</span></span>  
  
 <span data-ttu-id="fa12b-178">将与国家（地区）级别中的其他成员关联的成员填入省市自治区级别中，将市县级别中的成员与省市自治区级别中相应的成员建立关联。</span><span class="sxs-lookup"><span data-stu-id="fa12b-178">The Province level is populated with members associated with other members in the CountryRegion level, and members in the City level are associated with their corresponding members in the Province level.</span></span> <span data-ttu-id="fa12b-179">但是，由于国家（地区）级别的 Vatican City 成员在省市自治区级别中没有相关联的成员，所以必须将市县级别的成员直接关联到国家（地区）级别的 Vatican City 成员。</span><span class="sxs-lookup"><span data-stu-id="fa12b-179">However, because the Vatican City member in the CountryRegion level has no associated members in the Province level, members must be associated from the City level directly to the Vatican City member in the CountryRegion level.</span></span> <span data-ttu-id="fa12b-180">因为这些更改，该维度的层次结构现在成为不规则层次结构。</span><span class="sxs-lookup"><span data-stu-id="fa12b-180">Because of the changes, the hierarchy of the dimension is now ragged.</span></span> <span data-ttu-id="fa12b-181">城市 Vatican City 的父级是国家/地区 Vatican City，而它并不直接位于市县级别的 Vatican City 成员的上一级。</span><span class="sxs-lookup"><span data-stu-id="fa12b-181">The parent of the city Vatican City is the country/region Vatican City, which is not in the level immediately above the Vatican City member in the City level.</span></span> <span data-ttu-id="fa12b-182">有关详细信息，请参阅 [不规则层次结构](../multidimensional-models/user-defined-hierarchies-ragged-hierarchies.md)。</span><span class="sxs-lookup"><span data-stu-id="fa12b-182">For more information, see [Ragged Hierarchies](../multidimensional-models/user-defined-hierarchies-ragged-hierarchies.md).</span></span>  
  
### <a name="parent-child-hierarchies"></a><span data-ttu-id="fa12b-183">父子层次结构</span><span class="sxs-lookup"><span data-stu-id="fa12b-183">Parent-Child Hierarchies</span></span>  
 <span data-ttu-id="fa12b-184">维度的父子层次结构是通过使用特殊属性（称为父属性）来定义的，目的是为了确定成员之间的相互关系。</span><span class="sxs-lookup"><span data-stu-id="fa12b-184">Parent-child hierarchies for dimensions are defined by using a special attribute, called a parent attribute, to determine how members relate to each other.</span></span> <span data-ttu-id="fa12b-185">父属性用于说明维度主表内部的自引用关系或自联接\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="fa12b-185">A parent attribute describes a *self-referencing relationship*, or *self-join*, within a dimension main table.</span></span> <span data-ttu-id="fa12b-186">父子层次结构是根据单个父属性构造的。</span><span class="sxs-lookup"><span data-stu-id="fa12b-186">Parent-child hierarchies are constructed from a single parent attribute.</span></span> <span data-ttu-id="fa12b-187">层次结构中出现的级别是通过与父属性关联的成员之间的父子关系形成的，因此只为一个父子层次结构分配一个级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-187">Only one level is assigned to a parent-child hierarchy, because the levels present in the hierarchy are drawn from the parent-child relationships between members associated with the parent attribute.</span></span> <span data-ttu-id="fa12b-188">父子层次结构的维度架构依赖于维度主表中提供的自引用关系。</span><span class="sxs-lookup"><span data-stu-id="fa12b-188">The dimension schema of a parent-child hierarchy depends on a self-referencing relationship present on the dimension main table.</span></span> <span data-ttu-id="fa12b-189">例如，下面的关系图说明了**DimOrganization** [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 示例数据库中的 DimOrganization 维度主表。</span><span class="sxs-lookup"><span data-stu-id="fa12b-189">For example, the following diagram illustrates the **DimOrganization** dimension main table in the [!INCLUDE[ssAWDWsp](../../includes/ssawdwsp-md.md)][!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] sample database.</span></span>  
  
 <span data-ttu-id="fa12b-190">![DimOrganization 表中的自引用联接](../dev-guide/media/dimorganization.gif "DimOrganization 表中的自引用联接")</span><span class="sxs-lookup"><span data-stu-id="fa12b-190">![Self-referencing join in DimOrganization table](../dev-guide/media/dimorganization.gif "Self-referencing join in DimOrganization table")</span></span>  
  
 <span data-ttu-id="fa12b-191">在该维度表中， **ParentOrganizationKey** 列与 **OrganizationKey** 主键列具有外键关系。</span><span class="sxs-lookup"><span data-stu-id="fa12b-191">In this dimension table, the **ParentOrganizationKey** column has a foreign key relationship with the **OrganizationKey** primary key column.</span></span> <span data-ttu-id="fa12b-192">换言之，该表中的每个记录都可以通过父子关系与该表中的其他记录相关联。</span><span class="sxs-lookup"><span data-stu-id="fa12b-192">In other words, each record in this table can be related through a parent-child relationship with another record in the table.</span></span> <span data-ttu-id="fa12b-193">这种自联接通常用于表示单位的实体数据，例如某个部门内部的雇员管理结构。</span><span class="sxs-lookup"><span data-stu-id="fa12b-193">This kind of self-join is generally used to represent organization entity data, such as the management structure of employees in a department.</span></span>  
  
 <span data-ttu-id="fa12b-194">创建父子层次结构时，两个属性所表示的列都必须有相同的数据类型。</span><span class="sxs-lookup"><span data-stu-id="fa12b-194">When you create a parent-child hierarchy, the columns represented by both attributes must have the same data type.</span></span> <span data-ttu-id="fa12b-195">两个属性还必须在同一个表中。</span><span class="sxs-lookup"><span data-stu-id="fa12b-195">Both attributes must also be in the same table.</span></span> <span data-ttu-id="fa12b-196">默认情况下，任何成员的父键只要等于其自身的成员键、空、0（零）或一个未出现在成员键列中的值，则该成员将被认为是顶层中的成员（不包括“（全部）”级别）。</span><span class="sxs-lookup"><span data-stu-id="fa12b-196">By default, any member whose parent key equals its own member key, null, 0 (zero), or a value absent from the column for member keys is assumed to be a member of the top level (excluding the (All) level).</span></span>  
  
 <span data-ttu-id="fa12b-197">父子层次结构的深度可以在其层次结构分支中变化。</span><span class="sxs-lookup"><span data-stu-id="fa12b-197">The depth of a parent-child hierarchy can vary among its hierarchical branches.</span></span> <span data-ttu-id="fa12b-198">换句话说，父子层次结构被视为非平衡层次结构。</span><span class="sxs-lookup"><span data-stu-id="fa12b-198">In other words, a parent-child hierarchy is considered an unbalanced hierarchy.</span></span>  
  
 <span data-ttu-id="fa12b-199">在用户定义层次结构中，层次结构的级别数决定着最终用户所能看见的级别数，而与用户定义层次结构不同，父子层次结构是使用单个级别的属性层次结构定义的，并且此单个级别中的值将生成用户所能看见的多个级别。</span><span class="sxs-lookup"><span data-stu-id="fa12b-199">Unlike user-defined hierarchies, in which the number of levels in the hierarchy determines the number of levels that can be seen by end users, a parent-child hierarchy is defined with the single level of an attribute hierarchy, and the values in this single level produce the multiple levels seen by users.</span></span> <span data-ttu-id="fa12b-200">存储成员键和父键的维度表列的内容将决定显示出的级别数目。</span><span class="sxs-lookup"><span data-stu-id="fa12b-200">The number of displayed levels depends on the contents of the dimension table columns that store the member keys and the parent keys.</span></span> <span data-ttu-id="fa12b-201">如果维度表中的数据发生更改，则级别数也会更改。</span><span class="sxs-lookup"><span data-stu-id="fa12b-201">The number of levels can change when the data in the dimension tables change.</span></span> <span data-ttu-id="fa12b-202">有关详细信息，请参阅父子[层次结构](../multidimensional-models/parent-child-dimension.md)和父子层次结构[中的属性](../multidimensional-models/parent-child-dimension-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="fa12b-202">For more information, see [Parent-Child Hierarchy](../multidimensional-models/parent-child-dimension.md), and [Attributes in Parent-Child Hierarchies](../multidimensional-models/parent-child-dimension-attributes.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa12b-203">另请参阅</span><span class="sxs-lookup"><span data-stu-id="fa12b-203">See Also</span></span>  
 <span data-ttu-id="fa12b-204">[创建用户定义的层次结构](../multidimensional-models/user-defined-hierarchies-create.md) </span><span class="sxs-lookup"><span data-stu-id="fa12b-204">[Create User-Defined Hierarchies](../multidimensional-models/user-defined-hierarchies-create.md) </span></span>  
 <span data-ttu-id="fa12b-205">[用户层次结构属性](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies-properties.md) </span><span class="sxs-lookup"><span data-stu-id="fa12b-205">[User Hierarchy Properties](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies-properties.md) </span></span>  
 [<span data-ttu-id="fa12b-206">维度特性属性参考</span><span class="sxs-lookup"><span data-stu-id="fa12b-206">Dimension Attribute Properties Reference</span></span>](../multidimensional-models/dimension-attribute-properties-reference.md)  
  
  
