---
title: 启用写功能的维度 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- write-enabled dimensions [Analysis Services]
- dimensions [Analysis Services], write-enabled
- dimension writeback [Analysis Services]
- write-enabled cubes [Analysis Services]
- writeback [Analysis Services], dimensions
ms.assetid: 0bac050d-cd3b-427b-884a-65a91be89500
author: minewiskan
ms.author: owend
ms.openlocfilehash: f8f0f1c959d44b4d3e133e5676e9aca9365a628d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87587637"
---
# <a name="write-enabled-dimensions"></a><span data-ttu-id="6b252-102">启用写操作的维度</span><span class="sxs-lookup"><span data-stu-id="6b252-102">Write-Enabled Dimensions</span></span>
    
> [!IMPORTANT]  
>  [!INCLUDE[ssNoteDepNextAvoid](../../includes/ssnotedepnextavoid-md.md)]  
  
 <span data-ttu-id="6b252-103">维度中的数据通常为只读数据。</span><span class="sxs-lookup"><span data-stu-id="6b252-103">The data in a dimension is generally read-only.</span></span> <span data-ttu-id="6b252-104">但在某些情况下，可能需要为维度启用写操作。</span><span class="sxs-lookup"><span data-stu-id="6b252-104">However, for certain scenarios, you may want to write-enable a dimension.</span></span> <span data-ttu-id="6b252-105">在中 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ，允许业务用户修改维度内容并查看对维度层次结构所做的更改的即时影响。</span><span class="sxs-lookup"><span data-stu-id="6b252-105">In [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], write-enabling a dimension enables business users to modify the contents of the dimension and see the immediate affect of changes on the hierarchies of the dimension.</span></span> <span data-ttu-id="6b252-106">基于单个表的任何维度均可启用写操作。</span><span class="sxs-lookup"><span data-stu-id="6b252-106">Any dimension that is based on a single table can be write-enabled.</span></span> <span data-ttu-id="6b252-107">在启用写操作的维度中，业务用户和管理员都可以更改、移动、添加和删除维度中的属性成员。</span><span class="sxs-lookup"><span data-stu-id="6b252-107">In a write-enabled dimension, business users and administrators can change, move, add, and delete attribute members within the dimension.</span></span> <span data-ttu-id="6b252-108">这些更新统称为*维度写回*。</span><span class="sxs-lookup"><span data-stu-id="6b252-108">These updates are referred to collectively as *dimension writeback*.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="6b252-109">支持对所有维度属性的维度写回，维度的任何成员均可修改。</span><span class="sxs-lookup"><span data-stu-id="6b252-109">supports dimension writeback on all dimension attributes and any member of a dimension may be modified.</span></span> <span data-ttu-id="6b252-110">对于启用写操作的多维数据集或分区，更新存储在独立于多维数据集的源表的写回表中。</span><span class="sxs-lookup"><span data-stu-id="6b252-110">For a write-enabled cube or partition, updates are stored in a writeback table separate from the cube's source tables.</span></span> <span data-ttu-id="6b252-111">不过，对于启用写操作的维度，更新直接记录在维度的表中。</span><span class="sxs-lookup"><span data-stu-id="6b252-111">However, for a write-enabled dimension, updates are recorded directly in the dimension's table.</span></span> <span data-ttu-id="6b252-112">同样，如果启用写操作的维度包括在具有多个分区的多维数据集中（其中，某些数据源或所有数据源具有维度表的副本），则在写回过程中只更新原始维度表。</span><span class="sxs-lookup"><span data-stu-id="6b252-112">Also, if the write-enabled dimension is included in a cube with multiple partitions where some or all their data sources have copies of the dimension table, only the original dimension table is updated during a writeback process.</span></span>  
  
 <span data-ttu-id="6b252-113">启用写操作的维度和启用写操作的多维数据集拥有互不相同而又相互补充的功能。</span><span class="sxs-lookup"><span data-stu-id="6b252-113">Write-enabled dimensions and write-enabled cubes have different but complementary features.</span></span> <span data-ttu-id="6b252-114">启用写操作的维度使业务用户可以更新成员，而启用写操作的多维数据集则使业务用户可以更新单元值。</span><span class="sxs-lookup"><span data-stu-id="6b252-114">A write-enabled dimension gives business users the ability to update members, whereas a write-enabled cube gives them the ability to update cell values.</span></span> <span data-ttu-id="6b252-115">虽然这两个功能是互补的，但您不必同时使用它们。</span><span class="sxs-lookup"><span data-stu-id="6b252-115">Although these two features are complementary, you do not have to use both features in combination.</span></span> <span data-ttu-id="6b252-116">维度不必包括在多维数据集中即可进行维度写回。</span><span class="sxs-lookup"><span data-stu-id="6b252-116">A dimension does not have to be included in a cube for dimension writeback to occur.</span></span> <span data-ttu-id="6b252-117">启用写操作的维度也可以包括在没有启用写操作的多维数据集中。</span><span class="sxs-lookup"><span data-stu-id="6b252-117">A write-enabled dimension can also be included in a cube that is not write-enabled.</span></span> <span data-ttu-id="6b252-118">可使用不同的过程对维度和多维数据集启用写操作和维护它们的安全性。</span><span class="sxs-lookup"><span data-stu-id="6b252-118">You use different procedures to write-enable dimensions and cubes, and to maintain their security.</span></span>  
  
 <span data-ttu-id="6b252-119">对维度写回具有下列限制：</span><span class="sxs-lookup"><span data-stu-id="6b252-119">The following restrictions apply to dimension writeback:</span></span>  
  
-   <span data-ttu-id="6b252-120">创建新成员时，必须包括维度中的所有属性。</span><span class="sxs-lookup"><span data-stu-id="6b252-120">When you create a new member, you must include every attribute in a dimension.</span></span> <span data-ttu-id="6b252-121">您不能插入未指定维度的键属性值的成员。</span><span class="sxs-lookup"><span data-stu-id="6b252-121">You cannot insert a member without specifying a value for the key attribute of the dimension.</span></span> <span data-ttu-id="6b252-122">因此，创建成员时，应服从对维度表定义的任何约束（例如，非空键值）。</span><span class="sxs-lookup"><span data-stu-id="6b252-122">Therefore, creating members is subject to any constraints (such as non-null key values) that are defined on the dimension table.</span></span>  
  
-   <span data-ttu-id="6b252-123">只对星型架构支持维度写回。</span><span class="sxs-lookup"><span data-stu-id="6b252-123">Dimension writeback is supported only for star schemas.</span></span> <span data-ttu-id="6b252-124">也就是说，维度必须基于与事实数据表直接相关的单个维度表。</span><span class="sxs-lookup"><span data-stu-id="6b252-124">In other words, a dimension must be based on a single dimension table directly related to a fact table.</span></span> <span data-ttu-id="6b252-125">对维度启用写操作后，当您部署到现有 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库或生成 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目时，[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 将验证此要求。</span><span class="sxs-lookup"><span data-stu-id="6b252-125">After you write-enable a dimension, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] validates this requirement when you deploy to an existing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database or when you build an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project.</span></span>  
  
 <span data-ttu-id="6b252-126">可以修改或删除写回维度的任何现有成员。</span><span class="sxs-lookup"><span data-stu-id="6b252-126">Any existing member of a writeback dimension can be modified or deleted.</span></span> <span data-ttu-id="6b252-127">删除成员时，删除操作将级联到所有子成员。</span><span class="sxs-lookup"><span data-stu-id="6b252-127">When a member is deleted, the deletion cascades to all child members.</span></span> <span data-ttu-id="6b252-128">例如，在包含“国家（地区）”、“省市自治区”、“市县”和“客户”属性的“客户”维度中，删除某一国家（地区）时，将同时删除隶属该国家（地区）的所有省市自治区、市县和客户。</span><span class="sxs-lookup"><span data-stu-id="6b252-128">For example, in a Customer dimension that contains CountryRegion, Province, City, and Customer attributes, deleting a country/region would delete all provinces, cities, and customers that belong to the deleted country/region.</span></span> <span data-ttu-id="6b252-129">如果某一国家（地区）只有一个省市自治区，则删除省市自治区时也会删除该国家（地区）。</span><span class="sxs-lookup"><span data-stu-id="6b252-129">If a country/region has only one province, deleting that province would delete the country/region also.</span></span>  
  
 <span data-ttu-id="6b252-130">写回维度的成员只能在同一个级别内移动。</span><span class="sxs-lookup"><span data-stu-id="6b252-130">Members of a writeback dimension can only be moved within the same level.</span></span> <span data-ttu-id="6b252-131">例如，市县可以移到另一个国家（地区）或省市自治区的“市县”级别，但市县不能移到“省市自治区”或“国家（地区）”级别。</span><span class="sxs-lookup"><span data-stu-id="6b252-131">For example, a city could be moved to the City level in a different country/region or province, but a city cannot be moved to the Province or CountryRegion level.</span></span> <span data-ttu-id="6b252-132">在父子层次结构中，所有成员都是叶成员，因此，成员可以移到除 `(All)` 级别之外的任何级别。</span><span class="sxs-lookup"><span data-stu-id="6b252-132">In a parent-child hierarchy, all members are leaf members, and therefore a member may be moved to any level other than the `(All)` level.</span></span>  
  
 <span data-ttu-id="6b252-133">如果删除父子层次结构的某个成员，则该成员的子级便会移到其父级。</span><span class="sxs-lookup"><span data-stu-id="6b252-133">If a member of a parent-child hierarchy is deleted, the member's children are moved to the member's parent.</span></span> <span data-ttu-id="6b252-134">对于关系表中删除的成员，需要具有更新权限，但是对于移动的成员则不需要任何权限。</span><span class="sxs-lookup"><span data-stu-id="6b252-134">Update permissions on the relational table are required on the deleted member, but no permissions are required on the moved members.</span></span> <span data-ttu-id="6b252-135">当应用程序移动父子层次结构中的某一成员时，其可在 UPDATE 操作中指定该成员的后代是一起移动，还是移到该成员的父级。</span><span class="sxs-lookup"><span data-stu-id="6b252-135">When an application moves a member in a parent-child hierarchy, the application can specify in the UPDATE operation whether descendents of the member are moved with the member or are moved to the member's parent.</span></span> <span data-ttu-id="6b252-136">若要以递归方式删除父子层次结构中的成员，则用户必须对关系表中该成员及其所有后代具有更新权限。</span><span class="sxs-lookup"><span data-stu-id="6b252-136">To recursively delete a member in a parent-child hierarchy, a user must have update permissions on the relational table for the member and all the member's descendants.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6b252-137">对父子层次结构中的父特性的更新一定不能包括对任何其他属性或特性的更新。</span><span class="sxs-lookup"><span data-stu-id="6b252-137">Updates to the parent attribute in a parent-child hierarchy must not include updates to any other properties or attributes.</span></span>  
  
 <span data-ttu-id="6b252-138">对维度进行的所有更改将会修改维度结构。</span><span class="sxs-lookup"><span data-stu-id="6b252-138">All changes to a dimension cause the dimension structure to be modified.</span></span> <span data-ttu-id="6b252-139">对维度的每个更改被视为单个事务，需要增量处理来更新维度结构。</span><span class="sxs-lookup"><span data-stu-id="6b252-139">Each change to a dimension is considered a single transaction, requiring incremental processing to update the dimension structure.</span></span> <span data-ttu-id="6b252-140">启用写操作的维度具有与任何其他维度相同的处理要求。</span><span class="sxs-lookup"><span data-stu-id="6b252-140">Write-enabled dimensions have the same processing requirements as any other dimension.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6b252-141">链接维度不支持维度写回。</span><span class="sxs-lookup"><span data-stu-id="6b252-141">Dimension writeback is not supported by linked dimensions.</span></span>  
  
## <a name="security"></a><span data-ttu-id="6b252-142">安全性</span><span class="sxs-lookup"><span data-stu-id="6b252-142">Security</span></span>  
 <span data-ttu-id="6b252-143">只有那些在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库角色中被授予对维度的读/写权限的业务用户，才可以更新启用写操作的维度。</span><span class="sxs-lookup"><span data-stu-id="6b252-143">The only business users who can update a write-enabled dimension are those in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database roles that have been granted read/write permission to the dimension.</span></span> <span data-ttu-id="6b252-144">对于每个角色，均可控制哪些成员可以更新，哪些成员不能更新。</span><span class="sxs-lookup"><span data-stu-id="6b252-144">For each role, you can control which members can and cannot be updated.</span></span> <span data-ttu-id="6b252-145">要使业务用户能更新启用写操作的维度，其客户端应用程序必须支持此功能。</span><span class="sxs-lookup"><span data-stu-id="6b252-145">For business users to update write-enabled dimensions, their client application must support this capability.</span></span> <span data-ttu-id="6b252-146">对于这些用户，启用写操作的维度必须包括在自上次更改维度以来处理过的多维数据集中。</span><span class="sxs-lookup"><span data-stu-id="6b252-146">For such users, a write-enabled dimension must be included in a cube that was processed since the dimension last changed.</span></span> <span data-ttu-id="6b252-147">有关详细信息，请参阅[授予对对象和操作的访问权限 (Analysis Services)](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="6b252-147">For more information, see [Authorizing access to objects and operations &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md).</span></span>  
  
 <span data-ttu-id="6b252-148">包括在“管理员”角色中的用户和组可更新启用写操作的维度的属性成员，即使维度不包括在多维数据集中也是如此。</span><span class="sxs-lookup"><span data-stu-id="6b252-148">Users and groups included in the Administrators role can update the attribute members of a write-enabled dimension, even if the dimension is not included in a cube.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6b252-149">另请参阅</span><span class="sxs-lookup"><span data-stu-id="6b252-149">See Also</span></span>  
 <span data-ttu-id="6b252-150">[数据库维度属性](database-dimension-properties.md) </span><span class="sxs-lookup"><span data-stu-id="6b252-150">[Database Dimension Properties](database-dimension-properties.md) </span></span>  
 <span data-ttu-id="6b252-151">[启用写入的分区](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span><span class="sxs-lookup"><span data-stu-id="6b252-151">[Write-Enabled Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span></span>  
 [<span data-ttu-id="6b252-152">维度（Analysis Services - 多维数据）</span><span class="sxs-lookup"><span data-stu-id="6b252-152">Dimensions &#40;Analysis Services - Multidimensional Data&#41;</span></span>](dimensions-analysis-services-multidimensional-data.md)  
  
  
