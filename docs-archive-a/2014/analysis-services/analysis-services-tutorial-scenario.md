---
title: Analysis Services 教程方案 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 2f5b1a42-b814-4d7d-b603-5383d9ac66b9
author: minewiskan
ms.author: owend
ms.openlocfilehash: add9065990881ea4629b34e37ca84831de4b87c4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87579386"
---
# <a name="analysis-services-tutorial-scenario"></a><span data-ttu-id="bfc6d-102">Analysis Services 教程方案</span><span class="sxs-lookup"><span data-stu-id="bfc6d-102">Analysis Services Tutorial Scenario</span></span>
  <span data-ttu-id="bfc6d-103">本教程基于 [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)]，这是一家虚构的公司。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-103">This tutorial is based on [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)], a fictitious company.</span></span> [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] <span data-ttu-id="bfc6d-104">是一家大型跨国制造公司，生产金属复合材料的自行车，产品远销北美、欧洲和亚洲市场。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-104">is a large, multinational manufacturing company that produces and distributes metal and composite bicycles to commercial markets in North America, Europe, and Asia.</span></span> <span data-ttu-id="bfc6d-105">[!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] 公司总部设在华盛顿州的伯瑟尔市，雇佣了 500 名工人。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-105">The headquarters for [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] is Bothell, Washington, where the company employs 500 workers.</span></span> <span data-ttu-id="bfc6d-106">此外，在 [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] 市场中还活跃着一些地区销售团队。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-106">Additionally, [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] employs several regional sales teams throughout its market base.</span></span>  
  
 <span data-ttu-id="bfc6d-107">在最近几年中， [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] 购买了位于墨西哥的小型生产厂 Importadores Neptuno。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-107">In recent years, [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] bought a small manufacturing plant, Importadores Neptuno, which is located in Mexico.</span></span> <span data-ttu-id="bfc6d-108">Importadores Neptuno 为 [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] 产品系列生产多种关键子组件。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-108">Importadores Neptuno manufactures several critical subcomponents for the [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] product line.</span></span> <span data-ttu-id="bfc6d-109">这些子组件将被运送到伯瑟尔市进行最后的产品装配。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-109">These subcomponents are shipped to the Bothell location for final product assembly.</span></span> <span data-ttu-id="bfc6d-110">在 2005 年，Importadores Neptuno 转型成为专注于旅游登山车系列产品的独立制造商和销售商。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-110">In 2005, Importadores Neptuno became the sole manufacturer and distributor of the touring bicycle product group.</span></span>  
  
 <span data-ttu-id="bfc6d-111">实现一个成功的会计年度之后， [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] 现在希望通过以下方法扩大市场份额：专注于向高端客户提供产品、通过外部网站扩展其产品的销售渠道、通过降低生产成本来削减其销售成本。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-111">Following a successful fiscal year, [!INCLUDE[ssSampleDBCoFull](../includes/sssampledbcofull-md.md)] now wants to broaden its market share by targeting advertising to its best customers, extending product availability through an external Web site, and reducing the cost of sales by reducing production costs.</span></span>  
  
## <a name="current-analysis-environment"></a><span data-ttu-id="bfc6d-112">当前分析环境</span><span class="sxs-lookup"><span data-stu-id="bfc6d-112">Current Analysis Environment</span></span>  
 <span data-ttu-id="bfc6d-113">为了支持销售和营销团队以及高级管理人员的数据分析需要，公司当前从 [!INCLUDE[ssSampleDBnormal](../includes/sssampledbnormal-md.md)] 数据库中提取事务数据，从电子表格中提取诸如销售配额之类的非事务信息，并将这些信息合并到 **AdventureWorksDW2012** 关系数据仓库。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-113">To support the data analysis needs of the sales and marketing teams and of senior management, the company currently takes transactional data from the [!INCLUDE[ssSampleDBnormal](../includes/sssampledbnormal-md.md)] database, and non-transactional information such as sales quotas from spreadsheets, and consolidates this information into the **AdventureWorksDW2012** relational data warehouse.</span></span> <span data-ttu-id="bfc6d-114">但是，关系数据仓库存在下列问题：</span><span class="sxs-lookup"><span data-stu-id="bfc6d-114">However, the relational data warehouse presents the following challenges:</span></span>  
  
-   <span data-ttu-id="bfc6d-115">报表是静态的。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-115">Reports are static.</span></span> <span data-ttu-id="bfc6d-116">用户无法通过交互方式探测报表中的数据以获取更详细的信息，例如他们可以处理 [!INCLUDE[msCoName](../includes/msconame-md.md)] Office Excel 透视表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-116">Users have no way to interactively explore the data in the reports to obtain more detailed information, such as they could do with a [!INCLUDE[msCoName](../includes/msconame-md.md)] Office Excel pivot table.</span></span> <span data-ttu-id="bfc6d-117">虽然现有的一组预定义报表足以供许多用户使用，但更高级的用户却需要对数据库进行直接查询访问，以进行交互式查询和访问专用报表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-117">Although the existing set of predefined reports is sufficient for many users, more advanced users need direct query access to the database for interactive queries and specialized reports.</span></span> <span data-ttu-id="bfc6d-118">但是，由于**AdventureWorksDW2012**数据库的复杂性，此类用户需要花费太多时间来了解如何创建有效查询。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-118">However, because of the complexity of the **AdventureWorksDW2012** database, too much time is needed for such users to learn how to create effective queries.</span></span>  
  
-   <span data-ttu-id="bfc6d-119">查询性能差异很大。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-119">Query performance is widely variable.</span></span> <span data-ttu-id="bfc6d-120">例如，有些查询只需几秒钟便可非常迅速地返回结果，而另一些查询需要几分钟才能返回结果。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-120">For example, some queries return results very quickly, in only a few seconds, while other queries take several minutes to return.</span></span>  
  
-   <span data-ttu-id="bfc6d-121">聚合表难以管理。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-121">Aggregate tables are difficult to manage.</span></span> <span data-ttu-id="bfc6d-122">在尝试缩短查询响应时间方面， [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] 数据仓库团队已在 **AdventureWorksDW2012** 数据库中生成几种聚合表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-122">In an attempt to improve query response times, the data warehouse team at [!INCLUDE[ssSampleDBCoShort](../includes/sssampledbcoshort-md.md)] built several aggregate tables in the **AdventureWorksDW2012** database.</span></span> <span data-ttu-id="bfc6d-123">例如，他们生成了一种按月汇总销售额的表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-123">For example, they built a table that summarizes sales by month.</span></span> <span data-ttu-id="bfc6d-124">然而，尽管这些聚合表可显著提高查询性能，但是，他们所生成的用于在一段时间内维护这些表的基础结构却容易破坏并出现错误。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-124">However, while these aggregate tables greatly improve query performance, the infrastructure that they built to maintain the tables over time is fragile and prone to errors.</span></span>  
  
-   <span data-ttu-id="bfc6d-125">复杂的计算逻辑隐藏在报表定义中，所以很难在报表之间共享。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-125">Complex calculation logic is buried in report definitions and is difficult to share between reports.</span></span> <span data-ttu-id="bfc6d-126">由于这种业务逻辑针对每个报表单独生成，因此，各个报表的汇总信息有时是不同的。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-126">Because this business logic is generated separately for each report, summary information sometimes is different between reports.</span></span> <span data-ttu-id="bfc6d-127">所以，管理人员对数据仓库报表数据的信任度是有限的。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-127">Therefore, management has limited confidence in the data warehouse reports.</span></span>  
  
-   <span data-ttu-id="bfc6d-128">用户所在的业务部门不同，其感兴趣的数据视图也不同。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-128">Users in different business units are interested in different views of the data.</span></span> <span data-ttu-id="bfc6d-129">每个组都很难理解与其不相关的数据元素。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-129">Each group is distracted and confused by data elements that are irrelevant to them.</span></span>  
  
-   <span data-ttu-id="bfc6d-130">对于需要专用报表的用户而言，计算逻辑非常具有挑战性。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-130">Calculation logic is particularly challenging for users who need specialized reports.</span></span> <span data-ttu-id="bfc6d-131">由于这类用户必须为每个报表单独定义计算逻辑，因此，无法对如何定义计算逻辑进行集中控制。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-131">Because such users must define the calculation logic separately for each report, there is no centralized control over how the calculation logic is defined.</span></span> <span data-ttu-id="bfc6d-132">例如，有些用户知道他们应使用基本统计技术（如移动平均值），但他们却不知道如何构建此类计算，因而也就无从使用这些技术。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-132">For example, some users know that they should use basic statistical techniques such as moving averages, but they do not know how to construct such calculations and so do not use these techniques.</span></span>  
  
-   <span data-ttu-id="bfc6d-133">组合相关的信息集时存在难度。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-133">It is difficult to combine related sets of information.</span></span> <span data-ttu-id="bfc6d-134">业务用户很难构造一些专用查询，以组合两个相关的信息集（如销售额和销售配额）。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-134">Specialized queries that combine two sets of related information, such as sales and sales quotas, are difficult for business users to construct.</span></span> <span data-ttu-id="bfc6d-135">此类查询会占用大量的数据库空间，因此，公司要求用户向数据仓库团队请求跨主题区域的数据集。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-135">Such queries overwhelmed the database, so the company requires that users request cross-subject-area sets of data from the data warehouse team.</span></span> <span data-ttu-id="bfc6d-136">因此，仅定义了少数预定义报表，这些报表可以用于组合来自多个主题区域的数据。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-136">As a result, only a handful of predefined reports have been defined that combine data from multiple subject areas.</span></span> <span data-ttu-id="bfc6d-137">此外，由于这些报表非常复杂，因此用户不愿尝试修改这些报表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-137">Additionally, users are reluctant to try to modify these reports because of their complexity.</span></span>  
  
-   <span data-ttu-id="bfc6d-138">报表主要提供美国的业务信息。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-138">Reports are focused primarily on business information in the United States.</span></span> <span data-ttu-id="bfc6d-139">非美国分公司的用户非常不满意只提供美国的业务信息，他们希望能够查看不同货币和不同语言的报表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-139">Users in the non-U.S. subsidiaries are very dissatisfied with this focus, and want to be able to view reports in different currencies and different languages.</span></span>  
  
-   <span data-ttu-id="bfc6d-140">信息难以审核。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-140">Information is difficult to audit.</span></span> <span data-ttu-id="bfc6d-141">财务部门当前仅将 **AdventureWorksDW2012** 数据库用作从中进行大容量查询的数据源。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-141">The Finance department currently uses the **AdventureWorksDW2012** database only as a source of data from which to query in bulk.</span></span> <span data-ttu-id="bfc6d-142">然后，再将数据下载到单个电子表格中，并花费大量时间准备数据和处理电子表格。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-142">They then download the data into individual spreadsheets, and spend significant time preparing the data and manipulating the spreadsheets.</span></span> <span data-ttu-id="bfc6d-143">因此，很难在整个公司内准备、审核和管理公司财务报表。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-143">The corporate financial reports are therefore difficult to prepare, audit, and manage across the company.</span></span>  
  
## <a name="the-solution"></a><span data-ttu-id="bfc6d-144">解决方案</span><span class="sxs-lookup"><span data-stu-id="bfc6d-144">The Solution</span></span>  
 <span data-ttu-id="bfc6d-145">数据仓库团队最近对当前分析系统执行了设计评审。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-145">The data warehouse team recently performed a design review of the current analysis system.</span></span> <span data-ttu-id="bfc6d-146">评审包括当前问题和未来需求之间的差距分析。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-146">The review included a gap analysis of current issues and future demands.</span></span> <span data-ttu-id="bfc6d-147">数据仓库团队已确定 **AdventureWorksDW2012** 数据库是一个设计良好的维度数据库，具有相符的维度和代理键。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-147">The data warehouse team determined that the **AdventureWorksDW2012** database is a well-designed dimensional database with conformed dimensions and surrogate keys.</span></span> <span data-ttu-id="bfc6d-148">相符的维度可使某个维度用于多个数据集市中，例如时间维度或产品维度。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-148">Conformed dimensions enable a dimension to be used in multiple data marts, such as a time dimension or a product dimension.</span></span> <span data-ttu-id="bfc6d-149">代理键是链接维度表和事实数据表的假键，用于确保唯一性并提高性能。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-149">Surrogate keys are artificial keys that link dimension and fact tables and that are used to ensure uniqueness and to improve performance.</span></span> <span data-ttu-id="bfc6d-150">此外，数据仓库团队已确定当前在加载和管理 **AdventureWorksDW2012** 数据库中的基表方面没有重大问题。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-150">Moreover, the data warehouse team determined that there currently are no significant problems with the loading and management of the base tables in the **AdventureWorksDW2012** database.</span></span> <span data-ttu-id="bfc6d-151">因此，该团队已决定使用 [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 来完成以下操作：</span><span class="sxs-lookup"><span data-stu-id="bfc6d-151">The team has therefore decided to use [!INCLUDE[msCoName](../includes/msconame-md.md)] [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] to accomplish the following:</span></span>  
  
-   <span data-ttu-id="bfc6d-152">通过一个通用的元数据层提供统一的数据访问以进行分析和报告。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-152">Provide unified data access through a common metadata layer for analytical analysis and reporting.</span></span>  
  
-   <span data-ttu-id="bfc6d-153">简化用户的数据视图，从而加速交互式查询、预定义查询以及预定义报表的开发。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-153">Simplify users' view of data, speeding the development of both interactive and predefined queries and predefined reports.</span></span>  
  
-   <span data-ttu-id="bfc6d-154">正确构造可组合来自多个主题区域的数据的查询。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-154">Correctly construct queries that combine data from multiple subject areas.</span></span>  
  
-   <span data-ttu-id="bfc6d-155">管理聚合。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-155">Manage aggregates.</span></span>  
  
-   <span data-ttu-id="bfc6d-156">存储和重用复杂的计算。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-156">Store and reuse complex calculations.</span></span>  
  
-   <span data-ttu-id="bfc6d-157">为美国以外的业务用户提供本地化体验。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-157">Present a localized experience to business users outside the United States.</span></span>  
  
 <span data-ttu-id="bfc6d-158">Analysis Services 教程中的课程提供生成满足上述所有目标的多维数据集数据库的指南。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-158">The lessons in the Analysis Services tutorial provide guidance in building a cube database that meets all of these goals.</span></span> <span data-ttu-id="bfc6d-159">若要开始，请继续第一课： [第 1 课：创建新的表格模型项目](lesson-1-create-a-new-tabular-model-project.md)。</span><span class="sxs-lookup"><span data-stu-id="bfc6d-159">To get started, continue to the first lesson: [Lesson 1: Create a New Tabular Model Project](lesson-1-create-a-new-tabular-model-project.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bfc6d-160">另请参阅</span><span class="sxs-lookup"><span data-stu-id="bfc6d-160">See Also</span></span>  
 [<span data-ttu-id="bfc6d-161">多维建模（Adventure Works 教程）</span><span class="sxs-lookup"><span data-stu-id="bfc6d-161">Multidimensional Modeling &#40;Adventure Works Tutorial&#41;</span></span>](multidimensional-modeling-adventure-works-tutorial.md)  
  
  
