---
title: 使用现有表创建维度 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- hierarchies [Analysis Services], dimensions
- main dimension tables
- dimensions [Analysis Services], standard
- standard dimensions [Analysis Services]
ms.assetid: edd96fbe-1b1c-445a-95d6-7a025e0ee868
author: minewiskan
ms.author: owend
ms.openlocfilehash: 42b236275a6e1543ec0b63cc09a9a1bc06b781f5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691962"
---
# <a name="create-a-dimension-by-using-an-existing-table"></a><span data-ttu-id="5f503-102">使用现有表创建维度</span><span class="sxs-lookup"><span data-stu-id="5f503-102">Create a Dimension by Using an Existing Table</span></span>
  <span data-ttu-id="5f503-103">在中 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ，您可以使用中的维度向导， [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 通过现有表创建维度。</span><span class="sxs-lookup"><span data-stu-id="5f503-103">In [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can use the Dimension Wizard in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] to create a dimension from an existing table.</span></span> <span data-ttu-id="5f503-104">在维度向导的 **“选择创建方法”** 页上选择 **“使用现有表”** 选项可执行此操作。</span><span class="sxs-lookup"><span data-stu-id="5f503-104">You do this by selecting the **Use an existing table** option on the **Select Creation Method** page of the wizard.</span></span> <span data-ttu-id="5f503-105">选择此选项后，向导将基于现有数据源视图中的维度表、维度表中的列以及表中各列之间的任何关系构建维度结构。</span><span class="sxs-lookup"><span data-stu-id="5f503-105">If you select this option, the wizard bases the dimension structure on the dimension tables, their columns, and any relationships between those columns in an existing data source view.</span></span> <span data-ttu-id="5f503-106">该向导从源表和相关表中抽取样本数据。</span><span class="sxs-lookup"><span data-stu-id="5f503-106">The wizard samples the data in the source table and related tables.</span></span> <span data-ttu-id="5f503-107">此数据用于定义基于维度表中的列的属性列，以及定义属性的层次结构（称为“用户定义”\*\* 的层次结构）。</span><span class="sxs-lookup"><span data-stu-id="5f503-107">It uses this data to define attribute columns that are based on the columns in the dimension tables, and to define hierarchies of attributes (called *user-defined* hierarchies).</span></span> <span data-ttu-id="5f503-108">使用维度向导创建维度后，可以使用维度设计器来添加、删除和配置维度中的属性和层次结构。</span><span class="sxs-lookup"><span data-stu-id="5f503-108">After you use the Dimension Wizard to create your dimension, you can use Dimension Designer to add, remove, and configure attributes and hierarchies in the dimension.</span></span>  
  
 <span data-ttu-id="5f503-109">如果您要使用现有表来创建维度，则维度向导将指导您执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="5f503-109">When you are using an existing table to create a dimension, the Dimension Wizard guides you through the following:</span></span>  
  
-   <span data-ttu-id="5f503-110">指定源信息</span><span class="sxs-lookup"><span data-stu-id="5f503-110">Specifying the source information</span></span>  
  
-   <span data-ttu-id="5f503-111">选择相关表</span><span class="sxs-lookup"><span data-stu-id="5f503-111">Selecting related tables</span></span>  
  
-   <span data-ttu-id="5f503-112">选择维度属性</span><span class="sxs-lookup"><span data-stu-id="5f503-112">Selecting dimension attributes</span></span>  
  
-   <span data-ttu-id="5f503-113">定义帐户智能</span><span class="sxs-lookup"><span data-stu-id="5f503-113">Defining account intelligence</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5f503-114">有关与本主题中信息对应的分步说明，请参阅 [使用维度向导创建维度](create-a-dimension-using-the-dimension-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="5f503-114">For the step-by-step instructions that correspond to the information presented in this topic, see [Create a Dimension Using the Dimension Wizard](create-a-dimension-using-the-dimension-wizard.md).</span></span>  
  
## <a name="specifying-the-source-information"></a><span data-ttu-id="5f503-115">指定源信息</span><span class="sxs-lookup"><span data-stu-id="5f503-115">Specifying the Source Information</span></span>  
 <span data-ttu-id="5f503-116">可在 **“指定源信息”** 页上指定源信息。</span><span class="sxs-lookup"><span data-stu-id="5f503-116">You specify the source information on the **Specify Source Information** page.</span></span> <span data-ttu-id="5f503-117">首先应选择数据源视图，该数据源视图包含维度将基于的表。</span><span class="sxs-lookup"><span data-stu-id="5f503-117">You begin this process by selecting the data source view that contains the table on which you want the dimension to be based.</span></span> <span data-ttu-id="5f503-118">然后为要定义的维度指定主维度表。</span><span class="sxs-lookup"><span data-stu-id="5f503-118">You then specify the main dimension table for the dimension that you are defining.</span></span> <span data-ttu-id="5f503-119">主维度表是直接链接到事实数据表的表。</span><span class="sxs-lookup"><span data-stu-id="5f503-119">The main dimension table is the table that is directly linked to the fact table.</span></span> <span data-ttu-id="5f503-120">例如，指定 Product 表作为“产品”维度的主表，或为“雇员”维度指定 Employee 表。</span><span class="sxs-lookup"><span data-stu-id="5f503-120">For example, specify a Product table as the main table for a Products dimension, or an Employee table for an Employees dimension.</span></span> <span data-ttu-id="5f503-121">向导会自动选择基于数据源视图中主键的键列。</span><span class="sxs-lookup"><span data-stu-id="5f503-121">The wizard automatically selects a key column that is based on the primary key in the data source view.</span></span> <span data-ttu-id="5f503-122">不过，您可以根据需要更改键列。</span><span class="sxs-lookup"><span data-stu-id="5f503-122">However, you can change the key column as appropriate.</span></span> <span data-ttu-id="5f503-123">键列确定维度的成员。</span><span class="sxs-lookup"><span data-stu-id="5f503-123">The key column determines the members of the dimension.</span></span> <span data-ttu-id="5f503-124">例如，将 ProductKey 定义为“产品”维度的键列。</span><span class="sxs-lookup"><span data-stu-id="5f503-124">For example, you would define ProductKey as the key column for a Product dimension.</span></span>  
  
 <span data-ttu-id="5f503-125">可以选择定义包含成员名称的列。</span><span class="sxs-lookup"><span data-stu-id="5f503-125">Optionally, you can define a column that contains the member name.</span></span> <span data-ttu-id="5f503-126">默认情况下，向用户显示的成员名称是来自键列的值。</span><span class="sxs-lookup"><span data-stu-id="5f503-126">By default, the member name that will be displayed to users is the value from the key column.</span></span> <span data-ttu-id="5f503-127">键列中的值（例如 ProductID 或 EmployeeID）通常是系统生成的唯一键，对用户而言毫无意义。</span><span class="sxs-lookup"><span data-stu-id="5f503-127">The values in a key column, such as ProductID or EmployeeID, are often unique, system-generated keys that are meaningless to the user.</span></span> <span data-ttu-id="5f503-128">如果您将向用户显示的名称更改为维度中其他列的相应值，则这通常可以向用户提供更有意义的信息。</span><span class="sxs-lookup"><span data-stu-id="5f503-128">You can often provide more meaningful information to the user if you change the name that users see to a corresponding value in some other column in the dimension.</span></span> <span data-ttu-id="5f503-129">例如，可以定义包含产品名称或雇员姓名的成员名称列。</span><span class="sxs-lookup"><span data-stu-id="5f503-129">For example, you can define a member name column that contains product or employee names.</span></span> <span data-ttu-id="5f503-130">如果更改成员名称，则用户将看到更具说明性的名称，但是查询仍将使用键列值，以正确区分使用相同名称的成员。</span><span class="sxs-lookup"><span data-stu-id="5f503-130">If you change the member name, users see a more descriptive name, but queries still use the key column values to correctly distinguish members that share the same name.</span></span> <span data-ttu-id="5f503-131">如果为键列指定组合键，还必须指定为键属性提供成员值的列。</span><span class="sxs-lookup"><span data-stu-id="5f503-131">If you specify a composite key for the key column, you must also specify the column that provides the member values for the key attribute.</span></span> <span data-ttu-id="5f503-132">有关如何配置特性属性的详细信息，请参阅 [维度特性属性参考](dimension-attribute-properties-reference.md)。</span><span class="sxs-lookup"><span data-stu-id="5f503-132">For more information about how to configure attribute properties, see [Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md).</span></span>  
  
## <a name="selecting-related-tables"></a><span data-ttu-id="5f503-133">选择相关表</span><span class="sxs-lookup"><span data-stu-id="5f503-133">Selecting Related Tables</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5f503-134">如果主维度表与其他维度表之间没有在数据源视图中定义的任何关系，则向导将跳过此步骤。</span><span class="sxs-lookup"><span data-stu-id="5f503-134">The wizard skips this step if the main dimension table has no relationships defined in the data source view to other dimension tables.</span></span>  
  
 <span data-ttu-id="5f503-135">若要生成雪花型维度，请在 **“选择相关表”** 页中指定从中定义其他属性的相关表。</span><span class="sxs-lookup"><span data-stu-id="5f503-135">If you are building a snowflake dimension, you specify the related tables from which additional attributes will be defined on the **Select Related Tables** page.</span></span> <span data-ttu-id="5f503-136">例如，生成要在其中定义客户所在地域表的客户维度。</span><span class="sxs-lookup"><span data-stu-id="5f503-136">For example, you are building a customer dimension in which you want to define a customer geography table.</span></span> <span data-ttu-id="5f503-137">在这种情况下，可以将地域表定义为相关表。</span><span class="sxs-lookup"><span data-stu-id="5f503-137">In this case, you might define a geography table as a related table.</span></span>  
  
## <a name="selecting-dimension-attributes"></a><span data-ttu-id="5f503-138">选择维度属性</span><span class="sxs-lookup"><span data-stu-id="5f503-138">Selecting Dimension Attributes</span></span>  
 <span data-ttu-id="5f503-139">选择维度表后，可以使用 **“选择维度属性”** 页来基于这些表选择要包含在维度中的属性。</span><span class="sxs-lookup"><span data-stu-id="5f503-139">After selecting the dimension tables, you use the **Select Dimension Attributes** page to select the attributes that you want to include in the dimension from these tables.</span></span> <span data-ttu-id="5f503-140">所有这些表中的全部基础列都可用作潜在维度属性。</span><span class="sxs-lookup"><span data-stu-id="5f503-140">All of the underlying columns from all these tables are available as potential dimension attributes.</span></span> <span data-ttu-id="5f503-141">必须选择并启用维度键属性才能进行浏览。</span><span class="sxs-lookup"><span data-stu-id="5f503-141">The dimension key attribute must be selected and enabled for browsing.</span></span>  
  
 <span data-ttu-id="5f503-142">默认情况下，向导将属性类型设置为 `Regular`。</span><span class="sxs-lookup"><span data-stu-id="5f503-142">By default, the wizard sets the type of an attribute to `Regular`.</span></span> <span data-ttu-id="5f503-143">不过，您可能希望将特定属性映射到另一种可更好地表达数据的属性类型。</span><span class="sxs-lookup"><span data-stu-id="5f503-143">However, you might want to map specific attributes to a different attribute type that better represents the data.</span></span> <span data-ttu-id="5f503-144">例如， [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] DW 示例数据库中的 dbo.DimAccount 表包含提供帐号的 AccountCodeAlternateKey 列。</span><span class="sxs-lookup"><span data-stu-id="5f503-144">For example, the dbo.DimAccount table in the [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] DW sample database contains an AccountCodeAlternateKey column that provides the account number.</span></span> <span data-ttu-id="5f503-145">`Regular`你可能希望将此属性映射到类型，而不是将此属性的类型设置为 `Account Number` 。</span><span class="sxs-lookup"><span data-stu-id="5f503-145">Instead of setting the type to `Regular` for this attribute, you might want to map this attribute to the `Account Number` type.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5f503-146">如果创建维度时没有设置维度类型和标准属性类型，则在创建维度后可使用商业智能向导设置这些值。</span><span class="sxs-lookup"><span data-stu-id="5f503-146">If the dimension type and standard attribute types are not set when you create the dimension, use the Business Intelligence Wizard to set these values after you create the dimension.</span></span> <span data-ttu-id="5f503-147">有关详细信息，请参阅 [向维度中添加维度智能](bi-wizard-add-dimension-intelligence-to-a-dimension.md) 或（对账户类型维度而言） [向维度中添加帐户智能](bi-wizard-add-account-intelligence-to-a-dimension.md)。</span><span class="sxs-lookup"><span data-stu-id="5f503-147">For more information, see [Add Dimension Intelligence to a Dimension](bi-wizard-add-dimension-intelligence-to-a-dimension.md) or (for an Accounts type dimension) [Add Account Intelligence to a Dimension](bi-wizard-add-account-intelligence-to-a-dimension.md).</span></span>  
  
 <span data-ttu-id="5f503-148">向导会基于指定的属性类型自动设置维度类型。</span><span class="sxs-lookup"><span data-stu-id="5f503-148">The wizard automatically sets the dimension type based on the attribute types that are specified.</span></span> <span data-ttu-id="5f503-149">向导中指定的属性类型将设置特性的 `Type` 属性。</span><span class="sxs-lookup"><span data-stu-id="5f503-149">The attribute types specified in the wizard set the `Type` property for the attributes.</span></span> <span data-ttu-id="5f503-150">维度及其特性的 `Type` 属性设置可向服务器和客户端应用程序提供有关维度内容的信息。</span><span class="sxs-lookup"><span data-stu-id="5f503-150">The `Type` property settings for the dimension and its attributes provide information about the contents of a dimension to server and client applications.</span></span> <span data-ttu-id="5f503-151">在某些情况下，这些 `Type` 属性设置只为客户端应用程序提供指导信息，并且是可选的。</span><span class="sxs-lookup"><span data-stu-id="5f503-151">In some cases, these `Type` property settings only provide guidance for client applications and are optional.</span></span> <span data-ttu-id="5f503-152">在其他情况下，例如“帐户”维度、“时间”维度或“货币”维度，这些 `Type` 属性设置确定基于服务器的特定行为，并且可能是实现某些多维数据集行为所必需的。</span><span class="sxs-lookup"><span data-stu-id="5f503-152">In other cases, as for Accounts, Time, or Currency dimensions, these `Type` property settings determine specific server-based behavior and might be required to implement certain cube behavior.</span></span>  
  
 <span data-ttu-id="5f503-153">有关维度和属性类型的详细信息，请参阅 [维度类型](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties-types.md)、 [配置属性类型](attribute-properties-configure-attribute-types.md)。</span><span class="sxs-lookup"><span data-stu-id="5f503-153">For more information about dimension and attribute types, see [Dimension Types](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties-types.md), [Configure Attribute Types](attribute-properties-configure-attribute-types.md).</span></span>  
  
## <a name="defining-account-intelligence"></a><span data-ttu-id="5f503-154">定义帐户智能</span><span class="sxs-lookup"><span data-stu-id="5f503-154">Defining Account Intelligence</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5f503-155">仅当在向导的“选择维度属性”\*\*\*\* 页上定义“帐户类型”\*\*\*\* 维度属性时，维度向导才显示此步骤。</span><span class="sxs-lookup"><span data-stu-id="5f503-155">The Dimension Wizard displays this step only if you defined an **Account Type** dimension attribute on the **Select Dimension Attributes** page of the wizard.</span></span>  
  
 <span data-ttu-id="5f503-156">使用 **“定义帐户智能”** 页可创建“帐户”类型的维度。</span><span class="sxs-lookup"><span data-stu-id="5f503-156">You use the **Define Account Intelligence** page to create an Account type dimension.</span></span> <span data-ttu-id="5f503-157">若要创建“帐户”类型的维度，必须将 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 支持的标准帐户类型映射到维度中帐户类型属性的成员。</span><span class="sxs-lookup"><span data-stu-id="5f503-157">If you are creating an Account type dimension, you have to map standard account types supported by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to members of the account type attribute in the dimension.</span></span> <span data-ttu-id="5f503-158">服务器使用这些映射为每种类型的帐户数据提供单独的聚合函数和别名。</span><span class="sxs-lookup"><span data-stu-id="5f503-158">The server uses these mappings to provide separate aggregation functions and aliases for each type of account data.</span></span>  
  
 <span data-ttu-id="5f503-159">向导提供了具有以下列的表来映射这些帐户类型：</span><span class="sxs-lookup"><span data-stu-id="5f503-159">To map these account types, the wizard provides a table with the following columns:</span></span>  
  
-   <span data-ttu-id="5f503-160">**“源表帐户类型”** 列，列出来自数据源表的帐户类型。</span><span class="sxs-lookup"><span data-stu-id="5f503-160">The **Source Table Account Types** column lists account types from the data source table.</span></span>  
  
-   <span data-ttu-id="5f503-161">“内置帐户类型”\*\*\*\* 列，列出服务器支持的相应标准帐户类型。</span><span class="sxs-lookup"><span data-stu-id="5f503-161">The **Built-In Account Types** column lists the corresponding standard account types supported by the server.</span></span> <span data-ttu-id="5f503-162">如果源数据使用标准名称，则向导会自动将源类型映射为服务器类型，然后使用此信息填充“内置帐户类型”\*\*\*\* 列。</span><span class="sxs-lookup"><span data-stu-id="5f503-162">If the source data uses standard names, the wizard automatically maps the source type to the server type, and populates the **Built-In Account Types** column with this information.</span></span> <span data-ttu-id="5f503-163">如果服务器不映射帐户类型或您希望更改映射，可以从“内置帐户类型”\*\*\*\* 列的列表中选择其他类型。</span><span class="sxs-lookup"><span data-stu-id="5f503-163">If the server does not map the account types or you want to change the mapping, select a different type from the list in the **Built-In Account Types** column.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5f503-164">如果向导创建“帐户”维度时未映射帐户类型，则在创建维度后可使用商用智能向导配置这些映射。</span><span class="sxs-lookup"><span data-stu-id="5f503-164">If the account types are not mapped when the wizard creates an Accounts dimension, use the Business Intelligence Wizard to configure these mappings after you create the dimension.</span></span> <span data-ttu-id="5f503-165">有关详细信息，请参阅 [向维度中添加帐户智能](bi-wizard-add-account-intelligence-to-a-dimension.md)。</span><span class="sxs-lookup"><span data-stu-id="5f503-165">For more information, see [Add Account Intelligence to a Dimension](bi-wizard-add-account-intelligence-to-a-dimension.md).</span></span>  
  
## <a name="completing-the-wizard"></a><span data-ttu-id="5f503-166">完成向导</span><span class="sxs-lookup"><span data-stu-id="5f503-166">Completing the Wizard</span></span>  
 <span data-ttu-id="5f503-167">向导扫描维度表以检测关系。</span><span class="sxs-lookup"><span data-stu-id="5f503-167">The wizard scans dimension tables to detect relationships.</span></span> <span data-ttu-id="5f503-168">向导将在雪花型维度的键属性之间自动创建属性关系。</span><span class="sxs-lookup"><span data-stu-id="5f503-168">The wizard will create attribute relationships between key attributes in snowflake dimensions automatically.</span></span>  
  
 <span data-ttu-id="5f503-169">向导还会自动检测该维度中是否存在父子关系。</span><span class="sxs-lookup"><span data-stu-id="5f503-169">The wizard also automatically detects if a parent-child relationship exists in the dimension.</span></span> <span data-ttu-id="5f503-170">当父属性引用维度的键属性成员时，即存在父子关系。</span><span class="sxs-lookup"><span data-stu-id="5f503-170">A parent-child relationship exists when a parent attribute references members of the key attribute of the dimension.</span></span> <span data-ttu-id="5f503-171">此关系定义层次结构关系以及维度的叶成员之间的聚合路径。</span><span class="sxs-lookup"><span data-stu-id="5f503-171">This relationship defines hierarchical relationships and aggregation paths between leaf members of the dimension.</span></span> <span data-ttu-id="5f503-172">有关父子层次结构的详细信息，请参阅 [父子层次结构中的属性](parent-child-dimension-attributes.md)。</span><span class="sxs-lookup"><span data-stu-id="5f503-172">For more information about parent-child hierarchies, see [Attributes in Parent-Child Hierarchies](parent-child-dimension-attributes.md).</span></span>  
  
 <span data-ttu-id="5f503-173">在 **“完成向导”** 页中，输入新维度的名称并查看维度结构即完成该向导。</span><span class="sxs-lookup"><span data-stu-id="5f503-173">On the **Completing the Wizard** page, you complete the wizard by typing a name for the new dimension and reviewing the dimension structure.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5f503-174">另请参阅</span><span class="sxs-lookup"><span data-stu-id="5f503-174">See Also</span></span>  
 <span data-ttu-id="5f503-175">[通过在数据源中生成非时间表来创建维度](create-a-dimension-by-generating-a-non-time-table-in-the-data-source.md) </span><span class="sxs-lookup"><span data-stu-id="5f503-175">[Create a Dimension by Generating a Non-Time Table in the Data Source](create-a-dimension-by-generating-a-non-time-table-in-the-data-source.md) </span></span>  
 <span data-ttu-id="5f503-176">[通过生成时间表来创建时间维度](create-a-time-dimension-by-generating-a-time-table.md) </span><span class="sxs-lookup"><span data-stu-id="5f503-176">[Create a Time Dimension by Generating a Time Table](create-a-time-dimension-by-generating-a-time-table.md) </span></span>  
 <span data-ttu-id="5f503-177">[维度特性属性参考](dimension-attribute-properties-reference.md) </span><span class="sxs-lookup"><span data-stu-id="5f503-177">[Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md) </span></span>  
 <span data-ttu-id="5f503-178">[通过生成时间表来创建时间维度](create-a-time-dimension-by-generating-a-time-table.md) </span><span class="sxs-lookup"><span data-stu-id="5f503-178">[Create a Time Dimension by Generating a Time Table](create-a-time-dimension-by-generating-a-time-table.md) </span></span>  
 [<span data-ttu-id="5f503-179">通过在数据源中生成非时间表来创建维度</span><span class="sxs-lookup"><span data-stu-id="5f503-179">Create a Dimension by Generating a Non-Time Table in the Data Source</span></span>](create-a-dimension-by-generating-a-non-time-table-in-the-data-source.md)  
  
  
