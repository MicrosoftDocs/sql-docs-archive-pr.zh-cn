---
title: 多维模型对象处理 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- online mode [Analysis Services]
- processing objects [Analysis Services]
- partitions [Analysis Services], processing
- jobs [Analysis Services]
- objects [Analysis Services], processing
- reprocessing objects
- impact analysis [Analysis Services]
- dimensions [Analysis Services], processing
- project mode [Analysis Services]
- cubes [Analysis Services], processing
ms.assetid: 625aa5a6-aa09-4bac-be8a-778fa81c5a61
author: minewiskan
ms.author: owend
ms.openlocfilehash: e61ff8f80579bba59aced5de4e824f036d633cac
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87587622"
---
# <a name="multidimensional-model-object-processing"></a><span data-ttu-id="10e05-102">多维模型对象处理</span><span class="sxs-lookup"><span data-stu-id="10e05-102">Multidimensional Model Object Processing</span></span>
  <span data-ttu-id="10e05-103">处理是 Analysis Services 将数据从关系数据源加载到多维模型的一个步骤或一系列步骤。</span><span class="sxs-lookup"><span data-stu-id="10e05-103">Processing is the step, or series of steps, in which Analysis Services loads data from a relational data source into a multidimensional model.</span></span> <span data-ttu-id="10e05-104">对于使用 MOLAP 存储的对象，数据将保存到磁盘的数据库文件所在文件夹中。</span><span class="sxs-lookup"><span data-stu-id="10e05-104">For objects that use MOLAP storage, data is saved on disk in the database file folder.</span></span> <span data-ttu-id="10e05-105">对于 ROLAP 存储，按需执行处理，以响应对象的 MDX 查询。</span><span class="sxs-lookup"><span data-stu-id="10e05-105">For ROLAP storage, processing occurs on demand, in response to an MDX query on an object.</span></span> <span data-ttu-id="10e05-106">对于使用 ROLAP 存储的对象，处理是指在返回查询结果之前更新缓存。</span><span class="sxs-lookup"><span data-stu-id="10e05-106">For objects that use ROLAP storage, processing refers to updating the cache before returning query results.</span></span>  
  
 <span data-ttu-id="10e05-107">默认情况下，当您将解决方案部署到服务器时进行处理。</span><span class="sxs-lookup"><span data-stu-id="10e05-107">By default, processing occurs when you deploy a solution to the server.</span></span> <span data-ttu-id="10e05-108">您还可以处理解决方案的全部或一部分，无论是使用 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] 或 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]等工具进行即席处理还是使用 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和 SQL Server 代理按计划处理。</span><span class="sxs-lookup"><span data-stu-id="10e05-108">You can also process all or part of a solution, either ad hoc using tools such as [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], or on a schedule using [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and SQL Server Agent.</span></span> <span data-ttu-id="10e05-109">对模型进行结构上的更改（如删除维度或更改兼容级别）时，您需要重新处理以同步模型的物理和逻辑方面。</span><span class="sxs-lookup"><span data-stu-id="10e05-109">When making a structural change to the model, such as removing a dimension or changing its compatibility level, you will need to process again to synchronize the physical and logical aspects of the model.</span></span>  
  
 <span data-ttu-id="10e05-110">本主题包含下列部分：</span><span class="sxs-lookup"><span data-stu-id="10e05-110">This topic includes the following sections:</span></span>  
  
 [<span data-ttu-id="10e05-111">先决条件</span><span class="sxs-lookup"><span data-stu-id="10e05-111">Prerequisites</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="10e05-112">选择工具或方法</span><span class="sxs-lookup"><span data-stu-id="10e05-112">Choosing a tool or approach</span></span>](#bkmk_tool)  
  
 [<span data-ttu-id="10e05-113">处理对象</span><span class="sxs-lookup"><span data-stu-id="10e05-113">Processing Objects</span></span>](#bkmk_proc)  
  
 [<span data-ttu-id="10e05-114">重新处理对象</span><span class="sxs-lookup"><span data-stu-id="10e05-114">Reprocessing Objects</span></span>](#bkmk_reproc)  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a><span data-ttu-id="10e05-115">先决条件</span><span class="sxs-lookup"><span data-stu-id="10e05-115">Prerequisites</span></span>  
  
-   <span data-ttu-id="10e05-116">处理需要对 Analysis Services 实例的管理权限。</span><span class="sxs-lookup"><span data-stu-id="10e05-116">Processing requires administrative permissions on the Analysis Services instance.</span></span> <span data-ttu-id="10e05-117">如果正在从 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 或 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]以交互方式进行处理，您必须是 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 实例上服务器管理员角色的成员。</span><span class="sxs-lookup"><span data-stu-id="10e05-117">If you are processing interactively from [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], you must be a member of the server administrator role on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="10e05-118">对于以无人参与方式运行的处理，例如使用通过 SQL Server 代理计划运行的 SSIS 包，用于运行该包的帐户必须是服务器管理员角色的成员。</span><span class="sxs-lookup"><span data-stu-id="10e05-118">For processing that runs unattended, for example using an SSIS package that you schedule through SQL Server Agent, the account used to run the package must be a member of the server administrator role.</span></span> <span data-ttu-id="10e05-119">有关设置管理员权限的详细信息，请参阅[&#40;Analysis Services&#41;授予服务器管理员权限](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md)。</span><span class="sxs-lookup"><span data-stu-id="10e05-119">For more information about setting administrator permissions, see [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md).</span></span>  
  
-   <span data-ttu-id="10e05-120">用于检索数据的帐户在数据源对象中作为模拟选项（如果使用 Windows 身份验证）或连接字符串中的用户名（如果使用数据库身份验证）指定。</span><span class="sxs-lookup"><span data-stu-id="10e05-120">The account used to retrieve data is specified in the data source object, either as an impersonation option if you are using Windows authentication, or as the user name on the connection string if using database authentication.</span></span> <span data-ttu-id="10e05-121">该帐户必须具有对模型使用的关系数据源的读取权限。</span><span class="sxs-lookup"><span data-stu-id="10e05-121">The account must have read permissions on relational data sources used by the model.</span></span>  
  
-   <span data-ttu-id="10e05-122">必须先部署项目或解决方案，然后才能处理任何对象。</span><span class="sxs-lookup"><span data-stu-id="10e05-122">The project or solution must be deployed before you can process any objects.</span></span>  
  
     <span data-ttu-id="10e05-123">最初，在模型开发的早期阶段，部署和处理一起进行。</span><span class="sxs-lookup"><span data-stu-id="10e05-123">Initially, during the early stages of model development, deployment and processing occur together.</span></span> <span data-ttu-id="10e05-124">但是，您可以设置选项来在部署解决方案后再处理模型。</span><span class="sxs-lookup"><span data-stu-id="10e05-124">However, you can set options to process the model later, after you deploy the solution.</span></span> <span data-ttu-id="10e05-125">有关部署的详细信息，请参阅[部署 Analysis Services 项目 (SSDT)](deploy-analysis-services-projects-ssdt.md)。</span><span class="sxs-lookup"><span data-stu-id="10e05-125">For more information about deployment, see [Deploy Analysis Services Projects &#40;SSDT&#41;](deploy-analysis-services-projects-ssdt.md).</span></span>  
  
##  <a name="choosing-a-tool-or-approach"></a><a name="bkmk_tool"></a><span data-ttu-id="10e05-126">选择工具或方法</span><span class="sxs-lookup"><span data-stu-id="10e05-126">Choosing a tool or approach</span></span>  
 <span data-ttu-id="10e05-127">您可以使用客户端应用程序（如 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 或 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]）或是作为 SQL Server 代理作业或 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 包运行的脚本操作，以交互方式处理对象。</span><span class="sxs-lookup"><span data-stu-id="10e05-127">You can process objects interactively using a client application such as [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], or a scripted operation that run as a SQL Server Agent job or [!INCLUDE[ssIS](../../includes/ssis-md.md)] package.</span></span>  
  
 <span data-ttu-id="10e05-128">根据模型是正处于开发阶段还是已投入使用，处理数据库的方式会大有不同。</span><span class="sxs-lookup"><span data-stu-id="10e05-128">How you process a database varies considerably depending on whether the model is in active development or in production.</span></span> <span data-ttu-id="10e05-129">一旦将模型部署到生产服务器，就必须严格控制处理，确保多维数据的完整性和可用性。</span><span class="sxs-lookup"><span data-stu-id="10e05-129">Once a model is deployed to a production server, processing must be tightly controlled to ensure the integrity and availability of multidimensional data.</span></span> <span data-ttu-id="10e05-130">由于对象相互依存，处理通常对整个模型具有连锁影响，因为处理某个对象时也会处理或取消处理其他对象。</span><span class="sxs-lookup"><span data-stu-id="10e05-130">Because objects are interdependent, processing typically has a cascading effect across the model as other objects are also processed or unprocessed in tandem.</span></span> <span data-ttu-id="10e05-131">如果有对象未处理，针对该数据的查询将无法求解，从而破坏使用它的任何报表或应用程序。</span><span class="sxs-lookup"><span data-stu-id="10e05-131">If some objects are left in an unprocessed state, queries for that data will not resolve, breaking any reports or applications that use it.</span></span> <span data-ttu-id="10e05-132">制定用于处理生产数据库的策略时，请考虑使用已经过调试和测试的脚本或 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 包，以避免运算符错误或忽略的步骤。</span><span class="sxs-lookup"><span data-stu-id="10e05-132">When developing a strategy for processing a production database, consider using script or [!INCLUDE[ssIS](../../includes/ssis-md.md)] packages that you have debugged and tested to avoid operator error or overlooked steps.</span></span>  
  
 <span data-ttu-id="10e05-133">有关详细信息，请参阅[处理 &#40;Analysis Services&#41;的工具和方法](tools-and-approaches-for-processing-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="10e05-133">For more information, see [Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md).</span></span>  
  
##  <a name="processing-objects"></a><a name="bkmk_proc"></a><span data-ttu-id="10e05-134">处理对象</span><span class="sxs-lookup"><span data-stu-id="10e05-134">Processing Objects</span></span>  
 <span data-ttu-id="10e05-135">处理会影响以下 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 对象：度量值组、分区、维度、多维数据集、挖掘模型、挖掘结构和数据库。</span><span class="sxs-lookup"><span data-stu-id="10e05-135">Processing affects the following [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects: measure groups, partitions, dimensions, cubes, mining models, mining structures, and databases.</span></span> <span data-ttu-id="10e05-136">如果某个对象包含一个或多个对象，处理最高级别的对象将引起对所有低级别对象的级联处理。</span><span class="sxs-lookup"><span data-stu-id="10e05-136">When an object contains one or more objects, processing the highest-level object causes a cascade of processing all the lower-level objects.</span></span> <span data-ttu-id="10e05-137">例如，多维数据集通常包含一个和多个度量值组（每个度量值组包含一个或多个分区）和维度。</span><span class="sxs-lookup"><span data-stu-id="10e05-137">For example, a cube typically contains one or more measure groups (each of which contains one or more partitions) and dimensions.</span></span> <span data-ttu-id="10e05-138">处理多维数据集会引起处理该多维数据集中的所有度量值组和当前处于未处理状态的组成维度。</span><span class="sxs-lookup"><span data-stu-id="10e05-138">Processing a cube causes processing of all the measure groups within the cube and the constituent dimensions that are currently in an unprocessed state.</span></span> <span data-ttu-id="10e05-139">有关处理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 对象的详细信息，请参阅 [处理 Analysis Services 对象](processing-analysis-services-objects.md)。</span><span class="sxs-lookup"><span data-stu-id="10e05-139">For more information about processing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, see [Processing Analysis Services Objects](processing-analysis-services-objects.md).</span></span>  
  
 <span data-ttu-id="10e05-140">处理作业运行时，可以访问受影响的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 对象以进行查询。</span><span class="sxs-lookup"><span data-stu-id="10e05-140">While the processing job is working, the affected [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects can be accessed for querying.</span></span> <span data-ttu-id="10e05-141">在事务中运行处理作业，并且可以提交或回滚该事务。</span><span class="sxs-lookup"><span data-stu-id="10e05-141">The processing job works inside a transaction and the transaction can be committed or rolled back.</span></span> <span data-ttu-id="10e05-142">如果处理作业失败，则将回滚事务。</span><span class="sxs-lookup"><span data-stu-id="10e05-142">If the processing job fails, the transaction is rolled back.</span></span> <span data-ttu-id="10e05-143">如果处理作业成功，则提交更改时会在该对象上放置一个排他锁，表示该对象暂时不可用于查询或处理。</span><span class="sxs-lookup"><span data-stu-id="10e05-143">If the processing job succeeds, an exclusive lock is put on the object when changes are being committed, which means the object is temporarily unavailable for query or processing.</span></span> <span data-ttu-id="10e05-144">在事务提交阶段，仍然可以向对象发送查询，但查询将进行排队，等待完成提交。</span><span class="sxs-lookup"><span data-stu-id="10e05-144">During the commit phase of the transaction, queries can still be sent to the object, but they will be queued until the commit is completed.</span></span>  
  
 <span data-ttu-id="10e05-145">处理作业时，是否处理对象以及如何处理对象都取决于为该对象设置的处理选项。</span><span class="sxs-lookup"><span data-stu-id="10e05-145">During a processing job, whether an object is processed, and how it will be processed, depends on the processing option that is set for that object.</span></span> <span data-ttu-id="10e05-146">有关可应用于每个对象的特定处理选项的详细信息，请参阅[处理选项和设置 (Analysis Services)](processing-options-and-settings-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="10e05-146">For more information about the specific processing options that can be applied to each object, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
##  <a name="reprocessing-objects"></a><a name="bkmk_reproc"></a><span data-ttu-id="10e05-147">重新处理对象</span><span class="sxs-lookup"><span data-stu-id="10e05-147">Reprocessing Objects</span></span>  
 <span data-ttu-id="10e05-148">必须先重新处理包含未处理元素的多维数据集，然后才能浏览。</span><span class="sxs-lookup"><span data-stu-id="10e05-148">Cubes that contain unprocessed elements have to be reprocessed before they can be browsed.</span></span> <span data-ttu-id="10e05-149">必须先处理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 中包含度量值组和分区的多维数据集，然后才能查询该多维数据集。</span><span class="sxs-lookup"><span data-stu-id="10e05-149">Cubes in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] contain measure groups and partitions that must be processed before the cube can be queried.</span></span> <span data-ttu-id="10e05-150">如果多维数据集的组成维度处于未处理状态，则处理多维数据集会引起 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 处理这些组成维度。</span><span class="sxs-lookup"><span data-stu-id="10e05-150">Processing a cube causes [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to process constituent dimensions of the cube if those dimensions are in an unprocessed state.</span></span> <span data-ttu-id="10e05-151">对象经首次处理后，出现下列情况之一时，必须部分或全部重新处理：</span><span class="sxs-lookup"><span data-stu-id="10e05-151">After an object has been processed the first time, it must be reprocessed either partially or in full whenever one of the following situations occurs:</span></span>  
  
-   <span data-ttu-id="10e05-152">该对象的结构会改变，例如在事实数据表中删除列。</span><span class="sxs-lookup"><span data-stu-id="10e05-152">The structure of the object changes, such as dropping a column in a fact table.</span></span>  
  
-   <span data-ttu-id="10e05-153">对象的聚合设计发生变化。</span><span class="sxs-lookup"><span data-stu-id="10e05-153">The aggregation design for the object changes.</span></span>  
  
-   <span data-ttu-id="10e05-154">对象中的数据需要更新。</span><span class="sxs-lookup"><span data-stu-id="10e05-154">The data in the object needs to be updated.</span></span>  
  
 <span data-ttu-id="10e05-155">处理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的对象时，可以选择处理选项，也可以由 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 确定处理的适当类型。</span><span class="sxs-lookup"><span data-stu-id="10e05-155">When you process objects in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can select a processing option, or you can enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to determine the appropriate type of processing.</span></span> <span data-ttu-id="10e05-156">可用的处理方法随对象的类型不同而有差异。</span><span class="sxs-lookup"><span data-stu-id="10e05-156">The processing methods made available differ from one object to another, and are based on the type of object.</span></span> <span data-ttu-id="10e05-157">此外，可用的方法取决于对象在上一次处理后又发生了什么变化。</span><span class="sxs-lookup"><span data-stu-id="10e05-157">Additionally, the methods available are based on what changes have occurred to the object since it was last processed.</span></span> <span data-ttu-id="10e05-158">如果允许 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 自动选择处理方法，则将使用以最少时间将对象返回已完全处理状态的方法。</span><span class="sxs-lookup"><span data-stu-id="10e05-158">If you enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to automatically select a processing method, it will use the method that returns the object to a fully processed state in the least time.</span></span> <span data-ttu-id="10e05-159">有关详细信息，请参阅[处理选项和设置 (Analysis Services)](processing-options-and-settings-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="10e05-159">For more information, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="10e05-160">另请参阅</span><span class="sxs-lookup"><span data-stu-id="10e05-160">See Also</span></span>  
 <span data-ttu-id="10e05-161">[逻辑体系结构 &#40;Analysis Services 多维数据&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="10e05-161">[Logical Architecture &#40;Analysis Services - Multidimensional Data&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span></span>  
 [<span data-ttu-id="10e05-162">数据库对象（Analysis Services - 多维数据）</span><span class="sxs-lookup"><span data-stu-id="10e05-162">Database Objects &#40;Analysis Services - Multidimensional Data&#41;</span></span>](olap-logical/database-objects-analysis-services-multidimensional-data.md)  
  
  
