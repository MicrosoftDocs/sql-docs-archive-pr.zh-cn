---
title: 创建日期类型维度 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- time dimensions [Analysis Services]
- dimensions [Analysis Services], time
- adding time intelligence
- server time dimensions [Analysis Services]
- calendars [Analysis Services]
- time intelligence [Analysis Services]
ms.assetid: 6d692856-4b01-4dca-a650-f97ac220c114
author: minewiskan
ms.author: owend
ms.openlocfilehash: 8e16d38f438b3f319e1c9a87b147269dcd1a8a97
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87689073"
---
# <a name="create-a-date-type-dimension"></a><span data-ttu-id="b6387-102">创建日期类型维度</span><span class="sxs-lookup"><span data-stu-id="b6387-102">Create a Date type Dimension</span></span>
  <span data-ttu-id="b6387-103">在中 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ，时间维度是指其属性表示时间段（如年、半期、季度、月和天）的维度类型。</span><span class="sxs-lookup"><span data-stu-id="b6387-103">In [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], a time dimension is a dimension type whose attributes represent time periods, such as years, semesters, quarters, months, and days.</span></span> <span data-ttu-id="b6387-104">时间维度中的时间段可提供用于分析和报告的基于时间的粒度级别。</span><span class="sxs-lookup"><span data-stu-id="b6387-104">The periods in a time dimension provide time-based levels of granularity for analysis and reporting.</span></span> <span data-ttu-id="b6387-105">属性将按层次结构进行组织，并且时间维度的粒度主要由历史数据的业务和报表需求决定。</span><span class="sxs-lookup"><span data-stu-id="b6387-105">The attributes are organized in hierarchies, and the granularity of the time dimension is determined largely by the business and reporting requirements for historical data.</span></span> <span data-ttu-id="b6387-106">例如，商业智能应用程序中的大多数财务数据和销售数据使用月粒度或季度粒度。</span><span class="sxs-lookup"><span data-stu-id="b6387-106">For example, most financial and sales data in business intelligence applications use a monthly or quarterly granularity.</span></span>  
  
 <span data-ttu-id="b6387-107">通常， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 中的多维数据集会以某种形式合并一个时间维度。</span><span class="sxs-lookup"><span data-stu-id="b6387-107">Typically, cubes in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] incorporate a time dimension in one form or another.</span></span> <span data-ttu-id="b6387-108">多维数据集可能包含多个时间维度，也可以包含来自同一时间维度的多个层次结构，具体将取决于数据的粒度和报表需求。</span><span class="sxs-lookup"><span data-stu-id="b6387-108">A cube may include more than one time dimension, or several hierarchies from the same time dimension, depending on the granularity of the data and the reporting requirements.</span></span> <span data-ttu-id="b6387-109">但是，并非所有多维数据集都需要时间维度。</span><span class="sxs-lookup"><span data-stu-id="b6387-109">However, not all cubes require a time dimension.</span></span> <span data-ttu-id="b6387-110">某些 OLAP 应用程序（例如，基于活动的开销）不需要时间维度，因为基于活动的维度内的开销是基于活动的，而不是基于时间的。</span><span class="sxs-lookup"><span data-stu-id="b6387-110">Some OLAP applications, such as activity-based costing, do not require a time dimension, because .costing in an activity-based dimension is based on activity instead of time.</span></span>  
  
## <a name="dimension-structure"></a><span data-ttu-id="b6387-111">维度结构</span><span class="sxs-lookup"><span data-stu-id="b6387-111">Dimension Structure</span></span>  
 <span data-ttu-id="b6387-112">时间维度的维度结构将取决于基础数据源存储时间段信息的方式。</span><span class="sxs-lookup"><span data-stu-id="b6387-112">The dimension structure for a time dimension depends on how the underlying data source stores the time period information.</span></span> <span data-ttu-id="b6387-113">按照存储方式的不同，时间维度具有以下两种基本类型：</span><span class="sxs-lookup"><span data-stu-id="b6387-113">This difference in storage produces two basic types of time dimensions:</span></span>  
  
 <span data-ttu-id="b6387-114">时间维度</span><span class="sxs-lookup"><span data-stu-id="b6387-114">Time dimension</span></span>  
 <span data-ttu-id="b6387-115">与其他维度相似，时间维度也使用维度表提供维度属性。</span><span class="sxs-lookup"><span data-stu-id="b6387-115">Time dimensions are similar to other dimensions in that a dimension table supplies the attributes for the dimension.</span></span> <span data-ttu-id="b6387-116">维度主表中的每一列定义一个特定时间段的属性。</span><span class="sxs-lookup"><span data-stu-id="b6387-116">Each column in the dimension main table defines an attribute for a specific time period.</span></span>  
  
 <span data-ttu-id="b6387-117">与其他维度类似，事实数据表与时间维度的维度表之间同样存在一个外键关系。</span><span class="sxs-lookup"><span data-stu-id="b6387-117">Like other dimensions, the fact table has a foreign key relationship to the dimension table for the time dimension.</span></span> <span data-ttu-id="b6387-118">时间维度的键属性基于整型键或最低级别的详细信息，如出现在维度主表中的日期。</span><span class="sxs-lookup"><span data-stu-id="b6387-118">The key attribute for a time dimension is based either on an integer key or on the lowest level of detail, such as the date, that appears in the dimension main table.</span></span>  
  
 <span data-ttu-id="b6387-119">服务器时间维度</span><span class="sxs-lookup"><span data-stu-id="b6387-119">Server time dimension</span></span>  
 <span data-ttu-id="b6387-120">如果没有要将时间相关属性绑定到的维度表，则可以使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 基于时间段定义一个服务器时间维度。</span><span class="sxs-lookup"><span data-stu-id="b6387-120">If you do not have a dimension table to which to bind time-related attributes, you can have [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] define a server time dimension based on time periods.</span></span> <span data-ttu-id="b6387-121">若要定义由服务器时间维度表示的层次结构、级别和成员，应当在创建维度时选择标准时间段。</span><span class="sxs-lookup"><span data-stu-id="b6387-121">To define the hierarchies, levels, and members represented by the server time dimension, you select standard time periods when you create the dimension.</span></span>  
  
 <span data-ttu-id="b6387-122">服务器时间维度中的属性具有特殊的时间-属性绑定。</span><span class="sxs-lookup"><span data-stu-id="b6387-122">Attributes in a server time dimension have a special time-attribute binding.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="b6387-123">使用与日期相关的属性类型（例如，年、月或天）来定义时间维度中的属性成员。</span><span class="sxs-lookup"><span data-stu-id="b6387-123">uses the attribute types that are related to dates, such as Year, Month, or Day, to define members of attributes in a time dimension.</span></span>  
  
 <span data-ttu-id="b6387-124">在多维数据集中包含了服务器时间维度之后，可通过在多维数据集向导的 **“定义维度用法”** 页中指定一个关系，以建立度量值组和服务器时间维度之间的关系。</span><span class="sxs-lookup"><span data-stu-id="b6387-124">After you include the server time dimension in a cube, you set the relationship between the measure group and the server time dimension by specifying a relationship on the **Define Dimension Usage** page of the Cube Wizard.</span></span>  
  
### <a name="calendars"></a><span data-ttu-id="b6387-125">日历</span><span class="sxs-lookup"><span data-stu-id="b6387-125">Calendars</span></span>  
 <span data-ttu-id="b6387-126">在时间维度或服务器时间维度中，时间段属性在层次结构中将组合在一起进行分组。</span><span class="sxs-lookup"><span data-stu-id="b6387-126">In a time dimension or server time dimension time period attributes are grouped together in hierarchies.</span></span> <span data-ttu-id="b6387-127">此类层次结构通常称为日历。</span><span class="sxs-lookup"><span data-stu-id="b6387-127">Such hierarchies are generally referred to as calendars.</span></span>  
  
 <span data-ttu-id="b6387-128">商业智能应用程序经常需要多个日历定义。</span><span class="sxs-lookup"><span data-stu-id="b6387-128">Business intelligence applications frequently require multiple calendar definitions.</span></span> <span data-ttu-id="b6387-129">例如，人力资源部门可以使用*标准*日历-12 个月的公历，从1月1日开始，到12月31日结束。</span><span class="sxs-lookup"><span data-stu-id="b6387-129">For example, a human resource department may track employees by using a *standard* calendar-a twelve-month Gregorian calendar starting on January 1 and ending on December 31st.</span></span> <span data-ttu-id="b6387-130">但是，同一人力资源部门可能会使用*会计*日历跟踪支出，这是一个用于定义组织使用的会计年度的十二个月日历。</span><span class="sxs-lookup"><span data-stu-id="b6387-130">However, that same human resource department may track expenditures by using a *fiscal* calendar-a twelve-month calendar that defines the fiscal year used by the organization.</span></span>  
  
 <span data-ttu-id="b6387-131">可以在维度设计器中手动构造这些不同的日历。</span><span class="sxs-lookup"><span data-stu-id="b6387-131">You can construct these different calendars manually in Dimension Designer.</span></span> <span data-ttu-id="b6387-132">但是，在创建时间维度或服务器时间维度时，维度向导会提供几个层次结构模板，可用于自动生成若干种类型的日历。</span><span class="sxs-lookup"><span data-stu-id="b6387-132">However, the Dimension Wizard provides several hierarchy templates that can be used to automatically generate several types of calendars when you create a time dimension or server time dimension.</span></span> <span data-ttu-id="b6387-133">下表说明了可通过维度向导生成的各种日历。</span><span class="sxs-lookup"><span data-stu-id="b6387-133">The following table describes the various calendars that can be generated by the Dimension Wizard.</span></span>  
  
|<span data-ttu-id="b6387-134">日历</span><span class="sxs-lookup"><span data-stu-id="b6387-134">Calendar</span></span>|<span data-ttu-id="b6387-135">说明</span><span class="sxs-lookup"><span data-stu-id="b6387-135">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="b6387-136">标准日历</span><span class="sxs-lookup"><span data-stu-id="b6387-136">Standard calendar</span></span>|<span data-ttu-id="b6387-137">十二个月的公历，从 1 月 1 日开始，到 12 月 31 日结束。</span><span class="sxs-lookup"><span data-stu-id="b6387-137">A twelve-month Gregorian calendar starting on January 1 and ending on December 31st.</span></span><br /><br /> <span data-ttu-id="b6387-138">无论使用维度向导创建时间维度还是服务器时间维度，在定义了表示维度的时间段属性之后，该向导都会生成一个标准日历的层次结构。</span><span class="sxs-lookup"><span data-stu-id="b6387-138">Regardless of whether you use the Dimension Wizard to create a time dimension or a server time dimension, the wizard generates a hierarchy for a standard calendar after you define the attributes that represent the time periods for the dimension.</span></span> <span data-ttu-id="b6387-139">如果使用维度向导创建服务器时间维度，则可将标准日历的开始日期调整为 1 月 1 日以外的某一天。</span><span class="sxs-lookup"><span data-stu-id="b6387-139">If you use the Dimension Wizard to create a server time dimension, you can adjust the starting date of the standard calendar to start on a day other than January 1.</span></span>|  
|<span data-ttu-id="b6387-140">会计日历</span><span class="sxs-lookup"><span data-stu-id="b6387-140">Fiscal calendar</span></span>|<span data-ttu-id="b6387-141">十二个月会计日历。</span><span class="sxs-lookup"><span data-stu-id="b6387-141">A twelve-month fiscal calendar.</span></span> <span data-ttu-id="b6387-142">如果选择该日历，则要为单位使用的会计日历指定开始的月份和日期。</span><span class="sxs-lookup"><span data-stu-id="b6387-142">When you select this calendar, specify the starting day and month for the fiscal year used by your organization.</span></span><br /><br /> <span data-ttu-id="b6387-143">注意：只有在使用维度向导创建服务器时间维度时，该日历才可用。</span><span class="sxs-lookup"><span data-stu-id="b6387-143">Note: This calendar is only available if you use the Dimension Wizard to create a server time dimension.</span></span>|  
|<span data-ttu-id="b6387-144">报表日历（或营销日历）</span><span class="sxs-lookup"><span data-stu-id="b6387-144">Reporting calendar (or marketing calendar)</span></span>|<span data-ttu-id="b6387-145">十二个月的报表日历，在该日历以三个月（每季度）重复的模式中，其中两个月为四周，一个月为五周。</span><span class="sxs-lookup"><span data-stu-id="b6387-145">A twelve-month reporting calendar that includes two months of four weeks and one month of five weeks in a repeated three-month (quarterly) pattern.</span></span> <span data-ttu-id="b6387-146">选择此日历时，请指定开始日和月份以及三个月的4-4-5、4-5-4 或5-4-4 周模式，其中每个数字表示一个月中的周数。</span><span class="sxs-lookup"><span data-stu-id="b6387-146">When you select this calendar, specify the starting day and month and the three-month pattern of 4-4-5, 4-5-4, or 5-4-4 weeks, where each digit represents the number of weeks in a month.</span></span><br /><br /> <span data-ttu-id="b6387-147">注意：只有在使用维度向导创建服务器时间维度时，该日历才可用。</span><span class="sxs-lookup"><span data-stu-id="b6387-147">Note: This calendar is only available if you use the Dimension Wizard to create a server time dimension.</span></span>|  
|<span data-ttu-id="b6387-148">生产日历</span><span class="sxs-lookup"><span data-stu-id="b6387-148">Manufacturing calendar</span></span>|<span data-ttu-id="b6387-149">该日历使用 13 个为时四周的期间，其中有三个季度每个季度包含三个期间，一个季度包含四个期间。</span><span class="sxs-lookup"><span data-stu-id="b6387-149">A calendar that uses 13 periods of four weeks, divided into three quarters of three periods and one quarter of four periods.</span></span> <span data-ttu-id="b6387-150">如果使用该日历，则要为单位使用的生产年度指定开始周（1 到 4 之间）和月份，并标识出包含四个期间的季度。</span><span class="sxs-lookup"><span data-stu-id="b6387-150">When you select this calendar, you specify the starting week (between 1 and 4) and month for the manufacturing year used by your organization, and also identify which quarter contains four periods.</span></span><br /><br /> <span data-ttu-id="b6387-151">注意：只有在使用维度向导创建服务器时间维度时，该日历才可用。</span><span class="sxs-lookup"><span data-stu-id="b6387-151">Note: This calendar is only available if you use the Dimension Wizard to create a server time dimension.</span></span>|  
|<span data-ttu-id="b6387-152">ISO 8601 日历</span><span class="sxs-lookup"><span data-stu-id="b6387-152">ISO 8601 Calendar</span></span>|<span data-ttu-id="b6387-153">国际标准化组织 (ISO) 的日期和时间标准日历的表示法 (8601)。</span><span class="sxs-lookup"><span data-stu-id="b6387-153">The International Organization for Standardization (ISO) Representation of Dates and Time standard calendar (8601).</span></span> <span data-ttu-id="b6387-154">该日历具有整数个为时 7 天的周。</span><span class="sxs-lookup"><span data-stu-id="b6387-154">This calendar has an integral number of 7-day weeks.</span></span> <span data-ttu-id="b6387-155">该日历新年的开始日期可能比公历新年的开始日期早或晚几天。</span><span class="sxs-lookup"><span data-stu-id="b6387-155">The new year may start several days before or after the start of the new year, based on the Gregorian calendar.</span></span> <span data-ttu-id="b6387-156">该日历的第一周根据公历的包含星期四的第一个周进行确定。</span><span class="sxs-lookup"><span data-stu-id="b6387-156">The first week of this calendar is determined by the first week of the Gregorian calendar which contains a Thursday.</span></span> <span data-ttu-id="b6387-157">因此，该周的第一天（周日）可能会从上一年开始。</span><span class="sxs-lookup"><span data-stu-id="b6387-157">Therefore, the first day of this week, the Sunday, may actually fall within the previous year.</span></span><br /><br /> <span data-ttu-id="b6387-158">注意：只有在使用维度向导创建服务器时间维度时，该日历才可用。</span><span class="sxs-lookup"><span data-stu-id="b6387-158">Note: This calendar is only available if you use the Dimension Wizard to create a server time dimension.</span></span>|  
  
 <span data-ttu-id="b6387-159">创建服务器时间维度，并指定在该维度中要使用的时间段和日历时，维度向导将为每个指定日历的相应时间段添加属性。</span><span class="sxs-lookup"><span data-stu-id="b6387-159">When you create a server time dimension, and specify the time periods and the calendars to use in that dimension, the Dimension Wizard adds the attributes for the time periods that are appropriate for each specified calendar.</span></span> <span data-ttu-id="b6387-160">例如，如果创建的服务器时间维度使用年作为时间段，并同时包括会计和报表日历，则向导会将 FiscalYear 和 ReportingYears 属性与标准 Years 属性一起添加到维度中。</span><span class="sxs-lookup"><span data-stu-id="b6387-160">For example, if you create a server time dimension that uses years as the time period and includes both fiscal and reporting calendars, the wizard will then add FiscalYear and ReportingYears attributes, together with the standard Years attribute, to the dimension.</span></span> <span data-ttu-id="b6387-161">服务器时间维度还具有选定时间段组合的属性，如包含天数和周数的维度的 DayOfWeek 属性。</span><span class="sxs-lookup"><span data-stu-id="b6387-161">A server time dimension will also have attributes for combinations of selected time periods, such as a DayOfWeek attribute for a dimension that contains Days and Weeks.</span></span> <span data-ttu-id="b6387-162">维度向导通过将属于一种日历类型的属性组合起来，据以创建日历层次结构。</span><span class="sxs-lookup"><span data-stu-id="b6387-162">The Dimension Wizard creates a calendar hierarchy by combining attributes that belong to a single calendar type.</span></span> <span data-ttu-id="b6387-163">例如，会计日历层次结构可能包含以下级别：会计年度、会计半年、会计季度、会计月以及会计日。</span><span class="sxs-lookup"><span data-stu-id="b6387-163">For example, a fiscal calendar hierarchy may contain the following levels: Fiscal Year, Fiscal Half Year, Fiscal Quarter, Fiscal Month, and Fiscal Day.</span></span>  
  
## <a name="adding-time-intelligence-with-the-business-intelligence-wizard"></a><span data-ttu-id="b6387-164">使用商业智能向导添加时间智能。</span><span class="sxs-lookup"><span data-stu-id="b6387-164">Adding Time Intelligence with the Business Intelligence Wizard</span></span>  
 <span data-ttu-id="b6387-165">定义时间维度并将该维度添加到多维数据集之后，可以使用商业智能向导添加时间智能功能，如“本期截止到现在”、“期间到期间”以及“移动平均”等度量值。</span><span class="sxs-lookup"><span data-stu-id="b6387-165">After you have defined a time dimension and added that dimension to a cube, you can use the Business Intelligence Wizard to add time intelligence functionality, such as period-to-date, period-to-period, and rolling average measures.</span></span> <span data-ttu-id="b6387-166">有关详细信息，请参阅 [使用商业智能向导定义时间智能计算](define-time-intelligence-calculations-using-the-business-intelligence-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="b6387-166">For more information, see [Define Time Intelligence Calculations using the Business Intelligence Wizard](define-time-intelligence-calculations-using-the-business-intelligence-wizard.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b6387-167">您不能使用商业智能向导向服务器时间维度中添加时间智能。</span><span class="sxs-lookup"><span data-stu-id="b6387-167">You cannot use the Business Intelligence Wizard to add time intelligence to server time dimensions.</span></span> <span data-ttu-id="b6387-168">商业智能向导添加了一个支持时间智能的层次结构，必须将此层次结构绑定到时间维度表的某个列。</span><span class="sxs-lookup"><span data-stu-id="b6387-168">The Business Intelligence Wizard adds a hierarchy to support time intelligence, and this hierarchy must be bound to a column of the time dimension table.</span></span> <span data-ttu-id="b6387-169">服务器时间维度没有对应的时间维度表，因此无法支持这个附加的层次结构。</span><span class="sxs-lookup"><span data-stu-id="b6387-169">Server time dimensions do not have a corresponding time dimension table and therefore cannot support this additional hierarchy.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b6387-170">另请参阅</span><span class="sxs-lookup"><span data-stu-id="b6387-170">See Also</span></span>  
 <span data-ttu-id="b6387-171">[通过生成时间表来创建时间维度](create-a-time-dimension-by-generating-a-time-table.md) </span><span class="sxs-lookup"><span data-stu-id="b6387-171">[Create a Time Dimension by Generating a Time Table](create-a-time-dimension-by-generating-a-time-table.md) </span></span>  
 <span data-ttu-id="b6387-172">[商业智能向导的 F1 帮助](../business-intelligence-wizard-f1-help.md) </span><span class="sxs-lookup"><span data-stu-id="b6387-172">[Business Intelligence Wizard F1 Help](../business-intelligence-wizard-f1-help.md) </span></span>  
 [<span data-ttu-id="b6387-173">维度类型</span><span class="sxs-lookup"><span data-stu-id="b6387-173">Dimension Types</span></span>](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties-types.md)  
  
  
