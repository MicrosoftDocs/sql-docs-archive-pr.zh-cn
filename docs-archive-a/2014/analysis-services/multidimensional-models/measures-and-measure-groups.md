---
title: 度量值和度量值组 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- measure groups [Analysis Services]
- measures [Analysis Services], about measures
- OLAP objects [Analysis Services], measures
- aggregate functions [Analysis Services]
- granularity
- measure groups [Analysis Services], about measure groups
- measures [Analysis Services]
- aggregations [Analysis Services], measures
- fact tables [Analysis Services]
ms.assetid: 4f0122f9-c3a5-4172-ada3-5bc5f7b1cc9a
author: minewiskan
ms.author: owend
ms.openlocfilehash: daac03573880328ffe2648343d5af45eb7b07801
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87689626"
---
# <a name="measures-and-measure-groups"></a><span data-ttu-id="84f1c-102">度量值和度量值组</span><span class="sxs-lookup"><span data-stu-id="84f1c-102">Measures and Measure Groups</span></span>
  <span data-ttu-id="84f1c-103">多维数据集包括 *度量值组* 中的 *度量值*、业务逻辑和给出上下文用于计算度量值提供的数值数据的维度集合。</span><span class="sxs-lookup"><span data-stu-id="84f1c-103">A cube includes *measures* in *measure groups*, business logic, plus a collection of dimensions that give context for evaluating the numerical data that a measure provides.</span></span> <span data-ttu-id="84f1c-104">度量值和度量值组都是多维数据集的必备组件。</span><span class="sxs-lookup"><span data-stu-id="84f1c-104">Both measures and measure groups are an essential component of a cube.</span></span> <span data-ttu-id="84f1c-105">多维数据集不能缺少其中的任何一项。</span><span class="sxs-lookup"><span data-stu-id="84f1c-105">A cube cannot exist without at least one of each.</span></span>  
  
 <span data-ttu-id="84f1c-106">本主题将介绍 [Measures](#bkmk_measure) 和 [Measure Groups](#bkmk_mg)。</span><span class="sxs-lookup"><span data-stu-id="84f1c-106">This topic describes [Measures](#bkmk_measure) and [Measure Groups](#bkmk_mg).</span></span> <span data-ttu-id="84f1c-107">它还包含以下表格，以及指向有关创建和配置度量值和度量值组的过程步骤的链接。</span><span class="sxs-lookup"><span data-stu-id="84f1c-107">It also contains the following table, with links to procedural steps for creating and configuring measures and measure groups.</span></span>  
  
|<span data-ttu-id="84f1c-108">**链接**</span><span class="sxs-lookup"><span data-stu-id="84f1c-108">**Link**</span></span>|<span data-ttu-id="84f1c-109">**说明**</span><span class="sxs-lookup"><span data-stu-id="84f1c-109">**Description**</span></span>|  
|--------------|---------------------|  
|[<span data-ttu-id="84f1c-110">在多维模型中创建度量值和度量值组</span><span class="sxs-lookup"><span data-stu-id="84f1c-110">Create Measures and Measure Groups in Multidimensional Models</span></span>](create-measures-and-measure-groups-in-multidimensional-models.md)|<span data-ttu-id="84f1c-111">选择多种方法中的其中一种来创建度量值和度量值组。</span><span class="sxs-lookup"><span data-stu-id="84f1c-111">Choose from one of several approaches for creating measures and measure groups.</span></span>|  
|[<span data-ttu-id="84f1c-112">配置度量值属性</span><span class="sxs-lookup"><span data-stu-id="84f1c-112">Configure Measure Properties</span></span>](configure-measure-properties.md)|<span data-ttu-id="84f1c-113">如果使用多维数据集向导来启动多维数据集，则在聚合值之前可能需要更改聚合方法、应用数据格式、在客户端应用程序中设置该度量值的可见性，或添加度量值表达式以处理数据。</span><span class="sxs-lookup"><span data-stu-id="84f1c-113">If you used the Cube Wizard to start your cube, you might need to change the aggregation method, apply a data format, set the visibility of the measure in client applications, or possibly add a measure expression to manipulate the data before values are aggregated.</span></span>|  
|[<span data-ttu-id="84f1c-114">配置度量值组属性</span><span class="sxs-lookup"><span data-stu-id="84f1c-114">Configure Measure Group Properties</span></span>](configure-measure-group-properties.md)|<span data-ttu-id="84f1c-115">在多维模型中，度量值组相当于源数据仓库中的事实数据表。</span><span class="sxs-lookup"><span data-stu-id="84f1c-115">In a multidimensional model, a measure group equates to a fact table in the source data warehouse.</span></span> <span data-ttu-id="84f1c-116">通过度量值组的属性，你可以指定缓存行为、存储以及在度量值组级别统一操作的处理指令。</span><span class="sxs-lookup"><span data-stu-id="84f1c-116">Properties on a measure group allow you to specify caching behaviors, storage, and processing directives that operate collectively at the measure group level.</span></span> <span data-ttu-id="84f1c-117">分区配置部分确定于你在度量值组对象上设置的属性。</span><span class="sxs-lookup"><span data-stu-id="84f1c-117">Partition configuration is partly determined by the properties you set on measure group objects.</span></span>|  
|[<span data-ttu-id="84f1c-118">使用聚合函数</span><span class="sxs-lookup"><span data-stu-id="84f1c-118">Use Aggregate Functions</span></span>](use-aggregate-functions.md)|<span data-ttu-id="84f1c-119">了解可分配给度量值的聚合方法。</span><span class="sxs-lookup"><span data-stu-id="84f1c-119">Understand the aggregation methods that can be assigned to a measure.</span></span>|  
|[<span data-ttu-id="84f1c-120">定义半累加性行为</span><span class="sxs-lookup"><span data-stu-id="84f1c-120">Define Semiadditive Behavior</span></span>](define-semiadditive-behavior.md)|<span data-ttu-id="84f1c-121">半累加性行为是指对某些维度有效而对其他维度无效的聚合。</span><span class="sxs-lookup"><span data-stu-id="84f1c-121">Semiadditive behavior refers to aggregations that are valid for some dimensions but not others.</span></span> <span data-ttu-id="84f1c-122">常见示例为银行帐户余额。</span><span class="sxs-lookup"><span data-stu-id="84f1c-122">A common example is a bank account balance.</span></span> <span data-ttu-id="84f1c-123">你可能想按客户和地域（而不是时间）来聚合余额。</span><span class="sxs-lookup"><span data-stu-id="84f1c-123">You might want to aggregate balances by customer and region, but not time.</span></span> <span data-ttu-id="84f1c-124">例如，您可能不想连续数日从相同帐户添加余额。</span><span class="sxs-lookup"><span data-stu-id="84f1c-124">For example, you would not want to add balances from the same account over consecutive days.</span></span> <span data-ttu-id="84f1c-125">若要定义半累加性行为，请使用“添加商业智能向导”。</span><span class="sxs-lookup"><span data-stu-id="84f1c-125">To define semiadditive behavior,   use the Add Business Intelligence Wizard.</span></span>|  
|[<span data-ttu-id="84f1c-126">链接度量值组</span><span class="sxs-lookup"><span data-stu-id="84f1c-126">Linked Measure Groups</span></span>](linked-measure-groups.md)|<span data-ttu-id="84f1c-127">重用同一数据库中或不同 Analysis Services 数据库中其他多维数据集的现有度量值组。</span><span class="sxs-lookup"><span data-stu-id="84f1c-127">Repurpose an existing measure group in other cubes in the same database or in different Analysis Services databases.</span></span>|  
  
##  <a name="measures"></a><a name="bkmk_measure"></a><span data-ttu-id="84f1c-128">措施</span><span class="sxs-lookup"><span data-stu-id="84f1c-128">Measures</span></span>  
 <span data-ttu-id="84f1c-129">度量值表示一个列，其中包含可以聚合的可计量数据（通常是数值）。</span><span class="sxs-lookup"><span data-stu-id="84f1c-129">A measure represents a column that contains quantifiable data, usually numeric, that can be aggregated.</span></span> <span data-ttu-id="84f1c-130">度量值表示组织活动的一些方面，这些方面以货币术语（如收入、利润或成本）表示，按计数（库存水平、员工数、客户或订单），或者按采用业务逻辑的更复杂的计算表示。</span><span class="sxs-lookup"><span data-stu-id="84f1c-130">Measures represent some aspect of organizational activity, expressed in monetary terms (such as revenue, margins, or costs) or as counts (inventory levels, number of employees, customers, or orders), or as a more complex calculation that incorporates business logic.</span></span>  
  
 <span data-ttu-id="84f1c-131">每个多维数据集必须至少具有一个度量值，不过大多数都有很多个度量值，有时达到数百个。</span><span class="sxs-lookup"><span data-stu-id="84f1c-131">Every cube must have at least one measure, but most have many, sometimes numbering in the hundreds.</span></span> <span data-ttu-id="84f1c-132">从结构上来说，度量值通常映射到事实数据表中的源列，该列提供用于加载度量值的值。</span><span class="sxs-lookup"><span data-stu-id="84f1c-132">Structurally, a measure is often mapped to a source column in a fact table, with the column providing the values used to load the measure.</span></span> <span data-ttu-id="84f1c-133">或者，你还可以用 MDX 定义度量值。</span><span class="sxs-lookup"><span data-stu-id="84f1c-133">Alternatively, you can also define a measure using MDX.</span></span>  
  
 <span data-ttu-id="84f1c-134">度量值与上下文相关，在上下文的数值数据上运行，该上下文由碰巧包含在查询中的任何维度成员确定。</span><span class="sxs-lookup"><span data-stu-id="84f1c-134">Measures are context-sensitive, operating on numeric data in a context that is determined by whichever dimension members happen to be included in the query.</span></span> <span data-ttu-id="84f1c-135">例如，计算**分销商销售额**的度量值将由 `Sum` 运算符支持，并且将添加查询中包含的每个维度成员的销售额。</span><span class="sxs-lookup"><span data-stu-id="84f1c-135">For example, a measure that calculates **Reseller Sales** will be backed by a `Sum` operator, and it will add the sales amounts for each dimension member included in the query.</span></span> <span data-ttu-id="84f1c-136">无论查询指定单个产品、 汇总到一个类别，还是按时间或地域进行切分，该度量值都应生成对查询中所含维度有效的操作。</span><span class="sxs-lookup"><span data-stu-id="84f1c-136">Whether the query specifies individual products, rolls up to a category, or is sliced by time or geography, the measure should produce an operation that is valid for the dimensions included in the query.</span></span>  
  
 <span data-ttu-id="84f1c-137">在此示例中，“分销商销售”沿“销售区域”层次结构聚合为各种级别\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="84f1c-137">In this example **Reseller Sales** aggregates to various levels along the **Sales Territory** hierarchy.</span></span>  
  
 <span data-ttu-id="84f1c-138">![调出度量值和维度的 PivotTable](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "调出度量值和维度的 PivotTable")</span><span class="sxs-lookup"><span data-stu-id="84f1c-138">![PivotTable with measures and dimensions called out](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "PivotTable with measures and dimensions called out")</span></span>  
  
 <span data-ttu-id="84f1c-139">当包含数值源数据的事实数据表也包含查询中使用的维度表的指针时，度量值将产生有效结果。</span><span class="sxs-lookup"><span data-stu-id="84f1c-139">Measures produce valid results when the fact table that contains the numeric source data also contains pointers to dimension tables that are used in the query.</span></span> <span data-ttu-id="84f1c-140">使用分销商销售示例时，如果存储了销售额的各行还存储了产品表、日期表或销售区域表的指针，则包含这些维度的成员的查询将会正确解析。</span><span class="sxs-lookup"><span data-stu-id="84f1c-140">Using the Reseller Sales example, if each row storing a sales amount also stores a pointer to a product table, a date table, or a sales territory table, then queries that include members from those dimension will resolve correctly.</span></span>  
  
 <span data-ttu-id="84f1c-141">如果该度量值与查询中使用的维度无关，将发生什么？</span><span class="sxs-lookup"><span data-stu-id="84f1c-141">What happens if the measure is unrelated to the dimensions used in query?</span></span> <span data-ttu-id="84f1c-142">通常，Analysis Services 将显示默认度量值，并且所有成员的值都相同。</span><span class="sxs-lookup"><span data-stu-id="84f1c-142">Typically, Analysis Services will show the default measure, and the value will be the same for all members.</span></span> <span data-ttu-id="84f1c-143">在此示例中，用联机目录测量客户进行的直接销售的“Internet 销售”与销售组织无关。 \*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="84f1c-143">In this example, **Internet Sales**, which measure direct sales placed by customers using the online catalog, has no relationship to the sales organization.</span></span>  
  
 <span data-ttu-id="84f1c-144">![显示重复度量值的数据透视表](../media/ssas-unrelatedmeasure.PNG "显示重复度量值的数据透视表")</span><span class="sxs-lookup"><span data-stu-id="84f1c-144">![Pivottable showing repeated measure values](../media/ssas-unrelatedmeasure.PNG "Pivottable showing repeated measure values")</span></span>  
  
 <span data-ttu-id="84f1c-145">为了尽量减少在客户端应用程序遇到这些行为的机会，你可在同一数据库中生成多个多维数据集或透视，并确保每个多维数据集或透视仅包含相关对象。</span><span class="sxs-lookup"><span data-stu-id="84f1c-145">To minimize the chances of encountering these behaviors in a client application, you could build multiple cubes or perspectives within the same database, and ensure that each cube or perspective contains only related objects.</span></span> <span data-ttu-id="84f1c-146">需要检查的关系位于度量值组（映射到事实数据表）和维度之间。</span><span class="sxs-lookup"><span data-stu-id="84f1c-146">The relationships you need to check are between the measure group (mapped to the fact table) and the dimensions.</span></span>  
  
##  <a name="measure-groups"></a><a name="bkmk_mg"></a><span data-ttu-id="84f1c-147">度量值组</span><span class="sxs-lookup"><span data-stu-id="84f1c-147">Measure Groups</span></span>  
 <span data-ttu-id="84f1c-148">在多维数据集中，度量值按照其基础事实数据表分组为多个度量值组。</span><span class="sxs-lookup"><span data-stu-id="84f1c-148">In a cube, measures are grouped by their underlying fact tables into measure groups.</span></span> <span data-ttu-id="84f1c-149">度量值组用于使维度和度量值相互关联。</span><span class="sxs-lookup"><span data-stu-id="84f1c-149">Measure groups are used to associate dimensions with measures.</span></span> <span data-ttu-id="84f1c-150">度量值组还可用于将非重复计数作为其聚合行为的度量值。</span><span class="sxs-lookup"><span data-stu-id="84f1c-150">Measure groups are also used for measures that have distinct count as their aggregation behavior.</span></span> <span data-ttu-id="84f1c-151">将每个非重复计数度量值放入自己的度量值组后，可优化聚合处理。</span><span class="sxs-lookup"><span data-stu-id="84f1c-151">Placing each distinct count measure into its own measure group optimizes aggregation processing.</span></span>  
  
 <span data-ttu-id="84f1c-152">一个简单的 <xref:Microsoft.AnalysisServices.MeasureGroup> 对象包含组名、存储模式和处理模式等基本信息。</span><span class="sxs-lookup"><span data-stu-id="84f1c-152">A simple <xref:Microsoft.AnalysisServices.MeasureGroup> object is composed of basic information like the group name, storage mode, and processing mode.</span></span> <span data-ttu-id="84f1c-153">它还包含其组成部分；度量值、维度和构成度量值组的分区。</span><span class="sxs-lookup"><span data-stu-id="84f1c-153">It also contains its constituent parts; the measures, dimensions, and partitions that form the composition of the measure group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="84f1c-154">另请参阅</span><span class="sxs-lookup"><span data-stu-id="84f1c-154">See Also</span></span>  
 <span data-ttu-id="84f1c-155">[多维模型中的多维数据集](cubes-in-multidimensional-models.md) </span><span class="sxs-lookup"><span data-stu-id="84f1c-155">[Cubes in Multidimensional Models](cubes-in-multidimensional-models.md) </span></span>  
 [<span data-ttu-id="84f1c-156">在多维模型中创建度量值和度量值组</span><span class="sxs-lookup"><span data-stu-id="84f1c-156">Create Measures and Measure Groups in Multidimensional Models</span></span>](create-measures-and-measure-groups-in-multidimensional-models.md)  
  
  
