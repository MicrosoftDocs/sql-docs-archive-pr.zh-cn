---
title: 使用数据源视图创建多维数据集 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: bec845a1-d10c-4d45-9acf-0a302adfee47
author: minewiskan
ms.author: owend
ms.openlocfilehash: 35099351bafcb6277fbd3649082b334c2a53a4b1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691977"
---
# <a name="create-a-cube-using-a-data-source-view"></a>使用数据源视图创建多维数据集
  如果您想要使用现有的数据源视图，则可以使用这个生成新多维数据集的方法。 使用此方法，您可以指定数据源视图并选择您要在数据源视图中使用的事实数据表和维度表。 然后，您选择要包括在多维数据集中的维度和度量值。  
  
 若要使用数据源创建多维数据集，请在解决方案资源管理器中右键单击“多维数据集”，然后选择“新建多维数据集”。******** 多维数据集向导将打开。  
  
## <a name="selecting-the-build-method"></a>选择生成方法  
 在向导的 **“选择生成方法”** 页上，单击 **“使用数据源生成多维数据集”**。  
  
 如果您选中 **“自动生成”** 复选框，则向导将为您分析数据源视图，以便配置多维数据集及其维度。 该向导将标识事实数据表和维度表，选择要包括在多维数据集中的度量值，并且生成层次结构。 在向导的每一页上，您可以检查并更改在选择 **“自动生成”** 的情况下向导进行的选择。 如果您不选择 **“自动生成”**，将手动进行所有这些选择。  
  
 如果您选择 **“自动生成”**，则可以在该向导的任何页上单击 **“完成”** 以便跳到最后一页，并且将接受该向导的其余所有页的默认配置。 在向导的最后一页上，您可以在完成向导前查看多维数据集的结构。  
  
 如果您未选择 **“自动生成”**，则必须自己选择事实数据表和维度表。 该向导将生成您选择创建的任何维度，但您必须使用维度设计器在这些维度中手动生成用户定义的层次结构。 如果您在运行多维数据集向导前已创建了要在多维数据集中使用的维度，则此要求可能没有任何影响。  
  
## <a name="selecting-the-data-source-view"></a>选择数据源视图  
 如果您使用现有数据源来创建多维数据集，则第一步是指定该多维数据集所基于的数据源视图。 在向导的 **“选择数据源视图”** 页上，选择现有的数据源视图。 在预览窗格中，可以查看所选数据源视图中的表。 若要显示任何选定数据源视图的架构，请单击 **“浏览”**。  
  
 如果未列出您要使用的数据源视图，则在多维数据集向导中，单击 **“取消”**，然后打开数据源视图向导。 还可以单击“文件”菜单上的“添加新项”，以便从其他数据库（或其他位置）添加现有数据源视图。******** 有关创建数据源视图的详细信息，请参阅 [多维模型中的数据源视图](data-source-views-in-multidimensional-models.md)。  
  
> [!NOTE]  
>  数据源视图必须包含至少一个表，以便在此页上列出。 不能基于不具有任何表的数据源视图创建多维数据集。  
  
## <a name="identify-fact-and-dimension-tables"></a>标识事实数据表和维度表  
 在多维数据集向导中，使用该向导的 **“标识事实数据表和维度表”** 页选择创建多维数据集所需的事实数据表和维度表。 如果您选中了 **“自动生成”** 复选框以便创建多维数据集，则在该页首次出现时将选择向导检测到的事实数据表或维度表。 如果该向导检测到某个表既是事实数据表又是维度表，则两列都选择。 如果该向导检测到某个表既不是事实数据表又不是维度表，则不选择任何列。 如果对于多维数据集设计您不需要某个表，则取消选中 **“事实”** 和 **“维度”** 复选框。  
  
 如果您未选中 **“自动生成”** 复选框，将必须手动进行所有选择。 使用 **“表”** 选项卡或 **“关系图”** 选项卡：  
  
-   **“表”** 选项卡以表格式列出表。 选中 **“事实”** 列或 **“关系图”** 列中的复选框。  
  
-   **“关系图”** 选项卡将显示数据源视图架构。 将对表进行颜色编码以便指示事实或维度。 单击架构中的任何表，然后单击 **“事实”** 或 **“维度”** 以便选择或取消选择针对该表的设置。 使用 **“缩放”** 按钮可以更改放大倍数。  
  
> [!NOTE]  
>   在 **“关系图”** 选项卡上，您可以放大或最大化向导窗口以便查看架构。  
  
 如果在数据源视图中存在时间维度表，则在 **“时间维度表”** 列表中选择该表。 如果没有，请保留 **\<None>** 选中状态。 这是列表上的默认项。 将某个表选择为时间维度表还将在 **“表”** 和 **“关系图”** 选项卡上将其作为维度表选择。  
  
## <a name="defining-time-periods"></a>定义时间段  
 如果您在选择表类型时指定了某一时间维度表，则使用向导的 **“定义时间段”** 页可以指定表中与标准时间段相对应的列。 在 **“时间属性名称”** 下查找标准期间。 对于在时间维度表中具有相应列的每一行，选择 **“时间表列”** 下的正确的列。 该向导使用您指定的关联创建属性并建议对于您的数据有意义的时间层次结构。 这些关联还为新的时间维度中的相应属性设置 **“类型”** 属性。 然后，该向导基于时间维度表创建时间维度。  
  
 在您创建多维数据集后，可以使用商业智能向导添加对多维数据集的时间智能增强功能。 这些增强功能包括“本期截止到现在”、“移动平均”和“期间到期间”视图。  
  
## <a name="selecting-dimensions"></a>选择维度  
 使用向导的 **“选择维度”** 页可以向多维数据集添加现有维度。 只有在存在与新多维数据集中的维度表相对应的共享维度时，才会出现此页。  
  
 若要添加现有维度，请在“共享维度”列表中选择一个或多个维度，然后单击右箭头 (**>**) 按钮将这些维度移至“多维数据集维度”列表。******** 单击双箭头 (**>>**) "按钮移动列表中的所有维度。  
  
 如果某一现有维度在该列表中未出现，但您认为应该出现，则可以单击 **“返回”** 并更改一个或多个表的表类型设置。 现有维度还必须与多维数据集中至少一个事实数据表相关，才能在 **“共享维度”** 列表中出现。  
  
## <a name="selecting-measures"></a>选择度量值  
 使用向导的 **“选择度量值”** 页可以选择要在多维数据集中包含的度量值。 标记为事实数据表的每个表都将在该列表中作为度量值组出现，并且每个数值非键列都将在列表上作为度量值出现。 默认情况下，将选择每个度量值组中的每个度量值。 对于您不希望在多维数据集中包含的度量值，可以取消选中其旁边的复选框。 若要从多维数据集中删除某一度量值组的所有度量值，请取消选中“度量值组/度量值”复选框。****  
  
 “度量值组/度量值”下列出的度量值名称将反映列名。**** 您可以单击包含要编辑的名称的单元。  
  
 若要查看任何度量值的数据，请右键单击列表中的任何度量值行，然后单击“查看示例数据”。**** 这将打开 **“数据示例查看器”** 并显示相应事实数据表的最多前 1000 条记录。  
  
## <a name="reviewing-new-dimensions"></a>查看新维度  
 使用向导的 **“查看新维度”** 页可查看向导创建的任何维度的结构。 这些维度在此向导页的 **“新建维度”** 树视图中列出。 可以按下列方式查看维度：  
  
-   展开要查看其属性和层次结构的任何维度。  
  
-   展开任何维度之下的 **“属性”** 文件夹可查看维度中的属性。  
  
-   展开任何维度之下的 **“层次结构”** 文件夹可查看维度中的层次结构。  
  
-   展开要查看其级别的任何层次结构。  
  
> [!NOTE]  
>  您可以放大或最大化向导窗口以便更好地查看树。  
  
 若要从多维数据集中删除任何对象，请取消选中该对象旁边的复选框。 取消选中某一对象旁边的复选框还会删除该对象之下的所有对象。 对象之间的依赖关系是强制的，因此，如果您删除某一属性，则依赖于该属性的所有层次结构级别也将被删除。 例如，取消选中某一层次结构旁的复选框将清除该层次结构中所有级别旁的复选框，并且将删除这些级别以及层次结构。 无法删除维度的键属性。  
  
 您可以通过以下方式重命名任何维度、属性、层次结构或级别：单击名称或右键单击名称，然后单击快捷菜单上的 **" \<object> 重命名**"，其中 **\<object>** 是 "**维度**"、"**属性**" 或 "**级别**"。  
  
 在向导的“标识事实数据表和维度表”页上定义的维度表的数目和此向导页上列出的维度数目之间不一定存在一对一关系。**** 根据数据源视图中各表之间的关系，该向导可以使用两个或更多的表来生成维度（例如，按照雪花型架构的要求）。  
  
## <a name="completing-the-cube-wizard"></a>完成多维数据集向导  
 在向导的 **“完成向导”** 页中，您可以查看新的多维数据集中的度量值组、度量值和维度。 在 **“多维数据集名称”** 框中，键入多维数据集的名称。 然后，如果您对该多维数据集满意，则单击 **“完成”**。 单击 **“返回”** 可返回向导的之前任何页并进行更改。  
  
  
