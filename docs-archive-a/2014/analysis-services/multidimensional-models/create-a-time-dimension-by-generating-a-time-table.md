---
title: 通过生成时间表来创建时间维度 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- time dimensions [Analysis Services]
- dimensions [Analysis Services], time
- time periods [Analysis Services]
- range-based time dimensions [Analysis Services]
- server time dimensions [Analysis Services]
- calendars [Analysis Services]
- table-based time dimensions [Analysis Services]
ms.assetid: 58303326-1361-4c0e-9f3d-642ce69c4f6a
author: minewiskan
ms.author: owend
ms.openlocfilehash: 978db9a5592654e44e021b5a2fe0a20e42794ca0
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691959"
---
# <a name="create-a-time-dimension-by-generating-a-time-table"></a><span data-ttu-id="349b4-102">通过生成时间表来创建时间维度</span><span class="sxs-lookup"><span data-stu-id="349b4-102">Create a Time Dimension by Generating a Time Table</span></span>
  <span data-ttu-id="349b4-103">在中 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ， [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 当源数据库中没有可用的时间表时，可以使用中的维度向导创建时间维度。</span><span class="sxs-lookup"><span data-stu-id="349b4-103">In [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can use the Dimension Wizard in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] to create a time dimension when no time table is available in the source database.</span></span> <span data-ttu-id="349b4-104">在 **“选择创建方法”** 页上选择下列选项之一可执行此操作。</span><span class="sxs-lookup"><span data-stu-id="349b4-104">You do this by selecting one of the following options on the **Select Creation Method** page:</span></span>  
  
-   <span data-ttu-id="349b4-105">**在数据源中生成时间表** 如果您具有在基础数据源中创建对象的权限，可选择此选项。</span><span class="sxs-lookup"><span data-stu-id="349b4-105">**Generate a time table in the data source** Select this option when you have permission to create objects in the underlying data source.</span></span> <span data-ttu-id="349b4-106">该向导将生成一个时间表并将此表存储在数据源中。</span><span class="sxs-lookup"><span data-stu-id="349b4-106">The wizard will then generate a time table and store this table in the data source.</span></span> <span data-ttu-id="349b4-107">然后，该向导根据此时间表创建时间维度。</span><span class="sxs-lookup"><span data-stu-id="349b4-107">The wizard then creates the time dimension from this time table.</span></span>  
  
-   <span data-ttu-id="349b4-108">**在服务器上生成时间表** 如果您没有在基础数据源中创建对象的权限，则选择此选项。</span><span class="sxs-lookup"><span data-stu-id="349b4-108">**Generate a time table on the server** Select this option when you do not have permission to create objects in the underlying data source.</span></span> <span data-ttu-id="349b4-109">该向导将生成一个时间表并将此表存储在服务器上而不是数据源中。</span><span class="sxs-lookup"><span data-stu-id="349b4-109">The wizard will then generate and store a table on the server instead of in the data source.</span></span> <span data-ttu-id="349b4-110"> (从服务器上的时间表创建的维度称为 "*服务器时间维度*"。 ) 向导然后根据此表创建服务器时间维度。</span><span class="sxs-lookup"><span data-stu-id="349b4-110">(The dimension created from a time table on the server is called a *server time dimension*.) The wizard then creates the server time dimension from this table.</span></span>  
  
 <span data-ttu-id="349b4-111">创建时间维度时，需要指定时间段以及维度的开始日期和结束日期。</span><span class="sxs-lookup"><span data-stu-id="349b4-111">When you create a time dimension, you specify the time periods, and also the start and end dates for the dimension.</span></span> <span data-ttu-id="349b4-112">向导将使用指定的时间段创建时间属性。</span><span class="sxs-lookup"><span data-stu-id="349b4-112">The wizard uses the specified time periods to create the time attributes.</span></span> <span data-ttu-id="349b4-113">处理维度时， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 会生成并存储支持指定日期和时间段所需的数据。</span><span class="sxs-lookup"><span data-stu-id="349b4-113">When you process the dimension, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] generates and stores the data that is required to support the specified dates and periods.</span></span> <span data-ttu-id="349b4-114">向导使用为时间维度创建的属性来建议维度的层次结构。</span><span class="sxs-lookup"><span data-stu-id="349b4-114">The wizard uses the attributes created for a time dimension to recommend hierarchies for the dimension.</span></span> <span data-ttu-id="349b4-115">层次结构反映了不同时间段之间的关系，并且考虑了不同的日历。</span><span class="sxs-lookup"><span data-stu-id="349b4-115">The hierarchies reflect the relationships between different time periods and take account of different calendars.</span></span> <span data-ttu-id="349b4-116">例如，在标准日历层次结构中，“周”级别在“年”级别下显示，而不是在“月”级别下显示，因为各个年份中包含的周数非常平均，而各个月中包含的周数并不平均。</span><span class="sxs-lookup"><span data-stu-id="349b4-116">For example, in a standard calendar hierarchy, a Weeks level appears under a Years level but not under a Months level, because weeks divide evenly into years but not into months.</span></span> <span data-ttu-id="349b4-117">相反，在生产日历或报表日历层次结构中，各个月中包含的周数非常平均，因此“周”级别在“月”级别下显示。</span><span class="sxs-lookup"><span data-stu-id="349b4-117">In contrast, in a manufacturing or reporting calendar hierarchy, weeks divide evenly months, so a Weeks level appears under a Months level.</span></span>  
  
## <a name="define-time-periods"></a><span data-ttu-id="349b4-118">定义时间段</span><span class="sxs-lookup"><span data-stu-id="349b4-118">Define Time Periods</span></span>  
 <span data-ttu-id="349b4-119">使用向导的 **“定义时间段”** 页来指定要包含在维度中的日期范围。</span><span class="sxs-lookup"><span data-stu-id="349b4-119">You use the **Define Time Periods** page of the wizard to specify the range of dates that you want to include in the dimension.</span></span> <span data-ttu-id="349b4-120">例如，您可以选择一个从数据中最早年份的 1 月 1 日开始，并在当前年份过后的一或两年结束（允许执行更多事务）的范围。</span><span class="sxs-lookup"><span data-stu-id="349b4-120">For example, you might select a range that starts on January 1 of the earliest year in your data and that ends one or two years beyond the current year (to allow for future transactions).</span></span> <span data-ttu-id="349b4-121">不在该范围内的事务或者不显示，或者显示为维度中的未知成员，具体取决于该维度的 `UnknownMemberVisible` 属性设置。</span><span class="sxs-lookup"><span data-stu-id="349b4-121">Transactions that are outside the range either do not appear or appear as unknown members in the dimension, depending on the `UnknownMemberVisible` property setting for the dimension.</span></span> <span data-ttu-id="349b4-122">您也可以更改数据所使用的周的第一天（默认值为星期日）。</span><span class="sxs-lookup"><span data-stu-id="349b4-122">You can also change the first day of the week used by your data (the default is Sunday).</span></span>  
  
 <span data-ttu-id="349b4-123">选择在向导创建应用于您的数据的层次结构时要使用的时间段，如“年”、“半年”、“季度”、“四个月”、“月”、“十天”、“周”或“日期”。</span><span class="sxs-lookup"><span data-stu-id="349b4-123">Select the time periods to use when the wizard creates the hierarchies that apply to your data, such as Years, Half Years, Quarters, Trimesters, Months, Ten Days, Weeks, or Date.</span></span> <span data-ttu-id="349b4-124">您始终必须至少选择“日期”时间段。</span><span class="sxs-lookup"><span data-stu-id="349b4-124">You must always select at least the Date time period.</span></span> <span data-ttu-id="349b4-125">“日期”属性是维度的键属性，因此，没有该属性，维度不能发挥作用。</span><span class="sxs-lookup"><span data-stu-id="349b4-125">The Date attribute is the key attribute for the dimension, so the dimension cannot function without it.</span></span>  
  
 <span data-ttu-id="349b4-126">在 **“时间成员名称所用的语言”** 旁边，选择要用于标记维度成员的语言。</span><span class="sxs-lookup"><span data-stu-id="349b4-126">Next to **Language for time member names**, select the language to be used to label the members of the dimension.</span></span>  
  
 <span data-ttu-id="349b4-127">创建完基于日期范围的时间维度之后，您可以使用维度设计器添加或删除时间属性。</span><span class="sxs-lookup"><span data-stu-id="349b4-127">After you create a time dimension that is based on a range of dates, you can use Dimension Designer to add or remove time attributes.</span></span> <span data-ttu-id="349b4-128">由于“日期”属性是维度的键属性，因此，不能将该属性从维度中删除。</span><span class="sxs-lookup"><span data-stu-id="349b4-128">Because the Date attribute is the key attribute for the dimension, you cannot remove it from the dimension.</span></span> <span data-ttu-id="349b4-129">若要对用户隐藏“日期”特性，可以将该特性的 `AttributeHierarchyVisible` 属性更改为 `False`。</span><span class="sxs-lookup"><span data-stu-id="349b4-129">To hide the Date attribute from users, you can change the `AttributeHierarchyVisible` property on the attribute to `False`.</span></span>  
  
## <a name="select-calendars"></a><span data-ttu-id="349b4-130">选择日历</span><span class="sxs-lookup"><span data-stu-id="349b4-130">Select Calendars</span></span>  
 <span data-ttu-id="349b4-131">当您创建时间维度时，所用日历始终包括标准（公历） 12 个月日历（从 1 月 1 日开始，到 12 月 31 日结束）。</span><span class="sxs-lookup"><span data-stu-id="349b4-131">The standard (Gregorian) 12-month calendar, starting on January 1 and ending on December 31, is always included when you create a time dimension.</span></span> <span data-ttu-id="349b4-132">在向导的 **“选择日历”** 页中，您可以指定维度中的层次结构所基于的其他日历。</span><span class="sxs-lookup"><span data-stu-id="349b4-132">On the **Select Calendars** page of the wizard, you can specify additional calendars on which to base hierarchies in the dimension.</span></span> <span data-ttu-id="349b4-133">有关日历类型的说明，请参阅 [创建日期类型维度](database-dimensions-create-a-date-type-dimension.md)。</span><span class="sxs-lookup"><span data-stu-id="349b4-133">For descriptions of the calendar types, see [Create a Date type Dimension](database-dimensions-create-a-date-type-dimension.md).</span></span>  
  
 <span data-ttu-id="349b4-134">根据您在向导的 **“定义时间段”** 页中选定的时间段的不同，日历选择确定在维度中创建的属性。</span><span class="sxs-lookup"><span data-stu-id="349b4-134">Depending on which time periods you select on the **Define Time Periods** page of the wizard, the calendar selections determine attributes that are created in the dimension.</span></span> <span data-ttu-id="349b4-135">例如，如果你在向导的“定义时间段”\*\*\*\* 页中选择“年”\*\*\*\* 和“季度”\*\*\*\* 时间段，在“选择日历”\*\*\*\* 页中选择“会计日历”\*\*\*\*，则会为该会计日历创建 FiscalYear、FiscalQuarter 以及 FiscalQuarterOfYear 属性。</span><span class="sxs-lookup"><span data-stu-id="349b4-135">For example, if you select the **Year** and **Quarter** time periods on the **Define Time Periods** page of the wizard and select **Fiscalcalendar** on the **Select Calendars** page, the FiscalYear, FiscalQuarter, and FiscalQuarterOfYear attributes are created for the fiscal calendar.</span></span>  
  
 <span data-ttu-id="349b4-136">向导还会创建日历特定的层次结构，其中包含为该日历创建的属性。</span><span class="sxs-lookup"><span data-stu-id="349b4-136">The wizard also creates calendar-specific hierarchies that are composed of the attributes that are created for the calendar.</span></span> <span data-ttu-id="349b4-137">对于每个日历，每个层次结构中的每个级别都汇总到其上面的级别中。</span><span class="sxs-lookup"><span data-stu-id="349b4-137">For every calendar, each level in every hierarchy rolls up into the level above it.</span></span> <span data-ttu-id="349b4-138">例如，在标准 12 个月日历中，向导创建“年 - 周”层次结构或“年 - 月”层次结构。</span><span class="sxs-lookup"><span data-stu-id="349b4-138">For example, in the standard 12-month calendar, the wizard creates a hierarchy of Years and Weeks or Years and Months.</span></span> <span data-ttu-id="349b4-139">但是在标准日历中，各个月中包含的周数并不平均，因此，没有“年 - 月 - 周”这类层次结构。</span><span class="sxs-lookup"><span data-stu-id="349b4-139">However, weeks are not contained evenly within months in a standard calendar, so there is no hierarchy of Years, Months, and Weeks.</span></span> <span data-ttu-id="349b4-140">相反，报表日历或生产日历中的各个月中包含的周数非常平均，因此在这些日历中，周级别汇总到月级别中。</span><span class="sxs-lookup"><span data-stu-id="349b4-140">In contrast, weeks in a reporting or manufacturing calendar are evenly divided into months, so in these calendars weeks roll up into months.</span></span>  
  
## <a name="completing-the-dimension-wizard"></a><span data-ttu-id="349b4-141">完成维度向导</span><span class="sxs-lookup"><span data-stu-id="349b4-141">Completing the Dimension Wizard</span></span>  
 <span data-ttu-id="349b4-142">在 **“完成向导”** 页中，查看由向导创建的属性和层次结构，然后命名时间维度。</span><span class="sxs-lookup"><span data-stu-id="349b4-142">On the **Completing the Wizard** page, review the attributes and hierarchies created by the wizard, and then name the time dimension.</span></span> <span data-ttu-id="349b4-143">单击 **“完成”** 完成向导并创建维度。</span><span class="sxs-lookup"><span data-stu-id="349b4-143">Click **Finish** to complete the wizard and create the dimension.</span></span> <span data-ttu-id="349b4-144">创建维度完成后，可以使用维度设计器来更改维度。</span><span class="sxs-lookup"><span data-stu-id="349b4-144">After you complete the dimension, you can change it by using Dimension Designer.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="349b4-145">另请参阅</span><span class="sxs-lookup"><span data-stu-id="349b4-145">See Also</span></span>  
 <span data-ttu-id="349b4-146">[多维模型中的数据源视图](data-source-views-in-multidimensional-models.md) </span><span class="sxs-lookup"><span data-stu-id="349b4-146">[Data Source Views in Multidimensional Models](data-source-views-in-multidimensional-models.md) </span></span>  
 <span data-ttu-id="349b4-147">[创建日期类型维度](database-dimensions-create-a-date-type-dimension.md) </span><span class="sxs-lookup"><span data-stu-id="349b4-147">[Create a Date type Dimension](database-dimensions-create-a-date-type-dimension.md) </span></span>  
 <span data-ttu-id="349b4-148">[数据库维度属性](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties.md) </span><span class="sxs-lookup"><span data-stu-id="349b4-148">[Database Dimension Properties](../multidimensional-models-olap-logical-dimension-objects/database-dimension-properties.md) </span></span>  
 <span data-ttu-id="349b4-149">[维度关系](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md) </span><span class="sxs-lookup"><span data-stu-id="349b4-149">[Dimension Relationships](../multidimensional-models-olap-logical-cube-objects/dimension-relationships.md) </span></span>  
 <span data-ttu-id="349b4-150">[使用现有表创建维度](create-a-dimension-by-using-an-existing-table.md) </span><span class="sxs-lookup"><span data-stu-id="349b4-150">[Create a Dimension by Using an Existing Table](create-a-dimension-by-using-an-existing-table.md) </span></span>  
 [<span data-ttu-id="349b4-151">通过在数据源中生成非时间表来创建维度</span><span class="sxs-lookup"><span data-stu-id="349b4-151">Create a Dimension by Generating a Non-Time Table in the Data Source</span></span>](create-a-dimension-by-generating-a-non-time-table-in-the-data-source.md)  
  
  
