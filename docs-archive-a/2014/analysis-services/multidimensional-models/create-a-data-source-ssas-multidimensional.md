---
title: " (SSAS 多维) 创建数据源 |Microsoft Docs"
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.datasourcedesigner.f1
- sql12.asvs.sqlserverstudio.impersonationinfo.f1
- sql12.asvs.connectionmanager.f1
helpviewer_keywords:
- impersonation [Analysis Services]
- data sources [Analysis Services], creating
- security [Analysis Services], data source connections
ms.assetid: 9fab8298-10dc-45a9-9a91-0c8e6d947468
author: minewiskan
ms.author: owend
ms.openlocfilehash: 7c9ce58bbf19ab7c157fdc4f17afc6b8b7f250af
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87691976"
---
# <a name="create-a-data-source-ssas-multidimensional"></a><span data-ttu-id="340ba-102">创建数据源（SSAS 多维）</span><span class="sxs-lookup"><span data-stu-id="340ba-102">Create a Data Source (SSAS Multidimensional)</span></span>
  <span data-ttu-id="340ba-103">在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 多维模型中，数据源对象表示与您正从其处理（或导入）数据的数据源的连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-103">In an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] multidimensional model, a data source object represents a connection to the data source from which you are processing (or importing) data.</span></span> <span data-ttu-id="340ba-104">一个多维模型必须包含至少一个数据源对象，但您可以添加更多对象以便合并来自若干数据仓库的数据。</span><span class="sxs-lookup"><span data-stu-id="340ba-104">A multidimensional model must contain at least one data source object, but you can add more to combine data from several data warehouses.</span></span> <span data-ttu-id="340ba-105">使用本主题中的说明可为您的模型创建数据源对象。</span><span class="sxs-lookup"><span data-stu-id="340ba-105">Use the instructions in this topic to create a data source object for your model.</span></span> <span data-ttu-id="340ba-106">有关在此对象上设置属性的详细信息，请参阅[设置数据源属性（SSAS 多维）](set-data-source-properties-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="340ba-106">For more information about setting properties on this object, see [Set Data Source Properties &#40;SSAS Multidimensional&#41;](set-data-source-properties-ssas-multidimensional.md).</span></span>  
  
 <span data-ttu-id="340ba-107">本主题包含下列部分：</span><span class="sxs-lookup"><span data-stu-id="340ba-107">This topic includes the following sections:</span></span>  
  
 [<span data-ttu-id="340ba-108">选择数据访问接口</span><span class="sxs-lookup"><span data-stu-id="340ba-108">Choose a Data Provider</span></span>](#bkmk_provider)  
  
 [<span data-ttu-id="340ba-109">设置凭据和模拟选项</span><span class="sxs-lookup"><span data-stu-id="340ba-109">Set Credentials and Impersonation Options</span></span>](#bkmk_impersonation)  
  
 [<span data-ttu-id="340ba-110">查看或编辑连接属性</span><span class="sxs-lookup"><span data-stu-id="340ba-110">View or Edit Connection Properties</span></span>](#bkmk_ConnectionString)  
  
 [<span data-ttu-id="340ba-111">使用数据源向导创建数据源</span><span class="sxs-lookup"><span data-stu-id="340ba-111">Create a Data Source Using the Data Source Wizard</span></span>](#bkmk_steps)  
  
 [<span data-ttu-id="340ba-112">使用现有连接创建数据源</span><span class="sxs-lookup"><span data-stu-id="340ba-112">Create a Data Source Using an Existing Connection</span></span>](#bkmk_connection)  
  
 [<span data-ttu-id="340ba-113">将多个数据源添加到模型</span><span class="sxs-lookup"><span data-stu-id="340ba-113">Add Multiple Data Sources to a Model</span></span>](#bkmk_multipleDS)  
  
##  <a name="choose-a-data-provider"></a><a name="bkmk_provider"></a><span data-ttu-id="340ba-114">选择数据访问接口</span><span class="sxs-lookup"><span data-stu-id="340ba-114">Choose a Data Provider</span></span>  
 <span data-ttu-id="340ba-115">您可以使用托管的 [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Framework 或本机 OLE DB 访问接口来进行连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-115">You can connect using a managed [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Framework or native OLE DB provider.</span></span> <span data-ttu-id="340ba-116">SQL Server 数据源的建议的数据访问接口是 SQL Server Native Client，因为它通常提供更好的性能。</span><span class="sxs-lookup"><span data-stu-id="340ba-116">The recommended data provider for SQL Server data sources is SQL Server Native Client because it typically offers better performance.</span></span>  
  
 <span data-ttu-id="340ba-117">对于 Oracle 和其他第三方数据源，请检查第三方是否提供本机 OLE DB 访问接口，然后首先尝试该访问接口。</span><span class="sxs-lookup"><span data-stu-id="340ba-117">For Oracle and other third-party data sources, check whether the third-party provides a native OLE DB provider and try that first.</span></span> <span data-ttu-id="340ba-118">如果您遇到错误，请尝试在连接管理器中列出的其他 .NET 访问接口或本机 OLE DB 访问接口之一。</span><span class="sxs-lookup"><span data-stu-id="340ba-118">If you encounter errors, try one of the other .NET providers or native OLE DB providers listed in Connection Manager.</span></span> <span data-ttu-id="340ba-119">请确保您使用的任何数据访问接口安装在用于开发和运行 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 解决方案的所有计算机上。</span><span class="sxs-lookup"><span data-stu-id="340ba-119">Be sure that any data provider you use is installed on all computers used to develop and run the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] solution.</span></span>  
  
##  <a name="set-credentials-and-impersonation-options"></a><a name="bkmk_impersonation"></a><span data-ttu-id="340ba-120">设置凭据和模拟选项</span><span class="sxs-lookup"><span data-stu-id="340ba-120">Set Credentials and Impersonation Options</span></span>  
 <span data-ttu-id="340ba-121">数据源连接有时可以使用 Windows 身份验证或数据库管理系统提供的身份验证服务，例如在连接到 SQL Azure 数据库时使用 SQL Server 身份验证。</span><span class="sxs-lookup"><span data-stu-id="340ba-121">A data source connection can sometimes use Windows authentication or an authentication service provided by the database management system, such as SQL Server authentication when connecting to SQL Azure databases.</span></span> <span data-ttu-id="340ba-122">您指定的帐户必须能够登录到远程数据库服务器并对外部数据库具有读取权限。</span><span class="sxs-lookup"><span data-stu-id="340ba-122">The account you specify must have a login on the remote database server and read permissions on the external database.</span></span>  
  
### <a name="windows-authentication"></a><span data-ttu-id="340ba-123">Windows 身份验证</span><span class="sxs-lookup"><span data-stu-id="340ba-123">Windows Authentication</span></span>  
 <span data-ttu-id="340ba-124">使用 Windows 身份验证的连接在数据源设计器的 **“模拟信息”** 选项卡上指定。</span><span class="sxs-lookup"><span data-stu-id="340ba-124">Connections that use Windows authentication are specified on the **Impersonation Information** tab of the Data Source Designer.</span></span> <span data-ttu-id="340ba-125">使用此选项卡选择在连接到外部数据源时 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 运行所基于的帐户。</span><span class="sxs-lookup"><span data-stu-id="340ba-125">Use this tab to choose the impersonation option that specifies the account under which [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] runs when connecting to the external data source.</span></span> <span data-ttu-id="340ba-126">并非在所有情况下都可以使用所有选项。</span><span class="sxs-lookup"><span data-stu-id="340ba-126">Not all options can be used in all scenarios.</span></span> <span data-ttu-id="340ba-127">有关这些选项以及何时使用它们的详细信息，请参阅[设置模拟选项（SSAS - 多维）](set-impersonation-options-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="340ba-127">For more information about these options and when to use them, see [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](set-impersonation-options-ssas-multidimensional.md).</span></span>  
  
### <a name="database-authentication"></a><span data-ttu-id="340ba-128">数据库身份验证</span><span class="sxs-lookup"><span data-stu-id="340ba-128">Database Authentication</span></span>  
 <span data-ttu-id="340ba-129">作为对 Windows 身份验证的替代方法，您可以指定使用数据库管理系统提供的身份验证服务的连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-129">As an alternative to Windows authentication, you can specify a connection that uses an authentication service provided by the database management system.</span></span> <span data-ttu-id="340ba-130">在某些情况下，需要使用数据库身份验证。</span><span class="sxs-lookup"><span data-stu-id="340ba-130">In some cases, using database authentication is required.</span></span> <span data-ttu-id="340ba-131">使用数据库身份验证的情况包括使用 SQL Server 身份验证连接到 Azure SQL 数据库，或访问在不同的操作系统上或在不受信任的域中运行的关系数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-131">Scenarios that call for using database authentication include using SQL Server authentication to connect to an Azure SQL Database, or accessing a relational data source that runs on a different operating system or in a non-trusted domain.</span></span>  
  
 <span data-ttu-id="340ba-132">对于使用数据库身份验证的数据源，在连接字符串上指定数据库登录名的用户名和密码。</span><span class="sxs-lookup"><span data-stu-id="340ba-132">For a data source that uses database authentication, the username and password of a database login is specified on the connection string.</span></span> <span data-ttu-id="340ba-133">当您在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 模型中设置数据源连接时，如果您在连接管理器中输入某一用户名和密码，则凭据将添加到连接字符串中。</span><span class="sxs-lookup"><span data-stu-id="340ba-133">Credentials are added to the connection string when you enter a user name and password in Connection Manager when setting up the data source connection in your [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] model.</span></span> <span data-ttu-id="340ba-134">请记住，应指定对数据具有读取权限的用户标识。</span><span class="sxs-lookup"><span data-stu-id="340ba-134">Remember to specify a user identity that has read permissions to the data.</span></span>  
  
 <span data-ttu-id="340ba-135">在检索数据时，建立连接的客户端库将形成在连接字符串中包括凭据的连接请求。</span><span class="sxs-lookup"><span data-stu-id="340ba-135">When retrieving data, the client library making the connection formulates a connection request that includes the credentials in the connection string.</span></span> <span data-ttu-id="340ba-136">“模拟信息”选项卡中的 Windows 身份验证凭据选项不用于该连接，但可用于其他操作，例如访问本地计算机上的资源。</span><span class="sxs-lookup"><span data-stu-id="340ba-136">Windows authentication credential options in the Impersonation Information tab are not used in the connection, but can be used for other operations, such as accessing resources on the local computer.</span></span> <span data-ttu-id="340ba-137">有关详细信息，请参阅[设置模拟选项（SSAS - 多维）](set-impersonation-options-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="340ba-137">For more information, see [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](set-impersonation-options-ssas-multidimensional.md).</span></span>  
  
 <span data-ttu-id="340ba-138">在您的模型中保存数据源对象后，对连接字符串和密码进行加密。</span><span class="sxs-lookup"><span data-stu-id="340ba-138">After you save the data source object in your model, the connection string and password are encrypted.</span></span>  <span data-ttu-id="340ba-139">出于安全目的，当您随后在工具、脚本或代码中查看密码时，密码的所有可见痕迹都将从连接字符串中删除。</span><span class="sxs-lookup"><span data-stu-id="340ba-139">For security purposes, all visible traces of the password are removed from the connection string when you subsequently view it in tools, script, or code.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="340ba-140">默认情况下， [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 不会将密码与连接字符串一起保存。</span><span class="sxs-lookup"><span data-stu-id="340ba-140">By default, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] does not save passwords with the connection string.</span></span> <span data-ttu-id="340ba-141">如果未保存密码，则 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 会在需要密码时提示您输入密码。</span><span class="sxs-lookup"><span data-stu-id="340ba-141">If the password is not saved, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] prompts you to enter the password when it is needed.</span></span> <span data-ttu-id="340ba-142">如果选择保存密码，则密码以加密格式存储在数据连接字符串中。</span><span class="sxs-lookup"><span data-stu-id="340ba-142">If you choose to save the password, the password is stored in encrypted format in the data connection string.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="340ba-143">使用包含数据源的数据库的数据库加密密钥加密该数据源的密码信息。</span><span class="sxs-lookup"><span data-stu-id="340ba-143">encrypts password information for data sources using the database encryption key of the database that contains the data source.</span></span> <span data-ttu-id="340ba-144">对连接信息进行加密之后，必须使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 配置管理器更改 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务帐户或密码，否则无法恢复加密的信息。</span><span class="sxs-lookup"><span data-stu-id="340ba-144">With encrypted connection information, you must use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to change the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account or password or the encrypted information cannot be recovered.</span></span> <span data-ttu-id="340ba-145">有关详细信息，请参阅 [SQL Server Configuration Manager](../../relational-databases/sql-server-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="340ba-145">For more information, see [SQL Server Configuration Manager](../../relational-databases/sql-server-configuration-manager.md).</span></span>  
  
### <a name="defining-impersonation-information-for-data-mining-objects"></a><span data-ttu-id="340ba-146">为数据挖掘对象定义模拟信息</span><span class="sxs-lookup"><span data-stu-id="340ba-146">Defining Impersonation Information for Data Mining Objects</span></span>  
 <span data-ttu-id="340ba-147">数据挖掘查询可以在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务帐户的上下文中执行，但是还可以在提交此查询的用户的上下文中执行，也可以在指定用户的上下文中执行。</span><span class="sxs-lookup"><span data-stu-id="340ba-147">Data mining queries may be executed in the context of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account, but may also be executed in the context of the user submitting the query or in the context of a specified user.</span></span> <span data-ttu-id="340ba-148">执行查询所在的上下文可能会影响查询结果。</span><span class="sxs-lookup"><span data-stu-id="340ba-148">The context in which a query is executed may affect query results.</span></span> <span data-ttu-id="340ba-149">对于数据挖掘 `OPENQUERY` 类型操作，您可能希望数据挖掘查询在当前用户的上下文中执行或在指定用户（无论此用户是否执行此查询）的上下文中执行，而不是在服务帐户的上下文中执行。</span><span class="sxs-lookup"><span data-stu-id="340ba-149">For data mining `OPENQUERY` type operations, you may want the data mining query to execute in the context of the current user or in the context of a specified user (regardless of the user executing the query) rather than in the context of the service account.</span></span> <span data-ttu-id="340ba-150">这使得查询使用受限安全凭据执行。</span><span class="sxs-lookup"><span data-stu-id="340ba-150">This enables the query to be executed with limited security credentials.</span></span> <span data-ttu-id="340ba-151">如果您希望 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 模拟当前用户或模拟指定用户，则请选择 **“使用特定用户名和密码”** 选项或 **“使用当前用户的凭据”** 选项。</span><span class="sxs-lookup"><span data-stu-id="340ba-151">If you want [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to impersonate the current user or to impersonate a specified user, select either the **Use a specific user name and password** or **Use the credentials of the current user** option.</span></span>  
  
##  <a name="create-a-data-source-using-the-data-source-wizard"></a><a name="bkmk_steps"></a><span data-ttu-id="340ba-152">使用数据源向导创建数据源</span><span class="sxs-lookup"><span data-stu-id="340ba-152">Create a Data Source Using the Data Source Wizard</span></span>  
  
1.  <span data-ttu-id="340ba-153">在 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]中，打开要在其中定义数据源的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目或连接到要在其中定义数据源的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库。</span><span class="sxs-lookup"><span data-stu-id="340ba-153">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], open the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project or connect to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database in which you want to define the data source.</span></span>  
  
2.  <span data-ttu-id="340ba-154">在“解决方案资源管理器”中，右键单击“数据源”文件夹，然后单击“新建数据源”以便启动“数据源向导”\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="340ba-154">In **Solution Explorer**, right-click the **Data Sources** folder, and then click **New Data Source** to start the **Data Source Wizard**.</span></span>  
  
3.  <span data-ttu-id="340ba-155">在 **“选择如何定义连接”** 页中，选择 **“基于现有连接或新连接创建数据源”** ，然后单击 **“新建”** 以便打开 **“连接管理器”**。</span><span class="sxs-lookup"><span data-stu-id="340ba-155">On the **Select how to define the connection** page, choose **Create a data source based on an existing or new connection** and then click **New** to open **Connection Manager**.</span></span>  
  
     <span data-ttu-id="340ba-156">在连接管理器中创建新连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-156">New connections are created in Connection Manager.</span></span> <span data-ttu-id="340ba-157">在连接管理器中，选择一个访问接口，然后指定由该访问接口用来连接到基础数据的连接字符串属性。</span><span class="sxs-lookup"><span data-stu-id="340ba-157">In Connection Manager, you select a provider and then specify the connection string properties used by that provider to connect to the underlying data.</span></span> <span data-ttu-id="340ba-158">所需的确切信息取决于选定的访问接口，但通常此类信息包括某个服务器或服务实例、登录到该服务器或服务实例所用的信息、数据库或文件名以及访问接口的其他特定设置。</span><span class="sxs-lookup"><span data-stu-id="340ba-158">The exact information required depends upon the provider selected, but generally such information includes a server or service instance, information for logging on to the server or service instance, a database or file name, and other provider-specific settings.</span></span> <span data-ttu-id="340ba-159">对于此过程的其余部分，我们将采用 SQL Server 的数据库连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-159">For the remainder of this procedure, we'll assume a SQL Server database connection.</span></span>  
  
4.  <span data-ttu-id="340ba-160">选择要用于该连接的 [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Framework 或本机 OLE DB 访问接口。</span><span class="sxs-lookup"><span data-stu-id="340ba-160">Select the [!INCLUDE[msCoName](../../includes/msconame-md.md)] .NET Framework or native OLE DB provider to use for the connection.</span></span>  
  
     <span data-ttu-id="340ba-161">新连接的默认访问接口是“本机 OLE DB\\\[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client”访问接口。</span><span class="sxs-lookup"><span data-stu-id="340ba-161">The default provider for a new connection is the Native OLE DB\\[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client provider.</span></span> <span data-ttu-id="340ba-162">此访问接口用于连接到使用 OLE DB 的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 数据库引擎实例。</span><span class="sxs-lookup"><span data-stu-id="340ba-162">This provider is used to connect to a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Database Engine instance using OLE DB.</span></span> <span data-ttu-id="340ba-163">要连接到 SQL Server 关系数据库，使用 Native OLE DB\SQL Server Native Client 11.0 通常要比使用备用访问接口要快。</span><span class="sxs-lookup"><span data-stu-id="340ba-163">For connections to a SQL Server relational database, using Native OLE DB\SQL Server Native Client 11.0 is often faster than using alternative providers.</span></span>  
  
     <span data-ttu-id="340ba-164">您可以选择一个不同的访问接口来访问其他数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-164">You can choose a different provider to access other data sources.</span></span> <span data-ttu-id="340ba-165">有关支持的提供程序和关系数据库的列表 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ，请参阅[&#40;SSAS 多维&#41;支持的数据源](supported-data-sources-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="340ba-165">For a list of the providers and relational databases supported by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], see [Data Sources Supported &#40;SSAS Multidimensional&#41;](supported-data-sources-ssas-multidimensional.md).</span></span>  
  
5.  <span data-ttu-id="340ba-166">输入选定访问接口连接到基础数据源所需的信息。</span><span class="sxs-lookup"><span data-stu-id="340ba-166">Enter the information requested by the selected provider to connect to the underlying data source.</span></span> <span data-ttu-id="340ba-167">如果选中“本机 OLE DB\SQL Server Native Client”\*\*\*\* 访问接口，请输入以下信息：</span><span class="sxs-lookup"><span data-stu-id="340ba-167">If the **Native OLE DB\SQL Server Native Client** provider is selected, enter the following information:</span></span>  
  
    1.  <span data-ttu-id="340ba-168">**“服务器名称”** 是数据库引擎实例的网络名称。</span><span class="sxs-lookup"><span data-stu-id="340ba-168">**Server Name** is the network name of the Database Engine instance.</span></span> <span data-ttu-id="340ba-169">它可以指定为 IP 地址、计算机的 NETBIOS 名称或完全限定域名。</span><span class="sxs-lookup"><span data-stu-id="340ba-169">It can be specified as the IP address, the NETBIOS name of the computer, or a fully qualified domain name.</span></span> <span data-ttu-id="340ba-170">如果将服务器安装为命名实例，则必须包括实例名称，例如， \<computername> \\<instancename \>)  (。</span><span class="sxs-lookup"><span data-stu-id="340ba-170">If the server is installed as a named instance, you must include the instance name (for example, \<computername>\\<instancename\>).</span></span>  
  
    2.  <span data-ttu-id="340ba-171">**“登录到服务器”** 指定将对连接进行身份验证的方式。</span><span class="sxs-lookup"><span data-stu-id="340ba-171">**Log on to the Server** specifies how the connection will be authentication.</span></span> <span data-ttu-id="340ba-172">**“使用 Windows 身份验证”** 使用 Windows 身份验证。</span><span class="sxs-lookup"><span data-stu-id="340ba-172">**Use Windows Authentication** uses Windows authentication.</span></span> <span data-ttu-id="340ba-173">**使用 SQL Server 身份验证**为 Azure SQL 数据库或支持混合模式身份验证的 SQL Server 实例指定数据库用户登录名。</span><span class="sxs-lookup"><span data-stu-id="340ba-173">**Use SQL Server Authentication** specifies a database user login for an Azure SQL databases or a SQL Server instance that supports mixed mode authentication.</span></span>  
  
        > [!IMPORTANT]  
        >  <span data-ttu-id="340ba-174">连接管理器对于使用 SQL Server 身份验证的连接包括一个 **“保存我的密码”** 复选框。</span><span class="sxs-lookup"><span data-stu-id="340ba-174">Connection Manager includes a **Save my password** checkbox for connections that use SQL Server authentication.</span></span> <span data-ttu-id="340ba-175">尽管显示此复选框，但并不总是使用它。</span><span class="sxs-lookup"><span data-stu-id="340ba-175">Although the checkbox is always visible, it is not always used.</span></span>  
        >   
        >  <span data-ttu-id="340ba-176">在 Analysis Services 不使用此复选框的情况下，此时将包括刷新或处理在活动 Analysis Services 数据库中使用的 SQL Server 关系数据。</span><span class="sxs-lookup"><span data-stu-id="340ba-176">Conditions under which Analysis Services does not use this checkbox include refreshing or processing the SQL Server relational data used in active Analysis Services database.</span></span> <span data-ttu-id="340ba-177">无论您是清除还是选中 **“保存我的密码”**，Analysis Services 始终将加密和保存密码。</span><span class="sxs-lookup"><span data-stu-id="340ba-177">Regardless of whether you clear or select **Save my password**, Analysis Services will always encrypt and save the password.</span></span> <span data-ttu-id="340ba-178">密码加密后同时存储在 .abf 和数据文件中。</span><span class="sxs-lookup"><span data-stu-id="340ba-178">The password is encrypted and stored in both .abf and data files.</span></span> <span data-ttu-id="340ba-179">之所以存在此行为，是因为 Analysis Services 不支持在服务器上存储基于会话的密码。</span><span class="sxs-lookup"><span data-stu-id="340ba-179">This behavior exists because Analysis Services does not support session-based password storage on the server.</span></span>  
        >   
        >  <span data-ttu-id="340ba-180">此行为仅适用于满足以下条件的数据库：a) 在 Analysis Services 服务器实例上持久存在；b) 使用 SQL Server 身份验证刷新或处理关系数据。</span><span class="sxs-lookup"><span data-stu-id="340ba-180">This behavior only applies to databases that a) are persisted on an Analysis Services server instance, and b) use SQL Server authentication to refresh or process relational data.</span></span> <span data-ttu-id="340ba-181">它确实不适用于您在 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 中设置的专用于会话期间的数据源连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-181">It is does not apply to data source connections that you set up in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] that are used only for the duration of a session.</span></span> <span data-ttu-id="340ba-182">尽管无法删除已经存储的密码，但您可以使用不同的凭据或 Windows 身份验证来覆盖当前随数据库存储的用户信息。</span><span class="sxs-lookup"><span data-stu-id="340ba-182">While there is no way to remove a password that is already stored, you can use different credentials, or Windows authentication, to overwrite the user information that is currently stored with the database.</span></span>  
  
    3.  <span data-ttu-id="340ba-183">**“选择或输入数据库名称”** 或 **“附加一个数据库文件”** 用于指定数据库。</span><span class="sxs-lookup"><span data-stu-id="340ba-183">**Select or enter a database name** or **Attach a database file** are used to specify the database.</span></span>  
  
    4.  <span data-ttu-id="340ba-184">在此对话框的左侧，单击 **“全部”** 可查看此连接的其他设置，其中包括此访问接口的所有默认设置。</span><span class="sxs-lookup"><span data-stu-id="340ba-184">In the left side of the dialog box, click **All** to view additional settings for this connection, including all default settings for this provider.</span></span>  
  
    5.  <span data-ttu-id="340ba-185">根据环境需要更改设置并单击 **“确定”**。</span><span class="sxs-lookup"><span data-stu-id="340ba-185">Change settings as appropriate for your environment and then click **OK**.</span></span>  
  
         <span data-ttu-id="340ba-186">将在数据源向导的 **“选择如何定义连接”** 页的 **“数据连接”** 窗格中显示新连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-186">The new connection appears in the **Data Connection** pane of the **Select how to define the connection** page of the Data Source Wizard.</span></span>  
  
6.  <span data-ttu-id="340ba-187">单击“下一步”。</span><span class="sxs-lookup"><span data-stu-id="340ba-187">Click **Next**.</span></span>  
  
7.  <span data-ttu-id="340ba-188">在 **“模拟信息”** 中，指定在连接到外部数据源时 Analysis Services 将使用的 Windows 凭据或用户标识。</span><span class="sxs-lookup"><span data-stu-id="340ba-188">In **Impersonation Information**, specify the Windows credentials or user identity that Analysis Services will use when connecting to the external data source.</span></span> <span data-ttu-id="340ba-189">如果您正在使用数据库身份验证，则出于连接目的，这些设置将被忽略。</span><span class="sxs-lookup"><span data-stu-id="340ba-189">If you are using database authentication, these settings are ignored for connection purposes.</span></span>  
  
     <span data-ttu-id="340ba-190">用于选择模拟选项的准则因您使用数据源的方式而异。</span><span class="sxs-lookup"><span data-stu-id="340ba-190">Guidelines for choosing an impersonation option vary depending on how you are using the data source.</span></span> <span data-ttu-id="340ba-191">对于处理任务， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服务在连接到数据源时，必须在其服务帐户或指定用户帐户的安全上下文中运行。</span><span class="sxs-lookup"><span data-stu-id="340ba-191">For processing tasks, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service must run in the security context of its service account or a specified user account when connecting to a data source.</span></span>  
  
    -   <span data-ttu-id="340ba-192">**“使用特定 Windows 用户名和密码”** 将指定一组唯一的最小权限凭据。</span><span class="sxs-lookup"><span data-stu-id="340ba-192">**Use a specific Windows user name and password** to specify a unique set of least privilege credentials.</span></span>  
  
    -   <span data-ttu-id="340ba-193">**“使用服务帐户”** 将使用服务标识处理数据。</span><span class="sxs-lookup"><span data-stu-id="340ba-193">**Use the service account** to process the data using the service identity.</span></span>  
  
     <span data-ttu-id="340ba-194">您指定的帐户必须对数据源具有读取权限。</span><span class="sxs-lookup"><span data-stu-id="340ba-194">The account you specify must have Read permissions on the data source.</span></span>  
  
8.  <span data-ttu-id="340ba-195">单击“下一步”。</span><span class="sxs-lookup"><span data-stu-id="340ba-195">Click **Next**.</span></span>  <span data-ttu-id="340ba-196">在 **“完成向导”** 中，输入数据源名称或使用默认名称。</span><span class="sxs-lookup"><span data-stu-id="340ba-196">In **Completing the Wizard**, enter a data source name or use the default name.</span></span> <span data-ttu-id="340ba-197">默认名称是在连接中指定的数据库的名称。</span><span class="sxs-lookup"><span data-stu-id="340ba-197">The default name is the name of the database specified in the connection.</span></span> <span data-ttu-id="340ba-198">**“预览”** 窗格将显示此新数据源的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="340ba-198">The **Preview** pane displays the connection string for this new data source.</span></span>  
  
9. <span data-ttu-id="340ba-199">单击“完成”。</span><span class="sxs-lookup"><span data-stu-id="340ba-199">Click **Finish**.</span></span>  <span data-ttu-id="340ba-200">此时，解决方案资源管理器的 **“数据源”** 文件夹中将出现新数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-200">The new data source appears in the **Data Sources** folder in Solution Explorer.</span></span>  
  
##  <a name="create-a-data-source-using-an-existing-connection"></a><a name="bkmk_connection"></a><span data-ttu-id="340ba-201">使用现有连接创建数据源</span><span class="sxs-lookup"><span data-stu-id="340ba-201">Create a Data Source Using an Existing Connection</span></span>  
 <span data-ttu-id="340ba-202">使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目时，您的数据源可以基于解决方案中的现有数据源，也可以基于 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目。</span><span class="sxs-lookup"><span data-stu-id="340ba-202">When you work in an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project, your data source can be based on an existing data source in your solution or can be based on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project.</span></span> <span data-ttu-id="340ba-203">数据源向导提供了几个用于创建数据源对象的选项，包括在同一个项目中使用现有连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-203">The Data Source Wizard provides several options for creating the data source object, including using an existing connection in the same project.</span></span>  
  
-   <span data-ttu-id="340ba-204">基于解决方案中的现有数据源创建数据源之后，您可以定义与现有数据源同步的数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-204">Creating a data source based on an existing data source in your solution lets you define a data source that is synchronized with the existing data source.</span></span> <span data-ttu-id="340ba-205">生成包含该新数据源的项目时，将使用基础数据源中的数据源设置。</span><span class="sxs-lookup"><span data-stu-id="340ba-205">When the project containing this new data source is built, the data source settings from the underlying data source are used.</span></span>  
  
-   <span data-ttu-id="340ba-206">基于 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目创建数据源之后，您可以在当前项目中引用解决方案中的其他 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目。</span><span class="sxs-lookup"><span data-stu-id="340ba-206">Creating a data source based on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project lets you reference another [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project in the solution in the current project.</span></span> <span data-ttu-id="340ba-207">新的数据源使用 MSOLAP 访问接口，并且该数据源的 `Data Source` 属性和 `Initial Catalog` 属性从选定项目的 `TargetServer` 属性和 `TargetDatabase` 属性获取。</span><span class="sxs-lookup"><span data-stu-id="340ba-207">The new data source uses the MSOLAP provider with its `Data Source` property and `Initial Catalog` property acquired from the `TargetServer` and `TargetDatabase` properties of the selected project.</span></span> <span data-ttu-id="340ba-208">在使用多个 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目管理远程分区的解决方案中，因为源和目标 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 数据库需要互逆数据源来支持远程分区存储和处理，所以该功能很有用。</span><span class="sxs-lookup"><span data-stu-id="340ba-208">This feature is useful in solutions where you are using multiple [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] projects to manage remote partitions, because the source and destination [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases require reciprocal data sources to support remote partition storage and processing.</span></span>  
  
 <span data-ttu-id="340ba-209">在引用数据源对象时，只能在被引用对象或项目中编辑此对象。</span><span class="sxs-lookup"><span data-stu-id="340ba-209">When you reference a data source object, you can edit that object only in the referenced object or project.</span></span> <span data-ttu-id="340ba-210">不能在包含该引用的数据源对象中编辑连接信息。</span><span class="sxs-lookup"><span data-stu-id="340ba-210">You cannot edit the connection information in the data source object that contains the reference.</span></span> <span data-ttu-id="340ba-211">在被引用对象或项目中对连接信息的更改会显示在生成后的新数据源中。</span><span class="sxs-lookup"><span data-stu-id="340ba-211">Changes to the connection information in the referenced object or project appear in the new data source when it is built.</span></span> <span data-ttu-id="340ba-212">在生成项目或在数据源设计器中清除引用时，显示在项目的数据源 (.ds) 文件中的连接字符串信息将被同步。</span><span class="sxs-lookup"><span data-stu-id="340ba-212">The connection string information that appears in the data source (.ds) file in the project is synchronized when you build the project or when you clear the reference in Data Source Designer.</span></span>  
  
##  <a name="view-or-edit-connection-properties"></a><a name="bkmk_ConnectionString"></a><span data-ttu-id="340ba-213">查看或编辑连接属性</span><span class="sxs-lookup"><span data-stu-id="340ba-213">View or Edit Connection Properties</span></span>  
 <span data-ttu-id="340ba-214">连接字符串基于您在数据源设计器或新建数据源向导中选择的属性构成。</span><span class="sxs-lookup"><span data-stu-id="340ba-214">The connection string is formulated based on the properties you select in the Data Source Designer or the New Data Source Wizard.</span></span> <span data-ttu-id="340ba-215">您可以在 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]中查看连接字符串和其他属性。</span><span class="sxs-lookup"><span data-stu-id="340ba-215">You can view the connection string and other properties in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span>  
  
 <span data-ttu-id="340ba-216">**编辑连接字符串**</span><span class="sxs-lookup"><span data-stu-id="340ba-216">**To edit the connection string**</span></span>  
  
1.  <span data-ttu-id="340ba-217">在 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]的解决方案资源管理器中双击数据源对象。</span><span class="sxs-lookup"><span data-stu-id="340ba-217">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], double-click the data source object in Solution Explorer.</span></span>  
  
2.  <span data-ttu-id="340ba-218">单击 **“编辑”**，然后在左侧的导航窗格中单击 **“所有”** 。</span><span class="sxs-lookup"><span data-stu-id="340ba-218">Click **Edit**, and then click **All** on the left navigation pane.</span></span>  
  
3.  <span data-ttu-id="340ba-219">属性网格将出现，其中显示您正在使用的数据访问接口的可用属性。</span><span class="sxs-lookup"><span data-stu-id="340ba-219">The property grid appears, showing available properties of the data provider you are using.</span></span> <span data-ttu-id="340ba-220">有关这些属性的详细信息，请参阅访问接口的产品文档。</span><span class="sxs-lookup"><span data-stu-id="340ba-220">For more information about these properties, see the product documentation of the provider.</span></span>  <span data-ttu-id="340ba-221">对于 SQL Server 本机客户端，请参阅 [Using Connection String Keywords with SQL Server Native Client](../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md)。</span><span class="sxs-lookup"><span data-stu-id="340ba-221">For SQL Server native client, see [Using Connection String Keywords with SQL Server Native Client](../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).</span></span>  
  
 <span data-ttu-id="340ba-222">如果解决方案中具有多个数据源，并且您希望在同一位置维护连接字符串，则可以将当前数据源配置为引用其他数据源对象。</span><span class="sxs-lookup"><span data-stu-id="340ba-222">If you have multiple data source objects in the solution and you prefer to maintain the connection string in one place, you can configure the current data source to reference the other data source object.</span></span>  
  
 <span data-ttu-id="340ba-223">“数据源引用” \*\* 是与同一解决方案中的其他 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 对象或数据源之间的关联。</span><span class="sxs-lookup"><span data-stu-id="340ba-223">A *data source reference* is an association to another [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project or data source in the same solution.</span></span> <span data-ttu-id="340ba-224">引用提供了一种在解决方案的对象之间同步数据源的方式。</span><span class="sxs-lookup"><span data-stu-id="340ba-224">References provide a means to synchronize data sources between objects in a solution.</span></span> <span data-ttu-id="340ba-225">每次生成项目时，都会同步连接字符串信息。</span><span class="sxs-lookup"><span data-stu-id="340ba-225">The connection string information is synchronized whenever you build the project.</span></span> <span data-ttu-id="340ba-226">若要更改引用另一对象的数据源的连接字符串，则必须更改被引用对象的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="340ba-226">To change the connection string for a data source that references another object, you must change the connection string of the referenced object.</span></span>  
  
 <span data-ttu-id="340ba-227">您可以通过清除此复选框来删除该引用。</span><span class="sxs-lookup"><span data-stu-id="340ba-227">You can remove the reference by clearing the check box.</span></span> <span data-ttu-id="340ba-228">此操作将结束对象间的同步并允许您更改数据源中的连接字符串。</span><span class="sxs-lookup"><span data-stu-id="340ba-228">This ends the synchronization between the objects and lets you change the connection string in the data source.</span></span>  
  
##  <a name="add-multiple-data-sources-to-a-model"></a><a name="bkmk_multipleDS"></a><span data-ttu-id="340ba-229">将多个数据源添加到模型</span><span class="sxs-lookup"><span data-stu-id="340ba-229">Add Multiple Data Sources to a Model</span></span>  
 <span data-ttu-id="340ba-230">您可以创建多个数据源对象，以便支持与其他数据源的连接。</span><span class="sxs-lookup"><span data-stu-id="340ba-230">You can create more than one data source object to support connections to additional data sources.</span></span> <span data-ttu-id="340ba-231">每个数据源都必须具有可以用来创建关系的列。</span><span class="sxs-lookup"><span data-stu-id="340ba-231">Each data source must have columns that can be used to create relationships.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="340ba-232">如果定义了多个数据源，并且在单个查询中从多个源查询数据（例如，对于型维度），则必须定义支持使用远程查询的数据源 `OpenRowset` 。</span><span class="sxs-lookup"><span data-stu-id="340ba-232">If multiple data sources are defined and data is queried from multiple sources in a single query, such as for a snow-flaked dimension, you must define a data source that supports remote queries using `OpenRowset`.</span></span> <span data-ttu-id="340ba-233">通常，此数据源将为 Microsoft SQL Server 数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-233">Typically, this will be a Microsoft SQL Server data source.</span></span>  
  
 <span data-ttu-id="340ba-234">使用多个数据源的要求包括：</span><span class="sxs-lookup"><span data-stu-id="340ba-234">Requirements for using multiple data sources include the following:</span></span>  
  
-   <span data-ttu-id="340ba-235">将一个数据源指定主数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-235">Designate one data source as the primary data source.</span></span> <span data-ttu-id="340ba-236">主数据源是用于创建数据源视图的数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-236">The primary data source is the one used to create a data source view.</span></span>  
  
-   <span data-ttu-id="340ba-237">主数据源必须支持 `OpenRowset` 函数。 </span><span class="sxs-lookup"><span data-stu-id="340ba-237">A primary data source must support the `OpenRowset` function.</span></span>  <span data-ttu-id="340ba-238">有关 SQL Server 中该函数的详细信息，请参阅 <xref:Microsoft.SqlServer.TransactSql.ScriptDom.TSqlTokenType.OpenRowSet>。</span><span class="sxs-lookup"><span data-stu-id="340ba-238">For more information about this function in SQL Server, see <xref:Microsoft.SqlServer.TransactSql.ScriptDom.TSqlTokenType.OpenRowSet>.</span></span>  
  
 <span data-ttu-id="340ba-239">使用以下方法可合并来自多个数据源的数据：</span><span class="sxs-lookup"><span data-stu-id="340ba-239">Use the following approach to combine data from multiple data sources:</span></span>  
  
1.  <span data-ttu-id="340ba-240">在模型中创建数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-240">Create the data sources in your model.</span></span>  
  
2.  <span data-ttu-id="340ba-241">创建数据源视图，使用 SQL Server 关系数据库作为数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-241">Create a data source view, using a SQL Server relational database as the data source.</span></span> <span data-ttu-id="340ba-242">这是您的主数据源。</span><span class="sxs-lookup"><span data-stu-id="340ba-242">This is your primary data source.</span></span>  
  
3.  <span data-ttu-id="340ba-243">在数据源视图设计器中，使用刚创建的数据源视图，在工作区的任何地方右键单击，然后选择“添加/删除表”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="340ba-243">In Data Source View Designer, using the data source view you just created, right-click anywhere in the work area and select **Add/Remove Tables**.</span></span>  
  
4.  <span data-ttu-id="340ba-244">选择第二个数据源，然后选择您要添加的表。</span><span class="sxs-lookup"><span data-stu-id="340ba-244">Choose the second data source and then select the tables you want to add.</span></span>  
  
5.  <span data-ttu-id="340ba-245">查找并选择您所添加的表。</span><span class="sxs-lookup"><span data-stu-id="340ba-245">Find and select the table you added.</span></span> <span data-ttu-id="340ba-246">右键单击该表，然后选择“新建关系”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="340ba-246">Right-click the table and select **New Relationship**.</span></span> <span data-ttu-id="340ba-247">选择包含匹配数据的源列和目标列。</span><span class="sxs-lookup"><span data-stu-id="340ba-247">Choose the source and destination columns that contain matching data.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="340ba-248">另请参阅</span><span class="sxs-lookup"><span data-stu-id="340ba-248">See Also</span></span>  
 <span data-ttu-id="340ba-249">[支持 &#40;SSAS 多维&#41;的数据源](supported-data-sources-ssas-multidimensional.md) </span><span class="sxs-lookup"><span data-stu-id="340ba-249">[Data Sources Supported &#40;SSAS Multidimensional&#41;](supported-data-sources-ssas-multidimensional.md) </span></span>  
 [<span data-ttu-id="340ba-250">多维模型中的数据源视图</span><span class="sxs-lookup"><span data-stu-id="340ba-250">Data Source Views in Multidimensional Models</span></span>](data-source-views-in-multidimensional-models.md)  
  
  
