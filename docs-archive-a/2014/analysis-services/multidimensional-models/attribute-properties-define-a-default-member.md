---
title: 定义默认成员 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- default members
- attributes [Analysis Services], default members
- members [Analysis Services], default
- DefaultMember property
ms.assetid: db487856-ee21-49c3-aa08-d9136e193374
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2fc60d5883e3a73e1b6e662f6f399f6f77594d23
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87693561"
---
# <a name="define-a-default-member"></a><span data-ttu-id="7acfd-102">定义默认成员</span><span class="sxs-lookup"><span data-stu-id="7acfd-102">Define a Default Member</span></span>
  <span data-ttu-id="7acfd-103">在查询中不包括特性层次结构的情况下，可以使用特性层次结构的默认成员来计算表达式。</span><span class="sxs-lookup"><span data-stu-id="7acfd-103">The default member of an attribute hierarchy is used to evaluate expressions when an attribute hierarchy is not included in a query.</span></span> <span data-ttu-id="7acfd-104">如果查询包括的特性层次结构或用户层次结构包含产生特性层次结构的特性，那么将忽略默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-104">The default member is ignored whenever a query includes an attribute hierarchy or user hierarchy that contains the attribute that sources the attribute hierarchy.</span></span> <span data-ttu-id="7acfd-105">这是因为将使用查询中指定的成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-105">This is because the member specified in the query is used.</span></span>  
  
 <span data-ttu-id="7acfd-106">通过将某个特性成员指定为特性层次结构的 `DefaultMember` 属性值，可设置特性层次结构的默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-106">The default member for an attribute hierarchy is set by specifying an attribute member as the `DefaultMember` property value for the attribute hierarchy.</span></span> <span data-ttu-id="7acfd-107">可以在维度设计器的“维度结构”选项卡上，或在 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]中多维数据集设计器的“计算”选项卡上多维数据集计算脚本中设置该属性。</span><span class="sxs-lookup"><span data-stu-id="7acfd-107">You can set this property on the Dimension Structure tab in Dimension Designer, or in the cube's calculation script on the Calculation tab in Cube Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="7acfd-108">在定义维度安全性时，还可以在“维度数据”选项卡上指定安全性角色的 `DefaultMember` 属性（覆盖维度的默认成员设置）。</span><span class="sxs-lookup"><span data-stu-id="7acfd-108">You can also specify the `DefaultMember` property for a security role (overriding the default member set on the dimension) on the Dimension Data tab when defining dimension security.</span></span> <span data-ttu-id="7acfd-109">若要避免名称解析问题，可在下列情况下在多维数据集的 MDX 脚本里定义该默认成员：如果多维数据集多次引用某个数据库维度，如果多维数据集内的维度名称与数据库内的维度名称不同，或者如果希望在不同的多维数据集内有不同的默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-109">To avoid name resolution problems, define the default member in the cube's MDX script in the following situations: if the cube refers to a database dimension more than once, if the dimension in the cube has a different name than the dimension in the database, or if you want to have different default members in different cubes.</span></span>  
  
 <span data-ttu-id="7acfd-110">特性的默认成员用于在查询中不包括特性的情况下计算表达式。</span><span class="sxs-lookup"><span data-stu-id="7acfd-110">The default member on an attribute is used to evaluate expressions when an attribute is not included in a query.</span></span> <span data-ttu-id="7acfd-111">特性的默认成员由特性的 `DefaultMember` 属性来指定。</span><span class="sxs-lookup"><span data-stu-id="7acfd-111">The default member for an attribute is specified by the `DefaultMember` property on the attribute.</span></span> <span data-ttu-id="7acfd-112">当查询中包括维度的层次结构时，将忽略与该层次结构中的级别相对应的特性中的所有默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-112">Whenever a hierarchy from a dimension is included in a query, all the default members from attributes corresponding to levels in the hierarchy are ignored.</span></span> <span data-ttu-id="7acfd-113">如果查询中不包括维度的层次结构，则默认成员将用于该维度的所有特性中。</span><span class="sxs-lookup"><span data-stu-id="7acfd-113">If no hierarchy of a dimension is included in a query, default members are used for all the attributes in the dimension.</span></span>  
  
## <a name="resolving-the-default-member-when-no-default-member-is-specified"></a><span data-ttu-id="7acfd-114">未指定默认成员时解析默认成员</span><span class="sxs-lookup"><span data-stu-id="7acfd-114">Resolving the Default Member When No Default Member is Specified</span></span>  
 <span data-ttu-id="7acfd-115">如果没有为特性层次结构指定任何默认成员，并且特性层次结构是可聚合的（特性的 `IsAggregatable` 属性设置为 `True`），则“(全部)”成员将作为默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-115">If no default member is specified for an attribute hierarchy, and the attribute hierarchy is aggregatable (the `IsAggregatable` property on the attribute is set to `True`), the (All) member is the default member.</span></span> <span data-ttu-id="7acfd-116">如果未指定任何默认成员并且特性是不可聚合的（特性的 `IsAggregatable` 属性设置为 `False`），则将从特性层次结构顶层中选择默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-116">If no default member is specified and the attribute hierarchy is not aggregatable (the `IsAggregatable` property on the attribute is set to `False`), a default member is selected from the attribute hierarchy's top level.</span></span>  
  
## <a name="specifying-the-default-member"></a><span data-ttu-id="7acfd-117">指定默认成员</span><span class="sxs-lookup"><span data-stu-id="7acfd-117">Specifying the Default Member</span></span>  
 <span data-ttu-id="7acfd-118">中维度中的每个属性 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 都具有一个默认成员，可以使用特性的属性指定该成员 `DefaultMember` 。</span><span class="sxs-lookup"><span data-stu-id="7acfd-118">Every attribute in a dimension in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] has a default member, which you can specify by using the `DefaultMember` property for an attribute.</span></span> <span data-ttu-id="7acfd-119">如果属性没有包含在查询中，则使用该设置计算表达式。</span><span class="sxs-lookup"><span data-stu-id="7acfd-119">This setting is used to evaluate expressions if an attribute is not included in a query.</span></span> <span data-ttu-id="7acfd-120">如果查询在维度中指定了层次结构，则忽略层次结构中属性的默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-120">If a query specifies a hierarchy in a dimension, the default members for the attributes in the hierarchy are ignored.</span></span> <span data-ttu-id="7acfd-121">如果查询未在维度中指定层次结构，则 `DefaultMember` 维度属性的设置将生效。</span><span class="sxs-lookup"><span data-stu-id="7acfd-121">If a query does not specify a hierarchy in a dimension, the `DefaultMember` settings for dimension attributes take effect.</span></span>  
  
 <span data-ttu-id="7acfd-122">如果 `DefaultMember` 特性的设置为空，并且其 `IsAggregatable` 属性设置为，则 `True` 默认成员为 "全部" 成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-122">If the `DefaultMember` setting for an attribute is blank and its `IsAggregatable` property is set to `True`, the default member is the All member.</span></span> <span data-ttu-id="7acfd-123">如果将 `IsAggregatable` 属性设置为 `False` ，则默认成员为第一个可见级别的第一个成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-123">If the `IsAggregatable` property is set to `False`, the default member is the first member of the first visible level.</span></span>  
  
 <span data-ttu-id="7acfd-124">`DefaultMember`特性的设置适用于该属性所参与的每个层次结构。</span><span class="sxs-lookup"><span data-stu-id="7acfd-124">The `DefaultMember` setting for an attribute applies to every hierarchy in which the attribute participates.</span></span> <span data-ttu-id="7acfd-125">您不能在一个维度中针对不同的层次结构使用不同的设置。</span><span class="sxs-lookup"><span data-stu-id="7acfd-125">You cannot use different settings for different hierarchies in a dimension.</span></span> <span data-ttu-id="7acfd-126">例如，如果 [1998] 成员是“[年]”属性的默认成员，则该设置应用于维度中的每个层次结构。</span><span class="sxs-lookup"><span data-stu-id="7acfd-126">For example, if the [1998] member is the default member for a [Year] attribute, this setting applies to every hierarchy in the dimension.</span></span> <span data-ttu-id="7acfd-127">`DefaultMember`这种情况下的设置不能在一个层次结构中为 [1998]，而在另一个层次结构中为 [1997]。</span><span class="sxs-lookup"><span data-stu-id="7acfd-127">The `DefaultMember` setting in this case cannot be [1998] in one hierarchy and [1997] in a different hierarchy.</span></span>  
  
 <span data-ttu-id="7acfd-128">如果您为不自然聚合的层次结构中特定级别定义默认成员，则必须定义在层次结构中位于该级别之上的所有级别的默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-128">If you define a default member for a particular level in a hierarchy that does not aggregate naturally, you must define default members in all levels above that level in the hierarchy.</span></span> <span data-ttu-id="7acfd-129">例如，在层次结构的所有国家/地区中，除非定义了国家/地区的默认成员，否则不能为气候定义默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-129">For example, in the hierarchy All-Countries-Climate, you cannot define a default member for Climate unless you define a default member for Countries.</span></span> <span data-ttu-id="7acfd-130">执行此操作失败会导致查询时错误。</span><span class="sxs-lookup"><span data-stu-id="7acfd-130">Failing to do so creates query-time errors.</span></span>  
  
 <span data-ttu-id="7acfd-131">当层次结构中的各级别自然聚合时，您可以为层次结构中的任意属性定义默认成员，而不考虑该层次结构中的其他属性。</span><span class="sxs-lookup"><span data-stu-id="7acfd-131">When levels in a hierarchy aggregate naturally, you can define a default member for any attribute in the hierarchy without regard to other attributes in the hierarchy.</span></span> <span data-ttu-id="7acfd-132">例如，在层次结构的国家/地区-市/县中，可以定义 "城市" 的默认成员，如 [City]。[蒙特利尔]，而不是为州或国家/地区定义默认成员。</span><span class="sxs-lookup"><span data-stu-id="7acfd-132">For example, in the hierarchy Country-Province-City, you can define a default member for City such as [City].[Montreal] without defining the default member for State or for Country.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7acfd-133">另请参阅</span><span class="sxs-lookup"><span data-stu-id="7acfd-133">See Also</span></span>  
 [<span data-ttu-id="7acfd-134">配置属性层次结构的“(全部)”级别</span><span class="sxs-lookup"><span data-stu-id="7acfd-134">Configure the &#40;All&#41; Level for Attribute Hierarchies</span></span>](database-dimensions-configure-the-all-level-for-attribute-hierarchies.md)  
  
  
