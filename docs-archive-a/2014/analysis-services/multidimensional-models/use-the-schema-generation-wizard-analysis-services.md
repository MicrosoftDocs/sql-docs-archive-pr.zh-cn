---
title: 使用架构生成向导 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, steps
- relational schema [Analysis Services], Schema Generation Wizard
ms.assetid: 8c710745-d41d-4c31-b6a2-2956229df75a
author: minewiskan
ms.author: owend
ms.openlocfilehash: fa65c2c6f377a375d0fc6aa8298cdec749805b6c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87588092"
---
# <a name="use-the-schema-generation-wizard-analysis-services"></a><span data-ttu-id="0167c-102">使用架构生成向导 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="0167c-102">Use the Schema Generation Wizard (Analysis Services)</span></span>
  <span data-ttu-id="0167c-103">架构生成向导在生成阶段需要数量有限的信息。</span><span class="sxs-lookup"><span data-stu-id="0167c-103">The Schema Generation Wizard requires a limited amount of information during the generation phase.</span></span> <span data-ttu-id="0167c-104">架构生成向导在生成关系架构时所需的大多数信息都是从您已在项目中创建的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 多维数据集和维度中提取的。</span><span class="sxs-lookup"><span data-stu-id="0167c-104">Most of the information that the Schema Generation Wizard requires for generating relational schemas is extracted from the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions that you already created in the project.</span></span> <span data-ttu-id="0167c-105">此外，您可以自定义主题区域数据库架构的生成方式以及架构中对象的命名方式。</span><span class="sxs-lookup"><span data-stu-id="0167c-105">Additionally, you can customize how the subject area database schema is generated and how objects in the schema are named.</span></span>  
  
## <a name="start-the-wizard"></a><span data-ttu-id="0167c-106">启动向导</span><span class="sxs-lookup"><span data-stu-id="0167c-106">Start the Wizard</span></span>  
 <span data-ttu-id="0167c-107">您可以使用下列几种不同的方法从 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 中打开架构生成向导：</span><span class="sxs-lookup"><span data-stu-id="0167c-107">You can open the Schema Generation Wizard from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] in several different ways:</span></span>  
  
-   <span data-ttu-id="0167c-108">右键单击 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目对象，然后在上下文菜单中单击“生成关系架构”\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="0167c-108">Right-click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object and then click **Generate Relational Schema** from the context menu.</span></span>  
  
-   <span data-ttu-id="0167c-109">单击 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目对象，然后在 **“数据库”** 菜单中单击 **“生成关系架构”** 。</span><span class="sxs-lookup"><span data-stu-id="0167c-109">Click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object, and then click **Generate Relational Schema** from the **Database** menu.</span></span>  
  
-   <span data-ttu-id="0167c-110">通过单击向导的最后一页中的 **“立即生成架构”** 复选框，从维度向导内启动该向导。</span><span class="sxs-lookup"><span data-stu-id="0167c-110">Start the wizard from within the Dimension Wizard by clicking the **Generate Schema Now** check box on the last page of the wizard.</span></span>  
  
## <a name="step-1-specify-targets"></a><span data-ttu-id="0167c-111">步骤 1：指定目标</span><span class="sxs-lookup"><span data-stu-id="0167c-111">Step 1: Specify Targets</span></span>  
 <span data-ttu-id="0167c-112">必须指定架构生成向导要在其中生成主题区域数据库架构的数据源视图 (DSV)。</span><span class="sxs-lookup"><span data-stu-id="0167c-112">You must specify the data source view (DSV) in which you want the Schema Generation Wizard to generate the schema for the subject area database.</span></span> <span data-ttu-id="0167c-113">尽管您可以选择某个现有的 DSV，但通常您将基于数据源创建一个新的 DSV。</span><span class="sxs-lookup"><span data-stu-id="0167c-113">Although you can select an existing DSV, typically you create a new one based on a data source.</span></span> <span data-ttu-id="0167c-114">您可以根据现有或新的连接创建数据源，也可以根据其他对象创建数据源。</span><span class="sxs-lookup"><span data-stu-id="0167c-114">You can create the data source based on an existing or a new connection, or based on another object.</span></span> <span data-ttu-id="0167c-115">架构生成向导既可以在数据源引用的数据库中生成主题区域数据库架构，也可以在数据源视图中生成该架构。</span><span class="sxs-lookup"><span data-stu-id="0167c-115">The Schema Generation Wizard generates the schema for the subject area database in the database referenced by the data source, as well as the data source view.</span></span> <span data-ttu-id="0167c-116">架构生成向导不会创建主题区域数据库本身；相反，该向导在您指定的现有数据库中创建关系架构以支持多维数据集和维度。</span><span class="sxs-lookup"><span data-stu-id="0167c-116">The Schema Generation Wizard does not create the subject area database itself; instead, the wizard creates the relational schema to support the cubes and dimensions in an existing database that you specify.</span></span>  
  
 <span data-ttu-id="0167c-117">当架构生成向导生成基础对象时，它便会使用数据源视图样式的绑定将 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 维度和多维数据集绑定到生成的表和列上。</span><span class="sxs-lookup"><span data-stu-id="0167c-117">When the Schema Generation Wizard generates the underlying objects, it binds the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes to the generated tables and columns by using data source view-style bindings.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0167c-118">若要从先前生成的对象取消绑定 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 维度和多维数据集，请删除 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 多维数据集和维度绑定到的数据源视图，然后使用架构生成向导为多维数据集和维度定义新的数据源视图。</span><span class="sxs-lookup"><span data-stu-id="0167c-118">To unbind [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes from previously generated objects, delete the data source view to which the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions are bound, and then define a new data source view for the cubes and dimensions by using the Schema Generation Wizard.</span></span>  
  
## <a name="step-3-specify-schema-options-for-the-subject-area-database"></a><span data-ttu-id="0167c-119">步骤 3：指定用于主题区域数据库的架构选项</span><span class="sxs-lookup"><span data-stu-id="0167c-119">Step 3: Specify Schema Options for the Subject Area Database</span></span>  
 <span data-ttu-id="0167c-120">架构生成向导提供大量选项，用于定义为主题区域数据库生成的架构。</span><span class="sxs-lookup"><span data-stu-id="0167c-120">The Schema Generation Wizard provides a number of options for defining the schema that is generated for the subject area database.</span></span> <span data-ttu-id="0167c-121">您可以在该向导的 **“主题区域数据库架构选项”** 页中指定这些选项。</span><span class="sxs-lookup"><span data-stu-id="0167c-121">You can specify these options on the **Subject Area Database Schema Options** page of the wizard.</span></span>  
  
### <a name="specifying-the-schema-owner"></a><span data-ttu-id="0167c-122">指定架构所有者</span><span class="sxs-lookup"><span data-stu-id="0167c-122">Specifying the Schema Owner</span></span>  
 <span data-ttu-id="0167c-123">您可以通过将 **“所属架构”** 的值设置为有效字符串来指定架构的所有者。</span><span class="sxs-lookup"><span data-stu-id="0167c-123">You can specify the owner of the schema by setting the value of **Owning schema** to a valid string.</span></span> <span data-ttu-id="0167c-124">架构的默认所有者为 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 项目，但是您可以按照需要任意指定架构所有者。</span><span class="sxs-lookup"><span data-stu-id="0167c-124">The default owner of the schema is the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project, but you can specify any desired schema owner.</span></span>  
  
### <a name="specifying-primary-keys-indexes-and-constraints"></a><span data-ttu-id="0167c-125">指定主键、索引和约束</span><span class="sxs-lookup"><span data-stu-id="0167c-125">Specifying Primary Keys, Indexes, and Constraints</span></span>  
 <span data-ttu-id="0167c-126">架构生成向导会默认在主题区域数据库内的每个维度表中创建主键约束。</span><span class="sxs-lookup"><span data-stu-id="0167c-126">The Schema Generation Wizard by default creates a primary key constraint in each dimension table in the subject area database.</span></span> <span data-ttu-id="0167c-127">主键与指定为相应 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 维度中键属性的属性相对应。</span><span class="sxs-lookup"><span data-stu-id="0167c-127">The primary key corresponds to the attribute that is designated as the key attribute in the corresponding [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimension.</span></span> <span data-ttu-id="0167c-128">此约束以最小的开销提高了多数环境中的处理性能。</span><span class="sxs-lookup"><span data-stu-id="0167c-128">This constraint improves processing performance in most environments, with minimal cost.</span></span> <span data-ttu-id="0167c-129">逻辑主键始终在数据源视图中创建，即使您不选择在主题区域数据库中创建主键也是如此。</span><span class="sxs-lookup"><span data-stu-id="0167c-129">Logical primary keys are always created in the data source view, even if you choose not to create the primary key in the subject area database.</span></span> <span data-ttu-id="0167c-130">若要定义维度表的主键约束，请选择 **“创建维度表的主键”**。</span><span class="sxs-lookup"><span data-stu-id="0167c-130">To define primary key constraints on dimension tables, select **Create primary keys on dimension tables**.</span></span>  
  
 <span data-ttu-id="0167c-131">该向导还会默认创建每个事实数据表中各外键列的索引。</span><span class="sxs-lookup"><span data-stu-id="0167c-131">The wizard by default also creates indexes on the foreign key columns in each fact table.</span></span> <span data-ttu-id="0167c-132">这些索引提高了多数环境中的处理性能。</span><span class="sxs-lookup"><span data-stu-id="0167c-132">These indexes improve processing performance in most environments.</span></span> <span data-ttu-id="0167c-133">性能通常提高的原因是 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 生成的用来从主题区域数据库中检索新数据的处理查询通常在事实数据表和维度表之间包含大量联接语句。</span><span class="sxs-lookup"><span data-stu-id="0167c-133">Performance is typically improved because the processing queries that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] generates to retrieve new data from the subject area database typically include a significant number of join statements between the fact table and the dimension tables.</span></span> <span data-ttu-id="0167c-134">若要定义每个事实数据表中各外键列的索引，请选择 **“创建索引”**。</span><span class="sxs-lookup"><span data-stu-id="0167c-134">To define indexes on the foreign key columns in each fact table, select **Create indexes**.</span></span>  
  
 <span data-ttu-id="0167c-135">最后，该向导会默认在事实数据表和每个维度表之间强制实施引用完整性。</span><span class="sxs-lookup"><span data-stu-id="0167c-135">Finally, the wizard by default enforces referential integrity between the fact table and each of the dimension tables.</span></span> <span data-ttu-id="0167c-136">如果您不选择强制实施引用完整性，则架构生成向导仍会在数据库和数据源视图中创建这些关系。</span><span class="sxs-lookup"><span data-stu-id="0167c-136">If you choose not to enforce referential integrity, the Schema Generation Wizard still creates these relationships in the database and the data source view.</span></span> <span data-ttu-id="0167c-137">若要强制实施引用完整性，请选择 **“强制引用完整性”**。</span><span class="sxs-lookup"><span data-stu-id="0167c-137">To enforce referential integrity, select **Enforce referential integrity**.</span></span>  
  
### <a name="preserving-data-for-incremental-generation"></a><span data-ttu-id="0167c-138">保留用于增量生成的数据</span><span class="sxs-lookup"><span data-stu-id="0167c-138">Preserving Data for Incremental Generation</span></span>  
 <span data-ttu-id="0167c-139">架构生成向导会默认在重新生成数据库架构时尝试保留数据。</span><span class="sxs-lookup"><span data-stu-id="0167c-139">The Schema Generation Wizard by default attempts to preserve data when the database schema is regenerated.</span></span> <span data-ttu-id="0167c-140">如果架构生成向导因架构更改而必须删除一些行，则您会在删除行之前收到一则警告。</span><span class="sxs-lookup"><span data-stu-id="0167c-140">If the Schema Generation Wizard has to delete any rows because of a schema change, you receive a warning before the rows are deleted.</span></span> <span data-ttu-id="0167c-141">例如，由于您删除了维度，或者数据类型在更改维度属性时发生更改，那么行可能必须被删除以解决引用完整性问题。</span><span class="sxs-lookup"><span data-stu-id="0167c-141">For example, rows may have to be deleted to solve referential integrity issues because you dropped a dimension or because a data type changed when you changed a dimension attribute.</span></span> <span data-ttu-id="0167c-142">若要在重新生成数据库架构时保留数据，请选择 **“重新生成时保留数据”**。</span><span class="sxs-lookup"><span data-stu-id="0167c-142">To preserve data when the database schema is regenerated, select **Preserve data on regeneration**.</span></span>  
  
## <a name="step-4-specify-naming-conventions"></a><span data-ttu-id="0167c-143">步骤 4：指定命名约定</span><span class="sxs-lookup"><span data-stu-id="0167c-143">Step 4: Specify Naming Conventions</span></span>  
 <span data-ttu-id="0167c-144">您可以定义架构生成向导在其 **“指定命名约定”** 页中的主题区域数据库内生成特定对象时使用的命名约定。</span><span class="sxs-lookup"><span data-stu-id="0167c-144">You can define the naming conventions that the Schema Generation Wizard uses when generating certain objects in the subject area database on the **Specify Naming Conventions** page of the wizard.</span></span> <span data-ttu-id="0167c-145">有关“指定命名约定”\*\*\*\* 页上可用选项的详细信息，请参阅[指定命名约定（架构生成向导）（Analysis Services - 多维数据）](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md)。</span><span class="sxs-lookup"><span data-stu-id="0167c-145">For more information about the options available on the **Specify Naming Conventions** page, see [Specify Naming Conventions &#40;Schema Generation Wizard&#41; &#40;Analysis Services - Multidimensional Data&#41;](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md).</span></span>  
  
  
