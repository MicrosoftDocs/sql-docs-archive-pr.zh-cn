---
title: 浏览决策树模型 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, browsing
- mining models, viewing
- tree viewer
- mining model, decision tree
- decision tree [data mining]
- dependency network
ms.assetid: 6b3dd1ae-caff-41c3-817b-802dc020ff88
author: minewiskan
ms.author: owend
ms.openlocfilehash: 809d2e494cfa7a6c4078acf95c2c70a0e68c188d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87579310"
---
# <a name="browsing-a-decision-trees-model"></a>浏览决策树模型
  使用 "**浏览**" 打开分类模型时，该模型将显示在交互式决策树查看器中，类似于 [!INCLUDE[msCoName](../includes/msconame-md.md)] 中的决策树查看器 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 。 该查看器将分类结果显示为一个图形，图形设计可以突出将一组数据与其他数据区分开来的条件。 您还可以深化到树的各个子集并检索基础数据。  
  
##  <a name="explore-the-model"></a><a name="bkmk_Top"></a>浏览模型  
 基于决策树算法的模型有很多有趣的信息值得探索。 "**浏览**" 窗口包括以下选项卡和窗格，可帮助您了解使用图形的模式并预测结果：  
  
-   [决策树](#BKMK_DecisionTree)  
  
-   [依赖关系网络](#BKMK_DNetwork)  
  
 要尝试使用决策树模型，可以使用示例数据工作簿中“定型数据”（或“源数据”）选项卡上的示例数据，并使用“Bike Buyer”作为可预测属性生成决策树模型。  
  
###  <a name="decision-tree"></a><a name="BKMK_DecisionTree"></a>决策树  
 此视图旨在帮助您了解和探索导致某一结果的因素。  
  
 决策树图形可像下面这样从左到右读取：  
  
-   矩形（称为*节点*）包含数据的子集。 节点标签指示相应子集的定义特征。  
  
-   最左侧的节点（标记为 "**全部**"）表示完整的数据集。 所有后续节点表示数据子集。  
  
-   决策树包含很多*分割*，或者数据与其分离为多个基于属性的集的位置。  
  
     例如，示例模型中的第一个拆分将数据集按年龄分为三组。  
  
-   紧随 "**全部**" 节点之后的拆分最重要，因为它显示了分割此数据集的主要条件。  
  
     其他拆分出现在右侧。 因此，通过分析树段可以了解哪些属性对购买行为影响最大。  
  
 ![关联模型的依赖关系网络图形](media/dm13-dec-tree-split-definition.gif "关联模型的依赖关系网络图形")  
  
 您可以使用这些信息针对稍加鼓励就会购买的客户制定营销战略。  
  
##### <a name="explore-the-decision-tree"></a>浏览决策树  
  
1.  单击 "**全部**" 节点，查看 "**挖掘图例**"。  
  
     它显示了定型数据集中事例的准确计数和结果细分。  
  
     将鼠标悬停在节点上时出现的工具提示中也会有相同的信息。  
  
2.  单击每个节点旁的加号和减号可以展开或折叠决策树。  
  
     还可以使用 "**显示级别**" 滑块展开或收缩树。  
  
3.  请注意，有些节点颜色更深一些。  
  
     默认情况下，**填充**用作明暗度变量，这意味着颜色强度显示最支持的节点。  
  
     所以最左侧的节点颜色最深，因为它包含整个数据集。  
  
4.  将 "**背景**" 的 "值"**更改为** **"是"**。  
  
     ![更改决策树图形以突出显示购买者](media/dm13-dectreeshadedbuyer.gif "更改决策树图形以突出显示购买者")  
  
5.  现在，颜色强度告诉您每个节点有多少客户购买了自行车，这正是您感兴趣的行为。  
  
     请注意每个节点中的彩色条。 这是显示此数据子集中结果分布情况的直方图。 例如，在示例自行车买家决策树中，彩色条显示购买了自行车 (是值的客户的比例) 与未 (任何值) 的客户。 若要获取准确值，可以单击该节点并查看 "**挖掘图例**"。  
  
6.  分析图形，可以看到每个数据子集如何进一步分解为更小的组，以及哪些属性对预测结果最有用。  
  
     只通过阴影强度您就可以锁定一些感兴趣的组，获取更详细的数据进行比较。 例如，这些组购买自行车的概率相当高：  
  
    -   Age >= 32， \< 53 and Yearly Income > = 26000，子代 = 0  
  
         事例总大小：1150  
  
         自行车购买者概率：18%  
  
    -   Age >= 32， \< 53 and Yearly Income > = 26000，子元素不 = 0，婚姻状态 = ' 单个 '  
  
         Total cases: 402  
  
         Bike buyer probability: 16%  
  
7.  将 "**背景**" 的值从 **"是"** 更改为 "**否**"，并查看图形如何变化。  
  
     ![关联模型的依赖关系网络图形](media/dm13-dec-tree-background-no.gif "关联模型的依赖关系网络图形")  
  
 **提示**  
  
-   如果您的数据可以分为多个序列，会为要建模的每组数据生成一个不同的模型。  
  
-   在示例数据模型中，只有一个可预测的结果-自行车购买者-但假设您有关于客户是否购买了服务计划并想要预测的信息。 在这种情况下，应将这些数据放在单独的列中，并在模型中包含两个可预测属性。  
  
     单击 "决策树" 窗格左上角的 "**直方图**" 选项，以更改可在树的直方图中显示的最大状态数。 如果可预测属性有很多状态，这一功能将非常有用。 各种状态将按使用频率高低自左到右显示在直方图中。  
  
-   您还可以使用 "**决策树**" 选项卡上的选项，通过放大或缩小来影响树的显示方式，或调整关系图的大小以适合窗口大小。  
  
-   使用 **“默认扩展”** 可以设置模型中所有树的默认显示级别数。  
  
-   选择 "**显示长名称**" 可显示属性的完整名称，包括数据源。 短名称和长名称是相同的，除非各自的属性是从不同的数据源获取的。  
  
 [返回页首](#bkmk_Top)  
  
###  <a name="dependency-network"></a><a name="BKMK_DNetwork"></a>依赖关系网络  
 "**依赖关系网络**" 视图显示模型中的输入属性和可预测属性之间的连接。  
  
1.  单击并拖动查看器左侧的滑块  
  
     顶部位置显示了所有连接。 向下拖动滑块时，查看器中仅显示最强链接。  
  
2.  现在单击“Bike Buyer”节点。  
  
     ![决策树的依赖关系网络视图](media/dm13-dectree-depnet.gif "决策树的依赖关系网络视图")  
  
     选择一个节点后，查看器将突出显示该节点特定的依赖项。 在这种情况下，查看器突出显示有助于预测结果的每个节点。  
  
3.  如果查看器包含多个节点，则可以通过使用 "**查找节点**" 按钮来搜索特定节点。 单击 **“查找节点”** 将打开 **“查找节点”** 对话框，可以在该对话框中使用筛选器来搜索和选择特定的节点。  
  
4.  查看器底部的图例说明了图表中不同颜色代码所代表的依赖关系类型。 例如，如果选择一个可预测节点，该节点将呈青绿色，而预测所选节点的节点呈橙色。  
  
 [返回页首](#bkmk_Top)  
  
### <a name="drill-through-to-underlying-data"></a>钻取到基础数据  
 几种类型的模型支持从模型*钻取*到基础事例数据的功能。 如果您要联系某一特定段中的客户或提取数据执行进一步分析，这会非常有用。  
  
##### <a name="get-case-data"></a>获取事例数据  
  
1.  在树中右键单击包含所需数据的节点，然后选择下面选项中的一个：  
  
    -   **钻取模型**。 此选项获取属于所选节点的事例并将它们保存到一个 Excel 表中。 您获取的只是生成模型时实际使用的数据列。  
  
    -   **钻取结构列**。 此选项获取属于所选节点的事例并将它们保存到一个 Excel 表中。 您可以获取在生成基础数据时提供的所有信息，甚至是在模型中未使用的列。 例如，您可能排除了客户地址和邮政编码，因为这些字段对分析没用，但将它们留在了结构中。  
  
     返回 Excel 查看数据。 “浏览”查看器运行一个查询，将数据保存到一个表的新工作表中，并标记结果。  
  
     ![钻取操作的结果保存到 Excel](media/dm13-dectree-drillthroughresults.gif "钻取操作的结果保存到 Excel")  
  
## <a name="see-also"></a>另请参阅  
 [在 Excel 中浏览模型 &#40;SQL Server 数据挖掘外接程序&#41;](browsing-models-in-excel-sql-server-data-mining-add-ins.md)  
  
  
