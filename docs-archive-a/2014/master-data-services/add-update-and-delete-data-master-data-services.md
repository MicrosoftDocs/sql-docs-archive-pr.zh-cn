---
title: 添加、更新和删除 (Master Data Services) 的数据 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: master-data-services
ms.topic: conceptual
ms.assetid: b6295ead-bd2f-49dd-8756-35c6afb59648
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: 5d3d0bf9460591a49cbaa2e5bcbfde6bc003d7a8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/04/2020
ms.locfileid: "87690696"
---
# <a name="add-update-and-delete-data-master-data-services"></a><span data-ttu-id="2cfc4-102">添加、更新和删除数据 (Master Data Services)</span><span class="sxs-lookup"><span data-stu-id="2cfc4-102">Add, Update and Delete Data (Master Data Services)</span></span>
  <span data-ttu-id="2cfc4-103">你可以添加数据并将数据批量更改为 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)]中的模型。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-103">You can add data and make data changes to a model in [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)], in bulk.</span></span>  
  
 <span data-ttu-id="2cfc4-104">**先决条件**</span><span class="sxs-lookup"><span data-stu-id="2cfc4-104">**Prerequisites**</span></span>  
  
-   <span data-ttu-id="2cfc4-105">您必须有权将数据插入 stg.<name。 \<name>_Leaf stg.<name。 \<name>_Consolidated stg.<name。 \<name>数据库中的 _Relationship 表 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-105">You must have permission to insert data into the stg.\<name>_Leaf, the stg.\<name>_Consolidated, stg.\<name>_Relationship table in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database.</span></span>  
  
-   <span data-ttu-id="2cfc4-106">您必须具有 \<name> 在数据库中执行 udp_ stg.<name _Leaf、stg.<name \_ \<name> _Consolidated 或 stg.<name \_ \<name> _Relationship 存储过程 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] 的权限。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-106">You must have permissions to execute either the stg.udp_\<name>_Leaf, stg.udp\_\<name>_Consolidated, or the stg.udp\_\<name>_Relationship stored procedure in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database.</span></span>  
  
-   <span data-ttu-id="2cfc4-107">模型的状态不能是“已提交” \*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-107">The model must not have a status of **Committed**.</span></span>  
  
 <span data-ttu-id="2cfc4-108">**添加、更新和删除 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] 数据库中的数据**</span><span class="sxs-lookup"><span data-stu-id="2cfc4-108">**To add, update, and delete data in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database**</span></span>  
  
1.  <span data-ttu-id="2cfc4-109">准备要导入 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] 数据库中相应临时表的成员，包括必需字段的提供值。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-109">Prepare the members for import into the appropriate staging table in the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database, including providing values for the required fields.</span></span> <span data-ttu-id="2cfc4-110">有关临时表的概述，请参阅[数据导入 &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md)</span><span class="sxs-lookup"><span data-stu-id="2cfc4-110">For an overview of staging tables, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md)</span></span>  
  
    -   <span data-ttu-id="2cfc4-111">对于叶成员，表是 stg.<name。 \<name>_Leaf，其中 \<name> 指对应的实体。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-111">For leaf members the table is stg.\<name>_Leaf, where \<name> refers to the corresponding entity.</span></span> <span data-ttu-id="2cfc4-112">有关所需字段的信息，请参阅[叶成员临时表 (Master Data Services)](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md)</span><span class="sxs-lookup"><span data-stu-id="2cfc4-112">For information about the required fields, see [Leaf Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md)</span></span>  
  
    -   <span data-ttu-id="2cfc4-113">对于合并成员，表是 stg.<name。 \<name>_Consolidated。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-113">For consolidated members, the table is stg.\<name>_Consolidated.</span></span> <span data-ttu-id="2cfc4-114">有关所需字段的信息，请参阅[合并成员临时表 (Master Data Services)](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-114">For information about the required fields, see [Consolidated Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md).</span></span>  
  
    -   <span data-ttu-id="2cfc4-115">为了移动显式层次结构中成员的位置，表是 stg.<name。 \<name>_Relationship。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-115">For moving the location of members in explicit hierarchies, the table is stg.\<name>_Relationship.</span></span> <span data-ttu-id="2cfc4-116">有关所需字段的信息，请参阅[关系临时表 (Master Data Services)](../../2014/master-data-services/relationship-staging-table-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-116">For information about the required fields, see [Relationship Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/relationship-staging-table-master-data-services.md).</span></span>  
  
         <span data-ttu-id="2cfc4-117">有关移动显式层次结构中的成员的概述，请参阅[数据导入 &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-117">For an overview on moving members in explicit hierarchies, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md).</span></span>  
  
    -   <span data-ttu-id="2cfc4-118">使用 **ImportType** 字段值来指定你要创建新的成员、停用成员或删除成员。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-118">Use the **ImportType** field value to specify that you're creating new members, deactivating members, or deleting members.</span></span> <span data-ttu-id="2cfc4-119">有关这些值的详细信息，请参阅[叶成员临时表 (Master Data Services)](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md)和[合并成员临时表 (Master Data Services)](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-119">For more information about the values, see [Leaf Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/leaf-member-staging-table-master-data-services.md) and [Consolidated Member Staging Table &#40;Master Data Services&#41;](../../2014/master-data-services/consolidated-member-staging-table-master-data-services.md).</span></span>  
  
         <span data-ttu-id="2cfc4-120">有关停用和删除成员的概述，请参阅[数据导入 &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-120">For an overview of deactivating and deleting members, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md).</span></span>  
  
2.  <span data-ttu-id="2cfc4-121">打开 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] 并为自己的 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] 数据库连接到数据库引擎实例。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-121">Open [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] and connect to the Database Engine instance for your [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] database.</span></span>  
  
     <span data-ttu-id="2cfc4-122">有关详细信息，请参阅[SQL Server Management Studio](../ssms/sql-server-management-studio-ssms.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-122">For more information, see [SQL Server Management Studio](../ssms/sql-server-management-studio-ssms.md).</span></span>  
  
3.  <span data-ttu-id="2cfc4-123">使用 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 导入和导出向导将数据导入到临时表。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-123">Import data into the staging tables by using the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Import and Export wizard.</span></span>  
  
     <span data-ttu-id="2cfc4-124">有关更多信息，请参见 [SQL Server Import and Export Wizard](../integration-services/import-export-data/import-and-export-data-with-the-sql-server-import-and-export-wizard.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-124">For more information, see [SQL Server Import and Export Wizard](../integration-services/import-export-data/import-and-export-data-with-the-sql-server-import-and-export-wizard.md).</span></span>  
  
4.  <span data-ttu-id="2cfc4-125">通过执行下列任一操作，将数据从临时表加载 [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] 表</span><span class="sxs-lookup"><span data-stu-id="2cfc4-125">Load the data from the staging tables to the [!INCLUDE[ssMDSshort](../includes/ssmdsshort-md.md)] tables, by doing one of the following</span></span>  
  
    -   <span data-ttu-id="2cfc4-126">运行临时表（想要移动数据到的目标位置）相对应的临时存储过程。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-126">Run the staging stored procedure that corresponds to the staging table that you want to move data to.</span></span>  
  
         <span data-ttu-id="2cfc4-127">有关临时存储过程和临时表的概述，请参阅[数据导入 &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-127">For an overview of staging stored procedures and staging tables, see [Data Import &#40;Master Data Services&#41;](overview-importing-data-from-tables-master-data-services.md).</span></span> <span data-ttu-id="2cfc4-128">有关临时存储过程参数以及代码示例的详细信息，请参阅[临时存储过程 (Master Data Services)](../../2014/master-data-services/staging-stored-procedure-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-128">For more information about parameters for staging stored procedures, and a code example, see [Staging Stored Procedure &#40;Master Data Services&#41;](../../2014/master-data-services/staging-stored-procedure-master-data-services.md).</span></span>  
  
    -   <span data-ttu-id="2cfc4-129">使用主数据管理的“集成管理” \*\*\*\* 功能区域。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-129">Use the **Integration Management** functional area of Master Data Management.</span></span>  
  
         <span data-ttu-id="2cfc4-130">“临时批处理” \*\*\*\* 页上，在下拉列表中选择向其添加数据的模型，然后单击“开始批处理” \*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-130">On the **Staging Batches** page, select the model to which you're adding data to, in the drop-down list, and then click **Start Batches**.</span></span> <span data-ttu-id="2cfc4-131">“状态” \*\*\*\* 字段将指示执行批处理的状态。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-131">The status of the batch processing is indicated in the **Status** field.</span></span> <span data-ttu-id="2cfc4-132">有关状态的详细信息，请参阅[导入状态 (Master Data Services)](../../2014/master-data-services/import-statuses-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-132">For more information about the statuses, see [Import Statuses &#40;Master Data Services&#41;](../../2014/master-data-services/import-statuses-master-data-services.md).</span></span>  
  
         <span data-ttu-id="2cfc4-133">![主数据管理器中的“临时批处理”页](../../2014/master-data-services/media/mds-staging-batches.png "主数据管理器中的“临时批处理”页")</span><span class="sxs-lookup"><span data-stu-id="2cfc4-133">![Staging Batches Page in Master Data Manager](../../2014/master-data-services/media/mds-staging-batches.png "Staging Batches Page in Master Data Manager")</span></span>  
  
         <span data-ttu-id="2cfc4-134">按照 [!INCLUDE[ssMDScfgmgr](../includes/ssmdscfgmgr-md.md)] 中的“临时批处理间隔”设置所确定的间隔启动临时过程。\*\*\*\*</span><span class="sxs-lookup"><span data-stu-id="2cfc4-134">The staging process  is started at intervals determined by the **Staging batch interval** setting in [!INCLUDE[ssMDScfgmgr](../includes/ssmdscfgmgr-md.md)].</span></span> <span data-ttu-id="2cfc4-135">有关详细信息，请参阅[系统设置 (Master Data Services)](../../2014/master-data-services/system-settings-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-135">For more information, see [System Settings &#40;Master Data Services&#41;](../../2014/master-data-services/system-settings-master-data-services.md).</span></span>  
  
5.  <span data-ttu-id="2cfc4-136">查看在临时过程中出现的错误。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-136">View errors that occurred during staging.</span></span> <span data-ttu-id="2cfc4-137">有关详细信息，请参阅[查看在临时过程中出现的错误 &#40;Master Data Services&#41;](view-errors-that-occur-during-staging-master-data-services.md)并在[临时过程错误 &#40;Master Data Services&#41;](../../2014/master-data-services/staging-process-errors-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-137">For more information, see [View Errors that Occur During the Staging Process &#40;Master Data Services&#41;](view-errors-that-occur-during-staging-master-data-services.md) and [Staging Process Errors &#40;Master Data Services&#41;](../../2014/master-data-services/staging-process-errors-master-data-services.md).</span></span>  
  
6.  <span data-ttu-id="2cfc4-138">根据业务规则对数据进行验证。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-138">Validate the data against business rules.</span></span>  
  
     <span data-ttu-id="2cfc4-139">在主数据管理器中，导航到模型的“资源管理器” \*\*\*\* 功能区域，然后应用业务规则以验证数据。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-139">In Master Data Manager, navigate to the **Explorer** functional area for your model, and then apply business rules to validate the data.</span></span> <span data-ttu-id="2cfc4-140">有关详细信息，请参阅[业务规则验证特定成员 (Master Data Services)](../../2014/master-data-services/validate-specific-members-against-business-rules-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-140">For more information , see [Validate Specific Members against Business Rules &#40;Master Data Services&#41;](../../2014/master-data-services/validate-specific-members-against-business-rules-master-data-services.md).</span></span> <span data-ttu-id="2cfc4-141">同时可以使用存储过程来验证数据。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-141">You can also use a stored procedure to validate the data.</span></span> <span data-ttu-id="2cfc4-142">有关详细信息，请参阅 [验证存储过程 (Master Data Services)](../../2014/master-data-services/validation-stored-procedure-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-142">For more information, see [Validation Stored Procedure &#40;Master Data Services&#41;](../../2014/master-data-services/validation-stored-procedure-master-data-services.md).</span></span>  
  
     <span data-ttu-id="2cfc4-143">使用临时表加载数据时，不会自动根据业务规则验证数据。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-143">When you load data by from the staging tables, the data is not automatically validated against business rules.</span></span> <span data-ttu-id="2cfc4-144">有关执行何种验证以及何时执行的详细信息，请参阅[验证 (Master Data Services)](../../2014/master-data-services/validation-master-data-services.md)。</span><span class="sxs-lookup"><span data-stu-id="2cfc4-144">For more information on what validation is and when it occurs, see [Validation &#40;Master Data Services&#41;](../../2014/master-data-services/validation-master-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2cfc4-145">另请参阅</span><span class="sxs-lookup"><span data-stu-id="2cfc4-145">See Also</span></span>  
 [<span data-ttu-id="2cfc4-146">数据导入 &#40;Master Data Services&#41;</span><span class="sxs-lookup"><span data-stu-id="2cfc4-146">Data Import &#40;Master Data Services&#41;</span></span>](overview-importing-data-from-tables-master-data-services.md)  
  
  
